(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Hc(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lv={exports:{}};/*! p5.js v1.9.0 November 28, 2023 */(function(i,r){(function(n){i.exports=n()})(function(){var n;return function t(o,s,a){function A(p,d){if(!s[p]){if(!o[p]){var c=typeof Hc=="function"&&Hc;if(!d&&c)return c(p,!0);if(l)return l(p,!0);throw(d=new Error("Cannot find module '"+p+"'")).code="MODULE_NOT_FOUND",d}c=s[p]={exports:{}},o[p][0].call(c.exports,function(h){return A(o[p][1][h]||h)},c,c.exports,t,o,s,a)}return s[p].exports}for(var l=typeof Hc=="function"&&Hc,u=0;u<a.length;u++)A(a[u]);return A}({1:[function(t,o,s){s.byteLength=function(g){var g=c(g),f=g[0],g=g[1];return 3*(f+g)/4-g},s.toByteArray=function(h){var f,g,m=c(h),y=m[0],m=m[1],b=new l(function(_,M){return 3*(_+M)/4-M}(y,m)),v=0,w=0<m?y-4:y;for(g=0;g<w;g+=4)f=A[h.charCodeAt(g)]<<18|A[h.charCodeAt(g+1)]<<12|A[h.charCodeAt(g+2)]<<6|A[h.charCodeAt(g+3)],b[v++]=f>>16&255,b[v++]=f>>8&255,b[v++]=255&f;return m===2&&(f=A[h.charCodeAt(g)]<<2|A[h.charCodeAt(g+1)]>>4,b[v++]=255&f),m===1&&(f=A[h.charCodeAt(g)]<<10|A[h.charCodeAt(g+1)]<<4|A[h.charCodeAt(g+2)]>>2,b[v++]=f>>8&255,b[v++]=255&f),b},s.fromByteArray=function(h){for(var f,g=h.length,y=g%3,m=[],b=0,v=g-y;b<v;b+=16383)m.push(function(w,_,M){for(var x,E=[],C=_;C<M;C+=3)x=(w[C]<<16&16711680)+(w[C+1]<<8&65280)+(255&w[C+2]),E.push(function(T){return a[T>>18&63]+a[T>>12&63]+a[T>>6&63]+a[63&T]}(x));return E.join("")}(h,b,v<b+16383?v:b+16383));return y==1?(f=h[g-1],m.push(a[f>>2]+a[f<<4&63]+"==")):y==2&&(f=(h[g-2]<<8)+h[g-1],m.push(a[f>>10]+a[f>>4&63]+a[f<<2&63]+"=")),m.join("")};for(var a=[],A=[],l=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=u.length;p<d;++p)a[p]=u[p],A[u.charCodeAt(p)]=p;function c(h){var f=h.length;if(0<f%4)throw new Error("Invalid string. Length must be a multiple of 4");return h=h.indexOf("="),f=(h=h===-1?f:h)===f?0:4-h%4,[h,f]}A[45]=62,A[95]=63},{}],2:[function(t,o,s){},{}],3:[function(t,o,s){},{}],4:[function(t,o,s){(function(c){var A=t("base64-js"),l=t("ieee754"),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,p=(s.Buffer=c,s.SlowBuffer=function(L){return+L!=L&&(L=0),c.alloc(+L)},s.INSPECT_MAX_BYTES=50,2147483647);function d(L){if(p<L)throw new RangeError('The value "'+L+'" is invalid for option "size"');return L=new Uint8Array(L),Object.setPrototypeOf(L,c.prototype),L}function c(L,D,V){if(typeof L!="number")return h(L,D,V);if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(L)}function h(L,D,V){if(typeof L=="string"){var q=L,Z=D;if(c.isEncoding(Z=typeof Z=="string"&&Z!==""?Z:"utf8"))return se=0|b(q,Z),fe=d(se),fe=(q=fe.write(q,Z))!==se?fe.slice(0,q):fe;throw new TypeError("Unknown encoding: "+Z)}if(ArrayBuffer.isView(L))return y(L);if(L!=null){if(Y(L,ArrayBuffer)||L&&Y(L.buffer,ArrayBuffer)){var se=L,q=D,fe=V;if(q<0||se.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<q+(fe||0))throw new RangeError('"length" is outside of buffer bounds');return se=q===void 0&&fe===void 0?new Uint8Array(se):fe===void 0?new Uint8Array(se,q):new Uint8Array(se,q,fe),Object.setPrototypeOf(se,c.prototype),se}if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(Z=L.valueOf&&L.valueOf(),Z!=null&&Z!==L)return c.from(Z,D,V);var be=function(pe){{var Ae,ge;if(c.isBuffer(pe))return Ae=0|m(pe.length),(ge=d(Ae)).length!==0&&pe.copy(ge,0,0,Ae),ge}if(pe.length!==void 0)return typeof pe.length!="number"||te(pe.length)?d(0):y(pe);if(pe.type==="Buffer"&&Array.isArray(pe.data))return y(pe.data)}(L);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return c.from(L[Symbol.toPrimitive]("string"),D,V)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}function f(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function g(L){return f(L),d(L<0?0:0|m(L))}function y(L){for(var D=L.length<0?0:0|m(L.length),V=d(D),q=0;q<D;q+=1)V[q]=255&L[q];return V}function m(L){if(p<=L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|L}function b(L,D){if(c.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Y(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);var V=L.length,q=2<arguments.length&&arguments[2]===!0;if(!q&&V===0)return 0;for(var Z=!1;;)switch(D){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return z(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*V;case"hex":return V>>>1;case"base64":return k(L).length;default:if(Z)return q?-1:z(L).length;D=(""+D).toLowerCase(),Z=!0}}function v(L,D,V){var q,Z=!1;if((D=D===void 0||D<0?0:D)>this.length||(V=V===void 0||V>this.length?this.length:V)<=0||(V>>>=0)<=(D>>>=0))return"";for(L=L||"utf8";;)switch(L){case"hex":var se=this,Se=D,fe=V,ge=se.length;(!fe||fe<0||ge<fe)&&(fe=ge);for(var be="",pe=Se=!Se||Se<0?0:Se;pe<fe;++pe)be+=R[se[pe]];return be;case"utf8":case"utf-8":return C(this,D,V);case"ascii":var Ae=this,ge=D,ce=V,de="";ce=Math.min(Ae.length,ce);for(var oe=ge;oe<ce;++oe)de+=String.fromCharCode(127&Ae[oe]);return de;case"latin1":case"binary":var je=this,Se=D,re=V,ie="";re=Math.min(je.length,re);for(var Ce=Se;Ce<re;++Ce)ie+=String.fromCharCode(je[Ce]);return ie;case"base64":return Me=this,q=V,(ze=D)===0&&q===Me.length?A.fromByteArray(Me):A.fromByteArray(Me.slice(ze,q));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Me=D,ze=V,Ge=this.slice(Me,ze),nt="",et=0;et<Ge.length;et+=2)nt+=String.fromCharCode(Ge[et]+256*Ge[et+1]);return nt;default:if(Z)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),Z=!0}}function w(L,D,V){var q=L[D];L[D]=L[V],L[V]=q}function _(L,D,V,q,Z){if(L.length===0)return-1;if(typeof V=="string"?(q=V,V=0):2147483647<V?V=2147483647:V<-2147483648&&(V=-2147483648),(V=(V=te(V=+V)?Z?0:L.length-1:V)<0?L.length+V:V)>=L.length){if(Z)return-1;V=L.length-1}else if(V<0){if(!Z)return-1;V=0}if(typeof D=="string"&&(D=c.from(D,q)),c.isBuffer(D))return D.length===0?-1:M(L,D,V,q,Z);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?(Z?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(L,D,V):M(L,[D],V,q,Z);throw new TypeError("val must be string, number or Buffer")}function M(L,D,V,q,Z){var se=1,fe=L.length,be=D.length;if(q!==void 0&&((q=String(q).toLowerCase())==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(L.length<2||D.length<2)return-1;fe/=se=2,be/=2,V/=2}function pe(oe,je){return se===1?oe[je]:oe.readUInt16BE(je*se)}if(Z)for(var Ae=-1,ge=V;ge<fe;ge++)if(pe(L,ge)===pe(D,Ae===-1?0:ge-Ae)){if(ge-(Ae=Ae===-1?ge:Ae)+1===be)return Ae*se}else Ae!==-1&&(ge-=ge-Ae),Ae=-1;else for(ge=V=fe<V+be?fe-be:V;0<=ge;ge--){for(var ce=!0,de=0;de<be;de++)if(pe(L,ge+de)!==pe(D,de)){ce=!1;break}if(ce)return ge}return-1}function x(L,D,V,q){return W(function(Z){for(var se=[],fe=0;fe<Z.length;++fe)se.push(255&Z.charCodeAt(fe));return se}(D),L,V,q)}function E(L,D,V,q){return W(function(Z,se){for(var fe,be,pe=[],Ae=0;Ae<Z.length&&!((se-=2)<0);++Ae)be=Z.charCodeAt(Ae),fe=be>>8,be=be%256,pe.push(be),pe.push(fe);return pe}(D,L.length-V),L,V,q)}function C(L,D,V){V=Math.min(L.length,V);for(var q=[],Z=D;Z<V;){var se,fe,be,pe,Ae=L[Z],ge=null,ce=239<Ae?4:223<Ae?3:191<Ae?2:1;if(Z+ce<=V)switch(ce){case 1:Ae<128&&(ge=Ae);break;case 2:(192&(se=L[Z+1]))==128&&127<(pe=(31&Ae)<<6|63&se)&&(ge=pe);break;case 3:se=L[Z+1],fe=L[Z+2],(192&se)==128&&(192&fe)==128&&2047<(pe=(15&Ae)<<12|(63&se)<<6|63&fe)&&(pe<55296||57343<pe)&&(ge=pe);break;case 4:se=L[Z+1],fe=L[Z+2],be=L[Z+3],(192&se)==128&&(192&fe)==128&&(192&be)==128&&65535<(pe=(15&Ae)<<18|(63&se)<<12|(63&fe)<<6|63&be)&&pe<1114112&&(ge=pe)}ge===null?(ge=65533,ce=1):65535<ge&&(ge-=65536,q.push(ge>>>10&1023|55296),ge=56320|1023&ge),q.push(ge),Z+=ce}var de=q,oe=de.length;if(oe<=T)return String.fromCharCode.apply(String,de);for(var je="",Se=0;Se<oe;)je+=String.fromCharCode.apply(String,de.slice(Se,Se+=T));return je}s.kMaxLength=p,(c.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(L,D),L.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=h,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(L,D,V){return D=D,V=V,f(L=L),!(L<=0)&&D!==void 0?typeof V=="string"?d(L).fill(D,V):d(L).fill(D):d(L)},c.allocUnsafe=g,c.allocUnsafeSlow=g,c.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==c.prototype},c.compare=function(L,D){if(Y(L,Uint8Array)&&(L=c.from(L,L.offset,L.byteLength)),Y(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),!c.isBuffer(L)||!c.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===D)return 0;for(var V=L.length,q=D.length,Z=0,se=Math.min(V,q);Z<se;++Z)if(L[Z]!==D[Z]){V=L[Z],q=D[Z];break}return V<q?-1:q<V?1:0},c.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(L,D){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return c.alloc(0);if(D===void 0)for(Z=D=0;Z<L.length;++Z)D+=L[Z].length;for(var V=c.allocUnsafe(D),q=0,Z=0;Z<L.length;++Z){var se=L[Z];if(Y(se,Uint8Array)&&(se=c.from(se)),!c.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(V,q),q+=se.length}return V},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<L;D+=2)w(this,D,D+1);return this},c.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<L;D+=4)w(this,D,D+3),w(this,D+1,D+2);return this},c.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<L;D+=8)w(this,D,D+7),w(this,D+1,D+6),w(this,D+2,D+5),w(this,D+3,D+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?C(this,0,L):v.apply(this,arguments)},c.prototype.equals=function(L){if(c.isBuffer(L))return this===L||c.compare(this,L)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var D="",L=s.INSPECT_MAX_BYTES,D=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim();return this.length>L&&(D+=" ... "),"<Buffer "+D+">"},u&&(c.prototype[u]=c.prototype.inspect),c.prototype.compare=function(L,D,V,q,Z){if(Y(L,Uint8Array)&&(L=c.from(L,L.offset,L.byteLength)),!c.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(V===void 0&&(V=L?L.length:0),q===void 0&&(q=0),Z===void 0&&(Z=this.length),(D=D===void 0?0:D)<0||V>L.length||q<0||Z>this.length)throw new RangeError("out of range index");if(Z<=q&&V<=D)return 0;if(Z<=q)return-1;if(V<=D)return 1;if(this===L)return 0;for(var se=(Z>>>=0)-(q>>>=0),fe=(V>>>=0)-(D>>>=0),be=Math.min(se,fe),pe=this.slice(q,Z),Ae=L.slice(D,V),ge=0;ge<be;++ge)if(pe[ge]!==Ae[ge]){se=pe[ge],fe=Ae[ge];break}return se<fe?-1:fe<se?1:0},c.prototype.includes=function(L,D,V){return this.indexOf(L,D,V)!==-1},c.prototype.indexOf=function(L,D,V){return _(this,L,D,V,!0)},c.prototype.lastIndexOf=function(L,D,V){return _(this,L,D,V,!1)},c.prototype.write=function(L,D,V,q){if(D===void 0)q="utf8",V=this.length,D=0;else if(V===void 0&&typeof D=="string")q=D,V=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(V)?(V>>>=0,q===void 0&&(q="utf8")):(q=V,V=void 0)}var Z=this.length-D;if((V===void 0||Z<V)&&(V=Z),0<L.length&&(V<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");q=q||"utf8";for(var se,fe,be,pe=!1;;)switch(q){case"hex":var Ae=this,ge=L,ce=D,de=V,oe=(ce=Number(ce)||0,Ae.length-ce);(!de||oe<(de=Number(de)))&&(de=oe),(oe=ge.length)/2<de&&(de=oe/2);for(var je=0;je<de;++je){var Se=parseInt(ge.substr(2*je,2),16);if(te(Se))return je;Ae[ce+je]=Se}return je;case"utf8":case"utf-8":return oe=D,be=V,W(z(L,(fe=this).length-oe),fe,oe,be);case"ascii":return x(this,L,D,V);case"latin1":case"binary":return x(this,L,D,V);case"base64":return fe=this,be=D,se=V,W(k(L),fe,be,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,L,D,V);default:if(pe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),pe=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function B(L,D,V){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(V<L+D)throw new RangeError("Trying to access beyond buffer length")}function P(L,D,V,q,Z,se){if(!c.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z<D||D<se)throw new RangeError('"value" argument is out of bounds');if(V+q>L.length)throw new RangeError("Index out of range")}function F(L,D,V,q){if(V+q>L.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function j(L,D,V,q,Z){return D=+D,V>>>=0,Z||F(L,0,V,4),l.write(L,D,V,q,23,4),V+4}function O(L,D,V,q,Z){return D=+D,V>>>=0,Z||F(L,0,V,8),l.write(L,D,V,q,52,8),V+8}c.prototype.slice=function(L,D){var V=this.length,V=((L=~~L)<0?(L+=V)<0&&(L=0):V<L&&(L=V),(D=D===void 0?V:~~D)<0?(D+=V)<0&&(D=0):V<D&&(D=V),D<L&&(D=L),this.subarray(L,D));return Object.setPrototypeOf(V,c.prototype),V},c.prototype.readUIntLE=function(L,D,V){L>>>=0,D>>>=0,V||B(L,D,this.length);for(var q=this[L],Z=1,se=0;++se<D&&(Z*=256);)q+=this[L+se]*Z;return q},c.prototype.readUIntBE=function(L,D,V){L>>>=0,D>>>=0,V||B(L,D,this.length);for(var q=this[L+--D],Z=1;0<D&&(Z*=256);)q+=this[L+--D]*Z;return q},c.prototype.readUInt8=function(L,D){return L>>>=0,D||B(L,1,this.length),this[L]},c.prototype.readUInt16LE=function(L,D){return L>>>=0,D||B(L,2,this.length),this[L]|this[L+1]<<8},c.prototype.readUInt16BE=function(L,D){return L>>>=0,D||B(L,2,this.length),this[L]<<8|this[L+1]},c.prototype.readUInt32LE=function(L,D){return L>>>=0,D||B(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},c.prototype.readUInt32BE=function(L,D){return L>>>=0,D||B(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},c.prototype.readIntLE=function(L,D,V){L>>>=0,D>>>=0,V||B(L,D,this.length);for(var q=this[L],Z=1,se=0;++se<D&&(Z*=256);)q+=this[L+se]*Z;return(Z*=128)<=q&&(q-=Math.pow(2,8*D)),q},c.prototype.readIntBE=function(L,D,V){L>>>=0,D>>>=0,V||B(L,D,this.length);for(var q=D,Z=1,se=this[L+--q];0<q&&(Z*=256);)se+=this[L+--q]*Z;return(Z*=128)<=se&&(se-=Math.pow(2,8*D)),se},c.prototype.readInt8=function(L,D){return L>>>=0,D||B(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},c.prototype.readInt16LE=function(L,D){return L>>>=0,D||B(L,2,this.length),D=this[L]|this[L+1]<<8,32768&D?4294901760|D:D},c.prototype.readInt16BE=function(L,D){return L>>>=0,D||B(L,2,this.length),D=this[L+1]|this[L]<<8,32768&D?4294901760|D:D},c.prototype.readInt32LE=function(L,D){return L>>>=0,D||B(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},c.prototype.readInt32BE=function(L,D){return L>>>=0,D||B(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},c.prototype.readFloatLE=function(L,D){return L>>>=0,D||B(L,4,this.length),l.read(this,L,!0,23,4)},c.prototype.readFloatBE=function(L,D){return L>>>=0,D||B(L,4,this.length),l.read(this,L,!1,23,4)},c.prototype.readDoubleLE=function(L,D){return L>>>=0,D||B(L,8,this.length),l.read(this,L,!0,52,8)},c.prototype.readDoubleBE=function(L,D){return L>>>=0,D||B(L,8,this.length),l.read(this,L,!1,52,8)},c.prototype.writeUIntLE=function(L,D,V,q){L=+L,D>>>=0,V>>>=0,q||P(this,L,D,V,Math.pow(2,8*V)-1,0);var Z=1,se=0;for(this[D]=255&L;++se<V&&(Z*=256);)this[D+se]=L/Z&255;return D+V},c.prototype.writeUIntBE=function(L,D,V,q){L=+L,D>>>=0,V>>>=0,q||P(this,L,D,V,Math.pow(2,8*V)-1,0);var Z=V-1,se=1;for(this[D+Z]=255&L;0<=--Z&&(se*=256);)this[D+Z]=L/se&255;return D+V},c.prototype.writeUInt8=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,1,255,0),this[D]=255&L,D+1},c.prototype.writeUInt16LE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,2,65535,0),this[D]=255&L,this[D+1]=L>>>8,D+2},c.prototype.writeUInt16BE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,2,65535,0),this[D]=L>>>8,this[D+1]=255&L,D+2},c.prototype.writeUInt32LE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,4,4294967295,0),this[D+3]=L>>>24,this[D+2]=L>>>16,this[D+1]=L>>>8,this[D]=255&L,D+4},c.prototype.writeUInt32BE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,4,4294967295,0),this[D]=L>>>24,this[D+1]=L>>>16,this[D+2]=L>>>8,this[D+3]=255&L,D+4},c.prototype.writeIntLE=function(L,D,V,q){L=+L,D>>>=0,q||P(this,L,D,V,(q=Math.pow(2,8*V-1))-1,-q);var Z=0,se=1,fe=0;for(this[D]=255&L;++Z<V&&(se*=256);)L<0&&fe===0&&this[D+Z-1]!==0&&(fe=1),this[D+Z]=(L/se>>0)-fe&255;return D+V},c.prototype.writeIntBE=function(L,D,V,q){L=+L,D>>>=0,q||P(this,L,D,V,(q=Math.pow(2,8*V-1))-1,-q);var Z=V-1,se=1,fe=0;for(this[D+Z]=255&L;0<=--Z&&(se*=256);)L<0&&fe===0&&this[D+Z+1]!==0&&(fe=1),this[D+Z]=(L/se>>0)-fe&255;return D+V},c.prototype.writeInt8=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,1,127,-128),this[D]=255&(L=L<0?255+L+1:L),D+1},c.prototype.writeInt16LE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,2,32767,-32768),this[D]=255&L,this[D+1]=L>>>8,D+2},c.prototype.writeInt16BE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,2,32767,-32768),this[D]=L>>>8,this[D+1]=255&L,D+2},c.prototype.writeInt32LE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,4,2147483647,-2147483648),this[D]=255&L,this[D+1]=L>>>8,this[D+2]=L>>>16,this[D+3]=L>>>24,D+4},c.prototype.writeInt32BE=function(L,D,V){return L=+L,D>>>=0,V||P(this,L,D,4,2147483647,-2147483648),this[D]=(L=L<0?4294967295+L+1:L)>>>24,this[D+1]=L>>>16,this[D+2]=L>>>8,this[D+3]=255&L,D+4},c.prototype.writeFloatLE=function(L,D,V){return j(this,L,D,!0,V)},c.prototype.writeFloatBE=function(L,D,V){return j(this,L,D,!1,V)},c.prototype.writeDoubleLE=function(L,D,V){return O(this,L,D,!0,V)},c.prototype.writeDoubleBE=function(L,D,V){return O(this,L,D,!1,V)},c.prototype.copy=function(L,D,V,q){if(!c.isBuffer(L))throw new TypeError("argument should be a Buffer");if(V=V||0,q||q===0||(q=this.length),D>=L.length&&(D=L.length),(q=0<q&&q<V?V:q)===V||L.length===0||this.length===0)return 0;if((D=D||0)<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length);var Z=(q=L.length-D<q-V?L.length-D+V:q)-V;if(this===L&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,V,q);else if(this===L&&V<D&&D<q)for(var se=Z-1;0<=se;--se)L[se+D]=this[se+V];else Uint8Array.prototype.set.call(L,this.subarray(V,q),D);return Z},c.prototype.fill=function(L,D,V,q){if(typeof L=="string"){if(typeof D=="string"?(q=D,D=0,V=this.length):typeof V=="string"&&(q=V,V=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!c.isEncoding(q))throw new TypeError("Unknown encoding: "+q);var Z;L.length===1&&(Z=L.charCodeAt(0),(q==="utf8"&&Z<128||q==="latin1")&&(L=Z))}else typeof L=="number"?L&=255:typeof L=="boolean"&&(L=Number(L));if(D<0||this.length<D||this.length<V)throw new RangeError("Out of range index");var se;if(!(V<=D))if(D>>>=0,V=V===void 0?this.length:V>>>0,typeof(L=L||0)=="number")for(se=D;se<V;++se)this[se]=L;else{var fe=c.isBuffer(L)?L:c.from(L,q),be=fe.length;if(be===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(se=0;se<V-D;++se)this[se+D]=fe[se%be]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function z(L,D){D=D||1/0;for(var V,q=L.length,Z=null,se=[],fe=0;fe<q;++fe){if(55295<(V=L.charCodeAt(fe))&&V<57344){if(!Z){if(56319<V){-1<(D-=3)&&se.push(239,191,189);continue}if(fe+1===q){-1<(D-=3)&&se.push(239,191,189);continue}Z=V;continue}if(V<56320){-1<(D-=3)&&se.push(239,191,189),Z=V;continue}V=65536+(Z-55296<<10|V-56320)}else Z&&-1<(D-=3)&&se.push(239,191,189);if(Z=null,V<128){if(--D<0)break;se.push(V)}else if(V<2048){if((D-=2)<0)break;se.push(V>>6|192,63&V|128)}else if(V<65536){if((D-=3)<0)break;se.push(V>>12|224,V>>6&63|128,63&V|128)}else{if(!(V<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;se.push(V>>18|240,V>>12&63|128,V>>6&63|128,63&V|128)}}return se}function k(L){return A.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(L))}function W(L,D,V,q){for(var Z=0;Z<q&&!(Z+V>=D.length||Z>=L.length);++Z)D[Z+V]=L[Z];return Z}function Y(L,D){return L instanceof D||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===D.name}function te(L){return L!=L}var R=function(){for(var L="0123456789abcdef",D=new Array(256),V=0;V<16;++V)for(var q=16*V,Z=0;Z<16;++Z)D[q+Z]=L[V]+L[Z];return D}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:246}],5:[function(t,o,s){o.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}},{}],6:[function(t,o,s){var a=t("../internals/is-object");o.exports=function(A){if(a(A)||A===null)return A;throw TypeError("Can't set "+String(A)+" as a prototype")}},{"../internals/is-object":74}],7:[function(l,o,s){var a=l("../internals/well-known-symbol"),A=l("../internals/object-create"),l=l("../internals/object-define-property"),u=a("unscopables"),p=Array.prototype;p[u]==null&&l.f(p,u,{configurable:!0,value:A(null)}),o.exports=function(d){p[u][d]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(t,o,s){var a=t("../internals/string-multibyte").charAt;o.exports=function(A,l,u){return l+(u?a(A,l).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,o,s){o.exports=function(a,A,l){if(a instanceof A)return a;throw TypeError("Incorrect "+(l?l+" ":"")+"invocation")}},{}],10:[function(t,o,s){var a=t("../internals/is-object");o.exports=function(A){if(a(A))return A;throw TypeError(String(A)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,o,s){o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(F,o,s){function a(O){return d(O)&&c(j,h(O))}var A,l=F("../internals/array-buffer-native"),u=F("../internals/descriptors"),p=F("../internals/global"),d=F("../internals/is-object"),c=F("../internals/has"),h=F("../internals/classof"),f=F("../internals/create-non-enumerable-property"),g=F("../internals/redefine"),y=F("../internals/object-define-property").f,m=F("../internals/object-get-prototype-of"),b=F("../internals/object-set-prototype-of"),T=F("../internals/well-known-symbol"),F=F("../internals/uid"),v=p.Int8Array,w=v&&v.prototype,_=p.Uint8ClampedArray,_=_&&_.prototype,M=v&&m(v),x=w&&m(w),E=Object.prototype,C=E.isPrototypeOf,T=T("toStringTag"),B=F("TYPED_ARRAY_TAG"),P=l&&!!b&&h(p.opera)!=="Opera",F=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(A in j)p[A]||(P=!1);if((!P||typeof M!="function"||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},P))for(A in j)p[A]&&b(p[A],M);if((!P||!x||x===E)&&(x=M.prototype,P))for(A in j)p[A]&&b(p[A].prototype,x);if(P&&m(_)!==x&&b(_,x),u&&!c(x,T))for(A in F=!0,y(x,T,{get:function(){return d(this)?this[B]:void 0}}),j)p[A]&&f(p[A],B,A);o.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:F&&B,aTypedArray:function(O){if(a(O))return O;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(O){if(b){if(C.call(M,O))return O}else for(var Q in j)if(c(j,A)&&(Q=p[Q],Q&&(O===Q||C.call(Q,O))))return O;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(O,Q,z){if(u){if(z)for(var k in j)k=p[k],k&&c(k.prototype,O)&&delete k.prototype[O];x[O]&&!z||g(x,O,!z&&P&&w[O]||Q)}},exportTypedArrayStaticMethod:function(O,Q,z){var k,W;if(u){if(b){if(z)for(k in j)(W=p[k])&&c(W,O)&&delete W[O];if(M[O]&&!z)return;try{return g(M,O,!z&&P&&v[O]||Q)}catch{}}for(k in j)!(W=p[k])||W[O]&&!z||g(W,O,Q)}},isView:function(O){return O=h(O),O==="DataView"||c(j,O)},isTypedArray:a,TypedArray:M,TypedArrayPrototype:x}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(V,o,s){function a(ce){return[255&ce]}function A(ce){return[255&ce,ce>>8&255]}function l(ce){return[255&ce,ce>>8&255,ce>>16&255,ce>>24&255]}function u(ce){return ce[3]<<24|ce[2]<<16|ce[1]<<8|ce[0]}function p(ce){return se(ce,23,4)}function d(ce){return se(ce,52,8)}function c(ce,de){F(ce[Y],de,{get:function(){return Q(this)[de]}})}function h(ie,de,re,je){if(re=E(re),ie=Q(ie),re+de>ie.byteLength)throw Z(te);var Se=Q(ie.buffer).bytes,re=re+ie.byteOffset,ie=Se.slice(re,re+de);return je?ie:ie.reverse()}function f(ce,de,oe,je,Se,re){if(oe=E(oe),ce=Q(ce),oe+de>ce.byteLength)throw Z(te);for(var ie=Q(ce.buffer).bytes,Ce=oe+ce.byteOffset,Me=je(+Se),ze=0;ze<de;ze++)ie[Ce+ze]=Me[re?ze:de-ze-1]}var g=V("../internals/global"),y=V("../internals/descriptors"),m=V("../internals/array-buffer-native"),b=V("../internals/create-non-enumerable-property"),v=V("../internals/redefine-all"),w=V("../internals/fails"),_=V("../internals/an-instance"),M=V("../internals/to-integer"),x=V("../internals/to-length"),E=V("../internals/to-index"),C=V("../internals/ieee754"),T=V("../internals/object-get-prototype-of"),B=V("../internals/object-set-prototype-of"),P=V("../internals/object-get-own-property-names").f,F=V("../internals/object-define-property").f,j=V("../internals/array-fill"),O=V("../internals/set-to-string-tag"),V=V("../internals/internal-state"),Q=V.get,z=V.set,k="ArrayBuffer",W="DataView",Y="prototype",te="Wrong index",R=g[k],L=R,D=g[W],V=D&&D[Y],q=Object.prototype,Z=g.RangeError,se=C.pack,fe=C.unpack;if(m){if(!w(function(){R(1)})||!w(function(){new R(-1)})||w(function(){return new R,new R(1.5),new R(NaN),R.name!=k})){for(var be,g=(L=function(oe){return _(this,L),new R(E(oe))})[Y]=R[Y],pe=P(R),Ae=0;pe.length>Ae;)(be=pe[Ae++])in L||b(L,be,R[be]);g.constructor=L}B&&T(V)!==q&&B(V,q);var C=new D(new L(2)),ge=V.setInt8;C.setInt8(0,2147483648),C.setInt8(1,2147483649),!C.getInt8(0)&&C.getInt8(1)||v(V,{setInt8:function(de,oe){ge.call(this,de,oe<<24>>24)},setUint8:function(de,oe){ge.call(this,de,oe<<24>>24)}},{unsafe:!0})}else L=function(ce){_(this,L,k),ce=E(ce),z(this,{bytes:j.call(new Array(ce),0),byteLength:ce}),y||(this.byteLength=ce)},D=function(ce,Se,oe){_(this,D,W),_(ce,L,W);var je=Q(ce).byteLength,Se=M(Se);if(Se<0||je<Se)throw Z("Wrong offset");if(je<Se+(oe=oe===void 0?je-Se:x(oe)))throw Z("Wrong length");z(this,{buffer:ce,byteLength:oe,byteOffset:Se}),y||(this.buffer=ce,this.byteLength=oe,this.byteOffset=Se)},y&&(c(L,"byteLength"),c(D,"buffer"),c(D,"byteLength"),c(D,"byteOffset")),v(D[Y],{getInt8:function(ce){return h(this,1,ce)[0]<<24>>24},getUint8:function(ce){return h(this,1,ce)[0]},getInt16:function(ce){return ce=h(this,2,ce,1<arguments.length?arguments[1]:void 0),(ce[1]<<8|ce[0])<<16>>16},getUint16:function(ce){return ce=h(this,2,ce,1<arguments.length?arguments[1]:void 0),ce[1]<<8|ce[0]},getInt32:function(ce){return u(h(this,4,ce,1<arguments.length?arguments[1]:void 0))},getUint32:function(ce){return u(h(this,4,ce,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ce){return fe(h(this,4,ce,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ce){return fe(h(this,8,ce,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ce,de){f(this,1,ce,a,de)},setUint8:function(ce,de){f(this,1,ce,a,de)},setInt16:function(ce,de){f(this,2,ce,A,de,2<arguments.length?arguments[2]:void 0)},setUint16:function(ce,de){f(this,2,ce,A,de,2<arguments.length?arguments[2]:void 0)},setInt32:function(ce,de){f(this,4,ce,l,de,2<arguments.length?arguments[2]:void 0)},setUint32:function(ce,de){f(this,4,ce,l,de,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ce,de){f(this,4,ce,p,de,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ce,de){f(this,8,ce,d,de,2<arguments.length?arguments[2]:void 0)}});O(L,k),O(D,W),o.exports={ArrayBuffer:L,DataView:D}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(t,o,s){var a=t("../internals/to-object"),A=t("../internals/to-absolute-index"),l=t("../internals/to-length"),u=Math.min;o.exports=[].copyWithin||function(y,d){var c=a(this),h=l(c.length),f=A(y,h),g=A(d,h),y=2<arguments.length?arguments[2]:void 0,m=u((y===void 0?h:A(y,h))-g,h-f),b=1;for(g<f&&f<g+m&&(b=-1,g+=m-1,f+=m-1);0<m--;)g in c?c[f]=c[g]:delete c[f],f+=b,g+=b;return c}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(t,o,s){var a=t("../internals/to-object"),A=t("../internals/to-absolute-index"),l=t("../internals/to-length");o.exports=function(u){for(var p=a(this),d=l(p.length),h=arguments.length,c=A(1<h?arguments[1]:void 0,d),h=2<h?arguments[2]:void 0,f=h===void 0?d:A(h,d);c<f;)p[c++]=u;return p}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(l,o,s){var a=l("../internals/array-iteration").forEach,A=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),A=A("forEach"),l=l("forEach");o.exports=A&&l?[].forEach:function(u){return a(this,u,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,o,s){var a=t("../internals/function-bind-context"),A=t("../internals/to-object"),l=t("../internals/call-with-safe-iteration-closing"),u=t("../internals/is-array-iterator-method"),p=t("../internals/to-length"),d=t("../internals/create-property"),c=t("../internals/get-iterator-method");o.exports=function(_){var f,g,y,m,b,v,w=A(_),_=typeof this=="function"?this:Array,M=arguments.length,x=1<M?arguments[1]:void 0,E=x!==void 0,C=c(w),T=0;if(E&&(x=a(x,2<M?arguments[2]:void 0,2)),C==null||_==Array&&u(C))for(g=new _(f=p(w.length));T<f;T++)v=E?x(w[T],T):w[T],d(g,T,v);else for(b=(m=C.call(w)).next,g=new _;!(y=b.call(m)).done;T++)v=E?l(m,x,[y.value,T],!0):y.value,d(g,T,v);return g.length=T,g}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(t,o,s){function a(p){return function(d,c,h){var f,g=A(d),y=l(g.length),m=u(h,y);if(p&&c!=c){for(;m<y;)if((f=g[m++])!=f)return!0}else for(;m<y;m++)if((p||m in g)&&g[m]===c)return p||m||0;return!p&&-1}}var A=t("../internals/to-indexed-object"),l=t("../internals/to-length"),u=t("../internals/to-absolute-index");o.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(t,o,s){function a(h){var f=h==1,g=h==2,y=h==3,m=h==4,b=h==6,v=h==5||b;return function(w,_,M,x){for(var E,C,T=u(w),B=l(T),P=A(_,M,3),F=p(B.length),j=0,_=x||d,O=f?_(w,F):g?_(w,0):void 0;j<F;j++)if((v||j in B)&&(C=P(E=B[j],j,T),h)){if(f)O[j]=C;else if(C)switch(h){case 3:return!0;case 5:return E;case 6:return j;case 2:c.call(O,E)}else if(m)return!1}return b?-1:y||m?m:O}}var A=t("../internals/function-bind-context"),l=t("../internals/indexed-object"),u=t("../internals/to-object"),p=t("../internals/to-length"),d=t("../internals/array-species-create"),c=[].push;o.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(h,o,s){var a=h("../internals/to-indexed-object"),A=h("../internals/to-integer"),l=h("../internals/to-length"),c=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),u=Math.min,p=[].lastIndexOf,d=!!p&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),h=h("indexOf",{ACCESSORS:!0,1:0});o.exports=d||!c||!h?function(f){if(d)return p.apply(this,arguments)||0;var g=a(this),y=l(g.length),m=y-1;for((m=1<arguments.length?u(m,A(arguments[1])):m)<0&&(m=y+m);0<=m;m--)if(m in g&&g[m]===f)return m||0;return-1}:p},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(t,o,s){var a=t("../internals/fails"),A=t("../internals/well-known-symbol"),l=t("../internals/engine-v8-version"),u=A("species");o.exports=function(p){return 51<=l||!a(function(){var d=[];return(d.constructor={})[u]=function(){return{foo:1}},d[p](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(t,o,s){var a=t("../internals/fails");o.exports=function(A,l){var u=[][A];return!!u&&a(function(){u.call(null,l||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,o,s){function a(c){throw c}var A=t("../internals/descriptors"),l=t("../internals/fails"),u=t("../internals/has"),p=Object.defineProperty,d={};o.exports=function(c,h){var f,g,y,m;return u(d,c)?d[c]:(f=[][c],g=!!u(h=h||{},"ACCESSORS")&&h.ACCESSORS,y=u(h,0)?h[0]:a,m=u(h,1)?h[1]:void 0,d[c]=!!f&&!l(function(){if(g&&!A)return!0;var b={length:-1};g?p(b,1,{enumerable:!0,get:a}):b[1]=1,f.call(b,y,m)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,o,s){function a(d){return function(c,h,f,g){A(h);var y=l(c),m=u(y),b=p(y.length),v=d?b-1:0,w=d?-1:1;if(f<2)for(;;){if(v in m){g=m[v],v+=w;break}if(v+=w,d?v<0:b<=v)throw TypeError("Reduce of empty array with no initial value")}for(;d?0<=v:v<b;v+=w)v in m&&(g=h(g,m[v],v,y));return g}}var A=t("../internals/a-function"),l=t("../internals/to-object"),u=t("../internals/indexed-object"),p=t("../internals/to-length");o.exports={left:a(!1),right:a(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(t,o,s){var a=t("../internals/is-object"),A=t("../internals/is-array"),l=t("../internals/well-known-symbol")("species");o.exports=function(u,p){var d;return new((d=A(u)&&(typeof(d=u.constructor)=="function"&&(d===Array||A(d.prototype))||a(d)&&(d=d[l])===null)?void 0:d)===void 0?Array:d)(p===0?0:p)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(t,o,s){var a=t("../internals/an-object");o.exports=function(A,l,u,p){try{return p?l(a(u)[0],u[1]):l(u)}catch(d){throw p=A.return,p!==void 0&&a(p.call(A)),d}}},{"../internals/an-object":10}],27:[function(t,o,s){var a=t("../internals/well-known-symbol")("iterator"),A=!1;try{var l=0,u={next:function(){return{done:!!l++}},return:function(){A=!0}};u[a]=function(){return this},Array.from(u,function(){throw 2})}catch{}o.exports=function(p,d){if(!d&&!A)return!1;var c=!1;try{var h={};h[a]=function(){return{next:function(){return{done:c=!0}}}},p(h)}catch{}return c}},{"../internals/well-known-symbol":148}],28:[function(t,o,s){var a={}.toString;o.exports=function(A){return a.call(A).slice(8,-1)}},{}],29:[function(t,o,s){var a=t("../internals/to-string-tag-support"),A=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),u=A(function(){return arguments}())=="Arguments";o.exports=a?A:function(p){var d;return p===void 0?"Undefined":p===null?"Null":typeof(d=function(c,h){try{return c[h]}catch{}}(p=Object(p),l))=="string"?d:u?A(p):(d=A(p))=="Object"&&typeof p.callee=="function"?"Arguments":d}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(y,o,s){var a=y("../internals/object-define-property").f,A=y("../internals/object-create"),l=y("../internals/redefine-all"),u=y("../internals/function-bind-context"),p=y("../internals/an-instance"),d=y("../internals/iterate"),c=y("../internals/define-iterator"),h=y("../internals/set-species"),f=y("../internals/descriptors"),g=y("../internals/internal-metadata").fastKey,y=y("../internals/internal-state"),m=y.set,b=y.getterFor;o.exports={getConstructor:function(v,w,_,M){function x(B,P,F){var j,O=T(B),Q=E(B,P);return Q?Q.value=F:(O.last=Q={index:j=g(P,!0),key:P,value:F,previous:P=O.last,next:void 0,removed:!1},O.first||(O.first=Q),P&&(P.next=Q),f?O.size++:B.size++,j!=="F"&&(O.index[j]=Q)),B}function E(j,P){var F,j=T(j),O=g(P);if(O!=="F")return j.index[O];for(F=j.first;F;F=F.next)if(F.key==P)return F}var C=v(function(B,P){p(B,C,w),m(B,{type:w,index:A(null),first:void 0,last:void 0,size:0}),f||(B.size=0),P!=null&&d(P,B[M],B,_)}),T=b(w);return l(C.prototype,{clear:function(){for(var B=T(this),P=B.index,F=B.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=void 0),delete P[F.index],F=F.next;B.first=B.last=void 0,f?B.size=0:this.size=0},delete:function(O){var P,F,j=T(this),O=E(this,O);return O&&(P=O.next,F=O.previous,delete j.index[O.index],O.removed=!0,F&&(F.next=P),P&&(P.previous=F),j.first==O&&(j.first=P),j.last==O&&(j.last=F),f?j.size--:this.size--),!!O},forEach:function(B){for(var P,F=T(this),j=u(B,1<arguments.length?arguments[1]:void 0,3);P=P?P.next:F.first;)for(j(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(B){return!!E(this,B)}}),l(C.prototype,_?{get:function(B){return B=E(this,B),B&&B.value},set:function(B,P){return x(this,B===0?0:B,P)}}:{add:function(B){return x(this,B=B===0?0:B,B)}}),f&&a(C.prototype,"size",{get:function(){return T(this).size}}),C},setStrong:function(v,w,_){var M=w+" Iterator",x=b(w),E=b(M);c(v,w,function(C,T){m(this,{type:M,target:C,state:x(C),kind:T,last:void 0})},function(){for(var C=E(this),T=C.kind,B=C.last;B&&B.removed;)B=B.previous;return C.target&&(C.last=B=B?B.next:C.state.first)?T=="keys"?{value:B.key,done:!1}:T=="values"?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:{value:C.target=void 0,done:!0}},_?"entries":"values",!_,!0),h(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(m,o,s){function a(x){return x.frozen||(x.frozen=new A)}function A(){this.entries=[]}function l(x,E){return w(x.entries,function(C){return C[0]===E})}var u=m("../internals/redefine-all"),p=m("../internals/internal-metadata").getWeakData,d=m("../internals/an-object"),c=m("../internals/is-object"),h=m("../internals/an-instance"),f=m("../internals/iterate"),g=m("../internals/array-iteration"),y=m("../internals/has"),m=m("../internals/internal-state"),b=m.set,v=m.getterFor,w=g.find,_=g.findIndex,M=0;A.prototype={get:function(x){if(x=l(this,x),x)return x[1]},has:function(x){return!!l(this,x)},set:function(x,E){var C=l(this,x);C?C[1]=E:this.entries.push([x,E])},delete:function(x){var E=_(this.entries,function(C){return C[0]===x});return~E&&this.entries.splice(E,1),!!~E}},o.exports={getConstructor:function(x,E,C,T){function B(j,O,Q){var z=F(j),k=p(d(O),!0);return k===!0?a(z).set(O,Q):k[z.id]=Q,j}var P=x(function(j,O){h(j,P,E),b(j,{type:E,id:M++,frozen:void 0}),O!=null&&f(O,j[T],j,C)}),F=v(E);return u(P.prototype,{delete:function(j){var O,Q=F(this);return!!c(j)&&((O=p(j))===!0?a(Q).delete(j):O&&y(O,Q.id)&&delete O[Q.id])},has:function(j){var O,Q=F(this);return!!c(j)&&((O=p(j))===!0?a(Q).has(j):O&&y(O,Q.id))}}),u(P.prototype,C?{get:function(j){var O,Q=F(this);if(c(j))return(O=p(j))===!0?a(Q).get(j):O?O[Q.id]:void 0},set:function(j,O){return B(this,j,O)}}:{add:function(j){return B(this,j,!0)}}),P}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/global"),l=t("../internals/is-forced"),u=t("../internals/redefine"),p=t("../internals/internal-metadata"),d=t("../internals/iterate"),c=t("../internals/an-instance"),h=t("../internals/is-object"),f=t("../internals/fails"),g=t("../internals/check-correctness-of-iteration"),y=t("../internals/set-to-string-tag"),m=t("../internals/inherit-if-required");o.exports=function(b,v,w){function _(k){var W=O[k];u(O,k,k=="add"?function(Y){return W.call(this,Y===0?0:Y),this}:k=="delete"?function(Y){return!(P&&!h(Y))&&W.call(this,Y===0?0:Y)}:k=="get"?function(Y){return P&&!h(Y)?void 0:W.call(this,Y===0?0:Y)}:k=="has"?function(Y){return!(P&&!h(Y))&&W.call(this,Y===0?0:Y)}:function(Y,te){return W.call(this,Y===0?0:Y,te),this})}var M,x,E,C,T,B=b.indexOf("Map")!==-1,P=b.indexOf("Weak")!==-1,F=B?"set":"add",j=A[b],O=j&&j.prototype,Q=j,z={};return l(b,typeof j!="function"||!(P||O.forEach&&!f(function(){new j().entries().next()})))?(Q=w.getConstructor(v,b,B,F),p.REQUIRED=!0):l(b,!0)&&(x=(M=new Q)[F](P?{}:-0,1)!=M,E=f(function(){M.has(1)}),C=g(function(k){new j(k)}),T=!P&&f(function(){for(var k=new j,W=5;W--;)k[F](W,W);return!k.has(-0)}),C||(((Q=v(function(k,W){return c(k,Q,b),k=m(new j,k,Q),W!=null&&d(W,k[F],k,B),k})).prototype=O).constructor=Q),(E||T)&&(_("delete"),_("has"),B&&_("get")),(T||x)&&_(F),P&&O.clear&&delete O.clear),z[b]=Q,a({global:!0,forced:Q!=j},z),y(Q,b),P||w.setStrong(Q,b,B),Q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,o,s){var a=t("../internals/has"),A=t("../internals/own-keys"),l=t("../internals/object-get-own-property-descriptor"),u=t("../internals/object-define-property");o.exports=function(p,d){for(var c=A(d),h=u.f,f=l.f,g=0;g<c.length;g++){var y=c[g];a(p,y)||h(p,y,f(d,y))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,o,s){var a=t("../internals/well-known-symbol")("match");o.exports=function(A){var l=/./;try{"/./"[A](l)}catch{try{return l[a]=!1,"/./"[A](l)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(t,o,s){t=t("../internals/fails"),o.exports=!t(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},{"../internals/fails":51}],36:[function(t,o,s){var a=t("../internals/require-object-coercible"),A=/"/g;o.exports=function(c,u,p,d){var c=String(a(c)),h="<"+u;return p!==""&&(h+=" "+p+'="'+String(d).replace(A,"&quot;")+'"'),h+">"+c+"</"+u+">"}},{"../internals/require-object-coercible":113}],37:[function(t,o,s){function a(){return this}var A=t("../internals/iterators-core").IteratorPrototype,l=t("../internals/object-create"),u=t("../internals/create-property-descriptor"),p=t("../internals/set-to-string-tag"),d=t("../internals/iterators");o.exports=function(c,h,f){return h+=" Iterator",c.prototype=l(A,{next:u(1,f)}),p(c,h,!1,!0),d[h]=a,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");o.exports=a?function(u,p,d){return A.f(u,p,l(1,d))}:function(u,p,d){return u[p]=d,u}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,o,s){o.exports=function(a,A){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:A}}},{}],40:[function(t,o,s){var a=t("../internals/to-primitive"),A=t("../internals/object-define-property"),l=t("../internals/create-property-descriptor");o.exports=function(u,p,d){p=a(p),p in u?A.f(u,p,l(0,d)):u[p]=d}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(m,o,s){function a(){return this}var A=m("../internals/export"),l=m("../internals/create-iterator-constructor"),u=m("../internals/object-get-prototype-of"),p=m("../internals/object-set-prototype-of"),d=m("../internals/set-to-string-tag"),c=m("../internals/create-non-enumerable-property"),h=m("../internals/redefine"),f=m("../internals/well-known-symbol"),g=m("../internals/is-pure"),y=m("../internals/iterators"),m=m("../internals/iterators-core"),b=m.IteratorPrototype,v=m.BUGGY_SAFARI_ITERATORS,w=f("iterator"),_="values",M="entries";o.exports=function(x,E,C,z,B,P,F){l(C,E,z);function j(L){if(L===B&&te)return te;if(!v&&L in W)return W[L];switch(L){case"keys":case _:case M:return function(){return new C(this,L)}}return function(){return new C(this)}}var O,Q,z=E+" Iterator",k=!1,W=x.prototype,Y=W[w]||W["@@iterator"]||B&&W[B],te=!v&&Y||j(B),R=E=="Array"&&W.entries||Y;if(R&&(R=u(R.call(new x)),b!==Object.prototype&&R.next&&(g||u(R)===b||(p?p(R,b):typeof R[w]!="function"&&c(R,w,a)),d(R,z,!0,!0),g&&(y[z]=a))),B==_&&Y&&Y.name!==_&&(k=!0,te=function(){return Y.call(this)}),g&&!F||W[w]===te||c(W,w,te),y[E]=te,B)if(O={values:j(_),keys:P?te:j("keys"),entries:j(M)},F)for(Q in O)!v&&!k&&Q in W||h(W,Q,O[Q]);else A({target:E,proto:!0,forced:v||k},O);return O}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(t,o,s){var a=t("../internals/path"),A=t("../internals/has"),l=t("../internals/well-known-symbol-wrapped"),u=t("../internals/object-define-property").f;o.exports=function(p){var d=a.Symbol||(a.Symbol={});A(d,p)||u(d,p,{value:l.f(p)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(t,o,s){t=t("../internals/fails"),o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(A,o,s){var a=A("../internals/global"),A=A("../internals/is-object"),l=a.document,u=A(l)&&A(l.createElement);o.exports=function(p){return u?l.createElement(p):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,o,s){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,o,s){t=t("../internals/engine-user-agent"),o.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,o,s){t=t("../internals/get-built-in"),o.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(l,o,s){var a,A,u=l("../internals/global"),l=l("../internals/engine-user-agent"),u=u.process,u=u&&u.versions,u=u&&u.v8;u?A=(a=u.split("."))[0]+a[1]:l&&(!(a=l.match(/Edge\/(\d+)/))||74<=a[1])&&(a=l.match(/Chrome\/(\d+)/))&&(A=a[1]),o.exports=A&&+A},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,o,s){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,o,s){var a=t("../internals/global"),A=t("../internals/object-get-own-property-descriptor").f,l=t("../internals/create-non-enumerable-property"),u=t("../internals/redefine"),p=t("../internals/set-global"),d=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");o.exports=function(h,f){var g,y,m,b=h.target,v=h.global,w=h.stat,_=v?a:w?a[b]||p(b,{}):(a[b]||{}).prototype;if(_)for(g in f){if(y=f[g],m=h.noTargetGet?(m=A(_,g))&&m.value:_[g],!c(v?g:b+(w?".":"#")+g,h.forced)&&m!==void 0){if(typeof y==typeof m)continue;d(y,m)}(h.sham||m&&m.sham)&&l(y,"sham",!0),u(_,g,y,h)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,o,s){o.exports=function(a){try{return!!a()}catch{return!0}}},{}],52:[function(f,o,s){f("../modules/es.regexp.exec");var a=f("../internals/redefine"),A=f("../internals/fails"),l=f("../internals/well-known-symbol"),u=f("../internals/regexp-exec"),p=f("../internals/create-non-enumerable-property"),d=l("species"),c=!A(function(){var m=/./;return m.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(m,"$<a>")!=="7"}),h="a".replace(/./,"$0")==="$0",f=l("replace"),g=!!/./[f]&&/./[f]("a","$0")==="",y=!A(function(){var b=/(?:)/,m=b.exec,b=(b.exec=function(){return m.apply(this,arguments)},"ab".split(b));return b.length!==2||b[0]!=="a"||b[1]!=="b"});o.exports=function(m,b,v,w){var _,M,x=l(m),E=!A(function(){var T={};return T[x]=function(){return 7},""[m](T)!=7}),C=E&&!A(function(){var T=!1,B=/a/;return m==="split"&&((B={constructor:{}}).constructor[d]=function(){return B},B.flags="",B[x]=/./[x]),B.exec=function(){return T=!0,null},B[x](""),!T});E&&C&&(m!=="replace"||c&&h&&!g)&&(m!=="split"||y)||(_=/./[x],v=(C=v(x,""[m],function(T,B,P,F,j){return B.exec===u?E&&!j?{done:!0,value:_.call(B,P,F)}:{done:!0,value:T.call(P,B,F)}:{done:!1}},{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}))[0],M=C[1],a(String.prototype,m,v),a(RegExp.prototype,x,b==2?function(T,B){return M.call(T,this,B)}:function(T){return M.call(T,this)})),w&&p(RegExp.prototype[x],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":187}],53:[function(t,o,s){t=t("../internals/fails"),o.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,o,s){var a=t("../internals/a-function");o.exports=function(A,l,u){if(a(A),l===void 0)return A;switch(u){case 0:return function(){return A.call(l)};case 1:return function(p){return A.call(l,p)};case 2:return function(p,d){return A.call(l,p,d)};case 3:return function(p,d,c){return A.call(l,p,d,c)}}return function(){return A.apply(l,arguments)}}},{"../internals/a-function":5}],55:[function(t,o,s){var a=t("../internals/a-function"),A=t("../internals/is-object"),l=[].slice,u={};o.exports=Function.bind||function(p){var d=a(this),c=l.call(arguments,1),h=function(){var f=c.concat(l.call(arguments));if(this instanceof h){var g=d,y=f.length,m=f;if(!(y in u)){for(var b=[],v=0;v<y;v++)b[v]="a["+v+"]";u[y]=Function("C,a","return new C("+b.join(",")+")")}return u[y](g,m)}return d.apply(p,f)};return A(d.prototype)&&(h.prototype=d.prototype),h}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,o,s){function a(u){return typeof u=="function"?u:void 0}var A=t("../internals/path"),l=t("../internals/global");o.exports=function(u,p){return arguments.length<2?a(A[u])||a(l[u]):A[u]&&A[u][p]||l[u]&&l[u][p]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,o,s){var a=t("../internals/classof"),A=t("../internals/iterators"),l=t("../internals/well-known-symbol")("iterator");o.exports=function(u){if(u!=null)return u[l]||u["@@iterator"]||A[a(u)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(t,o,s){var a=t("../internals/an-object"),A=t("../internals/get-iterator-method");o.exports=function(l){var u=A(l);if(typeof u!="function")throw TypeError(String(l)+" is not iterable");return a(u.call(l))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,o,s){(function(a){function A(l){return l&&l.Math==Math&&l}o.exports=A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof a=="object"&&a)||Function("return this")()}).call(this,typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,o,s){var a={}.hasOwnProperty;o.exports=function(A,l){return a.call(A,l)}},{}],61:[function(t,o,s){o.exports={}},{}],62:[function(t,o,s){var a=t("../internals/global");o.exports=function(A,l){var u=a.console;u&&u.error&&(arguments.length===1?u.error(A):u.error(A,l))}},{"../internals/global":59}],63:[function(t,o,s){t=t("../internals/get-built-in"),o.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/fails"),l=t("../internals/document-create-element");o.exports=!a&&!A(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,o,s){var a=Math.abs,A=Math.pow,l=Math.floor,u=Math.log,p=Math.LN2;o.exports={pack:function(d,c,v){var f,g,y,m=new Array(v),b=8*v-c-1,v=(1<<b)-1,w=v>>1,_=c===23?A(2,-24)-A(2,-77):0,M=d<0||d===0&&1/d<0?1:0,x=0;for((d=a(d))!=d||d===1/0?(g=d!=d?1:0,f=v):(f=l(u(d)/p),d*(y=A(2,-f))<1&&(f--,y*=2),2<=(d+=1<=f+w?_/y:_*A(2,1-w))*y&&(f++,y/=2),v<=f+w?(g=0,f=v):1<=f+w?(g=(d*y-1)*A(2,c),f+=w):(g=d*A(2,w-1)*A(2,c),f=0));8<=c;m[x++]=255&g,g/=256,c-=8);for(f=f<<c|g,b+=c;0<b;m[x++]=255&f,f/=256,b-=8);return m[--x]|=128*M,m},unpack:function(d,c){var h,f=d.length,v=8*f-c-1,g=(1<<v)-1,y=g>>1,m=v-7,b=f-1,v=d[b--],w=127&v;for(v>>=7;0<m;w=256*w+d[b],b--,m-=8);for(h=w&(1<<-m)-1,w>>=-m,m+=c;0<m;h=256*h+d[b],b--,m-=8);if(w===0)w=1-y;else{if(w===g)return h?NaN:v?-1/0:1/0;h+=A(2,c),w-=y}return(v?-1:1)*h*A(2,w-c)}}},{}],66:[function(t,o,s){var a=t("../internals/fails"),A=t("../internals/classof-raw"),l="".split;o.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return A(u)=="String"?l.call(u,""):Object(u)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,o,s){var a=t("../internals/is-object"),A=t("../internals/object-set-prototype-of");o.exports=function(l,u,p){return A&&typeof(u=u.constructor)=="function"&&u!==p&&a(u=u.prototype)&&u!==p.prototype&&A(l,u),l}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(a,o,s){var a=a("../internals/shared-store"),A=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(l){return A.call(l)}),o.exports=a.inspectSource},{"../internals/shared-store":119}],69:[function(t,o,s){function a(m){p(m,h,{value:{objectID:"O"+ ++f,weakData:{}}})}var A=t("../internals/hidden-keys"),l=t("../internals/is-object"),u=t("../internals/has"),p=t("../internals/object-define-property").f,d=t("../internals/uid"),c=t("../internals/freezing"),h=d("meta"),f=0,g=Object.isExtensible||function(){return!0},y=o.exports={REQUIRED:!1,fastKey:function(m,b){if(!l(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!u(m,h)){if(!g(m))return"F";if(!b)return"E";a(m)}return m[h].objectID},getWeakData:function(m,b){if(!u(m,h)){if(!g(m))return!0;if(!b)return!1;a(m)}return m[h].weakData},onFreeze:function(m){return c&&y.REQUIRED&&g(m)&&!u(m,h)&&a(m),m}};A[h]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(v,o,s){var a,A,l,u,p,d,c,h,f=v("../internals/native-weak-map"),w=v("../internals/global"),g=v("../internals/is-object"),y=v("../internals/create-non-enumerable-property"),m=v("../internals/has"),b=v("../internals/shared-key"),v=v("../internals/hidden-keys"),w=w.WeakMap;c=f?(a=new w,A=a.get,l=a.has,u=a.set,p=function(_,M){return u.call(a,_,M),M},d=function(_){return A.call(a,_)||{}},function(_){return l.call(a,_)}):(v[h=b("state")]=!0,p=function(_,M){return y(_,h,M),M},d=function(_){return m(_,h)?_[h]:{}},function(_){return m(_,h)}),o.exports={set:p,get:d,has:c,enforce:function(_){return c(_)?d(_):p(_,{})},getterFor:function(_){return function(M){if(g(M)&&(M=d(M)).type===_)return M;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,o,s){var a=t("../internals/well-known-symbol"),A=t("../internals/iterators"),l=a("iterator"),u=Array.prototype;o.exports=function(p){return p!==void 0&&(A.Array===p||u[l]===p)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(t,o,s){var a=t("../internals/classof-raw");o.exports=Array.isArray||function(A){return a(A)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,o,s){function a(h,f){return(h=p[u(h)])==c||h!=d&&(typeof f=="function"?A(f):!!f)}var A=t("../internals/fails"),l=/#|\.prototype\./,u=a.normalize=function(h){return String(h).replace(l,".").toLowerCase()},p=a.data={},d=a.NATIVE="N",c=a.POLYFILL="P";o.exports=a},{"../internals/fails":51}],74:[function(t,o,s){o.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}},{}],75:[function(t,o,s){o.exports=!1},{}],76:[function(t,o,s){var a=t("../internals/is-object"),A=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("match");o.exports=function(u){var p;return a(u)&&((p=u[l])!==void 0?!!p:A(u)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(t,o,s){function a(h,f){this.stopped=h,this.result=f}var A=t("../internals/an-object"),l=t("../internals/is-array-iterator-method"),u=t("../internals/to-length"),p=t("../internals/function-bind-context"),d=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(o.exports=function(h,f,g,y,m){var b,v,w,_,M,x,E=p(f,g,y?2:1);if(m)b=h;else{if(typeof(f=d(h))!="function")throw TypeError("Target is not iterable");if(l(f)){for(v=0,w=u(h.length);v<w;v++)if((_=y?E(A(x=h[v])[0],x[1]):E(h[v]))&&_ instanceof a)return _;return new a(!1)}b=f.call(h)}for(M=b.next;!(x=M.call(b)).done;)if(typeof(_=c(b,E,x.value,y))=="object"&&_&&_ instanceof a)return _;return new a(!1)}).stop=function(h){return new a(!0,h)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(d,o,s){var a,A,l=d("../internals/object-get-prototype-of"),u=d("../internals/create-non-enumerable-property"),p=d("../internals/has"),c=d("../internals/well-known-symbol"),d=d("../internals/is-pure"),c=c("iterator"),h=!1;[].keys&&("next"in(A=[].keys())?(l=l(l(A)))!==Object.prototype&&(a=l):h=!0),a==null&&(a={}),d||p(a,c)||u(a,c,function(){return this}),o.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(t,o,s){o.exports={}},{}],80:[function(t,o,s){o.exports=Math.sign||function(a){return(a=+a)==0||a!=a?a:a<0?-1:1}},{}],81:[function(y,o,s){var a,A,l,u,p,d,c,h,f=y("../internals/global"),M=y("../internals/object-get-own-property-descriptor").f,_=y("../internals/classof-raw"),g=y("../internals/task").set,y=y("../internals/engine-is-ios"),m=f.MutationObserver||f.WebKitMutationObserver,b=f.process,v=f.Promise,w=_(b)=="process",_=M(f,"queueMicrotask"),M=_&&_.value;M||(a=function(){var x,E;for(w&&(x=b.domain)&&x.exit();A;){E=A.fn,A=A.next;try{E()}catch(C){throw A?u():l=void 0,C}}l=void 0,x&&x.enter()},u=w?function(){b.nextTick(a)}:m&&!y?(p=!0,d=document.createTextNode(""),new m(a).observe(d,{characterData:!0}),function(){d.data=p=!p}):v&&v.resolve?(c=v.resolve(void 0),h=c.then,function(){h.call(c,a)}):function(){g.call(f,a)}),o.exports=M||function(x){x={fn:x,next:void 0},l&&(l.next=x),A||(A=x,u()),l=x}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(t,o,s){t=t("../internals/global"),o.exports=t.Promise},{"../internals/global":59}],83:[function(t,o,s){t=t("../internals/fails"),o.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,o,s){var a=t("../internals/fails"),A=t("../internals/well-known-symbol"),l=t("../internals/is-pure"),u=A("iterator");o.exports=!a(function(){var p=new URL("b?a=1&b=2&c=3","http://a"),d=p.searchParams,c="";return p.pathname="c%20d",d.forEach(function(h,f){d.delete("b"),c+=f+h}),l&&!p.toJSON||!d.sort||p.href!=="http://a/c%20d?a=1&c=3"||d.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!d[u]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(a,o,s){var A=a("../internals/global"),a=a("../internals/inspect-source"),A=A.WeakMap;o.exports=typeof A=="function"&&/native code/.test(a(A))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,o,s){function a(l){var u,p;this.promise=new l(function(d,c){if(u!==void 0||p!==void 0)throw TypeError("Bad Promise constructor");u=d,p=c}),this.resolve=A(u),this.reject=A(p)}var A=t("../internals/a-function");o.exports.f=function(l){return new a(l)}},{"../internals/a-function":5}],87:[function(t,o,s){var a=t("../internals/is-regexp");o.exports=function(A){if(a(A))throw TypeError("The method doesn't accept regular expressions");return A}},{"../internals/is-regexp":76}],88:[function(t,o,s){var a=t("../internals/global").isFinite;o.exports=Number.isFinite||function(A){return typeof A=="number"&&a(A)}},{"../internals/global":59}],89:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/fails"),l=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),d=t("../internals/to-object"),c=t("../internals/indexed-object"),h=Object.assign,f=Object.defineProperty;o.exports=!h||A(function(){var g,y,m,b;return!(!a||h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(y={},b="abcdefghijklmnopqrst",(g={})[m=Symbol()]=7,b.split("").forEach(function(v){y[v]=v}),h({},g)[m]!=7||l(h({},y)).join("")!=b)})?function(g,y){for(var m=d(g),b=arguments.length,v=1,w=u.f,_=p.f;v<b;)for(var M,x=c(arguments[v++]),E=w?l(x).concat(w(x)):l(x),C=E.length,T=0;T<C;)M=E[T++],a&&!_.call(x,M)||(m[M]=x[M]);return m}:h},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(f,o,s){function a(){}var A,l=f("../internals/an-object"),u=f("../internals/object-define-properties"),p=f("../internals/enum-bug-keys"),d=f("../internals/hidden-keys"),c=f("../internals/html"),h=f("../internals/document-create-element"),f=f("../internals/shared-key"),g="prototype",y="script",m=f("IE_PROTO"),b=function(w){return"<"+y+">"+w+"</"+y+">"},v=function(){try{A=document.domain&&new ActiveXObject("htmlfile")}catch{}v=A?((w=A).write(b("")),w.close(),_=w.parentWindow.Object,w=null,_):(w=h("iframe"),_="java"+y+":",w.style.display="none",c.appendChild(w),w.src=String(_),(_=w.contentWindow.document).open(),_.write(b("document.F=Object")),_.close(),_.F);for(var w,_,M=p.length;M--;)delete v[g][p[M]];return v()};d[m]=!0,o.exports=Object.create||function(w,_){var M;return w!==null?(a[g]=l(w),M=new a,a[g]=null,M[m]=w):M=v(),_===void 0?M:u(M,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/object-define-property"),l=t("../internals/an-object"),u=t("../internals/object-keys");o.exports=a?Object.defineProperties:function(p,d){l(p);for(var c,h=u(d),f=h.length,g=0;g<f;)A.f(p,c=h[g++],d[c]);return p}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/ie8-dom-define"),l=t("../internals/an-object"),u=t("../internals/to-primitive"),p=Object.defineProperty;s.f=a?p:function(d,c,h){if(l(d),c=u(c,!0),l(h),A)try{return p(d,c,h)}catch{}if("get"in h||"set"in h)throw TypeError("Accessors not supported");return"value"in h&&(d[c]=h.value),d}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),u=t("../internals/to-indexed-object"),p=t("../internals/to-primitive"),d=t("../internals/has"),c=t("../internals/ie8-dom-define"),h=Object.getOwnPropertyDescriptor;s.f=a?h:function(f,g){if(f=u(f),g=p(g,!0),c)try{return h(f,g)}catch{}if(d(f,g))return l(!A.f.call(f,g),f[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(t,o,s){var a=t("../internals/to-indexed-object"),A=t("../internals/object-get-own-property-names").f,l={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(p){if(!u||l.call(p)!="[object Window]")return A(a(p));try{return A(p)}catch{return u.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(t,o,s){var a=t("../internals/object-keys-internal"),A=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return a(l,A)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,o,s){s.f=Object.getOwnPropertySymbols},{}],97:[function(u,o,s){var a=u("../internals/has"),A=u("../internals/to-object"),l=u("../internals/shared-key"),u=u("../internals/correct-prototype-getter"),p=l("IE_PROTO"),d=Object.prototype;o.exports=u?Object.getPrototypeOf:function(c){return c=A(c),a(c,p)?c[p]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?d:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(t,o,s){var a=t("../internals/has"),A=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,u=t("../internals/hidden-keys");o.exports=function(p,d){var c,h=A(p),f=0,g=[];for(c in h)!a(u,c)&&a(h,c)&&g.push(c);for(;d.length>f;)!a(h,c=d[f++])||~l(g,c)||g.push(c);return g}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(t,o,s){var a=t("../internals/object-keys-internal"),A=t("../internals/enum-bug-keys");o.exports=Object.keys||function(l){return a(l,A)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,o,s){var a={}.propertyIsEnumerable,A=Object.getOwnPropertyDescriptor,l=A&&!a.call({1:2},1);s.f=l?function(u){return u=A(this,u),!!u&&u.enumerable}:a},{}],101:[function(t,o,s){var a=t("../internals/an-object"),A=t("../internals/a-possible-prototype");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,u=!1,p={};try{(l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(p,[]),u=p instanceof Array}catch{}return function(d,c){return a(d),A(c),u?l.call(d,c):d.__proto__=c,d}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,o,s){var a=t("../internals/to-string-tag-support"),A=t("../internals/classof");o.exports=a?{}.toString:function(){return"[object "+A(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(t,o,s){var a=t("../internals/get-built-in"),A=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),u=t("../internals/an-object");o.exports=a("Reflect","ownKeys")||function(p){var d=A.f(u(p)),c=l.f;return c?d.concat(c(p)):d}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,o,s){t=t("../internals/global"),o.exports=t},{"../internals/global":59}],105:[function(t,o,s){o.exports=function(a){try{return{error:!1,value:a()}}catch(A){return{error:!0,value:A}}}},{}],106:[function(t,o,s){var a=t("../internals/an-object"),A=t("../internals/is-object"),l=t("../internals/new-promise-capability");o.exports=function(u,p){return a(u),A(p)&&p.constructor===u?p:((0,(u=l.f(u)).resolve)(p),u.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,o,s){var a=t("../internals/redefine");o.exports=function(A,l,u){for(var p in l)a(A,p,l[p],u);return A}},{"../internals/redefine":108}],108:[function(d,o,s){var a=d("../internals/global"),A=d("../internals/create-non-enumerable-property"),l=d("../internals/has"),u=d("../internals/set-global"),p=d("../internals/inspect-source"),d=d("../internals/internal-state"),c=d.get,h=d.enforce,f=String(String).split("String");(o.exports=function(g,y,m,_){var v=!!_&&!!_.unsafe,w=!!_&&!!_.enumerable,_=!!_&&!!_.noTargetGet;typeof m=="function"&&(typeof y!="string"||l(m,"name")||A(m,"name",y),h(m).source=f.join(typeof y=="string"?y:"")),g===a?w?g[y]=m:u(y,m):(v?!_&&g[y]&&(w=!0):delete g[y],w?g[y]=m:A(g,y,m))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||p(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,o,s){var a=t("./classof-raw"),A=t("./regexp-exec");o.exports=function(l,u){var p=l.exec;if(typeof p=="function"){if(p=p.call(l,u),typeof p!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return p}if(a(l)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return A.call(l,u)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(u,o,s){var a,A,l=u("./regexp-flags"),u=u("./regexp-sticky-helpers"),p=RegExp.prototype.exec,d=String.prototype.replace,c=p,h=(a=/a/,A=/b*/g,p.call(a,"a"),p.call(A,"a"),a.lastIndex!==0||A.lastIndex!==0),f=u.UNSUPPORTED_Y||u.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0;o.exports=c=h||g||f?function(y){var m,b,v,w,_=this,M=f&&_.sticky,x=l.call(_),E=_.source,C=0,T=y;return M&&((x=x.replace("y","")).indexOf("g")===-1&&(x+="g"),T=String(y).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&y[_.lastIndex-1]!==`
`)&&(E="(?: "+E+")",T=" "+T,C++),b=new RegExp("^(?:"+E+")",x)),g&&(b=new RegExp("^"+E+"$(?!\\s)",x)),h&&(m=_.lastIndex),v=p.call(M?b:_,T),M?v?(v.input=v.input.slice(C),v[0]=v[0].slice(C),v.index=_.lastIndex,_.lastIndex+=v[0].length):_.lastIndex=0:h&&v&&(_.lastIndex=_.global?v.index+v[0].length:m),g&&v&&1<v.length&&d.call(v[0],b,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(v[w]=void 0)}),v}:c},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,o,s){var a=t("../internals/an-object");o.exports=function(){var A=a(this),l="";return A.global&&(l+="g"),A.ignoreCase&&(l+="i"),A.multiline&&(l+="m"),A.dotAll&&(l+="s"),A.unicode&&(l+="u"),A.sticky&&(l+="y"),l}},{"../internals/an-object":10}],112:[function(t,o,s){t=t("./fails");function a(A,l){return RegExp(A,l)}s.UNSUPPORTED_Y=t(function(){var A=a("a","y");return A.lastIndex=2,A.exec("abcd")!=null}),s.BROKEN_CARET=t(function(){var A=a("^r","gy");return A.lastIndex=2,A.exec("str")!=null})},{"./fails":51}],113:[function(t,o,s){o.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}},{}],114:[function(t,o,s){o.exports=Object.is||function(a,A){return a===A?a!==0||1/a==1/A:a!=a&&A!=A}},{}],115:[function(t,o,s){var a=t("../internals/global"),A=t("../internals/create-non-enumerable-property");o.exports=function(l,u){try{A(a,l,u)}catch{a[l]=u}return u}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,o,s){var a=t("../internals/get-built-in"),A=t("../internals/object-define-property"),l=t("../internals/well-known-symbol"),u=t("../internals/descriptors"),p=l("species");o.exports=function(c){var c=a(c),h=A.f;u&&c&&!c[p]&&h(c,p,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(t,o,s){var a=t("../internals/object-define-property").f,A=t("../internals/has"),l=t("../internals/well-known-symbol")("toStringTag");o.exports=function(u,p,d){u&&!A(u=d?u:u.prototype,l)&&a(u,l,{configurable:!0,value:p})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(t,o,s){var a=t("../internals/shared"),A=t("../internals/uid"),l=a("keys");o.exports=function(u){return l[u]||(l[u]=A(u))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(a,o,s){var l=a("../internals/global"),a=a("../internals/set-global"),A="__core-js_shared__",l=l[A]||a(A,{});o.exports=l},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,o,s){var a=t("../internals/is-pure"),A=t("../internals/shared-store");(o.exports=function(l,u){return A[l]||(A[l]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,o,s){var a=t("../internals/an-object"),A=t("../internals/a-function"),l=t("../internals/well-known-symbol")("species");o.exports=function(d,p){var d=a(d).constructor;return d===void 0||(d=a(d)[l])==null?p:A(d)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(t,o,s){var a=t("../internals/fails");o.exports=function(A){return a(function(){var l=""[A]('"');return l!==l.toLowerCase()||3<l.split('"').length})}},{"../internals/fails":51}],123:[function(t,o,s){function a(u){return function(h,f){var c,h=String(l(h)),f=A(f),g=h.length;return f<0||g<=f?u?"":void 0:(c=h.charCodeAt(f))<55296||56319<c||f+1===g||(g=h.charCodeAt(f+1))<56320||57343<g?u?h.charAt(f):c:u?h.slice(f,f+2):g-56320+(c-55296<<10)+65536}}var A=t("../internals/to-integer"),l=t("../internals/require-object-coercible");o.exports={codeAt:a(!1),charAt:a(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(t,o,s){t=t("../internals/engine-user-agent"),o.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],125:[function(t,o,s){function a(d){return function(g,b,m){var g=String(u(g)),y=g.length,m=m===void 0?" ":String(m),b=A(b);return b<=y||m==""?g:((y=l.call(m,p((b=b-y)/m.length))).length>b&&(y=y.slice(0,b)),d?g+y:y+g)}}var A=t("../internals/to-length"),l=t("../internals/string-repeat"),u=t("../internals/require-object-coercible"),p=Math.ceil;o.exports={start:a(!1),end:a(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(t,o,s){function a(v){return v+22+75*(v<26)}function A(v){var w,_=[],M=(v=function(Y){for(var te=[],R=0,L=Y.length;R<L;){var D,V=Y.charCodeAt(R++);55296<=V&&V<=56319&&R<L?(64512&(D=Y.charCodeAt(R++)))==56320?te.push(((1023&V)<<10)+(1023&D)+65536):(te.push(V),R--):te.push(V)}return te}(v)).length,x=128,E=0,C=72;for(F=0;F<v.length;F++)(w=v[F])<128&&_.push(b(w));var T=_.length,B=T;for(T&&_.push("-");B<M;){for(var P=l,F=0;F<v.length;F++)x<=(w=v[F])&&w<P&&(P=w);var j=B+1;if(P-x>m((l-E)/j))throw RangeError(g);for(E+=(P-x)*j,x=P,F=0;F<v.length;F++){if((w=v[F])<x&&++E>l)throw RangeError(g);if(w==x){for(var O=E,Q=u;;Q+=u){var z=Q<=C?1:C+p<=Q?p:Q-C;if(O<z)break;var k=O-z,W=u-z;_.push(b(a(z+k%W))),O=m(k/W)}_.push(b(a(O))),C=function(Y,te,R){var L=0;for(Y=R?m(Y/c):Y>>1,Y+=m(Y/te);y*p>>1<Y;L+=u)Y=m(Y/y);return m(L+(y+1)*Y/(Y+d))}(E,j,B==T),E=0,++B}}++E,++x}return _.join("")}var l=2147483647,u=36,p=26,d=38,c=700,h=/[^\0-\u007E]/,f=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",y=u-1,m=Math.floor,b=String.fromCharCode;o.exports=function(v){for(var w,_=[],M=v.toLowerCase().replace(f,".").split("."),x=0;x<M.length;x++)w=M[x],_.push(h.test(w)?"xn--"+A(w):w);return _.join(".")}},{}],127:[function(t,o,s){var a=t("../internals/to-integer"),A=t("../internals/require-object-coercible");o.exports="".repeat||function(l){var u=String(A(this)),p="",d=a(l);if(d<0||d==1/0)throw RangeError("Wrong number of repetitions");for(;0<d;(d>>>=1)&&(u+=u))1&d&&(p+=u);return p}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(t,o,s){var a=t("../internals/fails"),A=t("../internals/whitespaces");o.exports=function(l){return a(function(){return!!A[l]()||""[l]()!=""||A[l].name!==l})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(l,o,s){function a(d){return function(c){return c=String(A(c)),1&d&&(c=c.replace(u,"")),c=2&d?c.replace(p,""):c}}var A=l("../internals/require-object-coercible"),l="["+l("../internals/whitespaces")+"]",u=RegExp("^"+l+l+"*"),p=RegExp(l+l+"*$");o.exports={start:a(1),end:a(2),trim:a(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(y,o,s){function a(B){return function(){T(B)}}function A(B){T(B.data)}function l(B){p.postMessage(B+"",m.protocol+"//"+m.host)}var u,p=y("../internals/global"),d=y("../internals/fails"),c=y("../internals/classof-raw"),h=y("../internals/function-bind-context"),f=y("../internals/html"),g=y("../internals/document-create-element"),y=y("../internals/engine-is-ios"),m=p.location,b=p.setImmediate,v=p.clearImmediate,w=p.process,_=p.MessageChannel,M=p.Dispatch,x=0,E={},C="onreadystatechange",T=function(B){var P;E.hasOwnProperty(B)&&(P=E[B],delete E[B],P())};b&&v||(b=function(B){for(var P=[],F=1;F<arguments.length;)P.push(arguments[F++]);return E[++x]=function(){(typeof B=="function"?B:Function(B)).apply(void 0,P)},u(x),x},v=function(B){delete E[B]},c(w)=="process"?u=function(B){w.nextTick(a(B))}:M&&M.now?u=function(B){M.now(a(B))}:_&&!y?(y=(c=new _).port2,c.port1.onmessage=A,u=h(y.postMessage,y,1)):!p.addEventListener||typeof postMessage!="function"||p.importScripts||d(l)||m.protocol==="file:"?u=C in g("script")?function(B){f.appendChild(g("script"))[C]=function(){f.removeChild(this),T(B)}}:function(B){setTimeout(a(B),0)}:(u=l,p.addEventListener("message",A,!1))),o.exports={set:b,clear:v}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(t,o,s){var a=t("../internals/classof-raw");o.exports=function(A){if(typeof A!="number"&&a(A)!="Number")throw TypeError("Incorrect invocation");return+A}},{"../internals/classof-raw":28}],132:[function(t,o,s){var a=t("../internals/to-integer"),A=Math.max,l=Math.min;o.exports=function(u,p){return u=a(u),u<0?A(u+p,0):l(u,p)}},{"../internals/to-integer":135}],133:[function(t,o,s){var a=t("../internals/to-integer"),A=t("../internals/to-length");o.exports=function(u){if(u===void 0)return 0;var u=a(u),p=A(u);if(u!==p)throw RangeError("Wrong length or index");return p}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(t,o,s){var a=t("../internals/indexed-object"),A=t("../internals/require-object-coercible");o.exports=function(l){return a(A(l))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(t,o,s){var a=Math.ceil,A=Math.floor;o.exports=function(l){return isNaN(l=+l)?0:(0<l?A:a)(l)}},{}],136:[function(t,o,s){var a=t("../internals/to-integer"),A=Math.min;o.exports=function(l){return 0<l?A(a(l),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(t,o,s){var a=t("../internals/require-object-coercible");o.exports=function(A){return Object(a(A))}},{"../internals/require-object-coercible":113}],138:[function(t,o,s){var a=t("../internals/to-positive-integer");o.exports=function(A,l){if(A=a(A),A%l)throw RangeError("Wrong offset");return A}},{"../internals/to-positive-integer":139}],139:[function(t,o,s){var a=t("../internals/to-integer");o.exports=function(A){if(A=a(A),A<0)throw RangeError("The argument can't be less than 0");return A}},{"../internals/to-integer":135}],140:[function(t,o,s){var a=t("../internals/is-object");o.exports=function(A,l){if(!a(A))return A;var u,p;if(l&&typeof(u=A.toString)=="function"&&!a(p=u.call(A))||typeof(u=A.valueOf)=="function"&&!a(p=u.call(A))||!l&&typeof(u=A.toString)=="function"&&!a(p=u.call(A)))return p;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(t,o,s){var a={};a[t("../internals/well-known-symbol")("toStringTag")]="z",o.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(t,o,s){function a(Se,re){for(var ie=0,Ce=re.length,Me=new(ce(Se))(Ce);ie<Ce;)Me[ie]=re[ie++];return Me}function A(Se,re){D(Se,re,{get:function(){return R(this)[re]}})}function l(Se){return Se instanceof se||(Se=T(Se))=="ArrayBuffer"||Se=="SharedArrayBuffer"}function u(Se,re){return de(Se)&&typeof re!="symbol"&&re in Se&&String(+re)==String(re)}function p(Se,re){return u(Se,re=E(re,!0))?v(2,Se[re]):V(Se,re)}function d(Se,re,ie){return!(u(Se,re=E(re,!0))&&B(ie)&&C(ie,"value"))||C(ie,"get")||C(ie,"set")||ie.configurable||C(ie,"writable")&&!ie.writable||C(ie,"enumerable")&&!ie.enumerable?D(Se,re,ie):(Se[re]=ie.value,Se)}var c=t("../internals/export"),h=t("../internals/global"),f=t("../internals/descriptors"),g=t("../internals/typed-array-constructors-require-wrappers"),y=t("../internals/array-buffer-view-core"),m=t("../internals/array-buffer"),b=t("../internals/an-instance"),v=t("../internals/create-property-descriptor"),w=t("../internals/create-non-enumerable-property"),_=t("../internals/to-length"),M=t("../internals/to-index"),x=t("../internals/to-offset"),E=t("../internals/to-primitive"),C=t("../internals/has"),T=t("../internals/classof"),B=t("../internals/is-object"),P=t("../internals/object-create"),F=t("../internals/object-set-prototype-of"),j=t("../internals/object-get-own-property-names").f,O=t("../internals/typed-array-from"),Q=t("../internals/array-iteration").forEach,z=t("../internals/set-species"),k=t("../internals/object-define-property"),W=t("../internals/object-get-own-property-descriptor"),Y=t("../internals/internal-state"),te=t("../internals/inherit-if-required"),R=Y.get,L=Y.set,D=k.f,V=W.f,q=Math.round,Z=h.RangeError,se=m.ArrayBuffer,fe=m.DataView,be=y.NATIVE_ARRAY_BUFFER_VIEWS,pe=y.TYPED_ARRAY_TAG,Ae=y.TypedArray,ge=y.TypedArrayPrototype,ce=y.aTypedArrayConstructor,de=y.isTypedArray,oe="BYTES_PER_ELEMENT",je="Wrong length";f?(be||(W.f=p,k.f=d,A(ge,"buffer"),A(ge,"byteOffset"),A(ge,"byteLength"),A(ge,"length")),c({target:"Object",stat:!0,forced:!be},{getOwnPropertyDescriptor:p,defineProperty:d}),o.exports=function(Re,re,ie){function Ce(Le,he){D(Le,he,{get:function(){var $=this,ee=he;return($=R($)).view[Ge](ee*Me+$.byteOffset,!0)},set:function($){var ee=this,me=he;ee=R(ee),ie&&($=($=q($))<0?0:255<$?255:255&$),ee.view[nt](me*Me+ee.byteOffset,$,!0)},enumerable:!0})}var Me=Re.match(/\d+$/)[0]/8,ze=Re+(ie?"Clamped":"")+"Array",Ge="get"+Re,nt="set"+Re,et=h[ze],st=et,Re=st&&st.prototype,Ke={};be?g&&(st=re(function(Le,he,$,ee){return b(Le,st,ze),te(B(he)?l(he)?ee!==void 0?new et(he,x($,Me),ee):$!==void 0?new et(he,x($,Me)):new et(he):de(he)?a(st,he):O.call(st,he):new et(M(he)),Le,st)}),F&&F(st,Ae),Q(j(et),function(Le){Le in st||w(st,Le,et[Le])}),st.prototype=Re):(st=re(function(Le,he,$,ee){b(Le,st,ze);var me,Ee,Ne=0,Je=0;if(B(he)){if(!l(he))return de(he)?a(st,he):O.call(st,he);var ht=he,Je=x($,Me),$=he.byteLength;if(ee===void 0){if($%Me||(me=$-Je)<0)throw Z(je)}else if($<(me=_(ee)*Me)+Je)throw Z(je);Ee=me/Me}else Ee=M(he),ht=new se(me=Ee*Me);for(L(Le,{buffer:ht,byteOffset:Je,byteLength:me,length:Ee,view:new fe(ht)});Ne<Ee;)Ce(Le,Ne++)}),F&&F(st,Ae),Re=st.prototype=P(ge)),Re.constructor!==st&&w(Re,"constructor",st),pe&&w(Re,pe,ze),Ke[ze]=st,c({global:!0,forced:st!=et,sham:!be},Ke),oe in st||w(st,oe,Me),oe in Re||w(Re,oe,Me),z(ze)}):o.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(u,o,s){var a=u("../internals/global"),A=u("../internals/fails"),l=u("../internals/check-correctness-of-iteration"),u=u("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,p=a.ArrayBuffer,d=a.Int8Array;o.exports=!u||!A(function(){d(1)})||!A(function(){new d(-1)})||!l(function(c){new d,new d(null),new d(1.5),new d(c)},!0)||A(function(){return new d(new p(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(t,o,s){var a=t("../internals/to-object"),A=t("../internals/to-length"),l=t("../internals/get-iterator-method"),u=t("../internals/is-array-iterator-method"),p=t("../internals/function-bind-context"),d=t("../internals/array-buffer-view-core").aTypedArrayConstructor;o.exports=function(c){var h,f,g,y,m,b,v=a(c),w=arguments.length,_=1<w?arguments[1]:void 0,M=_!==void 0,x=l(v);if(x!=null&&!u(x))for(b=(m=x.call(v)).next,v=[];!(y=b.call(m)).done;)v.push(y.value);for(M&&2<w&&(_=p(_,arguments[2],2)),f=A(v.length),g=new(d(this))(f),h=0;h<f;h++)g[h]=M?_(v[h],h):v[h];return g}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(t,o,s){var a=0,A=Math.random();o.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+A).toString(36)}},{}],146:[function(t,o,s){t=t("../internals/native-symbol"),o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(t,o,s){t=t("../internals/well-known-symbol"),s.f=t},{"../internals/well-known-symbol":148}],148:[function(d,o,s){var a=d("../internals/global"),A=d("../internals/shared"),l=d("../internals/has"),u=d("../internals/uid"),p=d("../internals/native-symbol"),d=d("../internals/use-symbol-as-uid"),c=A("wks"),h=a.Symbol,f=d?h:h&&h.withoutSetter||u;o.exports=function(g){return l(c,g)||(p&&l(h,g)?c[g]=h[g]:c[g]=f("Symbol."+g)),c[g]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(t,o,s){o.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],150:[function(l,o,s){var a=l("../internals/export"),A=l("../internals/global"),p=l("../internals/array-buffer"),l=l("../internals/set-species"),u="ArrayBuffer",p=p[u];a({global:!0,forced:A[u]!==p},{ArrayBuffer:p}),l(u)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(v,o,s){var a=v("../internals/export"),A=v("../internals/fails"),l=v("../internals/is-array"),u=v("../internals/is-object"),p=v("../internals/to-object"),d=v("../internals/to-length"),c=v("../internals/create-property"),h=v("../internals/array-species-create"),f=v("../internals/array-method-has-species-support"),b=v("../internals/well-known-symbol"),v=v("../internals/engine-v8-version"),g=b("isConcatSpreadable"),y=9007199254740991,m="Maximum allowed index exceeded",b=51<=v||!A(function(){var w=[];return w[g]=!1,w.concat()[0]!==w}),v=f("concat");a({target:"Array",proto:!0,forced:!b||!v},{concat:function(w){for(var _,M,x,E,C,T=p(this),B=h(T,0),P=0,F=-1,j=arguments.length;F<j;F++)if(C=void 0,!u(E=x=F===-1?T:arguments[F])||((C=E[g])!==void 0?!C:!l(E))){if(y<=P)throw TypeError(m);c(B,P++,x)}else{if(M=d(x.length),y<P+M)throw TypeError(m);for(_=0;_<M;_++,P++)_ in x&&c(B,P,x[_])}return B.length=P,B}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(l,o,s){var a=l("../internals/export"),A=l("../internals/array-copy-within"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{copyWithin:A}),l("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(u,o,s){var a=u("../internals/export"),A=u("../internals/array-iteration").every,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("every"),u=u("every");a({target:"Array",proto:!0,forced:!l||!u},{every:function(p){return A(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(l,o,s){var a=l("../internals/export"),A=l("../internals/array-fill"),l=l("../internals/add-to-unscopables");a({target:"Array",proto:!0},{fill:A}),l("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(u,o,s){var a=u("../internals/export"),A=u("../internals/array-iteration").filter,l=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),l=l("filter"),u=u("filter");a({target:"Array",proto:!0,forced:!l||!u},{filter:function(p){return A(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(d,o,s){var a=d("../internals/export"),A=d("../internals/array-iteration").findIndex,l=d("../internals/add-to-unscopables"),d=d("../internals/array-method-uses-to-length"),u="findIndex",p=!0,d=d(u);u in[]&&Array(1)[u](function(){p=!1}),a({target:"Array",proto:!0,forced:p||!d},{findIndex:function(c){return A(this,c,1<arguments.length?arguments[1]:void 0)}}),l(u)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(A,o,s){var a=A("../internals/export"),A=A("../internals/array-for-each");a({target:"Array",proto:!0,forced:[].forEach!=A},{forEach:A})},{"../internals/array-for-each":16,"../internals/export":50}],158:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/array-from");a({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(l){Array.from(l)})},{from:A})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],159:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/array-includes").includes,l=t("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(u){return A(this,u,1<arguments.length?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(d,o,s){var a=d("../internals/export"),A=d("../internals/array-includes").indexOf,p=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),l=[].indexOf,u=!!l&&1/[1].indexOf(1,-0)<0,p=p("indexOf"),d=d("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:u||!p||!d},{indexOf:function(c){return u?l.apply(this,arguments)||0:A(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],161:[function(p,o,s){var a=p("../internals/to-indexed-object"),A=p("../internals/add-to-unscopables"),l=p("../internals/iterators"),u=p("../internals/internal-state"),p=p("../internals/define-iterator"),d="Array Iterator",c=u.set,h=u.getterFor(d);o.exports=p(Array,"Array",function(f,g){c(this,{type:d,target:a(f),index:0,kind:g})},function(){var f=h(this),g=f.target,y=f.kind,m=f.index++;return!g||m>=g.length?{value:f.target=void 0,done:!0}:y=="keys"?{value:m,done:!1}:y=="values"?{value:g[m],done:!1}:{value:[m,g[m]],done:!1}},"values"),l.Arguments=l.Array,A("keys"),A("values"),A("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],162:[function(p,o,s){var a=p("../internals/export"),u=p("../internals/indexed-object"),A=p("../internals/to-indexed-object"),p=p("../internals/array-method-is-strict"),l=[].join,u=u!=Object,p=p("join",",");a({target:"Array",proto:!0,forced:u||!p},{join:function(d){return l.call(A(this),d===void 0?",":d)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],163:[function(A,o,s){var a=A("../internals/export"),A=A("../internals/array-last-index-of");a({target:"Array",proto:!0,forced:A!==[].lastIndexOf},{lastIndexOf:A})},{"../internals/array-last-index-of":20,"../internals/export":50}],164:[function(u,o,s){var a=u("../internals/export"),A=u("../internals/array-iteration").map,l=u("../internals/array-method-has-species-support"),u=u("../internals/array-method-uses-to-length"),l=l("map"),u=u("map");a({target:"Array",proto:!0,forced:!l||!u},{map:function(p){return A(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(g,o,s){var a=g("../internals/export"),A=g("../internals/is-object"),l=g("../internals/is-array"),u=g("../internals/to-absolute-index"),p=g("../internals/to-length"),d=g("../internals/to-indexed-object"),c=g("../internals/create-property"),h=g("../internals/well-known-symbol"),f=g("../internals/array-method-has-species-support"),g=g("../internals/array-method-uses-to-length"),f=f("slice"),g=g("slice",{ACCESSORS:!0,0:0,1:2}),y=h("species"),m=[].slice,b=Math.max;a({target:"Array",proto:!0,forced:!f||!g},{slice:function(v,w){var _,M,x,E=d(this),C=p(E.length),T=u(v,C),B=u(w===void 0?C:w,C);if(l(E)&&((_=typeof(_=E.constructor)=="function"&&(_===Array||l(_.prototype))||A(_)&&(_=_[y])===null?void 0:_)===Array||_===void 0))return m.call(E,T,B);for(M=new(_===void 0?Array:_)(b(B-T,0)),x=0;T<B;T++,x++)T in E&&c(M,x,E[T]);return M.length=x,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],166:[function(u,o,s){var a=u("../internals/export"),A=u("../internals/array-iteration").some,l=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),l=l("some"),u=u("some");a({target:"Array",proto:!0,forced:!l||!u},{some:function(p){return A(this,p,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],167:[function(f,o,s){var a=f("../internals/export"),A=f("../internals/to-absolute-index"),l=f("../internals/to-integer"),u=f("../internals/to-length"),p=f("../internals/to-object"),d=f("../internals/array-species-create"),c=f("../internals/create-property"),h=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),h=h("splice"),f=f("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,y=Math.min;a({target:"Array",proto:!0,forced:!h||!f},{splice:function(P,b){var v,w,_,M,x,E,C=p(this),T=u(C.length),B=A(P,T),P=arguments.length;if(P===0?v=w=0:w=P===1?(v=0,T-B):(v=P-2,y(g(l(b),0),T-B)),9007199254740991<T+v-w)throw TypeError("Maximum allowed length exceeded");for(_=d(C,w),M=0;M<w;M++)(x=B+M)in C&&c(_,M,C[x]);if(v<(_.length=w)){for(M=B;M<T-w;M++)E=M+v,(x=M+w)in C?C[E]=C[x]:delete C[E];for(M=T;T-w+v<M;M--)delete C[M-1]}else if(w<v)for(M=T-w;B<M;M--)E=M+v-1,(x=M+w-1)in C?C[E]=C[x]:delete C[E];for(M=0;M<v;M++)C[M+B]=arguments[M+2];return C.length=T-w+v,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],168:[function(A,o,s){var a=A("../internals/descriptors"),A=A("../internals/object-define-property").f,l=Function.prototype,u=l.toString,p=/^\s*function ([^ (]*)/;!a||"name"in l||A(l,"name",{configurable:!0,get:function(){try{return u.call(this).match(p)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],169:[function(A,o,s){var a=A("../internals/collection"),A=A("../internals/collection-strong");o.exports=a("Map",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},A)},{"../internals/collection":32,"../internals/collection-strong":30}],170:[function(a,o,s){var a=a("../internals/export"),A=Math.hypot,l=Math.abs,u=Math.sqrt;a({target:"Math",stat:!0,forced:!!A&&A(1/0,NaN)!==1/0},{hypot:function(p,d){for(var c,h,f=0,g=0,y=arguments.length,m=0;g<y;)m<(c=l(arguments[g++]))?(f=f*(h=m/c)*h+1,m=c):f+=0<c?(h=c/m)*h:c;return m===1/0?1/0:m*u(f)}})},{"../internals/export":50}],171:[function(a,o,s){var a=a("../internals/export"),A=Math.log,l=Math.LN2;a({target:"Math",stat:!0},{log2:function(u){return A(u)/l}})},{"../internals/export":50}],172:[function(t,o,s){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],173:[function(t,o,s){function a(F){var j,O,Q,z,k,W,Y,te=f(F,!1);if(typeof te=="string"&&2<te.length){if((F=(te=w(te)).charCodeAt(0))===43||F===45){if((j=te.charCodeAt(2))===88||j===120)return NaN}else if(F===48){switch(te.charCodeAt(1)){case 66:case 98:O=2,Q=49;break;case 79:case 111:O=8,Q=55;break;default:return+te}for(k=(z=te.slice(2)).length,W=0;W<k;W++)if((Y=z.charCodeAt(W))<48||Q<Y)return NaN;return parseInt(z,O)}}return+te}var A=t("../internals/descriptors"),l=t("../internals/global"),u=t("../internals/is-forced"),p=t("../internals/redefine"),d=t("../internals/has"),c=t("../internals/classof-raw"),h=t("../internals/inherit-if-required"),f=t("../internals/to-primitive"),g=t("../internals/fails"),y=t("../internals/object-create"),m=t("../internals/object-get-own-property-names").f,b=t("../internals/object-get-own-property-descriptor").f,v=t("../internals/object-define-property").f,w=t("../internals/string-trim").trim,_="Number",M=l[_],x=M.prototype,E=c(y(x))==_;if(u(_,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var C,T=function(j){var j=arguments.length<1?0:j,O=this;return O instanceof T&&(E?g(function(){x.valueOf.call(O)}):c(O)!=_)?h(new M(a(j)),O,T):a(j)},B=A?m(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;B.length>P;P++)d(M,C=B[P])&&!d(T,C)&&v(T,C,b(M,C));(T.prototype=x).constructor=T,p(l,_,T)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],174:[function(t,o,s){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],175:[function(d,o,s){function a(f,g,y){return g===0?y:g%2==1?a(f,g-1,y*f):a(f*f,g/2,y)}var A=d("../internals/export"),l=d("../internals/to-integer"),u=d("../internals/this-number-value"),p=d("../internals/string-repeat"),d=d("../internals/fails"),c=1 .toFixed,h=Math.floor;A({target:"Number",proto:!0,forced:c&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!d(function(){c.call({})})},{toFixed:function(_){function g(C,T){for(var B=-1,P=T;++B<6;)P+=C*M[B],M[B]=P%1e7,P=h(P/1e7)}function y(C){for(var T=6,B=0;0<=--T;)B+=M[T],M[T]=h(B/C),B=B%C*1e7}function m(){for(var C,T=6,B="";0<=--T;)B===""&&T!==0&&M[T]===0||(C=String(M[T]),B=B===""?C:B+p.call("0",7-C.length)+C);return B}var b,v,w=u(this),_=l(_),M=[0,0,0,0,0,0],x="",E="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(w!=w)return"NaN";if(w<=-1e21||1e21<=w)return String(w);if(w<0&&(x="-",w=-w),1e-21<w)if(w=(b=function(C){for(var T=0,B=C;4096<=B;)T+=12,B/=4096;for(;2<=B;)T+=1,B/=2;return T}(w*a(2,69,1))-69)<0?w*a(2,-b,1):w/a(2,b,1),w*=4503599627370496,0<(b=52-b)){for(g(0,w),v=_;7<=v;)g(1e7,0),v-=7;for(g(a(10,v,1),0),v=b-1;23<=v;)y(1<<23),v-=23;y(1<<v),g(1,1),y(2),E=m()}else g(0,w),g(1<<-b,0),E=m()+p.call("0",_);return E=0<_?x+((w=E.length)<=_?"0."+p.call("0",_-w)+E:E.slice(0,w-_)+"."+E.slice(w-_)):x+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],176:[function(A,o,s){var a=A("../internals/export"),A=A("../internals/object-assign");a({target:"Object",stat:!0,forced:Object.assign!==A},{assign:A})},{"../internals/export":50,"../internals/object-assign":89}],177:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/iterate"),l=t("../internals/create-property");a({target:"Object",stat:!0},{fromEntries:function(u){var p={};return A(u,function(d,c){l(p,d,c)},void 0,!0),p}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],178:[function(u,o,s){var a=u("../internals/export"),p=u("../internals/fails"),A=u("../internals/to-indexed-object"),l=u("../internals/object-get-own-property-descriptor").f,u=u("../internals/descriptors"),p=p(function(){l(1)});a({target:"Object",stat:!0,forced:!u||p,sham:!u},{getOwnPropertyDescriptor:function(d,c){return l(A(d),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],179:[function(l,o,s){var a=l("../internals/export"),A=l("../internals/fails"),l=l("../internals/object-get-own-property-names-external").f;a({target:"Object",stat:!0,forced:A(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:l})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],180:[function(p,o,s){var a=p("../internals/export"),A=p("../internals/fails"),l=p("../internals/to-object"),u=p("../internals/object-get-prototype-of"),p=p("../internals/correct-prototype-getter");a({target:"Object",stat:!0,forced:A(function(){u(1)}),sham:!p},{getPrototypeOf:function(d){return u(l(d))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],181:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/to-object"),l=t("../internals/object-keys");a({target:"Object",stat:!0,forced:t("../internals/fails")(function(){l(1)})},{keys:function(u){return l(A(u))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],182:[function(l,o,s){var a=l("../internals/to-string-tag-support"),A=l("../internals/redefine"),l=l("../internals/object-to-string");a||A(Object.prototype,"toString",l,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],183:[function(ie,o,s){var a,A,l,u,p=ie("../internals/export"),d=ie("../internals/is-pure"),c=ie("../internals/global"),h=ie("../internals/get-built-in"),f=ie("../internals/native-promise-constructor"),g=ie("../internals/redefine"),y=ie("../internals/redefine-all"),m=ie("../internals/set-to-string-tag"),b=ie("../internals/set-species"),v=ie("../internals/is-object"),w=ie("../internals/a-function"),_=ie("../internals/an-instance"),M=ie("../internals/classof-raw"),x=ie("../internals/inspect-source"),E=ie("../internals/iterate"),C=ie("../internals/check-correctness-of-iteration"),T=ie("../internals/species-constructor"),B=ie("../internals/task").set,P=ie("../internals/microtask"),F=ie("../internals/promise-resolve"),j=ie("../internals/host-report-errors"),O=ie("../internals/new-promise-capability"),Q=ie("../internals/perform"),z=ie("../internals/internal-state"),k=ie("../internals/is-forced"),Ce=ie("../internals/well-known-symbol"),W=ie("../internals/engine-v8-version"),Y=Ce("species"),te="Promise",R=z.get,L=z.set,D=z.getterFor(te),V=f,q=c.TypeError,Z=c.document,se=c.process,fe=h("fetch"),be=O.f,pe=be,Ae=M(se)=="process",ge=!!(Z&&Z.createEvent&&c.dispatchEvent),ce="unhandledrejection",de="rejectionhandled",oe=1,je=2,Se=1,re=2,ie=k(te,function(){var Ke,Le;return x(V)===String(V)&&(W===66||!Ae&&typeof PromiseRejectionEvent!="function")?!0:!(!d||V.prototype.finally)||!(51<=W&&/native code/.test(V))&&(Le=function(he){he(function(){},function(){})},((Ke=V.resolve(1)).constructor={})[Y]=Le,!(Ke.then(function(){})instanceof Le))}),Ce=ie||!C(function(Ke){V.all(Ke).catch(function(){})}),Me=function(Ke){var Le;return!(!v(Ke)||typeof(Le=Ke.then)!="function")&&Le},ze=function(Ke,Le,he){var $;Le.notified||(Le.notified=!0,$=Le.reactions,P(function(){for(var ee,me,Ee=Le.value,Ne=Le.state==oe,Je=0;$.length>Je;){var ht,vt,$e,Ie=$[Je++],yt=Ne?Ie.ok:Ie.fail,dt=Ie.resolve,ft=Ie.reject,bt=Ie.domain;try{yt?(Ne||(Le.rejection===re&&function(It,Ot){B.call(c,function(){Ae?se.emit("rejectionHandled",It):Ge(de,It,Ot.value)})}(Ke,Le),Le.rejection=Se),yt===!0?ht=Ee:(bt&&bt.enter(),ht=yt(Ee),bt&&(bt.exit(),$e=!0)),ht===Ie.promise?ft(q("Promise-chain cycle")):(vt=Me(ht))?vt.call(ht,dt,ft):dt(ht)):ft(Ee)}catch(It){bt&&!$e&&bt.exit(),ft(It)}}Le.reactions=[],Le.notified=!1,he&&!Le.rejection&&(ee=Ke,me=Le,B.call(c,function(){var It=me.value,Ot=nt(me);if(Ot&&(Ot=Q(function(){Ae?se.emit("unhandledRejection",It,ee):Ge(ce,ee,It)}),me.rejection=Ae||nt(me)?re:Se,Ot.error))throw Ot.value}))}))},Ge=function(Ke,Le,he){var $;ge?(($=Z.createEvent("Event")).promise=Le,$.reason=he,$.initEvent(Ke,!1,!0),c.dispatchEvent($)):$={promise:Le,reason:he},(Le=c["on"+Ke])?Le($):Ke===ce&&j("Unhandled promise rejection",he)},nt=function(Ke){return Ke.rejection!==Se&&!Ke.parent},et=function(Ke,Le,he,$){return function(ee){Ke(Le,he,ee,$)}},st=function(Ke,Le,he,$){Le.done||(Le.done=!0,(Le=$||Le).value=he,Le.state=je,ze(Ke,Le,!0))},Re=function(Ke,Le,he,$){if(!Le.done){Le.done=!0,$&&(Le=$);try{if(Ke===he)throw q("Promise can't be resolved itself");var ee=Me(he);ee?P(function(){var me={done:!1};try{ee.call(he,et(Re,Ke,me,Le),et(st,Ke,me,Le))}catch(Ee){st(Ke,me,Ee,Le)}}):(Le.value=he,Le.state=oe,ze(Ke,Le,!1))}catch(me){st(Ke,{done:!1},me,Le)}}};ie&&(V=function(Ke){_(this,V,te),w(Ke),a.call(this);var Le=R(this);try{Ke(et(Re,this,Le),et(st,this,Le))}catch(he){st(this,Le,he)}},(a=function(Ke){L(this,{type:te,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=y(V.prototype,{then:function(Ke,Le){var he=D(this),$=be(T(this,V));return $.ok=typeof Ke!="function"||Ke,$.fail=typeof Le=="function"&&Le,$.domain=Ae?se.domain:void 0,he.parent=!0,he.reactions.push($),he.state!=0&&ze(this,he,!1),$.promise},catch:function(Ke){return this.then(void 0,Ke)}}),A=function(){var Ke=new a,Le=R(Ke);this.promise=Ke,this.resolve=et(Re,Ke,Le),this.reject=et(st,Ke,Le)},O.f=be=function(Ke){return Ke===V||Ke===l?new A:pe(Ke)},d||typeof f!="function"||(u=f.prototype.then,g(f.prototype,"then",function(Ke,Le){var he=this;return new V(function($,ee){u.call(he,$,ee)}).then(Ke,Le)},{unsafe:!0}),typeof fe=="function"&&p({global:!0,enumerable:!0,forced:!0},{fetch:function(Ke){return F(V,fe.apply(c,arguments))}}))),p({global:!0,wrap:!0,forced:ie},{Promise:V}),m(V,te,!1,!0),b(te),l=h(te),p({target:te,stat:!0,forced:ie},{reject:function(Ke){var Le=be(this);return Le.reject.call(void 0,Ke),Le.promise}}),p({target:te,stat:!0,forced:d||ie},{resolve:function(Ke){return F(d&&this===l?V:this,Ke)}}),p({target:te,stat:!0,forced:Ce},{all:function(Ke){var Le=this,he=be(Le),$=he.resolve,ee=he.reject,me=Q(function(){var Ee=w(Le.resolve),Ne=[],Je=0,ht=1;E(Ke,function(vt){var $e=Je++,Ie=!1;Ne.push(void 0),ht++,Ee.call(Le,vt).then(function(yt){Ie||(Ie=!0,Ne[$e]=yt,--ht||$(Ne))},ee)}),--ht||$(Ne)});return me.error&&ee(me.value),he.promise},race:function(Ke){var Le=this,he=be(Le),$=he.reject,ee=Q(function(){var me=w(Le.resolve);E(Ke,function(Ee){me.call(Le,Ee).then(he.resolve,$)})});return ee.error&&$(ee.value),he.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],184:[function(c,o,s){var a=c("../internals/export"),y=c("../internals/get-built-in"),A=c("../internals/a-function"),l=c("../internals/an-object"),u=c("../internals/is-object"),p=c("../internals/object-create"),d=c("../internals/function-bind"),c=c("../internals/fails"),h=y("Reflect","construct"),f=c(function(){function m(){}return!(h(function(){},[],m)instanceof m)}),g=!c(function(){h(function(){})}),y=f||g;a({target:"Reflect",stat:!0,forced:y,sham:y},{construct:function(m,b){A(m),l(b);var v=arguments.length<3?m:A(arguments[2]);if(g&&!f)return h(m,b,v);if(m==v){switch(b.length){case 0:return new m;case 1:return new m(b[0]);case 2:return new m(b[0],b[1]);case 3:return new m(b[0],b[1],b[2]);case 4:return new m(b[0],b[1],b[2],b[3])}var w=[null];return w.push.apply(w,b),new(d.apply(m,w))}return w=v.prototype,v=p(u(w)?w:Object.prototype),w=Function.apply.call(m,v,b),u(w)?w:v}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],185:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/is-object"),l=t("../internals/an-object"),u=t("../internals/has"),p=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-get-prototype-of");a({target:"Reflect",stat:!0},{get:function c(h,f){var g,y=arguments.length<3?h:arguments[2];return l(h)===y?h[f]:(g=p.f(h,f))?u(g,"value")?g.value:g.get===void 0?void 0:g.get.call(y):A(g=d(h))?c(g,f,y):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],186:[function(t,o,s){var a=t("../internals/descriptors"),A=t("../internals/global"),l=t("../internals/is-forced"),u=t("../internals/inherit-if-required"),p=t("../internals/object-define-property").f,d=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),h=t("../internals/regexp-flags"),f=t("../internals/regexp-sticky-helpers"),g=t("../internals/redefine"),y=t("../internals/fails"),m=t("../internals/internal-state").set,b=t("../internals/set-species"),v=t("../internals/well-known-symbol")("match"),w=A.RegExp,_=w.prototype,M=/a/g,x=/a/g,E=new w(M)!==M,C=f.UNSUPPORTED_Y;if(a&&l("RegExp",!E||C||y(function(){return x[v]=!1,w(M)!=M||w(x)==x||w(M,"i")!="/a/i"}))){for(var T=function(F,j){var O,Q=this instanceof T,z=c(F),k=j===void 0;return!Q&&z&&F.constructor===T&&k?F:(E?z&&!k&&(F=F.source):F instanceof T&&(k&&(j=h.call(F)),F=F.source),C&&(O=!!j&&-1<j.indexOf("y"))&&(j=j.replace(/y/g,"")),z=u(E?new w(F,j):w(F,j),Q?this:_,T),C&&O&&m(z,{sticky:O}),z)},B=d(w),P=0;B.length>P;)(function(F){F in T||p(T,F,{configurable:!0,get:function(){return w[F]},set:function(j){w[F]=j}})})(B[P++]);(_.constructor=T).prototype=_,g(A,"RegExp",T)}b("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],187:[function(A,o,s){var a=A("../internals/export"),A=A("../internals/regexp-exec");a({target:"RegExp",proto:!0,forced:/./.exec!==A},{exec:A})},{"../internals/export":50,"../internals/regexp-exec":110}],188:[function(u,o,s){var a=u("../internals/redefine"),A=u("../internals/an-object"),c=u("../internals/fails"),l=u("../internals/regexp-flags"),u="toString",p=RegExp.prototype,d=p[u],c=c(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),h=d.name!=u;(c||h)&&a(RegExp.prototype,u,function(){var f=A(this),g=String(f.source),y=f.flags;return"/"+g+"/"+String(y===void 0&&f instanceof RegExp&&!("flags"in p)?l.call(f):y)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],189:[function(A,o,s){var a=A("../internals/collection"),A=A("../internals/collection-strong");o.exports=a("Set",function(l){return function(){return l(this,arguments.length?arguments[0]:void 0)}},A)},{"../internals/collection":32,"../internals/collection-strong":30}],190:[function(d,o,s){var a=d("../internals/export"),A=d("../internals/object-get-own-property-descriptor").f,l=d("../internals/to-length"),u=d("../internals/not-a-regexp"),p=d("../internals/require-object-coercible"),f=d("../internals/correct-is-regexp-logic"),d=d("../internals/is-pure"),c="".endsWith,h=Math.min,f=f("endsWith");a({target:"String",proto:!0,forced:!!(d||f||!(a=A(String.prototype,"endsWith"))||a.writable)&&!f},{endsWith:function(g){var y=String(p(this)),m=(u(g),1<arguments.length?arguments[1]:void 0),b=l(y.length),m=m===void 0?b:h(l(m),b),b=String(g);return c?c.call(y,b,m):y.slice(m-b.length,m)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],191:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible");a({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(u){return!!~String(l(this)).indexOf(A(u),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],192:[function(l,o,s){var a=l("../internals/string-multibyte").charAt,A=l("../internals/internal-state"),l=l("../internals/define-iterator"),u="String Iterator",p=A.set,d=A.getterFor(u);l(String,"String",function(c){p(this,{type:u,string:String(c),index:0})},function(){var c=d(this),h=c.string,f=c.index;return f>=h.length?{value:void 0,done:!0}:(h=a(h,f),c.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],193:[function(t,o,s){var a=t("../internals/fix-regexp-well-known-symbol-logic"),A=t("../internals/an-object"),l=t("../internals/to-length"),u=t("../internals/require-object-coercible"),p=t("../internals/advance-string-index"),d=t("../internals/regexp-exec-abstract");a("match",1,function(c,h,f){return[function(g){var y=u(this),m=g==null?void 0:g[c];return m!==void 0?m.call(g,y):new RegExp(g)[c](String(y))},function(g){var y=f(h,g,this);if(y.done)return y.value;var m=A(g),b=String(this);if(!m.global)return d(m,b);for(var v=m.unicode,w=[],_=m.lastIndex=0;(M=d(m,b))!==null;){var M=String(M[0]);(w[_]=M)===""&&(m.lastIndex=p(b,l(m.lastIndex),v)),_++}return _===0?null:w}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],194:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/string-pad").start;a({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(l){return A(this,l,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],195:[function(t,o,s){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],196:[function(t,o,s){var a=t("../internals/fix-regexp-well-known-symbol-logic"),A=t("../internals/an-object"),l=t("../internals/to-object"),u=t("../internals/to-length"),p=t("../internals/to-integer"),d=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),h=t("../internals/regexp-exec-abstract"),f=Math.max,g=Math.min,y=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;a("replace",2,function(v,w,_,M){var x=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=M.REPLACE_KEEPS_$0,C=x?"$":"$0";return[function(T,B){var P=d(this),F=T==null?void 0:T[v];return F!==void 0?F.call(T,P,B):w.call(String(P),T,B)},function(T,B){if(!x&&E||typeof B=="string"&&B.indexOf(C)===-1){var P=_(w,T,this,B);if(P.done)return P.value}for(var F,j=A(T),O=String(this),Q=typeof B=="function",z=(Q||(B=String(B)),j.global),k=(z&&(F=j.unicode,j.lastIndex=0),[]);(L=h(j,O))!==null&&(k.push(L),z);)String(L[0])===""&&(j.lastIndex=c(O,u(j.lastIndex),F));for(var W,Y="",te=0,R=0;R<k.length;R++){for(var L=k[R],D=String(L[0]),V=f(g(p(L.index),O.length),0),q=[],Z=1;Z<L.length;Z++)q.push((W=L[Z])===void 0?W:String(W));var se=L.groups,fe=Q?(fe=[D].concat(q,V,O),se!==void 0&&fe.push(se),String(B.apply(void 0,fe))):function(be,pe,Ae,ge,ce,de){var oe=Ae+be.length,je=ge.length,Se=b;return ce!==void 0&&(ce=l(ce),Se=m),w.call(de,Se,function(re,ie){var Ce;switch(ie.charAt(0)){case"$":return"$";case"&":return be;case"`":return pe.slice(0,Ae);case"'":return pe.slice(oe);case"<":Ce=ce[ie.slice(1,-1)];break;default:var Me,ze=+ie;if(ze==0)return re;if(je<ze)return(Me=y(ze/10))!==0&&Me<=je?ge[Me-1]===void 0?ie.charAt(1):ge[Me-1]+ie.charAt(1):re;Ce=ge[ze-1]}return Ce===void 0?"":Ce})}(D,O,V,q,se,B);te<=V&&(Y+=O.slice(te,V)+fe,te=V+D.length)}return Y+O.slice(te)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],197:[function(t,o,s){var a=t("../internals/fix-regexp-well-known-symbol-logic"),A=t("../internals/an-object"),l=t("../internals/require-object-coercible"),u=t("../internals/same-value"),p=t("../internals/regexp-exec-abstract");a("search",1,function(d,c,h){return[function(f){var g=l(this),y=f==null?void 0:f[d];return y!==void 0?y.call(f,g):new RegExp(f)[d](String(g))},function(f){var g,y=h(c,f,this);return y.done?y.value:(y=A(f),f=String(this),g=y.lastIndex,u(g,0)||(y.lastIndex=0),f=p(y,f),u(y.lastIndex,g)||(y.lastIndex=g),f===null?-1:f.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],198:[function(g,o,s){var a=g("../internals/fix-regexp-well-known-symbol-logic"),A=g("../internals/is-regexp"),l=g("../internals/an-object"),u=g("../internals/require-object-coercible"),p=g("../internals/species-constructor"),d=g("../internals/advance-string-index"),c=g("../internals/to-length"),h=g("../internals/regexp-exec-abstract"),f=g("../internals/regexp-exec"),g=g("../internals/fails"),y=[].push,m=Math.min,b=4294967295,v=!g(function(){return!RegExp(b,"y")});a("split",2,function(w,_,M){var x="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,C){var T=String(u(this)),B=C===void 0?b:C>>>0;if(B==0)return[];if(E===void 0)return[T];if(!A(E))return _.call(T,E,B);for(var P,F,j,O=[],C=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),Q=0,z=new RegExp(E.source,C+"g");(P=f.call(z,T))&&!(Q<(F=z.lastIndex)&&(O.push(T.slice(Q,P.index)),1<P.length&&P.index<T.length&&y.apply(O,P.slice(1)),j=P[0].length,Q=F,O.length>=B));)z.lastIndex===P.index&&z.lastIndex++;return Q===T.length?!j&&z.test("")||O.push(""):O.push(T.slice(Q)),O.length>B?O.slice(0,B):O}:"0".split(void 0,0).length?function(E,C){return E===void 0&&C===0?[]:_.call(this,E,C)}:_;return[function(E,C){var T=u(this),B=E==null?void 0:E[w];return B!==void 0?B.call(E,T,C):x.call(String(T),E,C)},function(P,C){var T=M(x,P,this,C,x!==_);if(T.done)return T.value;var T=l(P),B=String(this),P=p(T,RegExp),F=T.unicode,j=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(v?"y":"g"),O=new P(v?T:"^(?:"+T.source+")",j),Q=C===void 0?b:C>>>0;if(Q==0)return[];if(B.length===0)return h(O,B)===null?[B]:[];for(var z=0,k=0,W=[];k<B.length;){O.lastIndex=v?k:0;var Y,te=h(O,v?B:B.slice(k));if(te===null||(Y=m(c(O.lastIndex+(v?0:k)),B.length))===z)k=d(B,k,F);else{if(W.push(B.slice(z,k)),W.length===Q)return W;for(var R=1;R<=te.length-1;R++)if(W.push(te[R]),W.length===Q)return W;k=z=Y}}return W.push(B.slice(z)),W}]},!v)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],199:[function(d,o,s){var a=d("../internals/export"),A=d("../internals/object-get-own-property-descriptor").f,l=d("../internals/to-length"),u=d("../internals/not-a-regexp"),p=d("../internals/require-object-coercible"),f=d("../internals/correct-is-regexp-logic"),d=d("../internals/is-pure"),c="".startsWith,h=Math.min,f=f("startsWith");a({target:"String",proto:!0,forced:!!(d||f||!(a=A(String.prototype,"startsWith"))||a.writable)&&!f},{startsWith:function(b){var y=String(p(this)),m=(u(b),l(h(1<arguments.length?arguments[1]:void 0,y.length))),b=String(b);return c?c.call(y,b,m):y.slice(m,m+b.length)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],200:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/create-html");a({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return A(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],201:[function(t,o,s){var a=t("../internals/export"),A=t("../internals/string-trim").trim;a({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return A(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],202:[function(m,o,s){var a,A,l,u,p,d=m("../internals/export"),c=m("../internals/descriptors"),h=m("../internals/global"),f=m("../internals/has"),g=m("../internals/is-object"),y=m("../internals/object-define-property").f,m=m("../internals/copy-constructor-properties"),b=h.Symbol;!c||typeof b!="function"||"description"in b.prototype&&b().description===void 0||(a={},m(A=function(){var v=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof A?new b(v):v===void 0?b():b(v);return v===""&&(a[w]=!0),w},b),(h=A.prototype=b.prototype).constructor=A,l=h.toString,u=String(b("test"))=="Symbol(test)",p=/^Symbol\((.*)\)[^)]+$/,y(h,"description",{configurable:!0,get:function(){var v=g(this)?this.valueOf():this,w=l.call(v);return f(a,v)?"":(v=u?w.slice(7,-1):w.replace(p,"$1"))===""?void 0:v}}),d({global:!0,forced:!0},{Symbol:A}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],203:[function(t,o,s){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],204:[function(pe,o,s){function a(ee,me){var Ee=Ce[ee]=T(de[be]);return Ae(Ee,{type:fe,tag:ee,description:me}),f||(Ee.description=me),Ee}function A(ee,Ne){_(ee);var Ee=x(Ne),Ne=B(Ee).concat($(Ee));return Z(Ne,function(Je){f&&!he.call(Ee,Je)||Le(ee,Je,Ee[Je])}),ee}function l(Ne,Je){var Ee,Ne=x(Ne),Je=E(Je,!0);if(Ne!==ce||!b(Ce,Je)||b(Me,Je))return!(Ee=je(Ne,Je))||!b(Ce,Je)||b(Ne,se)&&Ne[se][Je]||(Ee.enumerable=!0),Ee}function u(me){var me=re(x(me)),Ee=[];return Z(me,function(Ne){b(Ce,Ne)||b(te,Ne)||Ee.push(Ne)}),Ee}var p=pe("../internals/export"),d=pe("../internals/global"),c=pe("../internals/get-built-in"),h=pe("../internals/is-pure"),f=pe("../internals/descriptors"),g=pe("../internals/native-symbol"),y=pe("../internals/use-symbol-as-uid"),m=pe("../internals/fails"),b=pe("../internals/has"),v=pe("../internals/is-array"),w=pe("../internals/is-object"),_=pe("../internals/an-object"),M=pe("../internals/to-object"),x=pe("../internals/to-indexed-object"),E=pe("../internals/to-primitive"),C=pe("../internals/create-property-descriptor"),T=pe("../internals/object-create"),B=pe("../internals/object-keys"),P=pe("../internals/object-get-own-property-names"),F=pe("../internals/object-get-own-property-names-external"),j=pe("../internals/object-get-own-property-symbols"),O=pe("../internals/object-get-own-property-descriptor"),Q=pe("../internals/object-define-property"),z=pe("../internals/object-property-is-enumerable"),k=pe("../internals/create-non-enumerable-property"),W=pe("../internals/redefine"),Y=pe("../internals/shared"),nt=pe("../internals/shared-key"),te=pe("../internals/hidden-keys"),R=pe("../internals/uid"),L=pe("../internals/well-known-symbol"),D=pe("../internals/well-known-symbol-wrapped"),V=pe("../internals/define-well-known-symbol"),q=pe("../internals/set-to-string-tag"),et=pe("../internals/internal-state"),Z=pe("../internals/array-iteration").forEach,se=nt("hidden"),fe="Symbol",be="prototype",pe=L("toPrimitive"),Ae=et.set,ge=et.getterFor(fe),ce=Object[be],de=d.Symbol,oe=c("JSON","stringify"),je=O.f,Se=Q.f,re=F.f,ie=z.f,Ce=Y("symbols"),Me=Y("op-symbols"),ze=Y("string-to-symbol-registry"),Ge=Y("symbol-to-string-registry"),nt=Y("wks"),et=d.QObject,st=!et||!et[be]||!et[be].findChild,Re=f&&m(function(){return T(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!=7})?function(ee,me,Ee){var Ne=je(ce,me);Ne&&delete ce[me],Se(ee,me,Ee),Ne&&ee!==ce&&Se(ce,me,Ne)}:Se,Ke=y?function(ee){return typeof ee=="symbol"}:function(ee){return Object(ee)instanceof de},Le=function(ee,me,Ee){return ee===ce&&Le(Me,me,Ee),_(ee),me=E(me,!0),_(Ee),(b(Ce,me)?(Ee.enumerable?(b(ee,se)&&ee[se][me]&&(ee[se][me]=!1),Ee=T(Ee,{enumerable:C(0,!1)})):(b(ee,se)||Se(ee,se,C(1,{})),ee[se][me]=!0),Re):Se)(ee,me,Ee)},he=function(me){var me=E(me,!0),Ee=ie.call(this,me);return!(this===ce&&b(Ce,me)&&!b(Me,me))&&(!(Ee||!b(this,me)||!b(Ce,me)||b(this,se)&&this[se][me])||Ee)},$=function(Ee){var me=Ee===ce,Ee=re(me?Me:x(Ee)),Ne=[];return Z(Ee,function(Je){!b(Ce,Je)||me&&!b(ce,Je)||Ne.push(Ce[Je])}),Ne};g||(W((de=function(){if(this instanceof de)throw TypeError("Symbol is not a constructor");var ee=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,me=R(ee),Ee=function(Ne){this===ce&&Ee.call(Me,Ne),b(this,se)&&b(this[se],me)&&(this[se][me]=!1),Re(this,me,C(1,Ne))};return f&&st&&Re(ce,me,{configurable:!0,set:Ee}),a(me,ee)})[be],"toString",function(){return ge(this).tag}),W(de,"withoutSetter",function(ee){return a(R(ee),ee)}),z.f=he,Q.f=Le,O.f=l,P.f=F.f=u,j.f=$,D.f=function(ee){return a(L(ee),ee)},f&&(Se(de[be],"description",{configurable:!0,get:function(){return ge(this).description}}),h||W(ce,"propertyIsEnumerable",he,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:de}),Z(B(nt),function(ee){V(ee)}),p({target:fe,stat:!0,forced:!g},{for:function(Ee){var me,Ee=String(Ee);return b(ze,Ee)?ze[Ee]:(me=de(Ee),ze[Ee]=me,Ge[me]=Ee,me)},keyFor:function(ee){if(!Ke(ee))throw TypeError(ee+" is not a symbol");if(b(Ge,ee))return Ge[ee]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),p({target:"Object",stat:!0,forced:!g,sham:!f},{create:function(ee,me){return me===void 0?T(ee):A(T(ee),me)},defineProperty:Le,defineProperties:A,getOwnPropertyDescriptor:l}),p({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:u,getOwnPropertySymbols:$}),p({target:"Object",stat:!0,forced:m(function(){j.f(1)})},{getOwnPropertySymbols:function(ee){return j.f(M(ee))}}),oe&&p({target:"JSON",stat:!0,forced:!g||m(function(){var ee=de();return oe([ee])!="[null]"||oe({a:ee})!="{}"||oe(Object(ee))!="{}"})},{stringify:function(ee,me,Ee){for(var Ne,Je=[ee],ht=1;ht<arguments.length;)Je.push(arguments[ht++]);if((w(Ne=me)||ee!==void 0)&&!Ke(ee))return v(me)||(me=function(vt,$e){if(typeof Ne=="function"&&($e=Ne.call(this,vt,$e)),!Ke($e))return $e}),Je[1]=me,oe.apply(null,Je)}}),de[be][pe]||k(de[be],pe,de[be].valueOf),q(de,fe),te[se]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],205:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-copy-within"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("copyWithin",function(u,p){return A.call(l(this),u,p,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],206:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").every,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("every",function(u){return A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],207:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-fill"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("fill",function(u){return A.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],208:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").filter,l=t("../internals/species-constructor"),u=a.aTypedArray,p=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("filter",function(d){for(var c=A(u(this),d,1<arguments.length?arguments[1]:void 0),d=l(this,this.constructor),h=0,f=c.length,g=new(p(d))(f);h<f;)g[h]=c[h++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],209:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").findIndex,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("findIndex",function(u){return A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],210:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").find,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("find",function(u){return A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],211:[function(t,o,s){t("../internals/typed-array-constructor")("Float32",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],212:[function(t,o,s){t("../internals/typed-array-constructor")("Float64",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],213:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").forEach,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("forEach",function(u){A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],214:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-includes").includes,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("includes",function(u){return A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],215:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-includes").indexOf,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("indexOf",function(u){return A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],216:[function(t,o,s){t("../internals/typed-array-constructor")("Int16",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],217:[function(t,o,s){t("../internals/typed-array-constructor")("Int32",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],218:[function(A,o,s){function a(){return l.call(d(this))}var f=A("../internals/global"),h=A("../internals/array-buffer-view-core"),c=A("../modules/es.array.iterator"),A=A("../internals/well-known-symbol")("iterator"),f=f.Uint8Array,l=c.values,u=c.keys,p=c.entries,d=h.aTypedArray,c=h.exportTypedArrayMethod,h=f&&f.prototype[A],f=!!h&&(h.name=="values"||h.name==null);c("entries",function(){return p.call(d(this))}),c("keys",function(){return u.call(d(this))}),c("values",a,!f),c(A,a,!f)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],219:[function(A,o,s){var A=A("../internals/array-buffer-view-core"),a=A.aTypedArray,A=A.exportTypedArrayMethod,l=[].join;A("join",function(u){return l.apply(a(this),arguments)})},{"../internals/array-buffer-view-core":12}],220:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-last-index-of"),l=a.aTypedArray;(0,a.exportTypedArrayMethod)("lastIndexOf",function(u){return A.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],221:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").map,l=t("../internals/species-constructor"),u=a.aTypedArray,p=a.aTypedArrayConstructor;(0,a.exportTypedArrayMethod)("map",function(d){return A(u(this),d,1<arguments.length?arguments[1]:void 0,function(c,h){return new(p(l(c,c.constructor)))(h)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],222:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-reduce").right,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduceRight",function(u){return A(l(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],223:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-reduce").left,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("reduce",function(u){return A(l(this),u,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],224:[function(A,o,s){var A=A("../internals/array-buffer-view-core"),a=A.aTypedArray,A=A.exportTypedArrayMethod,l=Math.floor;A("reverse",function(){for(var u,p=a(this).length,d=l(p/2),c=0;c<d;)u=this[c],this[c++]=this[--p],this[p]=u;return this})},{"../internals/array-buffer-view-core":12}],225:[function(p,o,s){var a=p("../internals/array-buffer-view-core"),A=p("../internals/to-length"),l=p("../internals/to-offset"),u=p("../internals/to-object"),p=p("../internals/fails"),d=a.aTypedArray;(0,a.exportTypedArrayMethod)("set",function(c){d(this);var h=l(1<arguments.length?arguments[1]:void 0,1),f=this.length,g=u(c),y=A(g.length),m=0;if(f<y+h)throw RangeError("Wrong length");for(;m<y;)this[h+m]=g[m++]},p(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],226:[function(A,o,s){var p=A("../internals/array-buffer-view-core"),a=A("../internals/species-constructor"),A=A("../internals/fails"),l=p.aTypedArray,u=p.aTypedArrayConstructor,p=p.exportTypedArrayMethod,d=[].slice;p("slice",function(c,h){for(var f=d.call(l(this),c,h),c=a(this,this.constructor),g=0,y=f.length,m=new(u(c))(y);g<y;)m[g]=f[g++];return m},A(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],227:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/array-iteration").some,l=a.aTypedArray;(0,a.exportTypedArrayMethod)("some",function(u){return A(l(this),u,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],228:[function(A,o,s){var A=A("../internals/array-buffer-view-core"),a=A.aTypedArray,A=A.exportTypedArrayMethod,l=[].sort;A("sort",function(u){return l.call(a(this),u)})},{"../internals/array-buffer-view-core":12}],229:[function(t,o,s){var a=t("../internals/array-buffer-view-core"),A=t("../internals/to-length"),l=t("../internals/to-absolute-index"),u=t("../internals/species-constructor"),p=a.aTypedArray;(0,a.exportTypedArrayMethod)("subarray",function(g,c){var h=p(this),f=h.length,g=l(g,f);return new(u(h,h.constructor))(h.buffer,h.byteOffset+g*h.BYTES_PER_ELEMENT,A((c===void 0?f:l(c,f))-g))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],230:[function(A,o,s){var p=A("../internals/global"),a=A("../internals/array-buffer-view-core"),A=A("../internals/fails"),l=p.Int8Array,u=a.aTypedArray,p=a.exportTypedArrayMethod,d=[].toLocaleString,c=[].slice,h=!!l&&A(function(){d.call(new l(1))});p("toLocaleString",function(){return d.apply(h?c.call(u(this)):u(this),arguments)},A(function(){return[1,2].toLocaleString()!=new l([1,2]).toLocaleString()})||!A(function(){l.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],231:[function(A,o,s){var a=A("../internals/array-buffer-view-core").exportTypedArrayMethod,p=A("../internals/fails"),A=A("../internals/global").Uint8Array,A=A&&A.prototype||{},l=[].toString,u=[].join,p=(p(function(){l.call({})})&&(l=function(){return u.call(this)}),A.toString!=l);a("toString",l,p)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],232:[function(t,o,s){t("../internals/typed-array-constructor")("Uint16",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],233:[function(t,o,s){t("../internals/typed-array-constructor")("Uint32",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],234:[function(t,o,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(A,l,u){return a(this,A,l,u)}})},{"../internals/typed-array-constructor":142}],235:[function(t,o,s){t("../internals/typed-array-constructor")("Uint8",function(a){return function(A,l,u){return a(this,A,l,u)}},!0)},{"../internals/typed-array-constructor":142}],236:[function(b,_,s){function a(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var A,l,u,p,d,v=b("../internals/global"),c=b("../internals/redefine-all"),h=b("../internals/internal-metadata"),f=b("../internals/collection"),g=b("../internals/collection-weak"),y=b("../internals/is-object"),m=b("../internals/internal-state").enforce,b=b("../internals/native-weak-map"),v=!v.ActiveXObject&&"ActiveXObject"in v,w=Object.isExtensible,_=_.exports=f("WeakMap",a,g);b&&v&&(A=g.getConstructor(a,"WeakMap",!0),h.REQUIRED=!0,f=_.prototype,l=f.delete,u=f.has,p=f.get,d=f.set,c(f,{delete:function(M){var x;return y(M)&&!w(M)?((x=m(this)).frozen||(x.frozen=new A),l.call(this,M)||x.frozen.delete(M)):l.call(this,M)},has:function(M){var x;return y(M)&&!w(M)?((x=m(this)).frozen||(x.frozen=new A),u.call(this,M)||x.frozen.has(M)):u.call(this,M)},get:function(M){var x;return!y(M)||w(M)||((x=m(this)).frozen||(x.frozen=new A),u.call(this,M))?p.call(this,M):x.frozen.get(M)},set:function(M,x){var E;return!y(M)||w(M)||((E=m(this)).frozen||(E.frozen=new A),u.call(this,M))?d.call(this,M,x):E.frozen.set(M,x),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],237:[function(t,o,s){var a,A=t("../internals/global"),l=t("../internals/dom-iterables"),u=t("../internals/array-for-each"),p=t("../internals/create-non-enumerable-property");for(a in l){var d=A[a],d=d&&d.prototype;if(d&&d.forEach!==u)try{p(d,"forEach",u)}catch{d.forEach=u}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],238:[function(d,o,s){var a,A=d("../internals/global"),l=d("../internals/dom-iterables"),u=d("../modules/es.array.iterator"),p=d("../internals/create-non-enumerable-property"),d=d("../internals/well-known-symbol"),c=d("iterator"),h=d("toStringTag"),f=u.values;for(a in l){var g=A[a],y=g&&g.prototype;if(y){if(y[c]!==f)try{p(y,c,f)}catch{y[c]=f}if(y[h]||p(y,h,a),l[a]){for(var m in u)if(y[m]!==u[m])try{p(y,m,u[m])}catch{y[m]=u[m]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],239:[function(se,o,s){se("../modules/es.array.iterator");function a(fe){try{return decodeURIComponent(fe)}catch{return fe}}function A(fe){return V[fe]}function l(fe){return encodeURIComponent(fe).replace(D,A)}function u(fe){this.entries.length=0,q(this.entries,fe)}function p(fe,be){if(fe<be)throw TypeError("Not enough arguments")}function d(){v(this,d,Q);var fe,be,pe,Ae,ge,ce,de,oe,je=0<arguments.length?arguments[0]:void 0,Se=[];if(k(this,{type:Q,entries:Se,updateURL:function(){},updateSearchParams:u}),je!==void 0)if(E(je))if(typeof(fe=P(je))=="function")for(pe=(be=fe.call(je)).next;!(Ae=pe.call(be)).done;){if((ce=(ge=(Ae=B(x(Ae.value))).next).call(Ae)).done||(de=ge.call(Ae)).done||!ge.call(Ae).done)throw TypeError("Expected sequence with length 2");Se.push({key:ce.value+"",value:de.value+""})}else for(oe in je)w(je,oe)&&Se.push({key:oe,value:je[oe]+""});else q(Se,typeof je=="string"?je.charAt(0)==="?"?je.slice(1):je:je+"")}var c=se("../internals/export"),O=se("../internals/get-built-in"),h=se("../internals/native-url"),f=se("../internals/redefine"),g=se("../internals/redefine-all"),y=se("../internals/set-to-string-tag"),m=se("../internals/create-iterator-constructor"),b=se("../internals/internal-state"),v=se("../internals/an-instance"),w=se("../internals/has"),_=se("../internals/function-bind-context"),M=se("../internals/classof"),x=se("../internals/an-object"),E=se("../internals/is-object"),C=se("../internals/object-create"),T=se("../internals/create-property-descriptor"),B=se("../internals/get-iterator"),P=se("../internals/get-iterator-method"),se=se("../internals/well-known-symbol"),F=O("fetch"),j=O("Headers"),O=se("iterator"),Q="URLSearchParams",z=Q+"Iterator",k=b.set,W=b.getterFor(Q),Y=b.getterFor(z),te=/\+/g,R=Array(4),L=function(fe){var be,pe=fe.replace(te," "),Ae=4;try{return decodeURIComponent(pe)}catch{for(;Ae;)pe=pe.replace((be=Ae--,R[be-1]||(R[be-1]=RegExp("((?:%[\\da-f]{2}){"+be+"})","gi"))),a);return pe}},D=/[!'()~]|%20/g,V={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},q=function(fe,be){if(be)for(var pe,Ae=be.split("&"),ge=0;ge<Ae.length;)(pe=Ae[ge++]).length&&(pe=pe.split("="),fe.push({key:L(pe.shift()),value:L(pe.join("="))}))},Z=m(function(fe,be){k(this,{type:z,iterator:B(W(fe).entries),kind:be})},"Iterator",function(){var be=Y(this),fe=be.kind,be=be.iterator.next(),pe=be.value;return be.done||(be.value=fe==="keys"?pe.key:fe==="values"?pe.value:[pe.key,pe.value]),be}),se=d.prototype;g(se,{append:function(fe,be){p(arguments.length,2);var pe=W(this);pe.entries.push({key:fe+"",value:be+""}),pe.updateURL()},delete:function(fe){p(arguments.length,1);for(var be=W(this),pe=be.entries,Ae=fe+"",ge=0;ge<pe.length;)pe[ge].key===Ae?pe.splice(ge,1):ge++;be.updateURL()},get:function(fe){p(arguments.length,1);for(var be=W(this).entries,pe=fe+"",Ae=0;Ae<be.length;Ae++)if(be[Ae].key===pe)return be[Ae].value;return null},getAll:function(fe){p(arguments.length,1);for(var be=W(this).entries,pe=fe+"",Ae=[],ge=0;ge<be.length;ge++)be[ge].key===pe&&Ae.push(be[ge].value);return Ae},has:function(fe){p(arguments.length,1);for(var be=W(this).entries,pe=fe+"",Ae=0;Ae<be.length;)if(be[Ae++].key===pe)return!0;return!1},set:function(fe,be){p(arguments.length,1);for(var pe,Ae=W(this),ge=Ae.entries,ce=!1,de=fe+"",oe=be+"",je=0;je<ge.length;je++)(pe=ge[je]).key===de&&(ce?ge.splice(je--,1):(ce=!0,pe.value=oe));ce||ge.push({key:de,value:oe}),Ae.updateURL()},sort:function(){for(var fe,be,pe=W(this),Ae=pe.entries,ge=Ae.slice(),ce=Ae.length=0;ce<ge.length;ce++){for(fe=ge[ce],be=0;be<ce;be++)if(Ae[be].key>fe.key){Ae.splice(be,0,fe);break}be===ce&&Ae.push(fe)}pe.updateURL()},forEach:function(fe){for(var be,pe=W(this).entries,Ae=_(fe,1<arguments.length?arguments[1]:void 0,3),ge=0;ge<pe.length;)Ae((be=pe[ge++]).value,be.key,this)},keys:function(){return new Z(this,"keys")},values:function(){return new Z(this,"values")},entries:function(){return new Z(this,"entries")}},{enumerable:!0}),f(se,O,se.entries),f(se,"toString",function(){for(var fe,be=W(this).entries,pe=[],Ae=0;Ae<be.length;)fe=be[Ae++],pe.push(l(fe.key)+"="+l(fe.value));return pe.join("&")},{enumerable:!0}),y(d,Q),c({global:!0,forced:!h},{URLSearchParams:d}),h||typeof F!="function"||typeof j!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(ge){var be,pe,Ae,ge=[ge];return 1<arguments.length&&(E(be=arguments[1])&&(pe=be.body,M(pe)===Q&&((Ae=be.headers?new j(be.headers):new j).has("content-type")||Ae.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),be=C(be,{body:T(0,String(pe)),headers:T(0,Ae)}))),ge.push(be)),F.apply(this,ge)}}),o.exports={URLSearchParams:d,getState:W}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":161}],240:[function(B,o,s){B("../modules/es.string.iterator");function a(le){var De,We,Qe,it;if(typeof le=="number"){for(De=[],We=0;We<4;We++)De.unshift(le%256),le=z(le/256);return De.join(".")}if(typeof le!="object")return le;for(De="",Qe=de(le),We=0;We<8;We++)it&&le[We]===0||(it=it&&!1,Qe===We?(De+=We?":":"::",it=!0):(De+=le[We].toString(16),We<7&&(De+=":")));return"["+De+"]"}function A(le){return!le.host||le.cannotBeABaseURL||le.scheme=="file"}function l(le,De,We,Qe){var it,tt,Ut,_t=We||Ke,Pt=0,Bt="",Ht=!1,Kt=!1,lr=!1;for(We||(le.scheme="",le.username="",le.password="",le.host=null,le.port=null,le.path=[],le.query=null,le.fragment=null,le.cannotBeABaseURL=!1,De=De.replace(Ae,"")),De=De.replace(ge,""),it=M(De);Pt<=it.length;){switch(tt=it[Pt],_t){case Ke:if(!tt||!L.test(tt)){if(We)return Y;_t=he;continue}Bt+=tt.toLowerCase(),_t=Le;break;case Le:if(tt&&(D.test(tt)||tt=="+"||tt=="-"||tt=="."))Bt+=tt.toLowerCase();else{if(tt!=":"){if(We)return Y;Bt="",_t=he,Pt=0;continue}if(We&&(Me(le)!=w(Ce,Bt)||Bt=="file"&&(ze(le)||le.port!==null)||le.scheme=="file"&&!le.host))return;if(le.scheme=Bt,We)return void(Me(le)&&Ce[le.scheme]==le.port&&(le.port=null));Bt="",le.scheme=="file"?_t=yt:Me(le)&&Qe&&Qe.scheme==le.scheme?_t=$:Me(le)?_t=Ne:it[Pt+1]=="/"?(_t=ee,Pt++):(le.cannotBeABaseURL=!0,le.path.push(""),_t=Ot)}break;case he:if(!Qe||Qe.cannotBeABaseURL&&tt!="#")return Y;if(Qe.cannotBeABaseURL&&tt=="#"){le.scheme=Qe.scheme,le.path=Qe.path.slice(),le.query=Qe.query,le.fragment="",le.cannotBeABaseURL=!0,_t=Ar;break}_t=Qe.scheme=="file"?yt:me;continue;case $:if(tt!="/"||it[Pt+1]!="/"){_t=me;continue}_t=Je,Pt++;break;case ee:if(tt=="/"){_t=ht;break}_t=It;continue;case me:if(le.scheme=Qe.scheme,tt==d)le.username=Qe.username,le.password=Qe.password,le.host=Qe.host,le.port=Qe.port,le.path=Qe.path.slice(),le.query=Qe.query;else if(tt=="/"||tt=="\\"&&Me(le))_t=Ee;else if(tt=="?")le.username=Qe.username,le.password=Qe.password,le.host=Qe.host,le.port=Qe.port,le.path=Qe.path.slice(),le.query="",_t=ur;else{if(tt!="#"){le.username=Qe.username,le.password=Qe.password,le.host=Qe.host,le.port=Qe.port,le.path=Qe.path.slice(),le.path.pop(),_t=It;continue}le.username=Qe.username,le.password=Qe.password,le.host=Qe.host,le.port=Qe.port,le.path=Qe.path.slice(),le.query=Qe.query,le.fragment="",_t=Ar}break;case Ee:if(!Me(le)||tt!="/"&&tt!="\\"){if(tt!="/"){le.username=Qe.username,le.password=Qe.password,le.host=Qe.host,le.port=Qe.port,_t=It;continue}_t=ht}else _t=Je;break;case Ne:if(_t=Je,tt!="/"||Bt.charAt(Pt+1)!="/")continue;Pt++;break;case Je:if(tt=="/"||tt=="\\")break;_t=ht;continue;case ht:if(tt=="@"){Ht&&(Bt="%40"+Bt);for(var Ht=!0,wr=M(Bt),Fr=0;Fr<wr.length;Fr++){var Gr=wr[Fr];Gr!=":"||lr?(Gr=ie(Gr,re),lr?le.password+=Gr:le.username+=Gr):lr=!0}Bt=""}else if(tt==d||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&Me(le)){if(Ht&&Bt=="")return W;Pt-=M(Bt).length+1,Bt="",_t=vt}else Bt+=tt;break;case vt:case $e:if(We&&le.scheme=="file"){_t=ft;continue}if(tt!=":"||Kt){if(tt==d||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&Me(le)){if(Me(le)&&Bt=="")return te;if(We&&Bt==""&&(ze(le)||le.port!==null))return;if(Ut=ce(le,Bt))return Ut;if(Bt="",_t=bt,We)return;continue}tt=="["?Kt=!0:tt=="]"&&(Kt=!1),Bt+=tt}else{if(Bt=="")return te;if(Ut=ce(le,Bt))return Ut;if(Bt="",_t=Ie,We==$e)return}break;case Ie:if(!V.test(tt)){if(tt==d||tt=="/"||tt=="?"||tt=="#"||tt=="\\"&&Me(le)||We){if(Bt!=""){var _r=parseInt(Bt,10);if(65535<_r)return R;le.port=Me(le)&&_r===Ce[le.scheme]?null:_r,Bt=""}if(We)return;_t=bt;continue}return R}Bt+=tt;break;case yt:if(le.scheme="file",tt=="/"||tt=="\\")_t=dt;else{if(!Qe||Qe.scheme!="file"){_t=It;continue}if(tt==d)le.host=Qe.host,le.path=Qe.path.slice(),le.query=Qe.query;else if(tt=="?")le.host=Qe.host,le.path=Qe.path.slice(),le.query="",_t=ur;else{if(tt!="#"){nt(it.slice(Pt).join(""))||(le.host=Qe.host,le.path=Qe.path.slice(),et(le)),_t=It;continue}le.host=Qe.host,le.path=Qe.path.slice(),le.query=Qe.query,le.fragment="",_t=Ar}}break;case dt:if(tt=="/"||tt=="\\"){_t=ft;break}Qe&&Qe.scheme=="file"&&!nt(it.slice(Pt).join(""))&&(Ge(Qe.path[0],!0)?le.path.push(Qe.path[0]):le.host=Qe.host),_t=It;continue;case ft:if(tt==d||tt=="/"||tt=="\\"||tt=="?"||tt=="#"){if(!We&&Ge(Bt))_t=It;else{if(Bt==""){if(le.host="",We)return}else{if(Ut=ce(le,Bt))return Ut;if(le.host=="localhost"&&(le.host=""),We)return;Bt=""}_t=bt}continue}Bt+=tt;break;case bt:if(Me(le)){if(_t=It,tt!="/"&&tt!="\\")continue}else if(We||tt!="?")if(We||tt!="#"){if(tt!=d&&(_t=It,tt!="/"))continue}else le.fragment="",_t=Ar;else le.query="",_t=ur;break;case It:if(tt==d||tt=="/"||tt=="\\"&&Me(le)||!We&&(tt=="?"||tt=="#")){if(Re(Bt)?(et(le),tt=="/"||tt=="\\"&&Me(le)||le.path.push("")):st(Bt)?tt=="/"||tt=="\\"&&Me(le)||le.path.push(""):(le.scheme=="file"&&!le.path.length&&Ge(Bt)&&(le.host&&(le.host=""),Bt=Bt.charAt(0)+":"),le.path.push(Bt)),Bt="",le.scheme=="file"&&(tt==d||tt=="?"||tt=="#"))for(;1<le.path.length&&le.path[0]==="";)le.path.shift();tt=="?"?(le.query="",_t=ur):tt=="#"&&(le.fragment="",_t=Ar)}else Bt+=ie(tt,Se);break;case Ot:tt=="?"?(le.query="",_t=ur):tt=="#"?(le.fragment="",_t=Ar):tt!=d&&(le.path[0]+=ie(tt,oe));break;case ur:We||tt!="#"?tt!=d&&(tt=="'"&&Me(le)?le.query+="%27":le.query+=tt=="#"?"%23":ie(tt,oe)):(le.fragment="",_t=Ar);break;case Ar:tt!=d&&(le.fragment+=ie(tt,je))}Pt++}}function u(tt){var De,We,Qe=v(this,u,"URL"),it=1<arguments.length?arguments[1]:void 0,tt=String(tt),Ut=O(Qe,{type:"URL"});if(it!==void 0){if(it instanceof u)De=Q(it);else if(We=l(De={},String(it)))throw TypeError(We)}if(We=l(Ut,tt,null,De))throw TypeError(We);var _t=Ut.searchParams=new F;(it=j(_t)).updateSearchParams(Ut.query),it.updateURL=function(){Ut.query=String(_t)||null},g||(Qe.href=ir.call(Qe),Qe.origin=rr.call(Qe),Qe.protocol=Mr.call(Qe),Qe.username=gr.call(Qe),Qe.password=nr.call(Qe),Qe.host=Tr.call(Qe),Qe.hostname=qn.call(Qe),Qe.port=Dn.call(Qe),Qe.pathname=xn.call(Qe),Qe.search=On.call(Qe),Qe.searchParams=Tn.call(Qe),Qe.hash=Nn.call(Qe))}function p(le,De){return{get:le,set:De,configurable:!0,enumerable:!0}}var d,c,h,f=B("../internals/export"),g=B("../internals/descriptors"),y=B("../internals/native-url"),Tt=B("../internals/global"),m=B("../internals/object-define-properties"),b=B("../internals/redefine"),v=B("../internals/an-instance"),w=B("../internals/has"),_=B("../internals/object-assign"),M=B("../internals/array-from"),x=B("../internals/string-multibyte").codeAt,E=B("../internals/string-punycode-to-ascii"),C=B("../internals/set-to-string-tag"),T=B("../modules/web.url-search-params"),B=B("../internals/internal-state"),P=Tt.URL,F=T.URLSearchParams,j=T.getState,O=B.set,Q=B.getterFor("URL"),z=Math.floor,k=Math.pow,W="Invalid authority",Y="Invalid scheme",te="Invalid host",R="Invalid port",L=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,V=/\d/,q=/^(0x|0X)/,Z=/^[0-7]+$/,se=/^\d+$/,fe=/^[\dA-Fa-f]+$/,be=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,pe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ae=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ge=/[\u0009\u000A\u000D]/g,ce=function(le,De){var We,Qe,it;if(De.charAt(0)=="[")return De.charAt(De.length-1)=="]"&&(We=function(tt){var Ut=[0,0,0,0,0,0,0,0],_t=0,Pt=null,Bt=0,Ht,Kt,lr,wr,Fr,Gr,_r,Xt=function(){return tt.charAt(Bt)};if(Xt()==":"){if(tt.charAt(1)!=":")return;Bt+=2,_t++,Pt=_t}for(;Xt();){if(_t==8)return;if(Xt()==":"){if(Pt!==null)return;Bt++,_t++,Pt=_t;continue}for(Ht=Kt=0;Kt<4&&fe.test(Xt());)Ht=Ht*16+parseInt(Xt(),16),Bt++,Kt++;if(Xt()=="."){if(Kt==0||(Bt-=Kt,_t>6))return;for(lr=0;Xt();){if(wr=null,lr>0)if(Xt()=="."&&lr<4)Bt++;else return;if(!V.test(Xt()))return;for(;V.test(Xt());){if(Fr=parseInt(Xt(),10),wr===null)wr=Fr;else{if(wr==0)return;wr=wr*10+Fr}if(wr>255)return;Bt++}Ut[_t]=Ut[_t]*256+wr,lr++,(lr==2||lr==4)&&_t++}if(lr!=4)return;break}else if(Xt()==":"){if(Bt++,!Xt())return}else if(Xt())return;Ut[_t++]=Ht}if(Pt!==null)for(Gr=_t-Pt,_t=7;_t!=0&&Gr>0;)_r=Ut[_t],Ut[_t--]=Ut[Pt+Gr-1],Ut[Pt+--Gr]=_r;else if(_t!=8)return;return Ut}(De.slice(1,-1)))?void(le.host=We):te;if(Me(le))return De=E(De),be.test(De)||(We=function(tt){var Ut=tt.split("."),_t,Pt,Bt,Ht,Kt,lr,wr;if(Ut.length&&Ut[Ut.length-1]==""&&Ut.pop(),(_t=Ut.length)>4)return tt;for(Pt=[],Bt=0;Bt<_t;Bt++){if(Ht=Ut[Bt],Ht=="")return tt;if(Kt=10,Ht.length>1&&Ht.charAt(0)=="0"&&(Kt=q.test(Ht)?16:8,Ht=Ht.slice(Kt==8?1:2)),Ht==="")lr=0;else{if(!(Kt==10?se:Kt==8?Z:fe).test(Ht))return tt;lr=parseInt(Ht,Kt)}Pt.push(lr)}for(Bt=0;Bt<_t;Bt++)if(lr=Pt[Bt],Bt==_t-1){if(lr>=k(256,5-_t))return null}else if(lr>255)return null;for(wr=Pt.pop(),Bt=0;Bt<Pt.length;Bt++)wr+=Pt[Bt]*k(256,3-Bt);return wr}(De))===null?te:void(le.host=We);if(pe.test(De))return te;for(We="",Qe=M(De),it=0;it<Qe.length;it++)We+=ie(Qe[it],oe);le.host=We},de=function(le){for(var De=null,We=1,Qe=null,it=0,tt=0;tt<8;tt++)le[tt]!==0?(We<it&&(De=Qe,We=it),Qe=null,it=0):(Qe===null&&(Qe=tt),++it);return We<it&&(De=Qe,We=it),De},oe={},je=_({},oe,{" ":1,'"':1,"<":1,">":1,"`":1}),Se=_({},je,{"#":1,"?":1,"{":1,"}":1}),re=_({},Se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ie=function(le,De){var We=x(le,0);return 32<We&&We<127&&!w(De,le)?le:encodeURIComponent(le)},Ce={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Me=function(le){return w(Ce,le.scheme)},ze=function(le){return le.username!=""||le.password!=""},Ge=function(le,De){return le.length==2&&L.test(le.charAt(0))&&((le=le.charAt(1))==":"||!De&&le=="|")},nt=function(le){return 1<le.length&&Ge(le.slice(0,2))&&(le.length==2||(le=le.charAt(2))==="/"||le==="\\"||le==="?"||le==="#")},et=function(le){var De=le.path,We=De.length;!We||le.scheme=="file"&&We==1&&Ge(De[0],!0)||De.pop()},st=function(le){return le==="."||le.toLowerCase()==="%2e"},Re=function(le){return(le=le.toLowerCase())===".."||le==="%2e."||le===".%2e"||le==="%2e%2e"},Ke={},Le={},he={},$={},ee={},me={},Ee={},Ne={},Je={},ht={},vt={},$e={},Ie={},yt={},dt={},ft={},bt={},It={},Ot={},ur={},Ar={},Tt=u.prototype,ir=function(){var le=Q(this),De=le.scheme,We=le.username,Qe=le.password,it=le.host,tt=le.port,Ut=le.path,_t=le.query,Pt=le.fragment,Bt=De+":";return it!==null?(Bt+="//",ze(le)&&(Bt+=We+(Qe?":"+Qe:"")+"@"),Bt+=a(it),tt!==null&&(Bt+=":"+tt)):De=="file"&&(Bt+="//"),Bt+=le.cannotBeABaseURL?Ut[0]:Ut.length?"/"+Ut.join("/"):"",_t!==null&&(Bt+="?"+_t),Pt!==null&&(Bt+="#"+Pt),Bt},rr=function(){var le=Q(this),De=le.scheme,We=le.port;if(De=="blob")try{return new URL(De.path[0]).origin}catch{return"null"}return De!="file"&&Me(le)?De+"://"+a(le.host)+(We!==null?":"+We:""):"null"},Mr=function(){return Q(this).scheme+":"},gr=function(){return Q(this).username},nr=function(){return Q(this).password},Tr=function(){var De=Q(this),le=De.host,De=De.port;return le===null?"":De===null?a(le):a(le)+":"+De},qn=function(){var le=Q(this).host;return le===null?"":a(le)},Dn=function(){var le=Q(this).port;return le===null?"":String(le)},xn=function(){var le=Q(this),De=le.path;return le.cannotBeABaseURL?De[0]:De.length?"/"+De.join("/"):""},On=function(){var le=Q(this).query;return le?"?"+le:""},Tn=function(){return Q(this).searchParams},Nn=function(){var le=Q(this).fragment;return le?"#"+le:""};g&&m(Tt,{href:p(ir,function(We){var De=Q(this),We=String(We),We=l(De,We);if(We)throw TypeError(We);j(De.searchParams).updateSearchParams(De.query)}),origin:p(rr),protocol:p(Mr,function(le){var De=Q(this);l(De,String(le)+":",Ke)}),username:p(gr,function(le){var De=Q(this),We=M(String(le));if(!A(De)){De.username="";for(var Qe=0;Qe<We.length;Qe++)De.username+=ie(We[Qe],re)}}),password:p(nr,function(le){var De=Q(this),We=M(String(le));if(!A(De)){De.password="";for(var Qe=0;Qe<We.length;Qe++)De.password+=ie(We[Qe],re)}}),host:p(Tr,function(le){var De=Q(this);De.cannotBeABaseURL||l(De,String(le),vt)}),hostname:p(qn,function(le){var De=Q(this);De.cannotBeABaseURL||l(De,String(le),$e)}),port:p(Dn,function(le){var De=Q(this);A(De)||((le=String(le))==""?De.port=null:l(De,le,Ie))}),pathname:p(xn,function(le){var De=Q(this);De.cannotBeABaseURL||(De.path=[],l(De,le+"",bt))}),search:p(On,function(le){var De=Q(this);(le=String(le))==""?De.query=null:(le.charAt(0)=="?"&&(le=le.slice(1)),De.query="",l(De,le,ur)),j(De.searchParams).updateSearchParams(De.query)}),searchParams:p(Tn),hash:p(Nn,function(le){var De=Q(this);(le=String(le))==""?De.fragment=null:(le.charAt(0)=="#"&&(le=le.slice(1)),De.fragment="",l(De,le,Ar))})}),b(Tt,"toJSON",function(){return ir.call(this)},{enumerable:!0}),b(Tt,"toString",function(){return ir.call(this)},{enumerable:!0}),P&&(c=P.createObjectURL,h=P.revokeObjectURL,c&&b(u,"createObjectURL",function(le){return c.apply(P,arguments)}),h&&b(u,"revokeObjectURL",function(le){return h.apply(P,arguments)})),C(u,"URL"),f({global:!0,forced:!y,sham:!g},{URL:u})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":192,"../modules/web.url-search-params":239}],241:[function(t,o,s){o.exports=t("./").polyfill()},{"./":242}],242:[function(t,o,s){(function(a,A){var l,u;l=this,u=function(){function p(ce){return typeof ce=="function"}var d=Array.isArray||function(ce){return Object.prototype.toString.call(ce)==="[object Array]"},c=0,h=void 0,f=void 0,g=function(ce,de){_[c]=ce,_[c+1]=de,(c+=2)===2&&(f?f(M):F())},y=typeof window<"u"?window:void 0,m=y||{},m=m.MutationObserver||m.WebKitMutationObserver,b=typeof self>"u"&&a!==void 0&&{}.toString.call(a)==="[object process]",v=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var ce=setTimeout;return function(){return ce(M,1)}}var _=new Array(1e3);function M(){for(var ce=0;ce<c;ce+=2)(0,_[ce])(_[ce+1]),_[ce]=void 0,_[ce+1]=void 0;c=0}function x(){try{var ce=Function("return this")().require("vertx");return(h=ce.runOnLoop||ce.runOnContext)!==void 0?function(){h(M)}:w()}catch{return w()}}var E,C,T,F=void 0;function B(ce,de){var oe,je=this,Se=new this.constructor(O),re=(Se[j]===void 0&&fe(Se),je._state);return re?(oe=arguments[re-1],g(function(){return Z(re,Se,oe,je._result)})):V(je,Se,ce,de),Se}function P(ce){var de;return ce&&typeof ce=="object"&&ce.constructor===this?ce:(te(de=new this(O),ce),de)}var F=b?function(){return a.nextTick(M)}:m?(C=0,b=new m(M),T=document.createTextNode(""),b.observe(T,{characterData:!0}),function(){T.data=C=++C%2}):v?((E=new MessageChannel).port1.onmessage=M,function(){return E.port2.postMessage(0)}):(y===void 0&&typeof t=="function"?x:w)(),j=Math.random().toString(36).substring(2);function O(){}var Q=void 0,z=1,k=2;function W(ce,de,oe){g(function(je){var Se=!1,re=function(ie,Ce,Me,ze){try{ie.call(Ce,Me,ze)}catch(Ge){return Ge}}(oe,de,function(ie){Se||(Se=!0,(de!==ie?te:L)(je,ie))},function(ie){Se||(Se=!0,D(je,ie))},je._label);!Se&&re&&(Se=!0,D(je,re))},ce)}function Y(ce,de,oe){var je,Se;de.constructor===ce.constructor&&oe===B&&de.constructor.resolve===P?(je=ce,(Se=de)._state===z?L(je,Se._result):Se._state===k?D(je,Se._result):V(Se,void 0,function(re){return te(je,re)},function(re){return D(je,re)})):oe!==void 0&&p(oe)?W(ce,de,oe):L(ce,de)}function te(ce,de){if(ce===de)D(ce,new TypeError("You cannot resolve a promise with itself"));else if(oe=typeof de,de===null||oe!="object"&&oe!="function")L(ce,de);else{oe=void 0;try{oe=de.then}catch(je){return void D(ce,je)}Y(ce,de,oe)}var oe}function R(ce){ce._onerror&&ce._onerror(ce._result),q(ce)}function L(ce,de){ce._state===Q&&(ce._result=de,ce._state=z,ce._subscribers.length!==0&&g(q,ce))}function D(ce,de){ce._state===Q&&(ce._state=k,ce._result=de,g(R,ce))}function V(ce,de,oe,je){var Se=ce._subscribers,re=Se.length;ce._onerror=null,Se[re]=de,Se[re+z]=oe,Se[re+k]=je,re===0&&ce._state&&g(q,ce)}function q(ce){var de=ce._subscribers,oe=ce._state;if(de.length!==0){for(var je,Se=void 0,re=ce._result,ie=0;ie<de.length;ie+=3)je=de[ie],Se=de[ie+oe],je?Z(oe,je,Se,re):Se(re);ce._subscribers.length=0}}function Z(ce,de,oe,je){var Se=p(oe),re=void 0,ie=void 0,Ce=!0;if(Se){try{re=oe(je)}catch(Me){Ce=!1,ie=Me}if(de===re)return void D(de,new TypeError("A promises callback cannot return that same promise."))}else re=je;de._state===Q&&(Se&&Ce?te(de,re):Ce===!1?D(de,ie):ce===z?L(de,re):ce===k&&D(de,re))}var se=0;function fe(ce){ce[j]=se++,ce._state=void 0,ce._result=void 0,ce._subscribers=[]}pe.prototype._enumerate=function(ce){for(var de=0;this._state===Q&&de<ce.length;de++)this._eachEntry(ce[de],de)},pe.prototype._eachEntry=function(ce,de){var oe=this._instanceConstructor,je=oe.resolve;if(je===P){var Se,re=void 0,ie=void 0,Ce=!1;try{re=ce.then}catch(Me){Ce=!0,ie=Me}re===B&&ce._state!==Q?this._settledAt(ce._state,de,ce._result):typeof re!="function"?(this._remaining--,this._result[de]=ce):oe===Ae?(Se=new oe(O),Ce?D(Se,ie):Y(Se,ce,re),this._willSettleAt(Se,de)):this._willSettleAt(new oe(function(Me){return Me(ce)}),de)}else this._willSettleAt(je(ce),de)},pe.prototype._settledAt=function(ce,de,oe){var je=this.promise;je._state===Q&&(this._remaining--,ce===k?D(je,oe):this._result[de]=oe),this._remaining===0&&L(je,this._result)},pe.prototype._willSettleAt=function(ce,de){var oe=this;V(ce,void 0,function(je){return oe._settledAt(z,de,je)},function(je){return oe._settledAt(k,de,je)})};var be=pe;function pe(ce,de){this._instanceConstructor=ce,this.promise=new ce(O),this.promise[j]||fe(this.promise),d(de)?(this.length=de.length,this._remaining=de.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(de),this._remaining!==0)||L(this.promise,this._result)):D(this.promise,new Error("Array Methods must be provided an Array"))}ge.prototype.catch=function(ce){return this.then(null,ce)},ge.prototype.finally=function(ce){var de=this.constructor;return p(ce)?this.then(function(oe){return de.resolve(ce()).then(function(){return oe})},function(oe){return de.resolve(ce()).then(function(){throw oe})}):this.then(ce,ce)};var Ae=ge;function ge(ce){if(this[j]=se++,this._result=this._state=void 0,this._subscribers=[],O!==ce){if(typeof ce!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ge))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var de=this;try{ce(function(oe){te(de,oe)},function(oe){D(de,oe)})}catch(oe){D(de,oe)}}}return Ae.prototype.then=B,Ae.all=function(ce){return new be(this,ce).promise},Ae.race=function(ce){var de=this;return d(ce)?new de(function(oe,je){for(var Se=ce.length,re=0;re<Se;re++)de.resolve(ce[re]).then(oe,je)}):new de(function(oe,je){return je(new TypeError("You must pass an array to race."))})},Ae.resolve=P,Ae.reject=function(ce){var de=new this(O);return D(de,ce),de},Ae._setScheduler=function(ce){f=ce},Ae._setAsap=function(ce){g=ce},Ae._asap=g,Ae.polyfill=function(){var ce=void 0;if(A!==void 0)ce=A;else if(typeof self<"u")ce=self;else try{ce=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var de=ce.Promise;if(de){var oe=null;try{oe=Object.prototype.toString.call(de.resolve())}catch{}if(oe==="[object Promise]"&&!de.cast)return}ce.Promise=Ae},Ae.Promise=Ae},typeof s=="object"&&o!==void 0?o.exports=u():l.ES6Promise=u()}).call(this,t("_process"),typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:251}],243:[function(t,o,s){var a,A;a=this,A=function(l,u){var p=5e3,d="callback";function c(f){try{delete window[f]}catch{window[f]=void 0}}function h(f){f=document.getElementById(f),f&&document.getElementsByTagName("head")[0].removeChild(f)}u.exports=function(f){var g=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],y=f,m=g.timeout||p,b=g.jsonpCallback||d,v=void 0;return new Promise(function(w,_){var M=g.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),x=b+"_"+M,E=(window[M]=function(C){w({ok:!0,json:function(){return Promise.resolve(C)}}),v&&clearTimeout(v),h(x),c(M)},y+=y.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+y+b+"="+M),g.charset&&E.setAttribute("charset",g.charset),E.id=x,document.getElementsByTagName("head")[0].appendChild(E),v=setTimeout(function(){_(new Error("JSONP request to "+f+" timed out")),c(M),h(x),window[M]=function(){c(M)}},m),E.onerror=function(){_(new Error("JSONP request to "+f+" failed")),c(M),h(x),v&&clearTimeout(v)}})}},s!==void 0&&o!==void 0?A(0,o):(A(A={exports:{}},A),a.fetchJsonp=A.exports)},{}],244:[function(t,o,s){var a=function(A){var l,u,p,d,c,h,f,g,y,m,b;if(!(A===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return b=A.document,l=function(){return A.URL||A.webkitURL||A},u=b.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in u,d=/constructor/i.test(A.HTMLElement)||A.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),h=function(v){(A.setImmediate||A.setTimeout)(function(){throw v},0)},f=4e4,g=function(v){setTimeout(function(){typeof v=="string"?l().revokeObjectURL(v):v.remove()},f)},y=function(v){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(v.type)?new Blob(["\uFEFF",v],{type:v.type}):v},b=(m=function(v,w,C){C||(v=y(v));var M,x,E=this,C=v.type==="application/octet-stream",T=function(){for(var B=E,P="writestart progress write writeend".split(" "),F=void 0,j=(P=[].concat(P)).length;j--;){var O=B["on"+P[j]];if(typeof O=="function")try{O.call(B,F||B)}catch(Q){h(Q)}}};E.readyState=E.INIT,p?(M=l().createObjectURL(v),setTimeout(function(){var B,P;u.href=M,u.download=w,B=u,P=new MouseEvent("click"),B.dispatchEvent(P),T(),g(M),E.readyState=E.DONE})):(c||C&&d)&&A.FileReader?((x=new FileReader).onloadend=function(){var B=c?x.result:x.result.replace(/^data:[^;]*;/,"data:attachment/file;");A.open(B,"_blank")||(A.location.href=B),B=void 0,E.readyState=E.DONE,T()},x.readAsDataURL(v),E.readyState=E.INIT):(M=M||l().createObjectURL(v),!C&&A.open(M,"_blank")||(A.location.href=M),E.readyState=E.DONE,T(),g(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(v,w,_){return w=w||v.name||"download",_||(v=y(v)),navigator.msSaveOrOpenBlob(v,w)}:(b.abort=function(){},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,function(v,w,_){return new m(v,w||v.name||"download",_)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);o!==void 0&&o.exports?o.exports.saveAs=a:n!=null},{}],245:[function(t,o,s){var a,A=Object.defineProperty,l=(A(s,"__esModule",{value:!0}),s),u={GIFEncoder:()=>T,applyPalette:()=>function(Q,z,k="rgb565"){if(!Q||!Q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Q instanceof Uint8Array||Q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<z.length)throw new Error("applyPalette() only works with 256 colors or less");const W=new Uint32Array(Q.buffer),Y=W.length,te=k==="rgb444"?4096:65536,R=new Uint8Array(Y),L=new Array(te);if(k==="rgba4444")for(let ge=0;ge<Y;ge++){var Z=W[ge],D=Z>>24&255,V=Z>>16&255,q=Z>>8&255,Z=255&Z,se=g(Z,q,V,D),se=se in L?L[se]:L[se]=function(ce,de,oe,je,Se){let re=0,ie=1e100;for(let Ge=0;Ge<Se.length;Ge++){var Ce,Me=Se[Ge],ze=x(Me[3]-je);ze>ie||(Ce=Me[0],(ze+=x(Ce-ce))>ie||(Ce=Me[1],(ze+=x(Ce-de))>ie||(Ce=Me[2],(ze+=x(Ce-oe))>ie||(ie=ze,re=Ge))))}return re}(Z,q,V,D,z);R[ge]=se}else{const ge=k==="rgb444"?y:f;for(let ce=0;ce<Y;ce++){var pe=W[ce],fe=pe>>16&255,be=pe>>8&255,pe=255&pe,Ae=ge(pe,be,fe),Ae=Ae in L?L[Ae]:L[Ae]=function(de,oe,je,Se){let re=0,ie=1e100;for(let Ge=0;Ge<Se.length;Ge++){var Ce,Me=Se[Ge],ze=x(Me[0]-de);ze>ie||(Ce=Me[1],(ze+=x(Ce-oe))>ie||(Ce=Me[2],(ze+=x(Ce-je))>ie||(ie=ze,re=Ge)))}return re}(pe,be,fe,z);R[ce]=Ae}}return R},default:()=>O,nearestColor:()=>function(Q,z,k=_){return Q[E(Q,z,k)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>C,prequantize:()=>function(Q,{roundRGB:z=5,roundAlpha:k=10,oneBitAlpha:W=null}={}){const Y=new Uint32Array(Q.buffer);for(let V=0;V<Y.length;V++){var D=Y[V];let q=D>>24&255;var te,R=D>>16&255,L=D>>8&255,D=255&D;q=M(q,k),W&&(te=typeof W=="number"?W:127,q=q<=te?0:255),D=M(D,z),L=M(L,z),R=M(R,z),Y[V]=q<<24|R<<16|L<<8|D<<0}},quantize:()=>function(Q,z,k={}){var{format:W="rgb565",clearAlpha:Y=!0,clearAlphaColor:te=0,clearAlphaThreshold:R=0,oneBitAlpha:L=!1}=k;if(!Q||!Q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Q instanceof Uint8Array||Q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");Q=new Uint32Array(Q.buffer);let D=k.useSqrt!==!1;const V=W==="rgba4444",q=function(nt,et){const st=et==="rgb444"?4096:65536,Re=new Array(st),Ke=nt.length;if(et==="rgba4444")for(let dt=0;dt<Ke;++dt){var ee=nt[dt],Le=ee>>24&255,he=ee>>16&255,$=ee>>8&255,ee=255&ee,me=g(ee,$,he,Le);let ft=me in Re?Re[me]:Re[me]=w();ft.rc+=ee,ft.gc+=$,ft.bc+=he,ft.ac+=Le,ft.cnt++}else if(et==="rgb444")for(let dt=0;dt<Ke;++dt){var Je=nt[dt],Ee=Je>>16&255,Ne=Je>>8&255,Je=255&Je,ht=y(Je,Ne,Ee);let ft=ht in Re?Re[ht]:Re[ht]=w();ft.rc+=Je,ft.gc+=Ne,ft.bc+=Ee,ft.cnt++}else for(let dt=0;dt<Ke;++dt){var Ie=nt[dt],vt=Ie>>16&255,$e=Ie>>8&255,Ie=255&Ie,yt=f(Ie,$e,vt);let ft=yt in Re?Re[yt]:Re[yt]=w();ft.rc+=Ie,ft.gc+=$e,ft.bc+=vt,ft.cnt++}return Re}(Q,W),Z=q.length,se=Z-1,fe=new Uint32Array(Z+1);for(var be=0,pe=0;pe<Z;++pe){const nt=q[pe];nt!=null&&(Me=1/nt.cnt,V&&(nt.ac*=Me),nt.rc*=Me,nt.gc*=Me,nt.bc*=Me,q[be++]=nt)}b(z)/be<.022&&(D=!1);for(var Ae,ge,ce,pe=0;pe<be-1;++pe)q[pe].fw=pe+1,q[pe+1].bk=pe,D&&(q[pe].cnt=Math.sqrt(q[pe].cnt));for(D&&(q[pe].cnt=Math.sqrt(q[pe].cnt)),pe=0;pe<be;++pe){v(q,pe,!1);var de=q[pe].err;for(ge=++fe[0];1<ge&&(ce=ge>>1,!(q[Ae=fe[ce]].err<=de));ge=ce)fe[ge]=Ae;fe[ge]=pe}var oe,je=be-z;for(pe=0;pe<je;){for(;;){var Se=fe[1];if((oe=q[Se]).tm>=oe.mtm&&q[oe.nn].mtm<=oe.tm)break;for(oe.mtm==se?Se=fe[1]=fe[fe[0]--]:(v(q,Se,!1),oe.tm=pe),de=q[Se].err,ge=1;(ce=ge+ge)<=fe[0]&&(ce<fe[0]&&q[fe[ce]].err>q[fe[ce+1]].err&&ce++,!(de<=q[Ae=fe[ce]].err));ge=ce)fe[ge]=Ae;fe[ge]=Se}var re=q[oe.nn],ie=oe.cnt,Ce=re.cnt,Me=1/(ie+Ce);V&&(oe.ac=Me*(ie*oe.ac+Ce*re.ac)),oe.rc=Me*(ie*oe.rc+Ce*re.rc),oe.gc=Me*(ie*oe.gc+Ce*re.gc),oe.bc=Me*(ie*oe.bc+Ce*re.bc),oe.cnt+=re.cnt,oe.mtm=++pe,q[re.bk].fw=re.fw,q[re.fw].bk=re.bk,re.mtm=se}let ze=[];for(pe=0;;0){let nt=m(Math.round(q[pe].rc),0,255),et=m(Math.round(q[pe].gc),0,255),st=m(Math.round(q[pe].bc),0,255),Re=255;V&&(Re=m(Math.round(q[pe].ac),0,255),L&&(Ge=typeof L=="number"?L:127,Re=Re<=Ge?0:255),Y&&Re<=R&&(nt=et=st=te,Re=0));var Ge=V?[nt,et,st,Re]:[nt,et,st];if(function(Ke,Le){for(let ee=0;ee<Ke.length;ee++){var $=Ke[ee],he=$[0]===Le[0]&&$[1]===Le[1]&&$[2]===Le[2],$=!(4<=$.length&&4<=Le.length)||$[3]===Le[3];if(he&&$)return!0}return!1}(ze,Ge)||ze.push(Ge),(pe=q[pe].fw)==0)break}return ze},snapColorsToPalette:()=>function(Q,z,k=5){if(Q.length&&z.length){var W=Q.map(D=>D.slice(0,3)),Y=k*k,te=Q[0].length;for(let D=0;D<z.length;D++){let V=z[D];V=V.length<te?[V[0],V[1],V[2],255]:V.length>te?V.slice(0,3):V.slice();var L=C(W,V.slice(0,3),_),R=L[0],L=L[1];0<L&&L<=Y&&(Q[R]=V)}}}};for(a in u)A(l,a,{get:u[a],enumerable:!0});var p={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function d(Q=256){let z=0,k=new Uint8Array(Q);return{get buffer(){return k.buffer},reset(){z=0},bytesView(){return k.subarray(0,z)},bytes(){return k.slice(0,z)},writeByte(Y){W(z+1),k[z]=Y,z++},writeBytes(Y,te=0,R=Y.length){W(z+R);for(let L=0;L<R;L++)k[z++]=Y[L+te]},writeBytesView(Y,te=0,R=Y.byteLength){W(z+R),k.set(Y.subarray(te,te+R),z),z+=R}};function W(Y){var te=k.length;if(!(Y<=te)){Y=Math.max(Y,te*(te<1048576?2:1.125)>>>0),te!=0&&(Y=Math.max(Y,256));const R=k;k=new Uint8Array(Y),0<z&&k.set(R.subarray(0,z),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],h=function(Q,z,k,V,Y=d(512),te=new Uint8Array(256),R=new Int32Array(5003),L=new Int32Array(5003)){var D=R.length,V=Math.max(2,V);te.fill(0),L.fill(0),R.fill(-1);let q=0,Z=0;var se=V+1;const fe=se;let be=!1,pe=fe,Ae=(1<<pe)-1;var ge=1<<se-1;const ce=1+ge;let de=2+ge,oe=0,je=k[0],Se=0;for(let Ge=D;Ge<65536;Ge*=2)++Se;Se=8-Se,Y.writeByte(V),ze(ge);var re=k.length;for(let Ge=1;Ge<re;Ge++)e:{var ie=k[Ge],Ce=(ie<<12)+je;let nt=ie<<Se^je;if(R[nt]===Ce)je=L[nt];else{for(var Me=nt===0?1:D-nt;0<=R[nt];)if((nt-=Me)<0&&(nt+=D),R[nt]===Ce){je=L[nt];break e}ze(je),je=ie,de<4096?(L[nt]=de++,R[nt]=Ce):(R.fill(-1),de=2+ge,be=!0,ze(ge))}}return ze(je),ze(ce),Y.writeByte(0),Y.bytesView();function ze(Ge){for(q&=c[Z],0<Z?q|=Ge<<Z:q=Ge,Z+=pe;8<=Z;)te[oe++]=255&q,254<=oe&&(Y.writeByte(oe),Y.writeBytesView(te,0,oe),oe=0),q>>=8,Z-=8;if((de>Ae||be)&&(be?(pe=fe,Ae=(1<<pe)-1,be=!1):(++pe,Ae=pe===12?1<<pe:(1<<pe)-1)),Ge==ce){for(;0<Z;)te[oe++]=255&q,254<=oe&&(Y.writeByte(oe),Y.writeBytesView(te,0,oe),oe=0),q>>=8,Z-=8;0<oe&&(Y.writeByte(oe),Y.writeBytesView(te,0,oe),oe=0)}}};function f(Q,z,k){return Q<<8&63488|z<<2&992|k>>3}function g(Q,z,k,W){return Q>>4|240&z|(240&k)<<4|(240&W)<<8}function y(Q,z,k){return Q>>4<<8|240&z|k>>4}function m(Q,z,k){return Q<z?z:k<Q?k:Q}function b(Q){return Q*Q}function v(Q,z,k){var W=0,Y=1e100;const te=Q[z];for(var R=te.cnt,L=te.ac,D=te.rc,V=te.gc,q=te.bc,Z=te.fw;Z!=0;Z=Q[Z].fw){var se,fe=Q[Z],be=fe.cnt,be=R*be/(R+be);Y<=be||(se=0,k&&Y<=(se+=be*b(fe.ac-L))||Y<=(se+=be*b(fe.rc-D))||Y<=(se+=be*b(fe.gc-V))||Y<=(se+=be*b(fe.bc-q))||(Y=se,W=Z))}te.err=Y,te.nn=W}function w(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function _(Q,z){for(var k=0,W=0;W<Q.length;W++){var Y=Q[W]-z[W];k+=Y*Y}return k}function M(Q,z){return 1<z?Math.round(Q/z)*z:Q}function x(Q){return Q*Q}function E(Q,z,k=_){let W=1/0,Y=-1;for(let R=0;R<Q.length;R++){var te=k(z,Q[R]);te<W&&(W=te,Y=R)}return Y}function C(Q,z,k=_){let W=1/0,Y=-1;for(let R=0;R<Q.length;R++){var te=k(z,Q[R]);te<W&&(W=te,Y=R)}return[Y,W]}function T(Q={}){const{initialCapacity:z=4096,auto:k=!0}=Q,W=d(z),Y=new Uint8Array(256),te=new Int32Array(5003),R=new Int32Array(5003);let L=!1;return{reset(){W.reset(),L=!1},finish(){W.writeByte(p.trailer)},bytes(){return W.bytes()},bytesView(){return W.bytesView()},get buffer(){return W.buffer},get stream(){return W},writeHeader:D,writeFrame(V,q,Z,je={}){var{transparent:fe=!1,transparentIndex:be=0,delay:Me=0,palette:pe=null,repeat:re=0,colorDepth:Ae=8,dispose:ge=-1}=je;let ce=!1;if(k?L||(ce=!0,D(),L=!0):ce=!!je.first,q=Math.max(0,Math.floor(q)),Z=Math.max(0,Math.floor(Z)),ce){if(!pe)throw new Error("First frame must include a { palette } option");var[je,ie,oe,Ce,Se=8]=[W,q,Z,pe,Ae];Ce=j(Ce.length)-1,Se=128|Se-1<<4|Ce,P(je,ie),P(je,oe),je.writeBytes([Se,0,0]),B(W,pe),0<=re&&(Ce=W,ie=re,Ce.writeByte(33),Ce.writeByte(255),Ce.writeByte(11),F(Ce,"NETSCAPE2.0"),Ce.writeByte(3),Ce.writeByte(1),P(Ce,ie),Ce.writeByte(0))}var de,oe=Math.round(Me/10),je=W,Se=ge,re=oe,ie=fe,Ce=be,Me=(je.writeByte(33),je.writeByte(249),je.writeByte(4),Ce<0&&(Ce=0,ie=!1),ie=ie?(de=1,2):de=0,0<=Se&&(ie=7&Se),ie<<=2,je.writeByte(0|ie|de),P(je,re),je.writeByte(Ce||0),je.writeByte(0),!!pe&&!ce);ge=W,fe=q,be=Z,de=Me?pe:null,ge.writeByte(44),P(ge,0),P(ge,0),P(ge,fe),P(ge,be),de?(fe=j(de.length)-1,ge.writeByte(128|fe)):ge.writeByte(0),Me&&B(W,pe),[re,je,be,fe,ge=8,Me,pe,V]=[W,V,q,Z,Ae,Y,te,R],h(be,fe,je,ge,re,Me,pe,V)}};function D(){F(W,"GIF89a")}}function B(Q,z){var k=1<<j(z.length);for(let W=0;W<k;W++){let Y=[0,0,0];W<z.length&&(Y=z[W]),Q.writeByte(Y[0]),Q.writeByte(Y[1]),Q.writeByte(Y[2])}}function P(Q,z){Q.writeByte(255&z),Q.writeByte(z>>8&255)}function F(Q,z){for(var k=0;k<z.length;k++)Q.writeByte(z.charCodeAt(k))}function j(Q){return Math.max(Math.ceil(Math.log2(Q)),1)}var O=T},{}],246:[function(t,o,s){s.read=function(a,A,l,u,v){var d,c,h=8*v-u-1,f=(1<<h)-1,g=f>>1,y=-7,m=l?v-1:0,b=l?-1:1,v=a[A+m];for(m+=b,d=v&(1<<-y)-1,v>>=-y,y+=h;0<y;d=256*d+a[A+m],m+=b,y-=8);for(c=d&(1<<-y)-1,d>>=-y,y+=u;0<y;c=256*c+a[A+m],m+=b,y-=8);if(d===0)d=1-g;else{if(d===f)return c?NaN:1/0*(v?-1:1);c+=Math.pow(2,u),d-=g}return(v?-1:1)*c*Math.pow(2,d-u)},s.write=function(a,A,l,u,p,w){var c,h,f=8*w-p-1,g=(1<<f)-1,y=g>>1,m=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=u?0:w-1,v=u?1:-1,w=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(h=isNaN(A)?1:0,c=g):(c=Math.floor(Math.log(A)/Math.LN2),A*(u=Math.pow(2,-c))<1&&(c--,u*=2),2<=(A+=1<=c+y?m/u:m*Math.pow(2,1-y))*u&&(c++,u/=2),g<=c+y?(h=0,c=g):1<=c+y?(h=(A*u-1)*Math.pow(2,p),c+=y):(h=A*Math.pow(2,y-1)*Math.pow(2,p),c=0));8<=p;a[l+b]=255&h,b+=v,h/=256,p-=8);for(c=c<<p|h,f+=p;0<f;a[l+b]=255&c,b+=v,c/=256,f-=8);a[l+b-v]|=128*w}},{}],247:[function(t,o,s){var a;function A(he,$){return he.b===$.b&&he.a===$.a}function l(he,$){return he.b<$.b||he.b===$.b&&he.a<=$.a}function u(he,$,ee){var me=$.b-he.b,Ee=ee.b-$.b;return 0<me+Ee?me<Ee?$.a-he.a+me/(me+Ee)*(he.a-ee.a):$.a-ee.a+Ee/(me+Ee)*(ee.a-he.a):0}function p(he,$,ee){var me=$.b-he.b,Ee=ee.b-$.b;return 0<me+Ee?($.a-ee.a)*me+($.a-he.a)*Ee:0}function d(he,$){return he.a<$.a||he.a===$.a&&he.b<=$.b}function c(he,$,ee){var me=$.a-he.a,Ee=ee.a-$.a;return 0<me+Ee?me<Ee?$.b-he.b+me/(me+Ee)*(he.b-ee.b):$.b-ee.b+Ee/(me+Ee)*(ee.b-he.b):0}function h(he,$,ee){var me=$.a-he.a,Ee=ee.a-$.a;return 0<me+Ee?($.b-ee.b)*me+($.b-he.b)*Ee:0}function f(he,$,ee,me){return(he=he<0?0:he)<=(ee=ee<0?0:ee)?ee===0?($+me)/2:$+he/(he+ee)*(me-$):me+ee/(he+ee)*($-me)}function g(he){var $=w(he.b);return M($,he.c),M($.b,he.c),x($,he.a),$}function y(he,$){var ee=!1,me=!1;he!==$&&($.a!==he.a&&(me=!0,C($.a,he.a)),$.d!==he.d&&(ee=!0,T($.d,he.d)),_($,he),me||(M($,he.a),he.a.c=he),ee||(x($,he.d),he.d.a=he))}function m(he){var $=he.b,ee=!1;he.d!==he.b.d&&(ee=!0,T(he.d,he.b.d)),he.c===he?C(he.a,null):(he.b.d.a=he.b.e,he.a.c=he.c,_(he,he.b.e),ee||x(he,he.d)),$.c===$?(C($.a,null),T($.d,null)):(he.d.a=$.b.e,$.a.c=$.c,_($,$.b.e)),E(he)}function b(he){var $=w(he),ee=$.b;return _($,he.e),$.a=he.b.a,M(ee,$.a),$.d=ee.d=he.d,$=$.b,_(he.b,he.b.b.e),_(he.b,$),he.b.a=$.a,$.b.a.c=$.b,$.b.d=he.b.d,$.f=he.f,$.b.f=he.b.f,$}function v(he,$){var ee=!1,me=w(he),Ee=me.b;return $.d!==he.d&&(ee=!0,T($.d,he.d)),_(me,he.e),_(Ee,$),me.a=he.b.a,Ee.a=$.a,me.d=Ee.d=he.d,he.d.a=Ee,ee||x(me,he.d),me}function w(he){var $=new oe,ee=new oe,me=he.b.h;return(((ee.h=me).b.h=$).h=he).b.h=ee,$.b=ee,(($.c=$).e=ee).b=$,(ee.c=ee).e=$}function _(he,$){var ee=he.c,me=$.c;ee.b.e=$,(me.b.e=he).c=me,$.c=ee}function M(he,$){var ee=$.f,me=new Se($,ee);for(ee.e=me,ee=($.f=me).c=he;ee.a=me,(ee=ee.c)!==he;);}function x(he,$){var ee=$.d,me=new de($,ee);for(ee.b=me,($.d=me).a=he,me.c=$.c,ee=he;ee.d=me,(ee=ee.e)!==he;);}function E(he){var $=he.h;he=he.b.h,($.b.h=he).b.h=$}function C(he,$){for(var ee=he.c,me=ee;me.a=$,(me=me.c)!==ee;);ee=he.f,((me=he.e).f=ee).e=me}function T(he,$){for(var ee=he.a,me=ee;me.d=$,(me=me.e)!==ee;);ee=he.d,((me=he.b).d=ee).b=me}function B(he){var $=0;return Math.abs(he[1])>Math.abs(he[0])&&($=1),$=Math.abs(he[2])>Math.abs(he[$])?2:$}function P(he,$){he.f+=$.f,he.b.f+=$.b.f}function F(he,$,ee){return he=he.a,$=$.a,ee=ee.a,$.b.a===he?ee.b.a===he?l($.a,ee.a)?p(ee.b.a,$.a,ee.a)<=0:0<=p($.b.a,ee.a,$.a):p(ee.b.a,he,ee.a)<=0:ee.b.a===he?0<=p($.b.a,he,$.a):($=u($.b.a,he,$.a),(he=u(ee.b.a,he,ee.a))<=$)}function j(he){he.a.i=null;var $=he.e;$.a.c=$.c,$.c.a=$.a,he.e=null}function O(he,$){m(he.a),he.c=!1,(he.a=$).i=he}function Q(he){for(var $=he.a.a;(he=Le(he)).a.a===$;);return he.c&&(O(he,$=v(Ke(he).a.b,he.a.e)),he=Le(he)),he}function z(he,$,ee){var me=new Re;return me.a=ee,me.e=be(he.f,$.e,me),ee.i=me}function k(he,$){switch(he.s){case 100130:return(1&$)!=0;case 100131:return $!==0;case 100132:return 0<$;case 100133:return $<0;case 100134:return 2<=$||$<=-2}return!1}function W(he){var $=he.a,ee=$.d;ee.c=he.d,ee.a=$,j(he)}function Y(he,$,ee){for($=(he=$).a;he!==ee;){he.c=!1;var me=Ke(he),Ee=me.a;if(Ee.a!==$.a){if(!me.c){W(he);break}O(me,Ee=v($.c.b,Ee.b))}$.c!==Ee&&(y(Ee.b.e,Ee),y($,Ee)),W(he),$=me.a,he=me}return $}function te(he,$,ee,me,Ee,Ne){for(var Je=!0;z(he,$,ee.b),(ee=ee.c)!==me;);for(Ee===null&&(Ee=Ke($).a.b.c);(ee=(me=Ke($)).a.b).a===Ee.a;)ee.c!==Ee&&(y(ee.b.e,ee),y(Ee.b.e,ee)),me.f=$.f-ee.f,me.d=k(he,me.f),$.b=!0,!Je&&V(he,$)&&(P(ee,Ee),j($),m(Ee)),Je=!1,$=me,Ee=ee;$.b=!0,Ne&&Z(he,$)}function R(he,$,ee,me,Ee){var Ne=[$.g[0],$.g[1],$.g[2]];$.d=null,$.d=he.o&&he.o(Ne,ee,me,he.c)||null,$.d===null&&(Ee?he.n||(ce(he,100156),he.n=!0):$.d=ee[0])}function L(he,$,ee){var me=[null,null,null,null];me[0]=$.a.d,me[1]=ee.a.d,R(he,$.a,me,[.5,.5,0,0],!1),y($,ee)}function D(he,$,ee,me,Ee){var Ne=Math.abs($.b-he.b)+Math.abs($.a-he.a),Je=Math.abs(ee.b-he.b)+Math.abs(ee.a-he.a),ht=Ee+1;me[Ee]=.5*Je/(Ne+Je),me[ht]=.5*Ne/(Ne+Je),he.g[0]+=me[Ee]*$.g[0]+me[ht]*ee.g[0],he.g[1]+=me[Ee]*$.g[1]+me[ht]*ee.g[1],he.g[2]+=me[Ee]*$.g[2]+me[ht]*ee.g[2]}function V(he,$){var ee=Ke($),me=$.a,Ee=ee.a;if(l(me.a,Ee.a)){if(0<p(Ee.b.a,me.a,Ee.a))return;if(A(me.a,Ee.a)){if(me.a!==Ee.a){var ee=he.e,Ne=me.a.h;if(0<=Ne){var Je=(ee=ee.b).d,ht=ee.e,vt=ee.c,$e=vt[Ne];Je[$e]=Je[ee.a],(vt[Je[$e]]=$e)<=--ee.a&&($e<=1||l(ht[Je[$e>>1]],ht[Je[$e]])?et:st)(ee,$e),ht[Ne]=null,vt[Ne]=ee.b,ee.b=Ne}else for(ee.c[-(Ne+1)]=null;0<ee.a&&ee.c[ee.d[ee.a-1]]===null;)--ee.a;L(he,Ee.b.e,me)}}else b(Ee.b),y(me,Ee.b.e),$.b=ee.b=!0}else{if(p(me.b.a,Ee.a,me.a)<0)return;Le($).b=$.b=!0,b(me.b),y(Ee.b.e,me)}return 1}function q(he,$){var ee=Ke($),me=$.a,Ee=ee.a,Ne=me.a,Je=Ee.a,ht=me.b.a,vt=Ee.b.a,$e=new Se;if(p(ht,he.a,Ne),p(vt,he.a,Je),!(Ne===Je||Math.min(Ne.a,ht.a)>Math.max(Je.a,vt.a))){if(l(Ne,Je)){if(0<p(vt,Ne,Je))return}else if(p(ht,Je,Ne)<0)return;var Ie,yt,dt=ht,ft=Ne,bt=vt,It=Je;if(l(dt,ft)||(Ie=dt,dt=ft,ft=Ie),l(bt,It)||(Ie=bt,bt=It,It=Ie),l(dt,bt)||(Ie=dt,dt=bt,bt=Ie,Ie=ft,ft=It,It=Ie),l(bt,ft)?l(ft,It)?((Ie=u(dt,bt,ft))+(yt=u(bt,ft,It))<0&&(Ie=-Ie,yt=-yt),$e.b=f(Ie,bt.b,yt,ft.b)):((Ie=p(dt,bt,ft))+(yt=-p(dt,It,ft))<0&&(Ie=-Ie,yt=-yt),$e.b=f(Ie,bt.b,yt,It.b)):$e.b=(bt.b+ft.b)/2,d(dt,ft)||(Ie=dt,dt=ft,ft=Ie),d(bt,It)||(Ie=bt,bt=It,It=Ie),d(dt,bt)||(Ie=dt,dt=bt,bt=Ie,Ie=ft,ft=It,It=Ie),d(bt,ft)?d(ft,It)?((Ie=c(dt,bt,ft))+(yt=c(bt,ft,It))<0&&(Ie=-Ie,yt=-yt),$e.a=f(Ie,bt.a,yt,ft.a)):((Ie=h(dt,bt,ft))+(yt=-h(dt,It,ft))<0&&(Ie=-Ie,yt=-yt),$e.a=f(Ie,bt.a,yt,It.a)):$e.a=(bt.a+ft.a)/2,l($e,he.a)&&($e.b=he.a.b,$e.a=he.a.a),dt=l(Ne,Je)?Ne:Je,l(dt,$e)&&($e.b=dt.b,$e.a=dt.a),A($e,Ne)||A($e,Je))return V(he,$),0;if(!A(ht,he.a)&&0<=p(ht,he.a,$e)||!A(vt,he.a)&&p(vt,he.a,$e)<=0){if(vt===he.a)b(me.b),y(Ee.b,me),me=Ke($=Q($)).a,Y(he,Ke($),ee),te(he,$,me.b.e,me,me,!0);else{if(ht!==he.a)return 0<=p(ht,he.a,$e)&&(Le($).b=$.b=!0,b(me.b),me.a.b=he.a.b,me.a.a=he.a.a),void(p(vt,he.a,$e)<=0&&($.b=ee.b=!0,b(Ee.b),Ee.a.b=he.a.b,Ee.a.a=he.a.a));for(b(Ee.b),y(me.e,Ee.b.e),Je=(Ne=ee=$).a.b.a;(Ne=Le(Ne)).a.b.a===Je;);Ne=Ke($=Ne).a.b.c,ee.a=Ee.b.e,te(he,$,(Ee=Y(he,ee,null)).c,me.b.c,Ne,!0)}return 1}b(me.b),b(Ee.b),y(Ee.b.e,me),me.a.b=$e.b,me.a.a=$e.a,me.a.h=ie(he.e,me.a),me=me.a,Ee=[0,0,0,0],$e=[Ne.d,ht.d,Je.d,vt.d],me.g[0]=me.g[1]=me.g[2]=0,D(me,Ne,ht,Ee,0),D(me,Je,vt,Ee,2),R(he,me,$e,Ee,!0),Le($).b=$.b=ee.b=!0}}function Z(he,$){for(var ee=Ke($);;){for(;ee.b;)ee=Ke($=ee);if(!$.b&&(($=Le(ee=$))===null||!$.b))break;$.b=!1;var me=$.a,Ee=ee.a;if(Ne=me.b.a!==Ee.b.a)e:{var Ne,Je=Ke(Ne=$),ht=Ne.a,vt=Je.a,$e=void 0;if(l(ht.b.a,vt.b.a)){if(p(ht.b.a,vt.b.a,ht.a)<0){Ne=!1;break e}Le(Ne).b=Ne.b=!0,$e=b(ht),y(vt.b,$e),$e.d.c=Ne.d}else{if(0<p(vt.b.a,ht.b.a,vt.a)){Ne=!1;break e}Ne.b=Je.b=!0,$e=b(vt),y(ht.e,vt.b),$e.b.d.c=Ne.d}Ne=!0}if(Ne&&(ee.c?(j(ee),m(Ee),Ee=(ee=Ke($)).a):$.c&&(j($),m(me),me=($=Le(ee)).a)),me.a!==Ee.a){if(me.b.a===Ee.b.a||$.c||ee.c||me.b.a!==he.a&&Ee.b.a!==he.a)V(he,$);else if(q(he,$))break}me.a===Ee.a&&me.b.a===Ee.b.a&&(P(Ee,me),j($),m(me),$=Le(ee))}}function se(he,$){var ee=new Re,me=g(he.b);me.a.b=4e150,me.a.a=$,me.b.a.b=-4e150,me.b.a.a=$,he.a=me.b.a,ee.a=me,ee.f=0,ee.d=!1,ee.c=!1,ee.h=!0,ee.b=!1,me=be(me=he.f,me.a,ee),ee.e=me}function fe(he){this.a=new pe,this.b=he,this.c=F}function be(he,$,ee){for(;($=$.c).b!==null&&!he.c(he.b,$.b,ee););return he=new pe(ee,$.a,$),$.a.c=he,$.a=he}function pe(he,$,ee){this.b=he||null,this.a=$||this,this.c=ee||this}function Ae(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ge(he,$){if(he.d!==$)for(;he.d!==$;)if(he.d<$)switch(he.d){case 0:ce(he,100151),he.u(null);break;case 1:ce(he,100152),he.t()}else switch(he.d){case 2:ce(he,100154),he.v();break;case 1:ce(he,100153),he.w()}}function ce(he,$){he.p&&he.p($,he.c)}function de(he,$){this.b=he||this,this.d=$||this,this.a=null,this.c=!1}function oe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function je(){this.c=new Se,this.a=new de,this.b=new oe,this.d=new oe,this.b.b=this.d,this.d.b=this.b}function Se(he,$){this.e=he||this,this.f=$||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function re(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Me}function ie(he,$){var ee,me,Ee;return he.e?(2*(me=++(ee=he.b).a)>ee.f&&(ee.f*=2,ee.c=ze(ee.c,ee.f+1)),ee.b===0?Ee=me:(Ee=ee.b,ee.b=ee.c[ee.b]),ee.e[Ee]=$,ee.c[Ee]=me,ee.d[me]=Ee,ee.h&&st(ee,me),Ee):(ee=he.a++,he.c[ee]=$,-(ee+1))}function Ce(he){if(he.a===0)return nt(he.b);var $=he.c[he.d[he.a-1]];if(he.b.a!==0&&l(Ge(he.b),$))return nt(he.b);for(;--he.a,0<he.a&&he.c[he.d[he.a-1]]===null;);return $}function Me(){this.d=ze([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ze(he,$){for(var ee=Array($),me=0;me<he.length;me++)ee[me]=he[me];for(;me<$;me++)ee[me]=0;return ee}function Ge(he){return he.e[he.d[1]]}function nt(he){var $=he.d,ee=he.e,me=he.c,Ee=$[1],Ne=ee[Ee];return 0<he.a&&($[1]=$[he.a],me[$[1]]=1,ee[Ee]=null,me[Ee]=he.b,he.b=Ee,0<--he.a&&et(he,1)),Ne}function et(he,$){for(var ee=he.d,me=he.e,Ee=he.c,Ne=$,Je=ee[Ne];;){var ht=Ne<<1,vt=(ht<he.a&&l(me[ee[ht+1]],me[ee[ht]])&&(ht+=1),ee[ht]);if(ht>he.a||l(me[Je],me[vt])){Ee[ee[Ne]=Je]=Ne;break}Ee[ee[Ne]=vt]=Ne,Ne=ht}}function st(he,$){for(var ee=he.d,me=he.e,Ee=he.c,Ne=$,Je=ee[Ne];;){var ht=Ne>>1,vt=ee[ht];if(ht==0||l(me[vt],me[Je])){Ee[ee[Ne]=Je]=Ne;break}Ee[ee[Ne]=vt]=Ne,Ne=ht}}function Re(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ke(he){return he.e.c.b}function Le(he){return he.e.a.b}(a=Ae.prototype).x=function(){ge(this,0)},a.B=function(he,$){switch(he){case 100142:return;case 100140:switch($){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=$)}break;case 100141:return void(this.m=!!$);default:return void ce(this,100900)}ce(this,100901)},a.y=function(he){switch(he){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ce(this,100900)}return!1},a.A=function(he,$,ee){this.j[0]=he,this.j[1]=$,this.j[2]=ee},a.z=function(he,$){var ee=$||null;switch(he){case 100100:case 100106:this.h=ee;break;case 100104:case 100110:this.l=ee;break;case 100101:case 100107:this.k=ee;break;case 100102:case 100108:this.i=ee;break;case 100103:case 100109:this.p=ee;break;case 100105:case 100111:this.o=ee;break;case 100112:this.r=ee;break;default:ce(this,100900)}},a.C=function(he,$){var ee=!1,me=[0,0,0];ge(this,2);for(var Ee=0;Ee<3;++Ee){var Ne=he[Ee];Ne<-1e150&&(Ne=-1e150,ee=!0),1e150<Ne&&(Ne=1e150,ee=!0),me[Ee]=Ne}ee&&ce(this,100155),(ee=this.q)===null?y(ee=g(this.b),ee.b):(b(ee),ee=ee.e),ee.a.d=$,ee.a.g[0]=me[0],ee.a.g[1]=me[1],ee.a.g[2]=me[2],ee.f=1,ee.b.f=-1,this.q=ee},a.u=function(he){ge(this,0),this.d=1,this.b=new je,this.c=he},a.t=function(){ge(this,1),this.d=2,this.q=null},a.v=function(){ge(this,2),this.d=1},a.w=function(){ge(this,1),this.d=0;var he,$,ee=this.j[0],me=this.j[1],Ee=this.j[2],Ne=!1,Je=[ee,me,Ee];if(ee===0&&me===0&&Ee===0){for(var me=[-2e150,-2e150,-2e150],ht=[2e150,2e150,2e150],Ee=[],vt=[],ee=(Ne=this.b.c).e;ee!==Ne;ee=ee.e)for(var $e=0;$e<3;++$e){var Ie=ee.g[$e];Ie<ht[$e]&&(ht[$e]=Ie,vt[$e]=ee),Ie>me[$e]&&(me[$e]=Ie,Ee[$e]=ee)}if(me[1]-ht[1]>me[ee=0]-ht[0]&&(ee=1),ht[ee=me[2]-ht[2]>me[ee]-ht[ee]?2:ee]>=me[ee])Je[0]=0,Je[1]=0,Je[2]=1;else{for(ht=vt[ee],Ee=Ee[ee],vt=[me=0,0,0],ht=[ht.g[0]-Ee.g[0],ht.g[1]-Ee.g[1],ht.g[2]-Ee.g[2]],$e=[0,0,0],ee=Ne.e;ee!==Ne;ee=ee.e)$e[0]=ee.g[0]-Ee.g[0],$e[1]=ee.g[1]-Ee.g[1],$e[2]=ee.g[2]-Ee.g[2],vt[0]=ht[1]*$e[2]-ht[2]*$e[1],vt[1]=ht[2]*$e[0]-ht[0]*$e[2],vt[2]=ht[0]*$e[1]-ht[1]*$e[0],me<(Ie=vt[0]*vt[0]+vt[1]*vt[1]+vt[2]*vt[2])&&(me=Ie,Je[0]=vt[0],Je[1]=vt[1],Je[2]=vt[2]);me<=0&&(Je[0]=Je[1]=Je[2]=0,Je[B(ht)]=1)}Ne=!0}for(vt=B(Je),ee=this.b.c,me=(vt+1)%3,Ee=(vt+2)%3,vt=0<Je[vt]?1:-1,Je=ee.e;Je!==ee;Je=Je.e)Je.b=Je.g[me],Je.a=vt*Je.g[Ee];if(Ne){for(Je=0,ee=(Ne=this.b.a).b;ee!==Ne;ee=ee.b)if(!((me=ee.a).f<=0))for(;Je+=(me.a.b-me.b.a.b)*(me.a.a+me.b.a.a),(me=me.e)!==ee.a;);if(Je<0)for(Ne=(Je=this.b.c).e;Ne!==Je;Ne=Ne.e)Ne.a=-Ne.a}for(this.n=!1,Je=this.b.b,ee=Je.h;ee!==Je;ee=Ne)Ne=ee.h,me=ee.e,A(ee.a,ee.b.a)&&ee.e.e!==ee&&(L(this,me,ee),m(ee),me=(ee=me).e),me.e===ee&&(me!==ee&&(me!==Ne&&me!==Ne.b||(Ne=Ne.h),m(me)),ee!==Ne&&ee!==Ne.b||(Ne=Ne.h),m(ee));for(this.e=Je=new re,Ne=this.b.c,ee=Ne.e;ee!==Ne;ee=ee.e)ee.h=ie(Je,ee);var yt=Je;yt.d=[];for(var dt=0;dt<yt.a;dt++)yt.d[dt]=dt;yt.d.sort(function(It){return function(Ot,ur){return l(It[Ot],It[ur])?1:-1}}(yt.c)),yt.e=!0;for(var ft=yt.b,bt=ft.a;1<=bt;--bt)et(ft,bt);for(ft.h=!0,this.f=new fe(this),se(this,-4e150),se(this,4e150);(Je=Ce(this.e))!==null;){for(;;){e:if((ee=this.e).a===0)Ne=Ge(ee.b);else if(Ne=ee.c[ee.d[ee.a-1]],ee.b.a!==0&&l(ee=Ge(ee.b),Ne)){Ne=ee;break e}if(Ne===null||!A(Ne,Je))break;Ne=Ce(this.e),L(this,Je.c,Ne.c)}(function It(Ot,ur){for(var Ar,Tt=(Ot.a=ur).c;Tt.i===null;)if((Tt=Tt.c)===ur.c){var Tt=Ot,ir=ur;(nr=new Re).a=ir.c.b;for(var Tr=(rr=Tt.f).a;(Tr=Tr.a).b!==null&&!rr.c(rr.b,nr,Tr.b););var rr,Mr,gr=Ke(rr=Tr.b),nr=rr.a,Tr=gr.a;return void(p(nr.b.a,ir,nr.a)===0?A((nr=rr.a).a,ir)||A(nr.b.a,ir)||(b(nr.b),rr.c&&(m(nr.c),rr.c=!1),y(ir.c,nr),It(Tt,ir)):(Mr=l(Tr.b.a,nr.b.a)?rr:gr,gr=void 0,rr.d||Mr.c?(gr=Mr===rr?v(ir.c.b,nr.e):v(Tr.b.c.b,ir.c).b,Mr.c?O(Mr,gr):((rr=z(nr=Tt,rr,gr)).f=Le(rr).f+rr.a.f,rr.d=k(nr,rr.f)),It(Tt,ir)):te(Tt,rr,ir.c,ir.c,null,!0)))}rr=(nr=Ke(Tt=Q(Tt.i))).a,(nr=Y(Ot,nr,null)).c===rr?(nr=(rr=nr).c,Tr=Ke(Tt),gr=Tt.a,Mr=Tr.a,Ar=!1,gr.b.a!==Mr.b.a&&q(Ot,Tt),A(gr.a,Ot.a)&&(y(nr.b.e,gr),nr=Ke(Tt=Q(Tt)).a,Y(Ot,Ke(Tt),Tr),Ar=!0),A(Mr.a,Ot.a)&&(y(rr,Mr.b.e),rr=Y(Ot,Tr,null),Ar=!0),Ar?te(Ot,Tt,rr.c,nr,nr,!0):(ir=l(Mr.a,gr.a)?Mr.b.e:gr,te(Ot,Tt,ir=v(rr.c.b,ir),ir.c,ir.c,!1),ir.b.i.c=!0,Z(Ot,Tt))):te(Ot,Tt,nr.c,rr,rr,!0)})(this,Je)}for(this.a=this.f.a.a.b.a.a,Je=0;(Ne=this.f.a.a.b)!==null;)Ne.h||++Je,j(Ne);for(this.f=null,(Je=this.e).b=null,Je.d=null,this.e=Je.c=null,Je=this.b,ee=Je.a.b;ee!==Je.a;ee=Ne)Ne=ee.b,(ee=ee.a).e.e===ee&&(P(ee.c,ee),m(ee));if(!this.n){if(Je=this.b,this.m)for(ee=Je.b.h;ee!==Je.b;ee=Ne)Ne=ee.h,ee.b.d.c!==ee.d.c?ee.f=ee.d.c?1:-1:m(ee);else for(ee=Je.a.b;ee!==Je.a;ee=Ne)if(Ne=ee.b,ee.c){for(ee=ee.a;l(ee.b.a,ee.a);ee=ee.c.b);for(;l(ee.a,ee.b.a);ee=ee.e);for(me=ee.c.b,Ee=void 0;ee.e!==me;)if(l(ee.b.a,me.a)){for(;me.e!==ee&&(l(($=me.e).b.a,$.a)||p(me.a,me.b.a,me.e.b.a)<=0);)me=(Ee=v(me.e,me)).b;me=me.c.b}else{for(;me.e!==ee&&(l((he=ee.c.b).a,he.b.a)||0<=p(ee.b.a,ee.a,ee.c.b.a));)ee=(Ee=v(ee,ee.c.b)).b;ee=ee.e}for(;me.e.e!==ee;)Ee=v(me.e,me),me=Ee.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ne=(Je=this.b).a.b;Ne!==Je.a;Ne=Ne.b)if(Ne.c){for(this.h&&this.h(2,this.c),ee=Ne.a;this.k&&this.k(ee.a.d,this.c),(ee=ee.e)!==Ne.a;);this.i&&this.i(this.c)}}else{for(Je=this.b,Ne=!!this.l,ee=!1,me=-1,Ee=Je.a.d;Ee!==Je.a;Ee=Ee.d)if(Ee.c)for(ee||(this.h&&this.h(4,this.c),ee=!0),vt=Ee.a;Ne&&(ht=vt.b.d.c?0:1,me!==ht&&(me=ht,this.l&&this.l(!!me,this.c))),this.k&&this.k(vt.a.d,this.c),(vt=vt.e)!==Ee.a;);ee&&this.i&&this.i(this.c)}if(this.r){for(Je=this.b,ee=Je.a.b;ee!==Je.a;ee=Ne)if(Ne=ee.b,!ee.c){for(Ee=(me=ee.a).e,vt=void 0;Ee=(vt=Ee).e,(vt.d=null)===vt.b.d&&(vt.c===vt?C(vt.a,null):(vt.a.c=vt.c,_(vt,vt.b.e)),(ht=vt.b).c===ht?C(ht.a,null):(ht.a.c=ht.c,_(ht,ht.b.e)),E(vt)),vt!==me;);me=ee.d,((ee=ee.b).d=me).b=ee}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Ae,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Ae.prototype.gluDeleteTess=Ae.prototype.x,Ae.prototype.gluTessProperty=Ae.prototype.B,Ae.prototype.gluGetTessProperty=Ae.prototype.y,Ae.prototype.gluTessNormal=Ae.prototype.A,Ae.prototype.gluTessCallback=Ae.prototype.z,Ae.prototype.gluTessVertex=Ae.prototype.C,Ae.prototype.gluTessBeginPolygon=Ae.prototype.u,Ae.prototype.gluTessBeginContour=Ae.prototype.t,Ae.prototype.gluTessEndContour=Ae.prototype.v,Ae.prototype.gluTessEndPolygon=Ae.prototype.w,o!==void 0&&(o.exports=this.libtess)},{}],248:[function(t,o,s){function a(l,u,p,d){var c=0,h=(d=d===void 0?{}:d).loop===void 0?null:d.loop,f=d.palette===void 0?null:d.palette;if(u<=0||p<=0||65535<u||65535<p)throw new Error("Width/Height invalid.");function g(x){if(x=x.length,x<2||256<x||x&x-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return x}l[c++]=71,l[c++]=73,l[c++]=70,l[c++]=56,l[c++]=57,l[c++]=97;var y=0,m=0;if(f!==null){for(var b=g(f);b>>=1;)++y;if(b=1<<y,--y,d.background!==void 0){if(b<=(m=d.background))throw new Error("Background index out of range.");if(m===0)throw new Error("Background index explicitly passed as 0.")}}if(l[c++]=255&u,l[c++]=u>>8&255,l[c++]=255&p,l[c++]=p>>8&255,l[c++]=(f!==null?128:0)|y,l[c++]=m,l[c++]=0,f!==null)for(var v=0,w=f.length;v<w;++v){var _=f[v];l[c++]=_>>16&255,l[c++]=_>>8&255,l[c++]=255&_}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");l[c++]=33,l[c++]=255,l[c++]=11,l[c++]=78,l[c++]=69,l[c++]=84,l[c++]=83,l[c++]=67,l[c++]=65,l[c++]=80,l[c++]=69,l[c++]=50,l[c++]=46,l[c++]=48,l[c++]=3,l[c++]=1,l[c++]=255&h,l[c++]=h>>8&255,l[c++]=0}var M=!1;this.addFrame=function(x,E,C,T,B,P){if(M===!0&&(--c,M=!1),P=P===void 0?{}:P,x<0||E<0||65535<x||65535<E)throw new Error("x/y invalid.");if(C<=0||T<=0||65535<C||65535<T)throw new Error("Width/Height invalid.");if(B.length<C*T)throw new Error("Not enough pixels for the frame size.");var F=!0,j=P.palette;if(j==null&&(F=!1,j=f),j==null)throw new Error("Must supply either a local or global palette.");for(var Q=g(j),O=0;Q>>=1;)++O;var Q=1<<O,z=P.delay===void 0?0:P.delay,k=P.disposal===void 0?0:P.disposal;if(k<0||3<k)throw new Error("Disposal out of range.");var W=!1,Y=0;if(P.transparent!==void 0&&P.transparent!==null&&(W=!0,(Y=P.transparent)<0||Q<=Y))throw new Error("Transparent color index.");if(k===0&&!W&&z===0||(l[c++]=33,l[c++]=249,l[c++]=4,l[c++]=k<<2|(W===!0?1:0),l[c++]=255&z,l[c++]=z>>8&255,l[c++]=Y,l[c++]=0),l[c++]=44,l[c++]=255&x,l[c++]=x>>8&255,l[c++]=255&E,l[c++]=E>>8&255,l[c++]=255&C,l[c++]=C>>8&255,l[c++]=255&T,l[c++]=T>>8&255,l[c++]=F===!0?128|O-1:0,F===!0)for(var te=0,R=j.length;te<R;++te){var L=j[te];l[c++]=L>>16&255,l[c++]=L>>8&255,l[c++]=255&L}return c=function(D,V,q,Z){D[V++]=q;var se=V++,fe=1<<q,be=fe-1,pe=1+fe,Ae=1+pe,ge=q+1,ce=0,de=0;function oe(nt){for(;nt<=ce;)D[V++]=255&de,de>>=8,ce-=8,V===se+256&&(D[se]=255,se=V++)}function je(nt){de|=nt<<ce,ce+=ge,oe(8)}var Se=Z[0]&be,re={};je(fe);for(var ie=1,Ce=Z.length;ie<Ce;++ie){var Me=Z[ie]&be,ze=Se<<8|Me,Ge=re[ze];if(Ge===void 0){for(de|=Se<<ce,ce+=ge;8<=ce;)D[V++]=255&de,de>>=8,ce-=8,V===se+256&&(D[se]=255,se=V++);Ae===4096?(je(fe),Ae=1+pe,ge=q+1,re={}):(1<<ge<=Ae&&++ge,re[ze]=Ae++),Se=Me}else Se=Ge}return je(Se),je(pe),oe(1),se+1===V?D[se]=0:(D[se]=V-se-1,D[V++]=0),V}(l,c,O<2?2:O,B)},this.end=function(){return M===!1&&(l[c++]=59,M=!0),c},this.getOutputBuffer=function(){return l},this.setOutputBuffer=function(x){l=x},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(x){c=x}}function A(l,u,p,d){for(var c=l[u++],h=1<<c,f=1+h,g=1+f,y=c+1,m=(1<<y)-1,b=0,v=0,w=0,_=l[u++],M=new Int32Array(4096),x=null;;){for(;b<16&&_!==0;)v|=l[u++]<<b,b+=8,_===1?_=l[u++]:--_;if(b<y)break;var E=v&m;if(v>>=y,b-=y,E==h)g=1+f,m=(1<<(y=c+1))-1,x=null;else{if(E==f)break;for(var C=E<g?E:x,T=0,B=C;h<B;)B=M[B]>>8,++T;var P=B;if(d<w+T+(C!==E?1:0))return void console.log("Warning, gif stream longer than expected.");p[w++]=P;var F=w+=T;for(C!==E&&(p[w++]=P),B=C;T--;)B=M[B],p[--F]=255&B,B>>=8;x!==null&&g<4096&&(M[g++]=x<<8|P,m+1<=g&&y<12&&(++y,m=m<<1|1)),x=E}}w!==d&&console.log("Warning, gif stream shorter than expected.")}try{s.GifWriter=a,s.GifReader=function(l){var u=0;if(l[u++]!==71||l[u++]!==73||l[u++]!==70||l[u++]!==56||(l[u++]+1&253)!=56||l[u++]!==97)throw new Error("Invalid GIF 87a/89a header.");var p=l[u++]|l[u++]<<8,d=l[u++]|l[u++]<<8,c=l[u++],h=1<<1+(7&c),f=(l[u++],l[u++],null),g=null,y=(c>>7&&(f=u,u+=3*(g=h)),!0),m=[],b=0,v=null,w=0,_=null;for(this.width=p,this.height=d;y&&u<l.length;)switch(l[u++]){case 33:switch(l[u++]){case 255:if(l[u]!==11||l[u+1]==78&&l[u+2]==69&&l[u+3]==84&&l[u+4]==83&&l[u+5]==67&&l[u+6]==65&&l[u+7]==80&&l[u+8]==69&&l[u+9]==50&&l[u+10]==46&&l[u+11]==48&&l[u+12]==3&&l[u+13]==1&&l[u+16]==0)u+=14,_=l[u++]|l[u++]<<8,u++;else for(u+=12;;){if(!(0<=(x=l[u++])))throw Error("Invalid block size");if(x===0)break;u+=x}break;case 249:if(l[u++]!==4||l[u+4]!==0)throw new Error("Invalid graphics extension block.");var M=l[u++],b=l[u++]|l[u++]<<8,v=l[u++];!(1&M)&&(v=null),w=M>>2&7,u++;break;case 254:for(;;){if(!(0<=(x=l[u++])))throw Error("Invalid block size");if(x===0)break;u+=x}break;default:throw new Error("Unknown graphic control label: 0x"+l[u-1].toString(16))}break;case 44:var x,E=l[u++]|l[u++]<<8,C=l[u++]|l[u++]<<8,T=l[u++]|l[u++]<<8,B=l[u++]|l[u++]<<8,z=l[u++],P=z>>6&1,F=1<<1+(7&z),j=f,O=g,Q=!1,z=(z>>7&&(Q=!0,j=u,u+=3*(O=F)),u);for(u++;;){if(!(0<=(x=l[u++])))throw Error("Invalid block size");if(x===0)break;u+=x}m.push({x:E,y:C,width:T,height:B,has_local_palette:Q,palette_offset:j,palette_size:O,data_offset:z,data_length:u-z,transparent_index:v,interlaced:!!P,delay:b,disposal:w});break;case 59:y=!1;break;default:throw new Error("Unknown gif block: 0x"+l[u-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return _},this.frameInfo=function(k){if(k<0||k>=m.length)throw new Error("Frame index out of range.");return m[k]},this.decodeAndBlitFrameBGRA=function(k,W){for(var k=this.frameInfo(k),Y=k.width*k.height,te=new Uint8Array(Y),R=(A(l,k.data_offset,te,Y),k.palette_offset),L=k.transparent_index,D=(L===null&&(L=256),k.width),V=p-D,q=D,Z=4*(k.y*p+k.x),se=4*((k.y+k.height)*p+k.x),fe=Z,be=4*V,pe=(k.interlaced===!0&&(be+=4*p*7),8),Ae=0,ge=te.length;Ae<ge;++Ae){var ce,de,oe=te[Ae];q===0&&(q=D,se<=(fe+=be)&&(be=4*V+4*p*(pe-1),fe=Z+(D+V)*(pe<<1),pe>>=1)),oe===L?fe+=4:(ce=l[R+3*oe],de=l[R+3*oe+1],oe=l[R+3*oe+2],W[fe++]=oe,W[fe++]=de,W[fe++]=ce,W[fe++]=255),--q}},this.decodeAndBlitFrameRGBA=function(k,W){for(var k=this.frameInfo(k),Y=k.width*k.height,te=new Uint8Array(Y),R=(A(l,k.data_offset,te,Y),k.palette_offset),L=k.transparent_index,D=(L===null&&(L=256),k.width),V=p-D,q=D,Z=4*(k.y*p+k.x),se=4*((k.y+k.height)*p+k.x),fe=Z,be=4*V,pe=(k.interlaced===!0&&(be+=4*p*7),8),Ae=0,ge=te.length;Ae<ge;++Ae){var ce,de,oe=te[Ae];q===0&&(q=D,se<=(fe+=be)&&(be=4*V+4*p*(pe-1),fe=Z+(D+V)*(pe<<1),pe>>=1)),oe===L?fe+=4:(ce=l[R+3*oe],de=l[R+3*oe+1],oe=l[R+3*oe+2],W[fe++]=ce,W[fe++]=de,W[fe++]=oe,W[fe++]=255),--q}}}}catch{}},{}],249:[function(t,o,s){(function(a){var A,l;A=this,l=function(u){function p(X){if(this==null)throw TypeError();var U,N=String(this),H=N.length,X=X?Number(X):0;if(!((X=X!=X?0:X)<0||H<=X))return 55296<=(U=N.charCodeAt(X))&&U<=56319&&X+1<H&&56320<=(H=N.charCodeAt(X+1))&&H<=57343?1024*(U-55296)+H-56320+65536:U}String.prototype.codePointAt||((d=function(){try{var S={},U=Object.defineProperty,N=U(S,S,S)&&U}catch{}return N}())?d(String.prototype,"codePointAt",{value:p,configurable:!0,writable:!0}):String.prototype.codePointAt=p);var d,c=0,h=-3;function f(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function g(S,U){this.source=S,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=U,this.destLen=0,this.ltree=new f,this.dtree=new f}var y=new f,m=new f,b=new Uint8Array(30),v=new Uint16Array(30),w=new Uint8Array(30),_=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new f,E=new Uint8Array(320);function C(S,U,N,H){for(var X,ne=0;ne<N;++ne)S[ne]=0;for(ne=0;ne<30-N;++ne)S[ne+N]=ne/N|0;for(X=H,ne=0;ne<30;++ne)U[ne]=X,X+=1<<S[ne]}var T=new Uint16Array(16);function B(S,U,N,H){for(var X,ne=0;ne<16;++ne)S.table[ne]=0;for(ne=0;ne<H;++ne)S.table[U[N+ne]]++;for(ne=X=S.table[0]=0;ne<16;++ne)T[ne]=X,X+=S.table[ne];for(ne=0;ne<H;++ne)U[N+ne]&&(S.trans[T[U[N+ne]]++]=ne)}function P(S,U,N){if(!U)return N;for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;var H=S.tag&65535>>>16-U;return S.tag>>>=U,S.bitcount-=U,H+N}function F(S,U){for(;S.bitcount<24;)S.tag|=S.source[S.sourceIndex++]<<S.bitcount,S.bitcount+=8;for(var N=0,H=0,X=0,ne=S.tag;H=2*H+(1&ne),ne>>>=1,N+=U.table[++X],0<=(H-=U.table[X]););return S.tag=ne,S.bitcount-=X,U.trans[N+H]}function j(S,U,N){for(;;){var H=F(S,U);if(H===256)return c;if(H<256)S.dest[S.destLen++]=H;else for(var X,ne=P(S,b[H-=257],v[H]),H=F(S,N),ae=X=S.destLen-P(S,w[H],_[H]);ae<X+ne;++ae)S.dest[S.destLen++]=S.dest[ae]}}for(var O=y,Q=m,z=0;z<7;++z)O.table[z]=0;for(O.table[7]=24,O.table[8]=152,O.table[9]=112,z=0;z<24;++z)O.trans[z]=256+z;for(z=0;z<144;++z)O.trans[24+z]=z;for(z=0;z<8;++z)O.trans[168+z]=280+z;for(z=0;z<112;++z)O.trans[176+z]=144+z;for(z=0;z<5;++z)Q.table[z]=0;for(Q.table[5]=32,z=0;z<32;++z)Q.trans[z]=z;C(b,v,4,3),C(w,_,2,1),b[28]=0,v[28]=258;var k=function(S,U){var N,H,X,ne=new g(S,U);do{switch(X=void 0,(H=ne).bitcount--||(H.tag=H.source[H.sourceIndex++],H.bitcount=7),X=1&H.tag,H.tag>>>=1,H=X,P(ne,2,0)){case 0:N=function(At){for(var Wt,$t;8<At.bitcount;)At.sourceIndex--,At.bitcount-=8;if((Wt=256*At.source[At.sourceIndex+1]+At.source[At.sourceIndex])!==(65535&~(256*At.source[At.sourceIndex+3]+At.source[At.sourceIndex+2])))return h;for(At.sourceIndex+=4,$t=Wt;$t;--$t)At.dest[At.destLen++]=At.source[At.sourceIndex++];return At.bitcount=0,c}(ne);break;case 1:N=j(ne,y,m);break;case 2:gt=ut=St=lt=ae=ke=Ze=ot=Ve=Fe=Ue=we=void 0;for(var ae,we=ne,Ue=ne.ltree,Fe=ne.dtree,Ve=P(we,5,257),ot=P(we,5,1),Ze=P(we,4,4),ke=0;ke<19;++ke)E[ke]=0;for(ke=0;ke<Ze;++ke){var St=P(we,3,0);E[M[ke]]=St}for(B(x,E,0,19),ae=0;ae<Ve+ot;){var ut=F(we,x);switch(ut){case 16:for(var gt=E[ae-1],lt=P(we,2,3);lt;--lt)E[ae++]=gt;break;case 17:for(lt=P(we,3,3);lt;--lt)E[ae++]=0;break;case 18:for(lt=P(we,7,11);lt;--lt)E[ae++]=0;break;default:E[ae++]=ut}}B(Ue,E,0,Ve),B(Fe,E,Ve,ot),N=j(ne,ne.ltree,ne.dtree);break;default:N=h}if(N!==c)throw new Error("Data error")}while(!H);return ne.destLen<ne.dest.length?typeof ne.dest.slice=="function"?ne.dest.slice(0,ne.destLen):ne.dest.subarray(0,ne.destLen):ne.dest};function W(S,U,N,H,X){return Math.pow(1-X,3)*S+3*Math.pow(1-X,2)*X*U+3*(1-X)*Math.pow(X,2)*N+Math.pow(X,3)*H}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function te(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function R(S){throw new Error(S)}function L(S,U){S||R(U)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(S,U){typeof S=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=S,this.x2=S),S<this.x1&&(this.x1=S),S>this.x2&&(this.x2=S)),typeof U=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=U,this.y2=U),U<this.y1&&(this.y1=U),U>this.y2&&(this.y2=U))},Y.prototype.addX=function(S){this.addPoint(S,null)},Y.prototype.addY=function(S){this.addPoint(null,S)},Y.prototype.addBezier=function(S,U,N,H,X,ne,ae,we){var Ue=[S,U],Fe=[N,H],Ve=[X,ne],ot=[ae,we];this.addPoint(S,U),this.addPoint(ae,we);for(var Ze=0;Ze<=1;Ze++){var ke,St=6*Ue[Ze]-12*Fe[Ze]+6*Ve[Ze],ut=-3*Ue[Ze]+9*Fe[Ze]-9*Ve[Ze]+3*ot[Ze],gt=3*Fe[Ze]-3*Ue[Ze];ut==0?St==0||0<(ke=-gt/St)&&ke<1&&(Ze===0&&this.addX(W(Ue[Ze],Fe[Ze],Ve[Ze],ot[Ze],ke)),Ze===1&&this.addY(W(Ue[Ze],Fe[Ze],Ve[Ze],ot[Ze],ke))):(ke=Math.pow(St,2)-4*gt*ut)<0||(0<(gt=(-St+Math.sqrt(ke))/(2*ut))&&gt<1&&(Ze===0&&this.addX(W(Ue[Ze],Fe[Ze],Ve[Ze],ot[Ze],gt)),Ze===1&&this.addY(W(Ue[Ze],Fe[Ze],Ve[Ze],ot[Ze],gt))),0<(gt=(-St-Math.sqrt(ke))/(2*ut))&&gt<1&&(Ze===0&&this.addX(W(Ue[Ze],Fe[Ze],Ve[Ze],ot[Ze],gt)),Ze===1&&this.addY(W(Ue[Ze],Fe[Ze],Ve[Ze],ot[Ze],gt))))}},Y.prototype.addQuad=function(S,U,N,H,X,ne){N=S+2/3*(N-S),H=U+2/3*(H-U),this.addBezier(S,U,N,H,N+1/3*(X-S),H+1/3*(ne-U),X,ne)},te.prototype.moveTo=function(S,U){this.commands.push({type:"M",x:S,y:U})},te.prototype.lineTo=function(S,U){this.commands.push({type:"L",x:S,y:U})},te.prototype.curveTo=te.prototype.bezierCurveTo=function(S,U,N,H,X,ne){this.commands.push({type:"C",x1:S,y1:U,x2:N,y2:H,x:X,y:ne})},te.prototype.quadTo=te.prototype.quadraticCurveTo=function(S,U,N,H){this.commands.push({type:"Q",x1:S,y1:U,x:N,y:H})},te.prototype.close=te.prototype.closePath=function(){this.commands.push({type:"Z"})},te.prototype.extend=function(S){var U;if(S.commands)S=S.commands;else if(S instanceof Y)return U=S,this.moveTo(U.x1,U.y1),this.lineTo(U.x2,U.y1),this.lineTo(U.x2,U.y2),this.lineTo(U.x1,U.y2),void this.close();Array.prototype.push.apply(this.commands,S)},te.prototype.getBoundingBox=function(){for(var S=new Y,U=0,N=0,H=0,X=0,ne=0;ne<this.commands.length;ne++){var ae=this.commands[ne];switch(ae.type){case"M":S.addPoint(ae.x,ae.y),U=H=ae.x,N=X=ae.y;break;case"L":S.addPoint(ae.x,ae.y),H=ae.x,X=ae.y;break;case"Q":S.addQuad(H,X,ae.x1,ae.y1,ae.x,ae.y),H=ae.x,X=ae.y;break;case"C":S.addBezier(H,X,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y),H=ae.x,X=ae.y;break;case"Z":H=U,X=N;break;default:throw new Error("Unexpected path command "+ae.type)}}return S.isEmpty()&&S.addPoint(0,0),S},te.prototype.draw=function(S){S.beginPath();for(var U=0;U<this.commands.length;U+=1){var N=this.commands[U];N.type==="M"?S.moveTo(N.x,N.y):N.type==="L"?S.lineTo(N.x,N.y):N.type==="C"?S.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?S.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&S.closePath()}this.fill&&(S.fillStyle=this.fill,S.fill()),this.stroke&&(S.strokeStyle=this.stroke,S.lineWidth=this.strokeWidth,S.stroke())},te.prototype.toPathData=function(S){function U(){for(var ne=arguments,ae="",we=0;we<arguments.length;we+=1){var Ue=ne[we];0<=Ue&&0<we&&(ae+=" "),ae+=(Ue=Ue,Math.round(Ue)===Ue?""+Math.round(Ue):Ue.toFixed(S))}return ae}S=S!==void 0?S:2;for(var N="",H=0;H<this.commands.length;H+=1){var X=this.commands[H];X.type==="M"?N+="M"+U(X.x,X.y):X.type==="L"?N+="L"+U(X.x,X.y):X.type==="C"?N+="C"+U(X.x1,X.y1,X.x2,X.y2,X.x,X.y):X.type==="Q"?N+="Q"+U(X.x1,X.y1,X.x,X.y):X.type==="Z"&&(N+="Z")}return N},te.prototype.toSVG=function(S){var U=(U='<path d="')+this.toPathData(S)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?U+=' fill="none"':U+=' fill="'+this.fill+'"'),this.stroke&&(U+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),U+="/>"},te.prototype.toDOMElement=function(U){var U=this.toPathData(U),N=document.createElementNS("http://www.w3.org/2000/svg","path");return N.setAttribute("d",U),N};var D={fail:R,argument:L,assert:L},V={},q={},Z={};function se(S){return function(){return S}}q.BYTE=function(S){return D.argument(0<=S&&S<=255,"Byte value should be between 0 and 255."),[S]},Z.BYTE=se(1),q.CHAR=function(S){return[S.charCodeAt(0)]},Z.CHAR=se(1),q.CHARARRAY=function(S){for(var U=[],N=0;N<S.length;N+=1)U[N]=S.charCodeAt(N);return U},Z.CHARARRAY=function(S){return S.length},q.USHORT=function(S){return[S>>8&255,255&S]},Z.USHORT=se(2),q.SHORT=function(S){return[(S=32768<=S?-(65536-S):S)>>8&255,255&S]},Z.SHORT=se(2),q.UINT24=function(S){return[S>>16&255,S>>8&255,255&S]},Z.UINT24=se(3),q.ULONG=function(S){return[S>>24&255,S>>16&255,S>>8&255,255&S]},Z.ULONG=se(4),q.LONG=function(S){return[(S=2147483648<=S?-(4294967296-S):S)>>24&255,S>>16&255,S>>8&255,255&S]},Z.LONG=se(4),q.FIXED=q.ULONG,Z.FIXED=Z.ULONG,q.FWORD=q.SHORT,Z.FWORD=Z.SHORT,q.UFWORD=q.USHORT,Z.UFWORD=Z.USHORT,q.LONGDATETIME=function(S){return[0,0,0,0,S>>24&255,S>>16&255,S>>8&255,255&S]},Z.LONGDATETIME=se(8),q.TAG=function(S){return D.argument(S.length===4,"Tag should be exactly 4 ASCII characters."),[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)]},Z.TAG=se(4),q.Card8=q.BYTE,Z.Card8=Z.BYTE,q.Card16=q.USHORT,Z.Card16=Z.USHORT,q.OffSize=q.BYTE,Z.OffSize=Z.BYTE,q.SID=q.USHORT,Z.SID=Z.USHORT,q.NUMBER=function(S){return-107<=S&&S<=107?[S+139]:108<=S&&S<=1131?[247+((S-=108)>>8),255&S]:-1131<=S&&S<=-108?[251+((S=-S-108)>>8),255&S]:-32768<=S&&S<=32767?q.NUMBER16(S):q.NUMBER32(S)},Z.NUMBER=function(S){return q.NUMBER(S).length},q.NUMBER16=function(S){return[28,S>>8&255,255&S]},Z.NUMBER16=se(3),q.NUMBER32=function(S){return[29,S>>24&255,S>>16&255,S>>8&255,255&S]},Z.NUMBER32=se(5),q.REAL=function(S){for(var U=S.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(U),H=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),U=(Math.round(S*N)/N).toString()),""),X=0,ne=U.length;X<ne;X+=1){var ae=U[X];H+=ae==="e"?U[++X]==="-"?"c":"b":ae==="."?"a":ae==="-"?"e":ae}for(var we=[30],Ue=0,Fe=(H+=1&H.length?"f":"ff").length;Ue<Fe;Ue+=2)we.push(parseInt(H.substr(Ue,2),16));return we},Z.REAL=function(S){return q.REAL(S).length},q.NAME=q.CHARARRAY,Z.NAME=Z.CHARARRAY,q.STRING=q.CHARARRAY,Z.STRING=Z.CHARARRAY,V.UTF8=function(S,U,N){for(var H=[],X=N,ne=0;ne<X;ne++,U+=1)H[ne]=S.getUint8(U);return String.fromCharCode.apply(null,H)},V.UTF16=function(S,U,N){for(var H=[],X=N/2,ne=0;ne<X;ne++,U+=2)H[ne]=S.getUint16(U);return String.fromCharCode.apply(null,H)},q.UTF16=function(S){for(var U=[],N=0;N<S.length;N+=1){var H=S.charCodeAt(N);U[U.length]=H>>8&255,U[U.length]=255&H}return U},Z.UTF16=function(S){return 2*S.length};var fe,be={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},pe=(V.MACSTRING=function(S,U,N,H){var X=be[H];if(X!==void 0){for(var ne="",ae=0;ae<N;ae++){var we=S.getUint8(U+ae);ne+=we<=127?String.fromCharCode(we):X[127&we]}return ne}},typeof WeakMap=="function"&&new WeakMap);function Ae(S){return-128<=S&&S<=127}q.MACSTRING=function(S,U){var N=function(ae){if(!fe)for(var we in fe={},be)fe[we]=new String(we);var Ue=fe[ae];if(Ue!==void 0){if(pe){var Fe=pe.get(Ue);if(Fe!==void 0)return Fe}var Ve=be[ae];if(Ve!==void 0){for(var ot={},Ze=0;Ze<Ve.length;Ze++)ot[Ve.charCodeAt(Ze)]=Ze+128;return pe&&pe.set(Ue,ot),ot}}}(U);if(N!==void 0){for(var H=[],X=0;X<S.length;X++){var ne=S.charCodeAt(X);if(128<=ne&&(ne=N[ne])===void 0)return;H[X]=ne}return H}},Z.MACSTRING=function(S,U){return S=q.MACSTRING(S,U),S!==void 0?S.length:0},q.VARDELTAS=function(S){for(var H=0,U=[];H<S.length;)var N=S[H],H=(N===0?function(X,ne,ae){for(var we=0,Ue=X.length;ne<Ue&&we<64&&X[ne]===0;)++ne,++we;return ae.push(128|we-1),ne}:-128<=N&&N<=127?function(X,ne,ae){for(var we=0,Ue=X.length,Fe=ne;Fe<Ue&&we<64;){var Ve=X[Fe];if(!Ae(Ve)||Ve===0&&Fe+1<Ue&&X[Fe+1]===0)break;++Fe,++we}ae.push(we-1);for(var ot=ne;ot<Fe;++ot)ae.push(X[ot]+256&255);return Fe}:function(X,ne,ae){for(var we=0,Ue=X.length,Fe=ne;Fe<Ue&&we<64;){var Ve=X[Fe];if(Ve===0||Ae(Ve)&&Fe+1<Ue&&Ae(X[Fe+1]))break;++Fe,++we}ae.push(64|we-1);for(var ot=ne;ot<Fe;++ot){var Ze=X[ot];ae.push(Ze+65536>>8&255,Ze+256&255)}return Fe})(S,H,U);return U},q.INDEX=function(S){for(var U=1,N=[U],H=[],X=0;X<S.length;X+=1){var ne=q.OBJECT(S[X]);Array.prototype.push.apply(H,ne),U+=ne.length,N.push(U)}if(H.length===0)return[0,0];for(var ae=[],we=1+Math.floor(Math.log(U)/Math.log(2))/8|0,Ue=[void 0,q.BYTE,q.USHORT,q.UINT24,q.ULONG][we],Fe=0;Fe<N.length;Fe+=1){var Ve=Ue(N[Fe]);Array.prototype.push.apply(ae,Ve)}return Array.prototype.concat(q.Card16(S.length),q.OffSize(we),ae,H)},Z.INDEX=function(S){return q.INDEX(S).length},q.DICT=function(S){for(var U=[],N=Object.keys(S),H=N.length,X=0;X<H;X+=1){var ne=parseInt(N[X],0),ae=S[ne];U=(U=U.concat(q.OPERAND(ae.value,ae.type))).concat(q.OPERATOR(ne))}return U},Z.DICT=function(S){return q.DICT(S).length},q.OPERATOR=function(S){return S<1200?[S]:[12,S-1200]},q.OPERAND=function(S,U){var N=[];if(Array.isArray(U))for(var H=0;H<U.length;H+=1)D.argument(S.length===U.length,"Not enough arguments given for type"+U),N=N.concat(q.OPERAND(S[H],U[H]));else if(U==="SID")N=N.concat(q.NUMBER(S));else if(U==="offset")N=N.concat(q.NUMBER32(S));else if(U==="number")N=N.concat(q.NUMBER(S));else{if(U!=="real")throw new Error("Unknown operand type "+U);N=N.concat(q.REAL(S))}return N},q.OP=q.BYTE,Z.OP=Z.BYTE;var ge=typeof WeakMap=="function"&&new WeakMap;function ce(S,U,N){for(var H=0;H<U.length;H+=1){var X=U[H];this[X.name]=X.value}if(this.tableName=S,this.fields=U,N)for(var ne=Object.keys(N),ae=0;ae<ne.length;ae+=1){var we=ne[ae],Ue=N[we];this[we]!==void 0&&(this[we]=Ue)}}function de(S,U,N){N===void 0&&(N=U.length);var H=new Array(U.length+1);H[0]={name:S+"Count",type:"USHORT",value:N};for(var X=0;X<U.length;X++)H[X+1]={name:S+X,type:"USHORT",value:U[X]};return H}function oe(S,U,N){var H=U.length,X=new Array(H+1);X[0]={name:S+"Count",type:"USHORT",value:H};for(var ne=0;ne<H;ne++)X[ne+1]={name:S+ne,type:"TABLE",value:N(U[ne],ne)};return X}function je(S,U,N){var H=U.length,X=[];X[0]={name:S+"Count",type:"USHORT",value:H};for(var ne=0;ne<H;ne++)X=X.concat(N(U[ne],ne));return X}function Se(S){S.format===1?ce.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(de("glyph",S.glyphs))):D.assert(!1,"Can't create coverage table format 2 yet.")}function re(S){ce.call(this,"scriptListTable",je("scriptRecord",S,function(U,N){var H=U.script,X=H.defaultLangSys;return D.assert(!!X,"Unable to write GSUB: script "+U.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:U.tag},{name:"script"+N,type:"TABLE",value:new ce("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ce("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:X.reqFeatureIndex}].concat(de("featureIndex",X.featureIndexes)))}].concat(je("langSys",H.langSysRecords,function(ne,ae){var we=ne.langSys;return[{name:"langSysTag"+ae,type:"TAG",value:ne.tag},{name:"langSys"+ae,type:"TABLE",value:new ce("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:we.reqFeatureIndex}].concat(de("featureIndex",we.featureIndexes)))}]})))}]}))}function ie(S){ce.call(this,"featureListTable",je("featureRecord",S,function(U,N){var H=U.feature;return[{name:"featureTag"+N,type:"TAG",value:U.tag},{name:"feature"+N,type:"TABLE",value:new ce("featureTable",[{name:"featureParams",type:"USHORT",value:H.featureParams}].concat(de("lookupListIndex",H.lookupListIndexes)))}]}))}function Ce(S,U){ce.call(this,"lookupListTable",oe("lookup",S,function(N){var H=U[N.lookupType];return D.assert(!!H,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new ce("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(oe("subtable",N.subtables,H)))}))}q.CHARSTRING=function(S){if(ge){var U=ge.get(S);if(U!==void 0)return U}for(var ne=[],N=S.length,H=0;H<N;H+=1)var X=S[H],ne=ne.concat(q[X.type](X.value));return ge&&ge.set(S,ne),ne},Z.CHARSTRING=function(S){return q.CHARSTRING(S).length},q.OBJECT=function(S){var U=q[S.type];return D.argument(U!==void 0,"No encoding function for type "+S.type),U(S.value)},Z.OBJECT=function(S){var U=Z[S.type];return D.argument(U!==void 0,"No sizeOf function for type "+S.type),U(S.value)},q.TABLE=function(S){for(var U=[],N=S.fields.length,H=[],X=[],ne=0;ne<N;ne+=1){var ae=S.fields[ne],Ue=q[ae.type],we=(D.argument(Ue!==void 0,"No encoding function for field type "+ae.type+" ("+ae.name+")"),S[ae.name]),Ue=Ue(we=we===void 0?ae.value:we);ae.type==="TABLE"?(X.push(U.length),U=U.concat([0,0]),H.push(Ue)):U=U.concat(Ue)}for(var Fe=0;Fe<H.length;Fe+=1){var Ve=X[Fe],ot=U.length;D.argument(ot<65536,"Table "+S.tableName+" too big."),U[Ve]=ot>>8,U[Ve+1]=255&ot,U=U.concat(H[Fe])}return U},Z.TABLE=function(S){for(var U=0,N=S.fields.length,H=0;H<N;H+=1){var X=S.fields[H],ne=Z[X.type],ae=(D.argument(ne!==void 0,"No sizeOf function for field type "+X.type+" ("+X.name+")"),S[X.name]);U+=ne(ae=ae===void 0?X.value:ae),X.type==="TABLE"&&(U+=2)}return U},q.RECORD=q.TABLE,Z.RECORD=Z.TABLE,q.LITERAL=function(S){return S},Z.LITERAL=function(S){return S.length},ce.prototype.encode=function(){return q.TABLE(this)},ce.prototype.sizeOf=function(){return Z.TABLE(this)};var Me={Table:ce,Record:ce,Coverage:(Se.prototype=Object.create(ce.prototype)).constructor=Se,ScriptList:(re.prototype=Object.create(ce.prototype)).constructor=re,FeatureList:(ie.prototype=Object.create(ce.prototype)).constructor=ie,LookupList:(Ce.prototype=Object.create(ce.prototype)).constructor=Ce,ushortList:de,tableList:oe,recordList:je};function ze(S,U){return S.getUint8(U)}function Ge(S,U){return S.getUint16(U,!1)}function nt(S,U){return S.getUint32(U,!1)}function et(S,U){return S.getInt16(U,!1)+S.getUint16(U+2,!1)/65535}var st={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Re(S,U){this.data=S,this.offset=U,this.relativeOffset=0}Re.prototype.parseByte=function(){var S=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Re.prototype.parseChar=function(){var S=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,S},Re.prototype.parseCard8=Re.prototype.parseByte,Re.prototype.parseCard16=Re.prototype.parseUShort=function(){var S=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Re.prototype.parseSID=Re.prototype.parseUShort,Re.prototype.parseOffset16=Re.prototype.parseUShort,Re.prototype.parseShort=function(){var S=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,S},Re.prototype.parseF2Dot14=function(){var S=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,S},Re.prototype.parseOffset32=Re.prototype.parseULong=function(){var S=nt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Re.prototype.parseFixed=function(){var S=et(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,S},Re.prototype.parseString=function(S){var U=this.data,N=this.offset+this.relativeOffset,H="";this.relativeOffset+=S;for(var X=0;X<S;X++)H+=String.fromCharCode(U.getUint8(N+X));return H},Re.prototype.parseTag=function(){return this.parseString(4)},Re.prototype.parseLongDateTime=function(){var S=nt(this.data,this.offset+this.relativeOffset+4);return S-=2082844800,this.relativeOffset+=8,S},Re.prototype.parseVersion=function(S){var U=Ge(this.data,this.offset+this.relativeOffset),N=Ge(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,U+N/(S=S===void 0?4096:S)/10},Re.prototype.skip=function(S,U){this.relativeOffset+=st[S]*(U=U===void 0?1:U)},Re.prototype.parseULongList=function(S){S===void 0&&(S=this.parseULong());for(var U=new Array(S),N=this.data,H=this.offset+this.relativeOffset,X=0;X<S;X++)U[X]=N.getUint32(H),H+=4;return this.relativeOffset+=4*S,U},Re.prototype.parseOffset16List=Re.prototype.parseUShortList=function(S){S===void 0&&(S=this.parseUShort());for(var U=new Array(S),N=this.data,H=this.offset+this.relativeOffset,X=0;X<S;X++)U[X]=N.getUint16(H),H+=2;return this.relativeOffset+=2*S,U},Re.prototype.parseShortList=function(S){for(var U=new Array(S),N=this.data,H=this.offset+this.relativeOffset,X=0;X<S;X++)U[X]=N.getInt16(H),H+=2;return this.relativeOffset+=2*S,U},Re.prototype.parseByteList=function(S){for(var U=new Array(S),N=this.data,H=this.offset+this.relativeOffset,X=0;X<S;X++)U[X]=N.getUint8(H++);return this.relativeOffset+=S,U},Re.prototype.parseList=function(S,U){U||(U=S,S=this.parseUShort());for(var N=new Array(S),H=0;H<S;H++)N[H]=U.call(this);return N},Re.prototype.parseList32=function(S,U){U||(U=S,S=this.parseULong());for(var N=new Array(S),H=0;H<S;H++)N[H]=U.call(this);return N},Re.prototype.parseRecordList=function(S,U){U||(U=S,S=this.parseUShort());for(var N=new Array(S),H=Object.keys(U),X=0;X<S;X++){for(var ne={},ae=0;ae<H.length;ae++){var we=H[ae],Ue=U[we];ne[we]=Ue.call(this)}N[X]=ne}return N},Re.prototype.parseRecordList32=function(S,U){U||(U=S,S=this.parseULong());for(var N=new Array(S),H=Object.keys(U),X=0;X<S;X++){for(var ne={},ae=0;ae<H.length;ae++){var we=H[ae],Ue=U[we];ne[we]=Ue.call(this)}N[X]=ne}return N},Re.prototype.parseStruct=function(S){if(typeof S=="function")return S.call(this);for(var U=Object.keys(S),N={},H=0;H<U.length;H++){var X=U[H],ne=S[X];N[X]=ne.call(this)}return N},Re.prototype.parseValueRecord=function(S){var U;if((S=S===void 0?this.parseUShort():S)!==0)return U={},1&S&&(U.xPlacement=this.parseShort()),2&S&&(U.yPlacement=this.parseShort()),4&S&&(U.xAdvance=this.parseShort()),8&S&&(U.yAdvance=this.parseShort()),16&S&&(U.xPlaDevice=void 0,this.parseShort()),32&S&&(U.yPlaDevice=void 0,this.parseShort()),64&S&&(U.xAdvDevice=void 0,this.parseShort()),128&S&&(U.yAdvDevice=void 0,this.parseShort()),U},Re.prototype.parseValueRecordList=function(){for(var S=this.parseUShort(),U=this.parseUShort(),N=new Array(U),H=0;H<U;H++)N[H]=this.parseValueRecord(S);return N},Re.prototype.parsePointer=function(S){var U=this.parseOffset16();if(0<U)return new Re(this.data,this.offset+U).parseStruct(S)},Re.prototype.parsePointer32=function(S){var U=this.parseOffset32();if(0<U)return new Re(this.data,this.offset+U).parseStruct(S)},Re.prototype.parseListOfLists=function(S){for(var U=this.parseOffset16List(),N=U.length,H=this.relativeOffset,X=new Array(N),ne=0;ne<N;ne++){var ae=U[ne];if(ae===0)X[ne]=void 0;else if(this.relativeOffset=ae,S){for(var we=this.parseOffset16List(),Ue=new Array(we.length),Fe=0;Fe<we.length;Fe++)this.relativeOffset=ae+we[Fe],Ue[Fe]=S.call(this);X[ne]=Ue}else X[ne]=this.parseUShortList()}return this.relativeOffset=H,X},Re.prototype.parseCoverage=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort(),N=this.parseUShort();if(U===1)return{format:1,glyphs:this.parseUShortList(N)};if(U!==2)throw new Error("0x"+S.toString(16)+": Coverage format must be 1 or 2.");for(var H=new Array(N),X=0;X<N;X++)H[X]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:H}},Re.prototype.parseClassDef=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();if(U===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(U===2)return{format:2,ranges:this.parseRecordList({start:Re.uShort,end:Re.uShort,classId:Re.uShort})};throw new Error("0x"+S.toString(16)+": ClassDef format must be 1 or 2.")},Re.list=function(S,U){return function(){return this.parseList(S,U)}},Re.list32=function(S,U){return function(){return this.parseList32(S,U)}},Re.recordList=function(S,U){return function(){return this.parseRecordList(S,U)}},Re.recordList32=function(S,U){return function(){return this.parseRecordList32(S,U)}},Re.pointer=function(S){return function(){return this.parsePointer(S)}},Re.pointer32=function(S){return function(){return this.parsePointer32(S)}},Re.tag=Re.prototype.parseTag,Re.byte=Re.prototype.parseByte,Re.uShort=Re.offset16=Re.prototype.parseUShort,Re.uShortList=Re.prototype.parseUShortList,Re.uLong=Re.offset32=Re.prototype.parseULong,Re.uLongList=Re.prototype.parseULongList,Re.struct=Re.prototype.parseStruct,Re.coverage=Re.prototype.parseCoverage,Re.classDef=Re.prototype.parseClassDef;var Ke={reserved:Re.uShort,reqFeatureIndex:Re.uShort,featureIndexes:Re.uShortList},Le=(Re.prototype.parseScriptList=function(){return this.parsePointer(Re.recordList({tag:Re.tag,script:Re.pointer({defaultLangSys:Re.pointer(Ke),langSysRecords:Re.recordList({tag:Re.tag,langSys:Re.pointer(Ke)})})}))||[]},Re.prototype.parseFeatureList=function(){return this.parsePointer(Re.recordList({tag:Re.tag,feature:Re.pointer({featureParams:Re.offset16,lookupListIndexes:Re.uShortList})}))||[]},Re.prototype.parseLookupList=function(S){return this.parsePointer(Re.list(Re.pointer(function(){var U=this.parseUShort(),N=(D.argument(1<=U&&U<=9,"GPOS/GSUB lookup type "+U+" unknown."),this.parseUShort()),H=16&N;return{lookupType:U,lookupFlag:N,subtables:this.parseList(Re.pointer(S[U])),markFilteringSet:H?this.parseUShort():void 0}})))||[]},Re.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var S=this.parseUShort(),U=this.parseUShort();return D.argument(S===1&&U<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Re.offset32,featureTableSubstitutionOffset:Re.offset32})})||[]},{getByte:ze,getCard8:ze,getUShort:Ge,getCard16:Ge,getShort:function(S,U){return S.getInt16(U,!1)},getULong:nt,getFixed:et,getTag:function(S,U){for(var N="",H=U;H<U+4;H+=1)N+=String.fromCharCode(S.getInt8(H));return N},getOffset:function(S,U,N){for(var H=0,X=0;X<N;X+=1)H=(H<<=8)+S.getUint8(U+X);return H},getBytes:function(S,U,N){for(var H=[],X=U;X<N;X+=1)H.push(S.getUint8(X));return H},bytesToString:function(S){for(var U="",N=0;N<S.length;N+=1)U+=String.fromCharCode(S[N]);return U},Parser:Re}),he={parse:function(S,U){for(var N={},H=(N.version=Le.getUShort(S,U),D.argument(N.version===0,"cmap table version should be 0."),N.numTables=Le.getUShort(S,U+2),-1),X=N.numTables-1;0<=X;--X){var ne=Le.getUShort(S,U+4+8*X),ae=Le.getUShort(S,U+4+8*X+2);if(ne===3&&(ae===0||ae===1||ae===10)||ne===0&&(ae===0||ae===1||ae===2||ae===3||ae===4)){H=Le.getULong(S,U+4+8*X+4);break}}if(H===-1)throw new Error("No valid cmap sub-tables found.");var we=new Le.Parser(S,U+H);if(N.format=we.parseUShort(),N.format===12){var Ue,Fe=N,Ve=we;Ve.parseUShort(),Fe.length=Ve.parseULong(),Fe.language=Ve.parseULong(),Fe.groupCount=Ue=Ve.parseULong(),Fe.glyphIndexMap={};for(var ot=0;ot<Ue;ot+=1)for(var Ze=Ve.parseULong(),ke=Ve.parseULong(),St=Ve.parseULong(),ut=Ze;ut<=ke;ut+=1)Fe.glyphIndexMap[ut]=St,St++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var gt=N,lt=S,At=U,Wt=H;gt.length=we.parseUShort(),gt.language=we.parseUShort(),gt.segCount=$t=we.parseUShort()>>1,we.skip("uShort",3),gt.glyphIndexMap={};for(var $t,Yt=new Le.Parser(lt,At+Wt+14),qt=new Le.Parser(lt,At+Wt+16+2*$t),dr=new Le.Parser(lt,At+Wt+16+4*$t),Sr=new Le.Parser(lt,At+Wt+16+6*$t),Vr=At+Wt+16+8*$t,on=0;on<$t-1;on+=1)for(var Sn=void 0,tn=Yt.parseUShort(),an=qt.parseUShort(),br=dr.parseShort(),Lr=Sr.parseUShort(),yr=an;yr<=tn;yr+=1)Lr!==0?(Vr=(Vr=Sr.offset+Sr.relativeOffset-2)+Lr+2*(yr-an),(Sn=Le.getUShort(lt,Vr))!==0&&(Sn=Sn+br&65535)):Sn=yr+br&65535,gt.glyphIndexMap[yr]=Sn}return N},make:function(S){for(var U=!0,N=S.length-1;0<N;--N)if(65535<S.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),U=!1;break}var H,X,ne=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:U?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:U?12:20}],ae=(ne=(ne=U?ne:ne.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Me.Table("cmap",ne));for(ae.segments=[],N=0;N<S.length;N+=1){for(var we=S.get(N),Ue=0;Ue<we.unicodes.length;Ue+=1)H=we.unicodes[Ue],X=N,ae.segments.push({end:H,start:H,delta:-(H-X),offset:0,glyphIndex:X});ae.segments=ae.segments.sort(function(At,Wt){return At.start-Wt.start})}ae.segments.push({end:65535,start:65535,delta:1,offset:0});var Fe=ae.segments.length,Ve=0,ot=[],Ze=[],ke=[],St=[],ut=[],gt=[];for(N=0;N<Fe;N+=1){var lt=ae.segments[N];lt.end<=65535&&lt.start<=65535?(ot=ot.concat({name:"end_"+N,type:"USHORT",value:lt.end}),Ze=Ze.concat({name:"start_"+N,type:"USHORT",value:lt.start}),ke=ke.concat({name:"idDelta_"+N,type:"SHORT",value:lt.delta}),St=St.concat({name:"idRangeOffset_"+N,type:"USHORT",value:lt.offset}),lt.glyphId!==void 0&&(ut=ut.concat({name:"glyph_"+N,type:"USHORT",value:lt.glyphId}))):Ve+=1,U||lt.glyphIndex===void 0||(gt=(gt=(gt=gt.concat({name:"cmap12Start_"+N,type:"ULONG",value:lt.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:lt.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:lt.glyphIndex}))}return ae.segCountX2=2*(Fe-Ve),ae.searchRange=2*Math.pow(2,Math.floor(Math.log(Fe-Ve)/Math.log(2))),ae.entrySelector=Math.log(ae.searchRange/2)/Math.log(2),ae.rangeShift=ae.segCountX2-ae.searchRange,ae.fields=ae.fields.concat(ot),ae.fields.push({name:"reservedPad",type:"USHORT",value:0}),ae.fields=ae.fields.concat(Ze),ae.fields=ae.fields.concat(ke),ae.fields=ae.fields.concat(St),ae.fields=ae.fields.concat(ut),ae.cmap4Length=14+2*ot.length+2+2*Ze.length+2*ke.length+2*St.length+2*ut.length,U||(ne=16+4*gt.length,ae.cmap12Offset=20+ae.cmap4Length,ae.fields=ae.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ne},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:gt.length/3}]),ae.fields=ae.fields.concat(gt)),ae}},$=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],me=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ee=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ne(S){this.font=S}function Je(S){this.cmap=S}function ht(S,U){this.encoding=S,this.charset=U}function vt(S){switch(S.version){case 1:this.names=Ee.slice();break;case 2:this.names=new Array(S.numberOfGlyphs);for(var U=0;U<S.numberOfGlyphs;U++)S.glyphNameIndex[U]<Ee.length?this.names[U]=Ee[S.glyphNameIndex[U]]:this.names[U]=S.names[S.glyphNameIndex[U]-Ee.length];break;case 2.5:this.names=new Array(S.numberOfGlyphs);for(var N=0;N<S.numberOfGlyphs;N++)this.names[N]=Ee[N+S.glyphNameIndex[N]];break;default:this.names=[]}}Ne.prototype.charToGlyphIndex=function(S){var U=S.codePointAt(0),N=this.font.glyphs;if(N){for(var H=0;H<N.length;H+=1)for(var X=N.get(H),ne=0;ne<X.unicodes.length;ne+=1)if(X.unicodes[ne]===U)return H}return null},Je.prototype.charToGlyphIndex=function(S){return this.cmap.glyphIndexMap[S.codePointAt(0)]||0},ht.prototype.charToGlyphIndex=function(S){return S=S.codePointAt(0),S=this.encoding[S],this.charset.indexOf(S)},vt.prototype.nameToGlyphIndex=function(S){return this.names.indexOf(S)},vt.prototype.glyphIndexToName=function(S){return this.names[S]};var $e={line:function(S,U,N,H,X){S.beginPath(),S.moveTo(U,N),S.lineTo(H,X),S.stroke()}};function Ie(S){this.bindConstructorValues(S)}function yt(S,U,N){Object.defineProperty(S,U,{get:function(){return S.path,S[N]},set:function(H){S[N]=H},enumerable:!0,configurable:!0})}function dt(S,U){if(this.font=S,this.glyphs={},Array.isArray(U))for(var N=0;N<U.length;N++)this.glyphs[N]=U[N];this.length=U&&U.length||0}Ie.prototype.bindConstructorValues=function(S){var U;this.index=S.index||0,this.name=S.name||null,this.unicode=S.unicode||void 0,this.unicodes=S.unicodes||S.unicode!==void 0?[S.unicode]:[],S.xMin&&(this.xMin=S.xMin),S.yMin&&(this.yMin=S.yMin),S.xMax&&(this.xMax=S.xMax),S.yMax&&(this.yMax=S.yMax),S.advanceWidth&&(this.advanceWidth=S.advanceWidth),Object.defineProperty(this,"path",(S=S.path,U=S||new te,{configurable:!0,get:function(){return U=typeof U=="function"?U():U},set:function(N){U=N}}))},Ie.prototype.addUnicode=function(S){this.unicodes.length===0&&(this.unicode=S),this.unicodes.push(S)},Ie.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Ie.prototype.getPath=function(S,U,N,H,X){S=S!==void 0?S:0,U=U!==void 0?U:0,N=N!==void 0?N:72;for(var ne,ae,we=(H=H||{}).xScale,Ue=H.yScale,Fe=((ne=H.hinting&&X&&X.hinting?this.path&&X.hinting.exec(this,N):ne)?(ae=X.hinting.getCommands(ne),S=Math.round(S),U=Math.round(U),we=Ue=1):(ae=this.path.commands,H=1/this.path.unitsPerEm*N,we===void 0&&(we=H),Ue===void 0&&(Ue=H)),new te),Ve=0;Ve<ae.length;Ve+=1){var ot=ae[Ve];ot.type==="M"?Fe.moveTo(S+ot.x*we,U+-ot.y*Ue):ot.type==="L"?Fe.lineTo(S+ot.x*we,U+-ot.y*Ue):ot.type==="Q"?Fe.quadraticCurveTo(S+ot.x1*we,U+-ot.y1*Ue,S+ot.x*we,U+-ot.y*Ue):ot.type==="C"?Fe.curveTo(S+ot.x1*we,U+-ot.y1*Ue,S+ot.x2*we,U+-ot.y2*Ue,S+ot.x*we,U+-ot.y*Ue):ot.type==="Z"&&Fe.closePath()}return Fe},Ie.prototype.getContours=function(){if(this.points===void 0)return[];for(var S=[],U=[],N=0;N<this.points.length;N+=1){var H=this.points[N];U.push(H),H.lastPointOfContour&&(S.push(U),U=[])}return D.argument(U.length===0,"There are still points left in the current contour."),S},Ie.prototype.getMetrics=function(){for(var S=this.path.commands,U=[],N=[],H=0;H<S.length;H+=1){var X=S[H];X.type!=="Z"&&(U.push(X.x),N.push(X.y)),X.type!=="Q"&&X.type!=="C"||(U.push(X.x1),N.push(X.y1)),X.type==="C"&&(U.push(X.x2),N.push(X.y2))}var ne={xMin:Math.min.apply(null,U),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,U),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite(ne.xMin)||(ne.xMin=0),isFinite(ne.xMax)||(ne.xMax=this.advanceWidth),isFinite(ne.yMin)||(ne.yMin=0),isFinite(ne.yMax)||(ne.yMax=0),ne.rightSideBearing=this.advanceWidth-ne.leftSideBearing-(ne.xMax-ne.xMin),ne},Ie.prototype.draw=function(S,U,N,H,X){this.getPath(U,N,H,X).draw(S)},Ie.prototype.drawPoints=function(S,U,N,H){function X(Ve,ot,Ze,ke){var St=2*Math.PI;S.beginPath();for(var ut=0;ut<Ve.length;ut+=1)S.moveTo(ot+Ve[ut].x*ke,Ze+Ve[ut].y*ke),S.arc(ot+Ve[ut].x*ke,Ze+Ve[ut].y*ke,2,0,St,!1);S.closePath(),S.fill()}U=U!==void 0?U:0,N=N!==void 0?N:0;for(var H=1/this.path.unitsPerEm*(H=H!==void 0?H:24),ne=[],ae=[],we=this.path,Ue=0;Ue<we.commands.length;Ue+=1){var Fe=we.commands[Ue];Fe.x!==void 0&&ne.push({x:Fe.x,y:-Fe.y}),Fe.x1!==void 0&&ae.push({x:Fe.x1,y:-Fe.y1}),Fe.x2!==void 0&&ae.push({x:Fe.x2,y:-Fe.y2})}S.fillStyle="blue",X(ne,U,N,H),S.fillStyle="red",X(ae,U,N,H)},Ie.prototype.drawMetrics=function(S,U,N,H){U=U!==void 0?U:0,N=N!==void 0?N:0,H=1/this.path.unitsPerEm*(H=H!==void 0?H:24),S.lineWidth=1,S.strokeStyle="black",$e.line(S,U,-1e4,U,1e4),$e.line(S,-1e4,N,1e4,N);var X=this.xMin||0,ne=this.yMin||0,ae=this.xMax||0,we=this.yMax||0,Ue=this.advanceWidth||0;S.strokeStyle="blue",$e.line(S,U+X*H,-1e4,U+X*H,1e4),$e.line(S,U+ae*H,-1e4,U+ae*H,1e4),$e.line(S,-1e4,N+-ne*H,1e4,N+-ne*H),$e.line(S,-1e4,N+-we*H,1e4,N+-we*H),S.strokeStyle="green",$e.line(S,U+Ue*H,-1e4,U+Ue*H,1e4)},dt.prototype.get=function(S){return typeof this.glyphs[S]=="function"&&(this.glyphs[S]=this.glyphs[S]()),this.glyphs[S]},dt.prototype.push=function(S,U){this.glyphs[S]=U,this.length++};var ft={GlyphSet:dt,glyphLoader:function(S,U){return new Ie({index:U,font:S})},ttfGlyphLoader:function(S,U,N,H,X,ne){return function(){var ae=new Ie({index:U,font:S});return ae.path=function(){N(ae,H,X);var we=ne(S.glyphs,ae);return we.unitsPerEm=S.unitsPerEm,we},yt(ae,"xMin","_xMin"),yt(ae,"xMax","_xMax"),yt(ae,"yMin","_yMin"),yt(ae,"yMax","_yMax"),ae}},cffGlyphLoader:function(S,U,N,H){return function(){var X=new Ie({index:U,font:S});return X.path=function(){var ne=N(S,X,H);return ne.unitsPerEm=S.unitsPerEm,ne},X}}};function bt(S){return S=S.length<1240?107:S.length<33900?1131:32768,S}function It(S,U,N){var H,X=[],ne=[],ae=Le.getCard16(S,U);if(ae!==0){for(var we=Le.getByte(S,U+2),Ue=U+(ae+1)*we+2,Fe=U+3,Ve=0;Ve<ae+1;Ve+=1)X.push(Le.getOffset(S,Fe,we)),Fe+=we;H=Ue+X[ae]}else H=U+2;for(var ot=0;ot<X.length-1;ot+=1){var Ze=Le.getBytes(S,Ue+X[ot],Ue+X[ot+1]);N&&(Ze=N(Ze)),ne.push(Ze)}return{objects:ne,startOffset:U,endOffset:H}}function Ot(S,U){if(U===28)return S.parseByte()<<8|S.parseByte();if(U===29)return S.parseByte()<<24|S.parseByte()<<16|S.parseByte()<<8|S.parseByte();if(U===30){for(var N=S,H="",X=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ae=N.parseByte(),ne=ae>>4,ae=15&ae;if(ne==15||(H+=X[ne],ae==15))break;H+=X[ae]}return parseFloat(H)}if(32<=U&&U<=246)return U-139;if(247<=U&&U<=250)return 256*(U-247)+S.parseByte()+108;if(251<=U&&U<=254)return 256*-(U-251)-S.parseByte()-108;throw new Error("Invalid b0 "+U)}function ur(S,U,N){var H=new Le.Parser(S,U=U!==void 0?U:0),X=[],ne=[];for(N=N!==void 0?N:S.length;H.relativeOffset<N;){var ae=H.parseByte();ae<=21?(ae===12&&(ae=1200+H.parseByte()),X.push([ae,ne]),ne=[]):ne.push(Ot(H,ae))}for(var we=X,Ue={},Fe=0;Fe<we.length;Fe+=1){var Ve=we[Fe][0],ot=we[Fe][1],Ze=void 0,Ze=ot.length===1?ot[0]:ot;if(Ue.hasOwnProperty(Ve)&&!isNaN(Ue[Ve]))throw new Error("Object "+Ue+" already has key "+Ve);Ue[Ve]=Ze}return Ue}function Ar(S,U){return U=U<=390?$[U]:S[U-391]}function Tt(S,U,N){for(var H,X={},ne=0;ne<U.length;ne+=1){var ae=U[ne];if(Array.isArray(ae.type)){var we=[];we.length=ae.type.length;for(var Ue=0;Ue<ae.type.length;Ue++)(H=S[ae.op]!==void 0?S[ae.op][Ue]:void 0)===void 0&&(H=ae.value!==void 0&&ae.value[Ue]!==void 0?ae.value[Ue]:null),ae.type[Ue]==="SID"&&(H=Ar(N,H)),we[Ue]=H;X[ae.name]=we}else(H=S[ae.op])===void 0&&(H=ae.value!==void 0?ae.value:null),ae.type==="SID"&&(H=Ar(N,H)),X[ae.name]=H}return X}var ir=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],rr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Mr(S,U,N,H){return Tt(ur(S,U,N),rr,H)}function gr(S,U,N,H){for(var X=[],ne=0;ne<N.length;ne+=1){var ae=new DataView(new Uint8Array(N[ne]).buffer),ae=(we=H,Tt(ur(ae,0,ae.byteLength),ir,we)),we=(ae._subrs=[],ae._subrsBias=0,ae.private[0]),Ue=ae.private[1];we!==0&&Ue!==0&&(we=Mr(S,Ue+U,we,H),ae._defaultWidthX=we.defaultWidthX,ae._nominalWidthX=we.nominalWidthX,we.subrs!==0&&(Ue=It(S,Ue+we.subrs+U),ae._subrs=Ue.objects,ae._subrsBias=bt(ae._subrs)),ae._privateDict=we),X.push(ae)}return X}function nr(S,U,N){var H,X,ne,ae,we,Ue,Fe,Ve,ot,Ze=new te,ke=[],St=0,ut=!1,gt=!1,lt=0,At=0,Wt=(ot=(S.isCIDFont?(we=S.tables.cff.topDict._fdSelect[U.index],we=S.tables.cff.topDict._fdArray[we],Ue=we._subrs,Fe=we._subrsBias,Ve=we._defaultWidthX,we):(Ue=S.tables.cff.topDict._subrs,Fe=S.tables.cff.topDict._subrsBias,Ve=S.tables.cff.topDict._defaultWidthX,S.tables.cff.topDict))._nominalWidthX,Ve);function $t(qt,dr){gt&&Ze.closePath(),Ze.moveTo(qt,dr),gt=!0}function Yt(){ke.length%2==0||ut||(Wt=ke.shift()+ot),St+=ke.length>>1,ke.length=0,ut=!0}return function qt(dr){for(var Sr,Vr,on,Sn,tn,an,br,Lr,yr,Jr,Dr,Nr,Pr=0;Pr<dr.length;){var ln=dr[Pr];switch(Pr+=1,ln){case 1:case 3:Yt();break;case 4:1<ke.length&&!ut&&(Wt=ke.shift()+ot,ut=!0),At+=ke.pop(),$t(lt,At);break;case 5:for(;0<ke.length;)lt+=ke.shift(),At+=ke.shift(),Ze.lineTo(lt,At);break;case 6:for(;0<ke.length&&(lt+=ke.shift(),Ze.lineTo(lt,At),ke.length!==0);)At+=ke.shift(),Ze.lineTo(lt,At);break;case 7:for(;0<ke.length&&(At+=ke.shift(),Ze.lineTo(lt,At),ke.length!==0);)lt+=ke.shift(),Ze.lineTo(lt,At);break;case 8:for(;0<ke.length;)H=lt+ke.shift(),X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),lt=ne+ke.shift(),At=ae+ke.shift(),Ze.curveTo(H,X,ne,ae,lt,At);break;case 10:tn=ke.pop()+Fe,(an=Ue[tn])&&qt(an);break;case 11:return;case 12:switch(ln=dr[Pr],Pr+=1,ln){case 35:H=lt+ke.shift(),X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),br=ne+ke.shift(),Lr=ae+ke.shift(),yr=br+ke.shift(),Jr=Lr+ke.shift(),Dr=yr+ke.shift(),Nr=Jr+ke.shift(),lt=Dr+ke.shift(),At=Nr+ke.shift(),ke.shift(),Ze.curveTo(H,X,ne,ae,br,Lr),Ze.curveTo(yr,Jr,Dr,Nr,lt,At);break;case 34:H=lt+ke.shift(),X=At,ne=H+ke.shift(),ae=X+ke.shift(),br=ne+ke.shift(),Lr=ae,yr=br+ke.shift(),Jr=ae,Dr=yr+ke.shift(),Nr=At,lt=Dr+ke.shift(),Ze.curveTo(H,X,ne,ae,br,Lr),Ze.curveTo(yr,Jr,Dr,Nr,lt,At);break;case 36:H=lt+ke.shift(),X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),br=ne+ke.shift(),Lr=ae,yr=br+ke.shift(),Jr=ae,Dr=yr+ke.shift(),Nr=Jr+ke.shift(),lt=Dr+ke.shift(),Ze.curveTo(H,X,ne,ae,br,Lr),Ze.curveTo(yr,Jr,Dr,Nr,lt,At);break;case 37:H=lt+ke.shift(),X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),br=ne+ke.shift(),Lr=ae+ke.shift(),yr=br+ke.shift(),Jr=Lr+ke.shift(),Dr=yr+ke.shift(),Nr=Jr+ke.shift(),Math.abs(Dr-lt)>Math.abs(Nr-At)?lt=Dr+ke.shift():At=Nr+ke.shift(),Ze.curveTo(H,X,ne,ae,br,Lr),Ze.curveTo(yr,Jr,Dr,Nr,lt,At);break;default:console.log("Glyph "+U.index+": unknown operator 1200"+ln),ke.length=0}break;case 14:0<ke.length&&!ut&&(Wt=ke.shift()+ot,ut=!0),gt&&(Ze.closePath(),gt=!1);break;case 18:Yt();break;case 19:case 20:Yt(),Pr+=St+7>>3;break;case 21:2<ke.length&&!ut&&(Wt=ke.shift()+ot,ut=!0),At+=ke.pop(),$t(lt+=ke.pop(),At);break;case 22:1<ke.length&&!ut&&(Wt=ke.shift()+ot,ut=!0),$t(lt+=ke.pop(),At);break;case 23:Yt();break;case 24:for(;2<ke.length;)H=lt+ke.shift(),X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),lt=ne+ke.shift(),At=ae+ke.shift(),Ze.curveTo(H,X,ne,ae,lt,At);lt+=ke.shift(),At+=ke.shift(),Ze.lineTo(lt,At);break;case 25:for(;6<ke.length;)lt+=ke.shift(),At+=ke.shift(),Ze.lineTo(lt,At);H=lt+ke.shift(),X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),lt=ne+ke.shift(),At=ae+ke.shift(),Ze.curveTo(H,X,ne,ae,lt,At);break;case 26:for(ke.length%2&&(lt+=ke.shift());0<ke.length;)H=lt,X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),lt=ne,At=ae+ke.shift(),Ze.curveTo(H,X,ne,ae,lt,At);break;case 27:for(ke.length%2&&(At+=ke.shift());0<ke.length;)H=lt+ke.shift(),X=At,ne=H+ke.shift(),ae=X+ke.shift(),lt=ne+ke.shift(),At=ae,Ze.curveTo(H,X,ne,ae,lt,At);break;case 28:Sr=dr[Pr],Vr=dr[Pr+1],ke.push((Sr<<24|Vr<<16)>>16),Pr+=2;break;case 29:tn=ke.pop()+S.gsubrsBias,(an=S.gsubrs[tn])&&qt(an);break;case 30:for(;0<ke.length&&(H=lt,X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),lt=ne+ke.shift(),At=ae+(ke.length===1?ke.shift():0),Ze.curveTo(H,X,ne,ae,lt,At),ke.length!==0);)H=lt+ke.shift(),X=At,ne=H+ke.shift(),ae=X+ke.shift(),At=ae+ke.shift(),lt=ne+(ke.length===1?ke.shift():0),Ze.curveTo(H,X,ne,ae,lt,At);break;case 31:for(;0<ke.length&&(H=lt+ke.shift(),X=At,ne=H+ke.shift(),ae=X+ke.shift(),At=ae+ke.shift(),lt=ne+(ke.length===1?ke.shift():0),Ze.curveTo(H,X,ne,ae,lt,At),ke.length!==0);)H=lt,X=At+ke.shift(),ne=H+ke.shift(),ae=X+ke.shift(),lt=ne+ke.shift(),At=ae+(ke.length===1?ke.shift():0),Ze.curveTo(H,X,ne,ae,lt,At);break;default:ln<32?console.log("Glyph "+U.index+": unknown operator "+ln):ln<247?ke.push(ln-139):ln<251?(Sr=dr[Pr],Pr+=1,ke.push(256*(ln-247)+Sr+108)):ln<255?(Sr=dr[Pr],Pr+=1,ke.push(256*-(ln-251)-Sr-108)):(Sr=dr[Pr],Vr=dr[Pr+1],on=dr[Pr+2],Sn=dr[Pr+3],Pr+=4,ke.push((Sr<<24|Vr<<16|on<<8|Sn)/65536))}}}(N),U.advanceWidth=Wt,Ze}function Tr(S,U){var N,H=$.indexOf(S);return 0<=H&&(N=H),0<=(H=U.indexOf(S))?N=H+$.length:(N=$.length+U.length,U.push(S)),N}function qn(S,U,N){for(var H={},X=0;X<S.length;X+=1){var ne=S[X],ae=U[ne.name];ae===void 0||function we(Ue,Fe){if(Ue===Fe)return 1;if(Array.isArray(Ue)&&Array.isArray(Fe)&&Ue.length===Fe.length){for(var Ve=0;Ve<Ue.length;Ve+=1)if(!we(Ue[Ve],Fe[Ve]))return;return 1}}(ae,ne.value)||(ne.type==="SID"&&(ae=Tr(ae,N)),H[ne.op]={name:ne.name,type:ne.type,value:ae})}return H}function Dn(S,U){var N=new Me.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=qn(ir,S,U),N}function xn(S){var U=new Me.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return U.topDicts=[{name:"topDict_0",type:"TABLE",value:S}],U}function On(S){for(var U=new Me.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),N=0;N<S.length;N+=1){var H=S.get(N),X=function(ne){for(var ae=[],we=ne.path,Ue=(ae.push({name:"width",type:"NUMBER",value:ne.advanceWidth}),0),Fe=0,Ve=0;Ve<we.commands.length;Ve+=1){var ot,Ze,ke,St,ut=void 0,gt=void 0,lt=we.commands[Ve];(lt=lt.type==="Q"?{type:"C",x:lt.x,y:lt.y,x1:1/3*Ue+2/3*lt.x1,y1:1/3*Fe+2/3*lt.y1,x2:1/3*lt.x+2/3*lt.x1,y2:1/3*lt.y+2/3*lt.y1}:lt).type==="M"?(ut=Math.round(lt.x-Ue),gt=Math.round(lt.y-Fe),ae.push({name:"dx",type:"NUMBER",value:ut}),ae.push({name:"dy",type:"NUMBER",value:gt}),ae.push({name:"rmoveto",type:"OP",value:21}),Ue=Math.round(lt.x),Fe=Math.round(lt.y)):lt.type==="L"?(ut=Math.round(lt.x-Ue),gt=Math.round(lt.y-Fe),ae.push({name:"dx",type:"NUMBER",value:ut}),ae.push({name:"dy",type:"NUMBER",value:gt}),ae.push({name:"rlineto",type:"OP",value:5}),Ue=Math.round(lt.x),Fe=Math.round(lt.y)):lt.type==="C"&&(ot=Math.round(lt.x1-Ue),Ze=Math.round(lt.y1-Fe),ke=Math.round(lt.x2-lt.x1),St=Math.round(lt.y2-lt.y1),ut=Math.round(lt.x-lt.x2),gt=Math.round(lt.y-lt.y2),ae.push({name:"dx1",type:"NUMBER",value:ot}),ae.push({name:"dy1",type:"NUMBER",value:Ze}),ae.push({name:"dx2",type:"NUMBER",value:ke}),ae.push({name:"dy2",type:"NUMBER",value:St}),ae.push({name:"dx",type:"NUMBER",value:ut}),ae.push({name:"dy",type:"NUMBER",value:gt}),ae.push({name:"rrcurveto",type:"OP",value:8}),Ue=Math.round(lt.x),Fe=Math.round(lt.y))}return ae.push({name:"endchar",type:"OP",value:14}),ae}(H);U.charStrings.push({name:H.name,type:"CHARSTRING",value:X})}return U}var Tn={parse:function(S,U,N){N.tables.cff={},we=S,H=U,(X={}).formatMajor=Le.getCard8(we,H),X.formatMinor=Le.getCard8(we,H+1),X.size=Le.getCard8(we,H+2),X.offsetSize=Le.getCard8(we,H+3),X.startOffset=H,X.endOffset=H+4;var we=It(S,X.endOffset,Le.bytesToString),H=It(S,we.endOffset),X=It(S,H.endOffset,Le.bytesToString),we=It(S,X.endOffset);if(N.gsubrs=we.objects,N.gsubrsBias=bt(N.gsubrs),(we=gr(S,U,H.objects,X.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+we.length);if(H=we[0],(N.tables.cff.topDict=H)._privateDict&&(N.defaultWidthX=H._privateDict.defaultWidthX,N.nominalWidthX=H._privateDict.nominalWidthX),H.ros[0]!==void 0&&H.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){var we=H.fdArray,ne=H.fdSelect;if(we===0||ne===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");we=gr(S,U,It(S,we+=U).objects,X.objects),H._fdArray=we,H._fdSelect=function(Ze,ke,St,ut){var gt,lt=[],At=new Le.Parser(Ze,ke);if((Ze=At.parseCard8())===0)for(var Wt=0;Wt<St;Wt++){if(ut<=(gt=At.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+gt+" (FD count "+ut+")");lt.push(gt)}else{if(Ze!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ze);var $t,Yt=At.parseCard16(),qt=At.parseCard16();if(qt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+qt);for(var dr=0;dr<Yt;dr++){if(gt=At.parseCard8(),$t=At.parseCard16(),ut<=gt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+gt+" (FD count "+ut+")");if(St<$t)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+$t);for(;qt<$t;qt++)lt.push(gt);qt=$t}if($t!==St)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+$t)}return lt}(S,ne+=U,N.numGlyphs,we.length)}var ne=U+H.private[1],we=Mr(S,ne,H.private[0],X.objects),ae=(N.defaultWidthX=we.defaultWidthX,N.nominalWidthX=we.nominalWidthX,we.subrs!==0?(ne=It(S,ne+we.subrs),N.subrs=ne.objects,N.subrsBias=bt(N.subrs)):(N.subrs=[],N.subrsBias=0),It(S,U+H.charStrings)),we=(N.nGlyphs=ae.objects.length,function(Ve,ot,Ze,ke){var St=new Le.Parser(Ve,ot),ut=(--Ze,[".notdef"]);if((Ve=St.parseCard8())===0)for(var gt=0;gt<Ze;gt+=1)lt=St.parseSID(),ut.push(Ar(ke,lt));else if(Ve===1)for(;ut.length<=Ze;)for(var lt=St.parseSID(),At=St.parseCard8(),Wt=0;Wt<=At;Wt+=1)ut.push(Ar(ke,lt)),lt+=1;else{if(Ve!==2)throw new Error("Unknown charset format "+Ve);for(;ut.length<=Ze;){lt=St.parseSID(),At=St.parseCard16();for(var $t=0;$t<=At;$t+=1)ut.push(Ar(ke,lt)),lt+=1}}return ut}(S,U+H.charset,N.nGlyphs,X.objects));H.encoding===0?N.cffEncoding=new ht(ee,we):H.encoding===1?N.cffEncoding=new ht(me,we):N.cffEncoding=function(Ve,ot,Ze){var ke={},St=new Le.Parser(Ve,ot);if((Ve=St.parseCard8())===0)for(var ut=St.parseCard8(),gt=0;gt<ut;gt+=1)ke[At=St.parseCard8()]=gt;else{if(Ve!==1)throw new Error("Unknown encoding format "+Ve);for(var lt=St.parseCard8(),At=1,Wt=0;Wt<lt;Wt+=1)for(var $t=St.parseCard8(),Yt=St.parseCard8(),qt=$t;qt<=$t+Yt;qt+=1)ke[qt]=At,At+=1}return new ht(ke,Ze)}(S,U+H.encoding,we),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new ft.GlyphSet(N);for(var Ue=0;Ue<N.nGlyphs;Ue+=1){var Fe=ae.objects[Ue];N.glyphs.push(Ue,ft.cffGlyphLoader(N,Ue,nr,Fe))}},make:function(S,Ve){for(var N,H=new Me.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),X=1/Ve.unitsPerEm,X={version:Ve.version,fullName:Ve.fullName,familyName:Ve.familyName,weight:Ve.weightName,fontBBox:Ve.fontBBox||[0,0,0,0],fontMatrix:[X,0,0,X,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},ne=[],ae=1;ae<S.length;ae+=1)N=S.get(ae),ne.push(N.name);var we,Ue,Fe=[],Ve=(H.header=new Me.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),H.nameIndex=function(Ze){var ke=new Me.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);ke.names=[];for(var St=0;St<Ze.length;St+=1)ke.names.push({name:"name_"+St,type:"NAME",value:Ze[St]});return ke}([Ve.postScriptName]),Dn(X,Fe)),ot=(H.topDictIndex=xn(Ve),H.globalSubrIndex=new Me.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),H.charsets=function(Ze,ke){for(var St=new Me.Record("Charsets",[{name:"format",type:"Card8",value:0}]),ut=0;ut<Ze.length;ut+=1){var gt=Tr(Ze[ut],ke);St.fields.push({name:"glyph_"+ut,type:"SID",value:gt})}return St}(ne,Fe),H.charStringsIndex=On(S),H.privateDict=(ot={},we=Fe,(Ue=new Me.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=qn(rr,ot,we),Ue),H.stringIndex=function(Ze){var ke=new Me.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);ke.strings=[];for(var St=0;St<Ze.length;St+=1)ke.strings.push({name:"string_"+St,type:"STRING",value:Ze[St]});return ke}(Fe),H.header.sizeOf()+H.nameIndex.sizeOf()+H.topDictIndex.sizeOf()+H.stringIndex.sizeOf()+H.globalSubrIndex.sizeOf());return X.charset=ot,X.encoding=0,X.charStrings=X.charset+H.charsets.sizeOf(),X.private[1]=X.charStrings+H.charStringsIndex.sizeOf(),Ve=Dn(X,Fe),H.topDictIndex=xn(Ve),H}},Nn={parse:function(H,U){var N={},H=new Le.Parser(H,U);return N.version=H.parseVersion(),N.fontRevision=Math.round(1e3*H.parseFixed())/1e3,N.checkSumAdjustment=H.parseULong(),N.magicNumber=H.parseULong(),D.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=H.parseUShort(),N.unitsPerEm=H.parseUShort(),N.created=H.parseLongDateTime(),N.modified=H.parseLongDateTime(),N.xMin=H.parseShort(),N.yMin=H.parseShort(),N.xMax=H.parseShort(),N.yMax=H.parseShort(),N.macStyle=H.parseUShort(),N.lowestRecPPEM=H.parseUShort(),N.fontDirectionHint=H.parseShort(),N.indexToLocFormat=H.parseShort(),N.glyphDataFormat=H.parseShort(),N},make:function(S){var U=Math.round(new Date().getTime()/1e3)+2082844800,N=U;return S.createdTimestamp&&(N=S.createdTimestamp+2082844800),new Me.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:U},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],S)}},le={parse:function(H,U){var N={},H=new Le.Parser(H,U);return N.version=H.parseVersion(),N.ascender=H.parseShort(),N.descender=H.parseShort(),N.lineGap=H.parseShort(),N.advanceWidthMax=H.parseUShort(),N.minLeftSideBearing=H.parseShort(),N.minRightSideBearing=H.parseShort(),N.xMaxExtent=H.parseShort(),N.caretSlopeRise=H.parseShort(),N.caretSlopeRun=H.parseShort(),N.caretOffset=H.parseShort(),H.relativeOffset+=8,N.metricDataFormat=H.parseShort(),N.numberOfHMetrics=H.parseUShort(),N},make:function(S){return new Me.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],S)}},De={parse:function(S,U,N,H,X){for(var ne,ae,we=new Le.Parser(S,U),Ue=0;Ue<H;Ue+=1){Ue<N&&(ne=we.parseUShort(),ae=we.parseShort());var Fe=X.get(Ue);Fe.advanceWidth=ne,Fe.leftSideBearing=ae}},make:function(S){for(var U=new Me.Table("hmtx",[]),N=0;N<S.length;N+=1){var X=S.get(N),H=X.advanceWidth||0,X=X.leftSideBearing||0;U.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:H}),U.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:X})}return U}},We={make:function(S){for(var U=new Me.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:S.length}]),N="",H=12+4*S.length,X=0;X<S.length;++X){var ne=N.indexOf(S[X]);ne<0&&(ne=N.length,N+=S[X]),U.fields.push({name:"offset "+X,type:"USHORT",value:H+ne}),U.fields.push({name:"length "+X,type:"USHORT",value:S[X].length})}return U.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),U},parse:function(S,U){for(var N=new Le.Parser(S,U),H=N.parseULong(),X=(D.argument(H===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),ne=[],ae=0;ae<X;ae++){for(var we="",Ue=U+N.parseUShort(),Fe=N.parseUShort(),Ve=Ue;Ve<Ue+Fe;++Ve)we+=String.fromCharCode(S.getInt8(Ve));ne.push(we)}return ne}},Qe={parse:function(H,U){var N={},H=new Le.Parser(H,U);return N.version=H.parseVersion(),N.numGlyphs=H.parseUShort(),N.version===1&&(N.maxPoints=H.parseUShort(),N.maxContours=H.parseUShort(),N.maxCompositePoints=H.parseUShort(),N.maxCompositeContours=H.parseUShort(),N.maxZones=H.parseUShort(),N.maxTwilightPoints=H.parseUShort(),N.maxStorage=H.parseUShort(),N.maxFunctionDefs=H.parseUShort(),N.maxInstructionDefs=H.parseUShort(),N.maxStackElements=H.parseUShort(),N.maxSizeOfInstructions=H.parseUShort(),N.maxComponentElements=H.parseUShort(),N.maxComponentDepth=H.parseUShort()),N},make:function(S){return new Me.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:S}])}},it=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],tt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ut={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},_t={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Pt="utf-16",Bt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ht={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Kt(S,U,N){switch(S){case 0:return Pt;case 1:return Ht[N]||Bt[U];case 3:if(U===1||U===10)return Pt}}function lr(S){var U,N={};for(U in S)N[S[U]]=parseInt(U);return N}function wr(S,U,N,H,X,ne){return new Me.Record("NameRecord",[{name:"platformID",type:"USHORT",value:S},{name:"encodingID",type:"USHORT",value:U},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:H},{name:"length",type:"USHORT",value:X},{name:"offset",type:"USHORT",value:ne}])}function Fr(S,U){if((N=function(ne,ae){var we=ne.length,Ue=ae.length-we+1;e:for(var Fe=0;Fe<Ue;Fe++)for(;Fe<Ue;Fe++){for(var Ve=0;Ve<we;Ve++)if(ae[Fe+Ve]!==ne[Ve])continue e;return Fe}return-1}(S,U))<0)for(var N=U.length,H=0,X=S.length;H<X;++H)U.push(S[H]);return N}var Gr={parse:function(S,U,N){for(var H={},X=new Le.Parser(S,U),U=X.parseUShort(),ne=X.parseUShort(),ae=X.offset+X.parseUShort(),we=0;we<ne;we++){var St=X.parseUShort(),Ue=X.parseUShort(),Fe=X.parseUShort(),Ve=X.parseUShort(),Ve=it[Ve]||Ve,ot=X.parseUShort(),Ze=X.parseUShort(),ke=function(gt,lt,At){switch(gt){case 0:if(lt===65535)return"und";if(At)return At[lt];break;case 1:return tt[lt];case 3:return _t[lt]}}(St,Fe,N),St=Kt(St,Ue,Fe);St!==void 0&&ke!==void 0&&(Ue=void 0,(Ue=St===Pt?V.UTF16(S,ae+Ze,ot):V.MACSTRING(S,ae+Ze,ot,St))&&((Fe=(Fe=H[Ve])===void 0?H[Ve]={}:Fe)[ke]=Ue))}return U===1&&X.parseUShort(),H},make:function(S,U){var N,H=[],X={},ne=lr(it);for(N in S){var ae=ne[N];if(ae===void 0&&(ae=N),Ze=parseInt(ae),isNaN(Ze))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');X[Ze]=S[N],H.push(Ze)}for(var we=lr(tt),Ue=lr(_t),Fe=[],Ve=[],ot=0;ot<H.length;ot++){var Ze,ke,St=X[Ze=H[ot]];for(ke in St){var ut=St[ke],$t=1,gt=we[ke],lt=Ut[gt],At=Kt($t,lt,gt),At=q.MACSTRING(ut,At),Wt=(At===void 0&&($t=0,(gt=U.indexOf(ke))<0&&(gt=U.length,U.push(ke)),lt=4,At=q.UTF16(ut)),Fr(At,Ve)),$t=(Fe.push(wr($t,lt,gt,Ze,At.length,Wt)),Ue[ke]);$t!==void 0&&(gt=Fr(lt=q.UTF16(ut),Ve),Fe.push(wr(3,1,$t,Ze,lt.length,gt)))}}Fe.sort(function(dr,Sr){return dr.platformID-Sr.platformID||dr.encodingID-Sr.encodingID||dr.languageID-Sr.languageID||dr.nameID-Sr.nameID});for(var Yt=new Me.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Fe.length},{name:"stringOffset",type:"USHORT",value:6+12*Fe.length}]),qt=0;qt<Fe.length;qt++)Yt.fields.push({name:"record_"+qt,type:"RECORD",value:Fe[qt]});return Yt.fields.push({name:"strings",type:"LITERAL",value:Ve}),Yt}},_r=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Xt={parse:function(S,U){var N={},H=new Le.Parser(S,U);N.version=H.parseUShort(),N.xAvgCharWidth=H.parseShort(),N.usWeightClass=H.parseUShort(),N.usWidthClass=H.parseUShort(),N.fsType=H.parseUShort(),N.ySubscriptXSize=H.parseShort(),N.ySubscriptYSize=H.parseShort(),N.ySubscriptXOffset=H.parseShort(),N.ySubscriptYOffset=H.parseShort(),N.ySuperscriptXSize=H.parseShort(),N.ySuperscriptYSize=H.parseShort(),N.ySuperscriptXOffset=H.parseShort(),N.ySuperscriptYOffset=H.parseShort(),N.yStrikeoutSize=H.parseShort(),N.yStrikeoutPosition=H.parseShort(),N.sFamilyClass=H.parseShort(),N.panose=[];for(var X=0;X<10;X++)N.panose[X]=H.parseByte();return N.ulUnicodeRange1=H.parseULong(),N.ulUnicodeRange2=H.parseULong(),N.ulUnicodeRange3=H.parseULong(),N.ulUnicodeRange4=H.parseULong(),N.achVendID=String.fromCharCode(H.parseByte(),H.parseByte(),H.parseByte(),H.parseByte()),N.fsSelection=H.parseUShort(),N.usFirstCharIndex=H.parseUShort(),N.usLastCharIndex=H.parseUShort(),N.sTypoAscender=H.parseShort(),N.sTypoDescender=H.parseShort(),N.sTypoLineGap=H.parseShort(),N.usWinAscent=H.parseUShort(),N.usWinDescent=H.parseUShort(),1<=N.version&&(N.ulCodePageRange1=H.parseULong(),N.ulCodePageRange2=H.parseULong()),2<=N.version&&(N.sxHeight=H.parseShort(),N.sCapHeight=H.parseShort(),N.usDefaultChar=H.parseUShort(),N.usBreakChar=H.parseUShort(),N.usMaxContent=H.parseUShort()),N},make:function(S){return new Me.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],S)},unicodeRanges:_r,getUnicodeRange:function(S){for(var U=0;U<_r.length;U+=1){var N=_r[U];if(S>=N.begin&&S<N.end)return U}return-1}},Cs={parse:function(S,U){var N={},H=new Le.Parser(S,U);switch(N.version=H.parseVersion(),N.italicAngle=H.parseFixed(),N.underlinePosition=H.parseShort(),N.underlineThickness=H.parseShort(),N.isFixedPitch=H.parseULong(),N.minMemType42=H.parseULong(),N.maxMemType42=H.parseULong(),N.minMemType1=H.parseULong(),N.maxMemType1=H.parseULong(),N.version){case 1:N.names=Ee.slice();break;case 2:N.numberOfGlyphs=H.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var X=0;X<N.numberOfGlyphs;X++)N.glyphNameIndex[X]=H.parseUShort();N.names=[];for(var ne,ae=0;ae<N.numberOfGlyphs;ae++)N.glyphNameIndex[ae]>=Ee.length&&(ne=H.parseChar(),N.names.push(H.parseString(ne)));break;case 2.5:N.numberOfGlyphs=H.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var we=0;we<N.numberOfGlyphs;we++)N.offset[we]=H.parseChar()}return N},make:function(){return new Me.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},er=new Array(9),Ln=(er[1]=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();return U===1?{substFormat:1,coverage:this.parsePointer(Re.coverage),deltaGlyphId:this.parseUShort()}:U===2?{substFormat:2,coverage:this.parsePointer(Re.coverage),substitute:this.parseOffset16List()}:void D.assert(!1,"0x"+S.toString(16)+": lookup type 1 format must be 1 or 2.")},er[2]=function(){var S=this.parseUShort();return D.argument(S===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Re.coverage),sequences:this.parseListOfLists()}},er[3]=function(){var S=this.parseUShort();return D.argument(S===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Re.coverage),alternateSets:this.parseListOfLists()}},er[4]=function(){var S=this.parseUShort();return D.argument(S===1,"GSUB ligature table identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Re.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Re.uShort,lookupListIndex:Re.uShort});er[5]=function(){var S,U,N=this.offset+this.relativeOffset,H=this.parseUShort();return H===1?{substFormat:H,coverage:this.parsePointer(Re.coverage),ruleSets:this.parseListOfLists(function(){var X=this.parseUShort(),ne=this.parseUShort();return{input:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(ne,Ln)}})}:H===2?{substFormat:H,coverage:this.parsePointer(Re.coverage),classDef:this.parsePointer(Re.classDef),classSets:this.parseListOfLists(function(){var X=this.parseUShort(),ne=this.parseUShort();return{classes:this.parseUShortList(X-1),lookupRecords:this.parseRecordList(ne,Ln)}})}:H===3?(S=this.parseUShort(),U=this.parseUShort(),{substFormat:H,coverages:this.parseList(S,Re.pointer(Re.coverage)),lookupRecords:this.parseRecordList(U,Ln)}):void D.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},er[6]=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();return U===1?{substFormat:1,coverage:this.parsePointer(Re.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ln)}})}:U===2?{substFormat:2,coverage:this.parsePointer(Re.coverage),backtrackClassDef:this.parsePointer(Re.classDef),inputClassDef:this.parsePointer(Re.classDef),lookaheadClassDef:this.parsePointer(Re.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Ln)}})}:U===3?{substFormat:3,backtrackCoverage:this.parseList(Re.pointer(Re.coverage)),inputCoverage:this.parseList(Re.pointer(Re.coverage)),lookaheadCoverage:this.parseList(Re.pointer(Re.coverage)),lookupRecords:this.parseRecordList(Ln)}:void D.assert(!1,"0x"+S.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},er[7]=function(){var S=this.parseUShort(),S=(D.argument(S===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),U=new Re(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:S,extension:er[S].call(U)}},er[8]=function(){var S=this.parseUShort();return D.argument(S===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:S,coverage:this.parsePointer(Re.coverage),backtrackCoverage:this.parseList(Re.pointer(Re.coverage)),lookaheadCoverage:this.parseList(Re.pointer(Re.coverage)),substitutes:this.parseUShortList()}};var Gi=new Array(9);Gi[1]=function(S){return S.substFormat===1?new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Me.Coverage(S.coverage)},{name:"deltaGlyphID",type:"USHORT",value:S.deltaGlyphId}]):new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Me.Coverage(S.coverage)}].concat(Me.ushortList("substitute",S.substitute)))},Gi[3]=function(S){return D.assert(S.substFormat===1,"Lookup type 3 substFormat must be 1."),new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Me.Coverage(S.coverage)}].concat(Me.tableList("altSet",S.alternateSets,function(U){return new Me.Table("alternateSetTable",Me.ushortList("alternate",U))})))},Gi[4]=function(S){return D.assert(S.substFormat===1,"Lookup type 4 substFormat must be 1."),new Me.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Me.Coverage(S.coverage)}].concat(Me.tableList("ligSet",S.ligatureSets,function(U){return new Me.Table("ligatureSetTable",Me.tableList("ligature",U,function(N){return new Me.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat(Me.ushortList("component",N.components,N.components.length+1)))}))})))};var Fi={parse:function(S,U){return U=(S=new Re(S,U=U||0)).parseVersion(1),D.argument(U===1||U===1.1,"Unsupported GSUB table version."),U===1?{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(er)}:{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(er),variations:S.parseFeatureVariationsList()}},make:function(S){return new Me.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Me.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Me.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Me.LookupList(S.lookups,Gi)}])}},Vi={parse:function(S,U){for(var N=new Le.Parser(S,U),H=N.parseULong(),X=(D.argument(H===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),ne={},ae=0;ae<X;ae++){var we=N.parseTag(),Fe=N.parseULong(),Ue=N.parseULong(),Fe=V.UTF8(S,U+Fe,Ue);ne[we]=Fe}return ne},make:function(S){var U,N=Object.keys(S).length,H="",X=16+12*N,ne=new Me.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:X},{name:"numTags",type:"ULONG",value:N}]);for(U in S){var ae=H.length;H+=S[U],ne.fields.push({name:"tag "+U,type:"TAG",value:U}),ne.fields.push({name:"offset "+U,type:"ULONG",value:X+ae}),ne.fields.push({name:"length "+U,type:"ULONG",value:S[U].length})}return ne.fields.push({name:"stringPool",type:"CHARARRAY",value:H}),ne}};function un(S){return Math.log(S)/Math.log(2)|0}function hn(S){for(;S.length%4!=0;)S.push(0);for(var U=0,N=0;N<S.length;N+=4)U+=(S[N]<<24)+(S[N+1]<<16)+(S[N+2]<<8)+S[N+3];return U%=Math.pow(2,32)}function Ui(S,U,N,H){return new Me.Record("Table Record",[{name:"tag",type:"TAG",value:S!==void 0?S:""},{name:"checkSum",type:"ULONG",value:U!==void 0?U:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:H!==void 0?H:0}])}function Rr(S){for(var U=new Me.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(U.tables=S,U.numTables=S.length,Math.pow(2,un(U.numTables))),H=(U.searchRange=16*N,U.entrySelector=un(N),U.rangeShift=16*U.numTables-U.searchRange,[]),X=[],ne=U.sizeOf()+Ui().sizeOf()*U.numTables;ne%4!=0;)ne+=1,X.push({name:"padding",type:"BYTE",value:0});for(var ae=0;ae<S.length;ae+=1){var we=S[ae],Ue=(D.argument(we.tableName.length===4,"Table name"+we.tableName+" is invalid."),we.sizeOf()),Fe=Ui(we.tableName,hn(we.encode()),ne,Ue);for(H.push({name:Fe.tag+" Table Record",type:"RECORD",value:Fe}),X.push({name:we.tableName+" table",type:"RECORD",value:we}),ne+=Ue,D.argument(!isNaN(ne),"Something went wrong calculating the offset.");ne%4!=0;)ne+=1,X.push({name:"padding",type:"BYTE",value:0})}return H.sort(function(Ve,ot){return Ve.value.tag>ot.value.tag?1:-1}),U.fields=U.fields.concat(H),U.fields=U.fields.concat(X),U}function zi(S,U,N){for(var H=0;H<U.length;H+=1){var X=S.charToGlyphIndex(U[H]);if(0<X)return S.glyphs.get(X).getMetrics()}return N}var Mo={make:Rr,fontToTable:function(S){for(var U,N=[],H=[],X=[],ne=[],ae=[],we=[],Ue=[],Fe=0,Ve=0,ot=0,Ze=0,ke=0,St=0;St<S.glyphs.length;St+=1){var ut=S.glyphs.get(St),gt=0|ut.unicode;if(isNaN(ut.advanceWidth))throw new Error("Glyph "+ut.name+" ("+St+"): advanceWidth is not a number.");(gt<U||U===void 0)&&0<gt&&(U=gt),Fe<gt&&(Fe=gt);var gt=Xt.getUnicodeRange(gt);if(gt<32)Ve|=1<<gt;else if(gt<64)ot|=1<<gt-32;else if(gt<96)Ze|=1<<gt-64;else{if(!(gt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ke|=1<<gt-96}ut.name!==".notdef"&&(gt=ut.getMetrics(),N.push(gt.xMin),H.push(gt.yMin),X.push(gt.xMax),ne.push(gt.yMax),we.push(gt.leftSideBearing),Ue.push(gt.rightSideBearing),ae.push(ut.advanceWidth))}var lt,At={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,H),xMax:Math.max.apply(null,X),yMax:Math.max.apply(null,ne),advanceWidthMax:Math.max.apply(null,ae),advanceWidthAvg:function(ln){for(var Si=0,Qn=0;Qn<ln.length;Qn+=1)Si+=ln[Qn];return Si/ln.length}(ae),minLeftSideBearing:Math.min.apply(null,we),maxLeftSideBearing:Math.max.apply(null,we),minRightSideBearing:Math.min.apply(null,Ue)},Wt=(At.ascender=S.ascender,At.descender=S.descender,Nn.make({flags:3,unitsPerEm:S.unitsPerEm,xMin:At.xMin,yMin:At.yMin,xMax:At.xMax,yMax:At.yMax,lowestRecPPEM:3,createdTimestamp:S.createdTimestamp})),$t=le.make({ascender:At.ascender,descender:At.descender,advanceWidthMax:At.advanceWidthMax,minLeftSideBearing:At.minLeftSideBearing,minRightSideBearing:At.minRightSideBearing,xMaxExtent:At.maxLeftSideBearing+(At.xMax-At.xMin),numberOfHMetrics:S.glyphs.length}),Yt=Qe.make(S.glyphs.length),qt=Xt.make({xAvgCharWidth:Math.round(At.advanceWidthAvg),usWeightClass:S.tables.os2.usWeightClass,usWidthClass:S.tables.os2.usWidthClass,usFirstCharIndex:U,usLastCharIndex:Fe,ulUnicodeRange1:Ve,ulUnicodeRange2:ot,ulUnicodeRange3:Ze,ulUnicodeRange4:ke,fsSelection:S.tables.os2.fsSelection,sTypoAscender:At.ascender,sTypoDescender:At.descender,sTypoLineGap:0,usWinAscent:At.yMax,usWinDescent:Math.abs(At.yMin),ulCodePageRange1:1,sxHeight:zi(S,"xyvw",{yMax:Math.round(At.ascender/2)}).yMax,sCapHeight:zi(S,"HIKLEFJMNTZBDPRAGOQSUVWXY",At).yMax,usDefaultChar:S.hasChar(" ")?32:0,usBreakChar:S.hasChar(" ")?32:0}),dr=De.make(S.glyphs),Sr=he.make(S.glyphs),Lr=S.getEnglishName("fontFamily"),yr=S.getEnglishName("fontSubfamily"),br=Lr+" "+yr,Vr=(Vr=S.getEnglishName("postScriptName"))||Lr.replace(/\s/g,"")+"-"+yr,on={};for(lt in S.names)on[lt]=S.names[lt];on.uniqueID||(on.uniqueID={en:S.getEnglishName("manufacturer")+":"+br}),on.postScriptName||(on.postScriptName={en:Vr}),on.preferredFamily||(on.preferredFamily=S.names.fontFamily),on.preferredSubfamily||(on.preferredSubfamily=S.names.fontSubfamily);var tn=[],Sn=Gr.make(on,tn),tn=0<tn.length?We.make(tn):void 0,an=Cs.make(),br=Tn.make(S.glyphs,{version:S.getEnglishName("version"),fullName:br,familyName:Lr,weightName:yr,postScriptName:Vr,unitsPerEm:S.unitsPerEm,fontBBox:[0,At.yMin,At.ascender,At.advanceWidthMax]}),Lr=S.metas&&0<Object.keys(S.metas).length?Vi.make(S.metas):void 0,yr=[Wt,$t,Yt,qt,Sn,Sr,an,br,dr];tn&&yr.push(tn),S.tables.gsub&&yr.push(Fi.make(S.tables.gsub)),Lr&&yr.push(Lr);for(var Jr=hn((Vr=Rr(yr)).encode()),Dr=Vr.fields,Nr=!1,Pr=0;Pr<Dr.length;Pr+=1)if(Dr[Pr].name==="head table"){Dr[Pr].value.checkSumAdjustment=2981146554-Jr,Nr=!0;break}if(Nr)return Vr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:hn};function Ms(S,U){for(var N=0,H=S.length-1;N<=H;){var X=N+H>>>1,ne=S[X].tag;if(ne===U)return X;ne<U?N=1+X:H=X-1}return-N-1}function fa(S,U){for(var N=0,H=S.length-1;N<=H;){var X=N+H>>>1,ne=S[X];if(ne===U)return X;ne<U?N=1+X:H=X-1}return-N-1}function $a(S,U){for(var N=0,H=S.length-1;N<=H;){var X,ne=N+H>>>1,ae=(X=S[ne]).start;if(ae===U)return X;ae<U?N=1+ne:H=ne-1}if(0<N)return U>(X=S[N-1]).end?0:X}function qs(S,U){this.font=S,this.tableName=U}function To(S){qs.call(this,S,"gpos")}function $n(S){qs.call(this,S,"gsub")}function el(S,U,N){for(var H=S.subtables,X=0;X<H.length;X++){var ne=H[X];if(ne.substFormat===U)return ne}if(N)return H.push(N),N}function tl(S){for(var U=new ArrayBuffer(S.length),N=new Uint8Array(U),H=0;H<S.length;++H)N[H]=S[H];return U}function Ts(S,U){if(!S)throw U}function Wi(S,U,N,H,X){var ne=0<(U&H)?(ne=S.parseByte(),N+(ne=U&X?ne:-ne)):0<(U&X)?N:N+S.parseShort();return ne}function Lo(S,U,N){var H,X=new Le.Parser(U,N);if(S.numberOfContours=X.parseShort(),S._xMin=X.parseShort(),S._yMin=X.parseShort(),S._xMax=X.parseShort(),S._yMax=X.parseShort(),0<S.numberOfContours){for(var ne=S.endPointIndices=[],ae=0;ae<S.numberOfContours;ae+=1)ne.push(X.parseUShort());S.instructionLength=X.parseUShort(),S.instructions=[];for(var we=0;we<S.instructionLength;we+=1)S.instructions.push(X.parseByte());for(var Ue=ne[ne.length-1]+1,Fe=[],Ve=0;Ve<Ue;Ve+=1)if(H=X.parseByte(),Fe.push(H),0<(8&H))for(var ot=X.parseByte(),Ze=0;Ze<ot;Ze+=1)Fe.push(H),Ve+=1;if(D.argument(Fe.length===Ue,"Bad flags."),0<ne.length){var ke,St=[];if(0<Ue){for(var ut=0;ut<Ue;ut+=1)H=Fe[ut],(ke={}).onCurve=!!(1&H),ke.lastPointOfContour=0<=ne.indexOf(ut),St.push(ke);for(var gt=0,lt=0;lt<Ue;lt+=1)H=Fe[lt],(ke=St[lt]).x=Wi(X,H,gt,2,16),gt=ke.x;for(var At=0,Wt=0;Wt<Ue;Wt+=1)H=Fe[Wt],(ke=St[Wt]).y=Wi(X,H,At,4,32),At=ke.y}S.points=St}else S.points=[]}else if(S.numberOfContours===0)S.points=[];else{S.isComposite=!0,S.points=[],S.components=[];for(var $t=!0;$t;){Fe=X.parseUShort();var Yt={glyphIndex:X.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Fe)?0<(2&Fe)?(Yt.dx=X.parseShort(),Yt.dy=X.parseShort()):Yt.matchedPoints=[X.parseUShort(),X.parseUShort()]:0<(2&Fe)?(Yt.dx=X.parseChar(),Yt.dy=X.parseChar()):Yt.matchedPoints=[X.parseByte(),X.parseByte()],0<(8&Fe)?Yt.xScale=Yt.yScale=X.parseF2Dot14():0<(64&Fe)?(Yt.xScale=X.parseF2Dot14(),Yt.yScale=X.parseF2Dot14()):0<(128&Fe)&&(Yt.xScale=X.parseF2Dot14(),Yt.scale01=X.parseF2Dot14(),Yt.scale10=X.parseF2Dot14(),Yt.yScale=X.parseF2Dot14()),S.components.push(Yt),$t=!!(32&Fe)}if(256&Fe){S.instructionLength=X.parseUShort(),S.instructions=[];for(var qt=0;qt<S.instructionLength;qt+=1)S.instructions.push(X.parseByte())}}}function Ls(S,U){for(var N=[],H=0;H<S.length;H+=1){var X=S[H],X={x:U.xScale*X.x+U.scale01*X.y+U.dx,y:U.scale10*X.x+U.yScale*X.y+U.dy,onCurve:X.onCurve,lastPointOfContour:X.lastPointOfContour};N.push(X)}return N}function pa(S){var U=new te;if(S)for(var N=function(ot){for(var Ze=[],ke=[],St=0;St<ot.length;St+=1){var ut=ot[St];ke.push(ut),ut.lastPointOfContour&&(Ze.push(ke),ke=[])}return D.argument(ke.length===0,"There are still points left in the current contour."),Ze}(S),H=0;H<N.length;++H){var X,ne=N[H],ae=ne[ne.length-1],we=ne[0];ae.onCurve?U.moveTo(ae.x,ae.y):we.onCurve?U.moveTo(we.x,we.y):(X={x:.5*(ae.x+we.x),y:.5*(ae.y+we.y)},U.moveTo(X.x,X.y));for(var Ue=0;Ue<ne.length;++Ue){var Fe,Ve=ae,ae=we,we=ne[(Ue+1)%ne.length];ae.onCurve?U.lineTo(ae.x,ae.y):(Fe=we,Ve.onCurve||(ae.x,Ve.x,ae.y,Ve.y),we.onCurve||(Fe={x:.5*(ae.x+we.x),y:.5*(ae.y+we.y)}),U.quadraticCurveTo(ae.x,ae.y,Fe.x,Fe.y))}U.closePath()}return U}function kn(S,U){if(U.isComposite)for(var N=0;N<U.components.length;N+=1){var H=U.components[N],X=S.get(H.glyphIndex);if(X.getPath(),X.points){var ne=void 0;if(H.matchedPoints===void 0)ne=Ls(X.points,H);else{if(H.matchedPoints[0]>U.points.length-1||H.matchedPoints[1]>X.points.length-1)throw Error("Matched points out of range in "+U.name);var ae=U.points[H.matchedPoints[0]],we=X.points[H.matchedPoints[1]],H={xScale:H.xScale,scale01:H.scale01,scale10:H.scale10,yScale:H.yScale,dx:0,dy:0},we=Ls([we],H)[0];H.dx=ae.x-we.x,H.dy=ae.y-we.y,ne=Ls(X.points,H)}U.points=U.points.concat(ne)}}return pa(U.points)}(To.prototype=qs.prototype={searchTag:Ms,binSearch:fa,getTable:function(S){var U=this.font.tables[this.tableName];return U=!U&&S?this.font.tables[this.tableName]=this.createDefaultTable():U},getScriptNames:function(){var S=this.getTable();return S?S.scripts.map(function(U){return U.tag}):[]},getDefaultScriptName:function(){var S=this.getTable();if(S){for(var U=!1,N=0;N<S.scripts.length;N++){var H=S.scripts[N].tag;if(H==="DFLT")return H;H==="latn"&&(U=!0)}return U?"latn":void 0}},getScriptTable:function(S,U){var N,H=this.getTable(U);if(H)return N=H.scripts,0<=(H=Ms(H.scripts,S=S||"DFLT"))?N[H].script:U?(N.splice(-1-H,0,U={tag:S,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),U.script):void 0},getLangSysTable:function(X,U,N){var H,X=this.getScriptTable(X,N);if(X)return U&&U!=="dflt"&&U!=="DFLT"?0<=(H=Ms(X.langSysRecords,U))?X.langSysRecords[H].langSys:N?(X.langSysRecords.splice(-1-H,0,N={tag:U,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:X.defaultLangSys},getFeatureTable:function(S,U,N,H){if(S=this.getLangSysTable(S,U,H),S){for(var X,ne=S.featureIndexes,ae=this.font.tables[this.tableName].features,we=0;we<ne.length;we++)if((X=ae[ne[we]]).tag===N)return X.feature;if(H)return U=ae.length,D.assert(U===0||N>=ae[U-1].tag,"Features must be added in alphabetical order."),ae.push(X={tag:N,feature:{params:0,lookupListIndexes:[]}}),ne.push(U),X.feature}},getLookupTables:function(ne,U,N,H,X){var ne=this.getFeatureTable(ne,U,N,X),ae=[];if(ne){for(var we,Ue=ne.lookupListIndexes,Fe=this.font.tables[this.tableName].lookups,Ve=0;Ve<Ue.length;Ve++)(we=Fe[Ue[Ve]]).lookupType===H&&ae.push(we);if(ae.length===0&&X)return U=Fe.length,Fe.push(we={lookupType:H,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ue.push(U),[we]}return ae},getGlyphClass:function(S,U){switch(S.format){case 1:return S.startGlyph<=U&&U<S.startGlyph+S.classes.length?S.classes[U-S.startGlyph]:0;case 2:var N=$a(S.ranges,U);return N?N.classId:0}},getCoverageIndex:function(S,U){switch(S.format){case 1:var N=fa(S.glyphs,U);return 0<=N?N:-1;case 2:return N=$a(S.ranges,U),N?N.index+U-N.start:-1}},expandCoverage:function(S){if(S.format===1)return S.glyphs;for(var U=[],N=S.ranges,H=0;H<N.length;H++)for(var X=N[H],ne=X.start,ae=X.end,we=ne;we<=ae;we++)U.push(we);return U}}).init=function(){var S=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(S)},To.prototype.getKerningValue=function(S,U,N){for(var H=0;H<S.length;H++)for(var X=S[H].subtables,ne=0;ne<X.length;ne++){var ae=X[ne],we=this.getCoverageIndex(ae.coverage,U);if(!(we<0))switch(ae.posFormat){case 1:for(var Ue=ae.pairSets[we],Fe=0;Fe<Ue.length;Fe++){var Ve=Ue[Fe];if(Ve.secondGlyph===N)return Ve.value1&&Ve.value1.xAdvance||0}break;case 2:var Ze=this.getGlyphClass(ae.classDef1,U),ot=this.getGlyphClass(ae.classDef2,N),Ze=ae.classRecords[Ze][ot];return Ze.value1&&Ze.value1.xAdvance||0}}return 0},To.prototype.getKerningTables=function(S,U){if(this.font.tables.gpos)return this.getLookupTables(S,U,"kern",2)},($n.prototype=qs.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},$n.prototype.getSingle=function(S,U,N){for(var H=[],X=this.getLookupTables(U,N,S,1),ne=0;ne<X.length;ne++)for(var ae=X[ne].subtables,we=0;we<ae.length;we++){var Ue=ae[we],Fe=this.expandCoverage(Ue.coverage),Ve=void 0;if(Ue.substFormat===1)for(var ot=Ue.deltaGlyphId,Ve=0;Ve<Fe.length;Ve++){var Ze=Fe[Ve];H.push({sub:Ze,by:Ze+ot})}else{var ke=Ue.substitute;for(Ve=0;Ve<Fe.length;Ve++)H.push({sub:Fe[Ve],by:ke[Ve]})}}return H},$n.prototype.getAlternates=function(S,U,N){for(var H=[],X=this.getLookupTables(U,N,S,3),ne=0;ne<X.length;ne++)for(var ae=X[ne].subtables,we=0;we<ae.length;we++)for(var Ue=ae[we],Fe=this.expandCoverage(Ue.coverage),Ve=Ue.alternateSets,ot=0;ot<Fe.length;ot++)H.push({sub:Fe[ot],by:Ve[ot]});return H},$n.prototype.getLigatures=function(S,U,N){for(var H=[],X=this.getLookupTables(U,N,S,4),ne=0;ne<X.length;ne++)for(var ae=X[ne].subtables,we=0;we<ae.length;we++)for(var Ue=ae[we],Fe=this.expandCoverage(Ue.coverage),Ve=Ue.ligatureSets,ot=0;ot<Fe.length;ot++)for(var Ze=Fe[ot],ke=Ve[ot],St=0;St<ke.length;St++){var ut=ke[St];H.push({sub:[Ze].concat(ut.components),by:ut.ligGlyph})}return H},$n.prototype.addSingle=function(S,U,N,H){N=el(this.getLookupTables(N,H,S,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),D.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),H=U.sub,S=this.binSearch(N.coverage.glyphs,H),S<0&&(N.coverage.glyphs.splice(S=-1-S,0,H),N.substitute.splice(S,0,0)),N.substitute[S]=U.by},$n.prototype.addAlternate=function(S,U,N,H){N=el(this.getLookupTables(N,H,S,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),D.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),H=U.sub,S=this.binSearch(N.coverage.glyphs,H),S<0&&(N.coverage.glyphs.splice(S=-1-S,0,H),N.alternateSets.splice(S,0,0)),N.alternateSets[S]=U.by},$n.prototype.addLigature=function(ne,Ue,we,X){var we=this.getLookupTables(we,X,ne,4,!0)[0],X=we.subtables[0],ne=(X||(we.subtables[0]=X={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),D.assert(X.coverage.format===1,"Ligature: unable to modify coverage table format "+X.coverage.format),Ue.sub[0]),ae=Ue.sub.slice(1),we={ligGlyph:Ue.by,components:ae},Ue=this.binSearch(X.coverage.glyphs,ne);if(0<=Ue){for(var Fe=X.ligatureSets[Ue],Ve=0;Ve<Fe.length;Ve++)if(function(ot,Ze){var ke=ot.length;if(ke===Ze.length){for(var St=0;St<ke;St++)if(ot[St]!==Ze[St])return;return 1}}(Fe[Ve].components,ae))return;Fe.push(we)}else X.coverage.glyphs.splice(Ue=-1-Ue,0,ne),X.ligatureSets.splice(Ue,0,[we])},$n.prototype.getFeature=function(S,U,N){if(/ss\d\d/.test(S))return this.getSingle(S,U,N);switch(S){case"aalt":case"salt":return this.getSingle(S,U,N).concat(this.getAlternates(S,U,N));case"dlig":case"liga":case"rlig":return this.getLigatures(S,U,N)}},$n.prototype.add=function(S,U,N,H){if(/ss\d\d/.test(S))return this.addSingle(S,U,N,H);switch(S){case"aalt":case"salt":return typeof U.by=="number"?this.addSingle(S,U,N,H):this.addAlternate(S,U,N,H);case"dlig":case"liga":case"rlig":return this.addLigature(S,U,N,H)}};var rl={getPath:pa,parse:function(S,U,N,H){for(var X=new ft.GlyphSet(H),ne=0;ne<N.length-1;ne+=1){var ae=N[ne];ae!==N[ne+1]?X.push(ne,ft.ttfGlyphLoader(H,ne,Lo,S,U+ae,kn)):X.push(ne,ft.glyphLoader(H,ne))}return X}};function ma(S){this.font=S,this.getCommands=function(U){return rl.getPath(U).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function cr(S){return S}function nl(S){return Math.sign(S)*Math.round(Math.abs(S))}function mA(S){return Math.sign(S)*Math.round(Math.abs(2*S))/2}function Ki(S){return Math.sign(S)*(Math.round(Math.abs(S)+.5)-.5)}function il(S){return Math.sign(S)*Math.ceil(Math.abs(S))}function sl(S){return Math.sign(S)*Math.floor(Math.abs(S))}function Xs(S){var U=this.srPeriod,N=this.srPhase,H=1;return S<0&&(S=-S,H=-1),S+=this.srThreshold-N,S=Math.trunc(S/U)*U,(S+=N)<0?N*H:S*H}var ei={x:1,y:0,axis:"x",distance:function(S,U,N,H){return(N?S.xo:S.x)-(H?U.xo:U.x)},interpolate:function(S,U,N,H){var X,ne,ae,we,Ue,Fe,Ve;if(!H||H===this)return X=S.xo-U.xo,ne=S.xo-N.xo,Ue=U.x-U.xo,Fe=N.x-N.xo,(Ve=(ae=Math.abs(X))+(we=Math.abs(ne)))===0?void(S.x=S.xo+(Ue+Fe)/2):void(S.x=S.xo+(Ue*we+Fe*ae)/Ve);X=H.distance(S,U,!0,!0),ne=H.distance(S,N,!0,!0),Ue=H.distance(U,U,!1,!0),Fe=H.distance(N,N,!1,!0),(Ve=(ae=Math.abs(X))+(we=Math.abs(ne)))===0?ei.setRelative(S,S,(Ue+Fe)/2,H,!0):ei.setRelative(S,S,(Ue*we+Fe*ae)/Ve,H,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(S,U,N,H,X){var ne,ae;H&&H!==this?(ne=X?U.xo:U.x,ae=X?U.yo:U.y,ne+=N*H.x,ae+=N*H.y,S.x=ne+(S.y-ae)/H.normalSlope):S.x=(X?U.xo:U.x)+N},slope:0,touch:function(S){S.xTouched=!0},touched:function(S){return S.xTouched},untouch:function(S){S.xTouched=!1}},Ii={x:0,y:1,axis:"y",distance:function(S,U,N,H){return(N?S.yo:S.y)-(H?U.yo:U.y)},interpolate:function(S,U,N,H){var X,ne,ae,we,Ue,Fe,Ve;if(!H||H===this)return X=S.yo-U.yo,ne=S.yo-N.yo,Ue=U.y-U.yo,Fe=N.y-N.yo,(Ve=(ae=Math.abs(X))+(we=Math.abs(ne)))===0?void(S.y=S.yo+(Ue+Fe)/2):void(S.y=S.yo+(Ue*we+Fe*ae)/Ve);X=H.distance(S,U,!0,!0),ne=H.distance(S,N,!0,!0),Ue=H.distance(U,U,!1,!0),Fe=H.distance(N,N,!1,!0),(Ve=(ae=Math.abs(X))+(we=Math.abs(ne)))===0?Ii.setRelative(S,S,(Ue+Fe)/2,H,!0):Ii.setRelative(S,S,(Ue*we+Fe*ae)/Ve,H,!0)},normalSlope:0,setRelative:function(S,U,N,H,X){var ne,ae;H&&H!==this?(ne=X?U.xo:U.x,ae=X?U.yo:U.y,ne+=N*H.x,ae+=N*H.y,S.y=ae+H.normalSlope*(S.x-ne)):S.y=(X?U.yo:U.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(S){S.yTouched=!0},touched:function(S){return S.yTouched},untouch:function(S){S.yTouched=!1}};function Ys(S,U){this.x=S,this.y=U,this.axis=void 0,this.slope=U/S,this.normalSlope=-S/U,Object.freeze(this)}function Js(S,U){var N=Math.sqrt(S*S+U*U);return U/=N,(S/=N)===1&&U===0?ei:S===0&&U===1?Ii:new Ys(S,U)}function ci(S,U,N,H){this.x=this.xo=Math.round(64*S)/64,this.y=this.yo=Math.round(64*U)/64,this.lastPointOfContour=N,this.onCurve=H,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(ei),Object.freeze(Ii),Ys.prototype.distance=function(S,U,N,H){return this.x*ei.distance(S,U,N,H)+this.y*Ii.distance(S,U,N,H)},Ys.prototype.interpolate=function(S,X,ne,H){var ae=H.distance(S,X,!0,!0),we=H.distance(S,ne,!0,!0),X=H.distance(X,X,!1,!0),ne=H.distance(ne,ne,!1,!0),ae=Math.abs(ae),we=Math.abs(we),Ue=ae+we;Ue===0?this.setRelative(S,S,(X+ne)/2,H,!0):this.setRelative(S,S,(X*we+ne*ae)/Ue,H,!0)},Ys.prototype.setRelative=function(S,ne,Ue,Fe,we){var ae=we?ne.xo:ne.x,we=we?ne.yo:ne.y,ne=ae+Ue*(Fe=Fe||this).x,ae=we+Ue*Fe.y,we=Fe.normalSlope,Ue=this.slope,Fe=S.x,Ve=S.y;S.x=(Ue*Fe-we*ne+ae-Ve)/(Ue-we),S.y=Ue*(S.x-Fe)+Ve},Ys.prototype.touch=function(S){S.xTouched=!0,S.yTouched=!0},ci.prototype.nextTouched=function(S){for(var U=this.nextPointOnContour;!S.touched(U)&&U!==this;)U=U.nextPointOnContour;return U},ci.prototype.prevTouched=function(S){for(var U=this.prevPointOnContour;!S.touched(U)&&U!==this;)U=U.prevPointOnContour;return U};var Pi=Object.freeze(new ci(0,0)),Fs={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function qi(S,U){switch(this.env=S,this.stack=[],this.prog=U,S){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=ei,this.round=nl}}function Xi(S){for(var U=S.tZone=new Array(S.gZone.length),N=0;N<U.length;N++)U[N]=new ci(0,0)}function Fo(S,U){var N,H=S.prog,X=S.ip,ne=1;do if((N=H[++X])===88)ne++;else if(N===89)ne--;else if(N===64)X+=H[X+1]+1;else if(N===65)X+=2*H[X+1]+1;else if(176<=N&&N<=183)X+=N-176+1;else if(184<=N&&N<=191)X+=2*(N-184+1);else if(U&&ne===1&&N===27)break;while(0<ne);S.ip=X}function Zs(S,U){u.DEBUG&&console.log(U.step,"SVTCA["+S.axis+"]"),U.fv=U.pv=U.dpv=S}function ga(S,U){u.DEBUG&&console.log(U.step,"SPVTCA["+S.axis+"]"),U.pv=U.dpv=S}function ya(S,U){u.DEBUG&&console.log(U.step,"SFVTCA["+S.axis+"]"),U.fv=S}function va(S,U){var N,X=U.stack,H=X.pop(),X=X.pop(),ne=U.z2[H],ae=U.z1[X];u.DEBUG&&console.log("SPVTL["+S+"]",H,X),H=S?(N=ne.y-ae.y,ae.x-ne.x):(N=ae.x-ne.x,ae.y-ne.y),U.pv=U.dpv=Js(N,H)}function ba(S,U){var N,X=U.stack,H=X.pop(),X=X.pop(),ne=U.z2[H],ae=U.z1[X];u.DEBUG&&console.log("SFVTL["+S+"]",H,X),H=S?(N=ne.y-ae.y,ae.x-ne.x):(N=ae.x-ne.x,ae.y-ne.y),U.fv=Js(N,H)}function ji(S){u.DEBUG&&console.log(S.step,"POP[]"),S.stack.pop()}function cs(S,U){var N=U.stack.pop(),H=U.z0[N],X=U.fv,ne=U.pv,ae=(u.DEBUG&&console.log(U.step,"MDAP["+S+"]",N),ne.distance(H,Pi));S&&(ae=U.round(ae)),X.setRelative(H,Pi,ae,ne),X.touch(H),U.rp0=U.rp1=N}function ol(S,U){var N,H,X,ne=U.z2,ae=ne.length-2;u.DEBUG&&console.log(U.step,"IUP["+S.axis+"]");for(var we=0;we<ae;we++)N=ne[we],S.touched(N)||(H=N.prevTouched(S))!==N&&(H===(X=N.nextTouched(S))&&S.setRelative(N,N,S.distance(H,H,!1,!0),S,!0),S.interpolate(N,H,X,S))}function us(S,U){for(var N=U.stack,H=S?U.rp1:U.rp2,X=(S?U.z0:U.z1)[H],ne=U.fv,ae=U.pv,we=U.loop,Ue=U.z2;we--;){var Fe=N.pop(),Ve=Ue[Fe],ot=ae.distance(X,X,!1,!0);ne.setRelative(Ve,Ve,ot,ae),ne.touch(Ve),u.DEBUG&&console.log(U.step,(1<U.loop?"loop "+(U.loop-we)+": ":"")+"SHP["+(S?"rp1":"rp2")+"]",Fe)}U.loop=1}function bi(S,U){for(var N=U.stack,ae=S?U.rp1:U.rp2,H=(S?U.z0:U.z1)[ae],X=U.fv,ne=U.pv,ae=N.pop(),we=U.z2[U.contours[ae]],Ue=we,Fe=(u.DEBUG&&console.log(U.step,"SHC["+S+"]",ae),ne.distance(H,H,!1,!0));Ue!==H&&X.setRelative(Ue,Ue,Fe,ne),(Ue=Ue.nextPointOnContour)!==we;);}function Uo(S,U){var N,H,we=U.stack,X=S?U.rp1:U.rp2,X=(S?U.z0:U.z1)[X],ne=U.fv,ae=U.pv,we=we.pop();switch(u.DEBUG&&console.log(U.step,"SHZ["+S+"]",we),we){case 0:N=U.tZone;break;case 1:N=U.gZone;break;default:throw new Error("Invalid zone")}for(var Ue=ae.distance(X,X,!1,!0),Fe=N.length-2,Ve=0;Ve<Fe;Ve++)H=N[Ve],ne.setRelative(H,H,Ue,ae)}function Us(S,U){var H=U.stack,N=H.pop()/64,H=H.pop(),X=U.z1[H],ne=U.z0[U.rp0],ae=U.fv,we=U.pv;ae.setRelative(X,ne,N,we),ae.touch(X),u.DEBUG&&console.log(U.step,"MSIRP["+S+"]",N,H),U.rp1=U.rp0,U.rp2=H,S&&(U.rp0=H)}function al(S,U){var N=U.stack,we=N.pop(),N=N.pop(),H=U.z0[N],X=U.fv,ne=U.pv,ae=U.cvt[we],we=(u.DEBUG&&console.log(U.step,"MIAP["+S+"]",we,"(",ae,")",N),ne.distance(H,Pi));S&&(Math.abs(we-ae)<U.cvCutIn&&(we=ae),we=U.round(we)),X.setRelative(H,Pi,we,ne),U.zp0===0&&(H.xo=H.x,H.yo=H.y),X.touch(H),U.rp0=U.rp1=N}function $s(S,U){var N=U.stack,H=N.pop(),X=U.z2[H];u.DEBUG&&console.log(U.step,"GC["+S+"]",H),N.push(64*U.dpv.distance(X,Pi,S,!1))}function ll(S,U){var H=U.stack,N=H.pop(),H=H.pop(),X=U.z1[N],ne=U.z0[H],ne=U.dpv.distance(ne,X,S,S);u.DEBUG&&console.log(U.step,"MD["+S+"]",N,H,"->",ne),U.stack.push(Math.round(64*ne))}function eo(S,U){var N=U.stack,H=N.pop(),X=U.fv,ne=U.pv,ae=U.ppem,we=U.deltaBase+16*(S-1),Ue=U.deltaShift,Fe=U.z0;u.DEBUG&&console.log(U.step,"DELTAP["+S+"]",H,N);for(var Ve=0;Ve<H;Ve++){var ot=N.pop(),Ze=N.pop();we+((240&Ze)>>4)===ae&&(0<=(Ze=(15&Ze)-8)&&Ze++,u.DEBUG&&console.log(U.step,"DELTAPFIX",ot,"by",Ze*Ue),ot=Fe[ot],X.setRelative(ot,ot,Ze*Ue,ne))}}function Is(S,U){var N=U.stack,H=N.pop();u.DEBUG&&console.log(U.step,"ROUND[]"),N.push(64*U.round(H/64))}function Io(S,U){var N=U.stack,H=N.pop(),X=U.ppem,ne=U.deltaBase+16*(S-1),ae=U.deltaShift;u.DEBUG&&console.log(U.step,"DELTAC["+S+"]",H,N);for(var we=0;we<H;we++){var Ue=N.pop(),Fe=N.pop();ne+((240&Fe)>>4)===X&&(0<=(Fe=(15&Fe)-8)&&Fe++,Fe=Fe*ae,u.DEBUG&&console.log(U.step,"DELTACFIX",Ue,"by",Fe),U.cvt[Ue]+=Fe)}}function to(S,U){var N,X=U.stack,H=X.pop(),X=X.pop(),ne=U.z2[H],ae=U.z1[X];u.DEBUG&&console.log(U.step,"SDPVTL["+S+"]",H,X),H=S?(N=ne.y-ae.y,ae.x-ne.x):(N=ae.x-ne.x,ae.y-ne.y),U.dpv=Js(N,H)}function wi(S,U){var N=U.stack,H=U.prog,X=U.ip;u.DEBUG&&console.log(U.step,"PUSHB["+S+"]");for(var ne=0;ne<S;ne++)N.push(H[++X]);U.ip=X}function _i(S,U){var N=U.ip,H=U.prog,X=U.stack;u.DEBUG&&console.log(U.ip,"PUSHW["+S+"]");for(var ne=0;ne<S;ne++){var ae=H[++N]<<8|H[++N];32768&ae&&(ae=-(1+(65535^ae))),X.push(ae)}U.ip=N}function Vt(S,U,N,H,X,ne){var ae,we,Fe=ne.stack,Ue=S&&Fe.pop(),Fe=Fe.pop(),Ve=ne.rp0,Ve=ne.z0[Ve],ot=ne.z1[Fe],Ze=ne.minDis,ke=ne.fv,St=ne.dpv,ut=ae=St.distance(ot,Ve,!0,!0),gt=0<=ut?1:-1;ut=Math.abs(ut),S&&(we=ne.cvt[Ue],H&&Math.abs(ut-we)<ne.cvCutIn&&(ut=we)),N&&ut<Ze&&(ut=Ze),H&&(ut=ne.round(ut)),ke.setRelative(ot,Ve,gt*ut,St),ke.touch(ot),u.DEBUG&&console.log(ne.step,(S?"MIRP[":"MDRP[")+(U?"M":"m")+(N?">":"_")+(H?"R":"_")+(X===0?"Gr":X===1?"Bl":X===2?"Wh":"")+"]",S?Ue+"("+ne.cvt[Ue]+","+we+")":"",Fe,"(d =",ae,"->",gt*ut,")"),ne.rp1=ne.rp0,ne.rp2=Fe,U&&(ne.rp0=Fe)}ma.prototype.exec=function(S,U){if(typeof U!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,H=this._prepState;if(!H||H.ppem!==U){var X=this._fpgmState;if(!X){qi.prototype=Fs,(X=this._fpgmState=new qi("fpgm",N.tables.fpgm)).funcs=[],X.font=N,u.DEBUG&&(console.log("---EXEC FPGM---"),X.step=-1);try{xi(X)}catch(Fe){return console.log("Hinting error in FPGM:"+Fe),void(this._errorState=3)}}qi.prototype=X,(H=this._prepState=new qi("prep",N.tables.prep)).ppem=U;var ne=N.tables.cvt;if(ne)for(var ae=H.cvt=new Array(ne.length),we=U/N.unitsPerEm,Ue=0;Ue<ne.length;Ue++)ae[Ue]=ne[Ue]*we;else H.cvt=[];u.DEBUG&&(console.log("---EXEC PREP---"),H.step=-1);try{xi(H)}catch(Fe){this._errorState<2&&console.log("Hinting error in PREP:"+Fe),this._errorState=2}}if(!(1<this._errorState))try{return gA(S,H)}catch(Fe){this._errorState<1&&(console.log("Hinting error:"+Fe),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var gA=function(S,U){var N=U.ppem/U.font.unitsPerEm,H=N,X=S.components;if(qi.prototype=U,X){for(var ne=U.font,ae=[],we=[],Ue=0;Ue<X.length;Ue++){var Fe=X[Ue],Ve=ne.glyphs.get(Fe.glyphIndex),ot=new qi("glyf",Ve.instructions);u.DEBUG&&(console.log("---EXEC COMP "+Ue+"---"),ot.step=-1),ro(Ve,ot,N,H);for(var Ze=Math.round(Fe.dx*N),ke=Math.round(Fe.dy*H),St=ot.gZone,ut=ot.contours,gt=0;gt<St.length;gt++){var lt=St[gt];lt.xTouched=lt.yTouched=!1,lt.xo=lt.x=lt.x+Ze,lt.yo=lt.y=lt.y+ke}var At=ae.length;ae.push.apply(ae,St);for(var Wt=0;Wt<ut.length;Wt++)we.push(ut[Wt]+At)}S.instructions&&!ot.inhibitGridFit&&((ot=new qi("glyf",S.instructions)).gZone=ot.z0=ot.z1=ot.z2=ae,ot.contours=we,ae.push(new ci(0,0),new ci(Math.round(S.advanceWidth*N),0)),u.DEBUG&&(console.log("---EXEC COMPOSITE---"),ot.step=-1),xi(ot),ae.length-=2)}else ot=new qi("glyf",S.instructions),u.DEBUG&&(console.log("---EXEC GLYPH---"),ot.step=-1),ro(S,ot,N,H),ae=ot.gZone;return ae},ro=function(S,U,N,H){for(var X,ne,ae,we=S.points||[],Ue=we.length,Fe=U.gZone=U.z0=U.z1=U.z2=[],Ve=U.contours=[],ot=0;ot<Ue;ot++)X=we[ot],Fe[ot]=new ci(X.x*N,X.y*H,X.lastPointOfContour,X.onCurve);for(var Ze=0;Ze<Ue;Ze++)X=Fe[Ze],ne||(ne=X,Ve.push(Ze)),X.lastPointOfContour?((X.nextPointOnContour=ne).prevPointOnContour=X,ne=void 0):(ae=Fe[Ze+1],(X.nextPointOnContour=ae).prevPointOnContour=X);if(!U.inhibitGridFit){if(u.DEBUG){console.log("PROCESSING GLYPH",U.stack);for(var ke=0;ke<Ue;ke++)console.log(ke,Fe[ke].x,Fe[ke].y)}if(Fe.push(new ci(0,0),new ci(Math.round(S.advanceWidth*N),0)),xi(U),Fe.length-=2,u.DEBUG){console.log("FINISHED GLYPH",U.stack);for(var St=0;St<Ue;St++)console.log(St,Fe[St].x,Fe[St].y)}}},xi=function(S){var U=S.prog;if(U){var N,H=U.length;for(S.ip=0;S.ip<H;S.ip++){if(u.DEBUG&&S.step++,!(N=wa[U[S.ip]]))throw new Error("unknown instruction: 0x"+Number(U[S.ip]).toString(16));N(S)}}},wa=[Zs.bind(void 0,Ii),Zs.bind(void 0,ei),ga.bind(void 0,Ii),ga.bind(void 0,ei),ya.bind(void 0,Ii),ya.bind(void 0,ei),va.bind(void 0,0),va.bind(void 0,1),ba.bind(void 0,0),ba.bind(void 0,1),function(S){var U=(N=S.stack).pop(),N=N.pop();u.DEBUG&&console.log(S.step,"SPVFS[]",U,N),S.pv=S.dpv=Js(N,U)},function(S){var U=(N=S.stack).pop(),N=N.pop();u.DEBUG&&console.log(S.step,"SPVFS[]",U,N),S.fv=Js(N,U)},function(S){var U=S.stack,N=S.pv;u.DEBUG&&console.log(S.step,"GPV[]"),U.push(16384*N.x),U.push(16384*N.y)},function(S){var U=S.stack,N=S.fv;u.DEBUG&&console.log(S.step,"GFV[]"),U.push(16384*N.x),U.push(16384*N.y)},function(S){S.fv=S.pv,u.DEBUG&&console.log(S.step,"SFVTPV[]")},function(U){var N=(ae=U.stack).pop(),H=ae.pop(),X=ae.pop(),ne=ae.pop(),ae=ae.pop(),Ue=U.z0,Ve=U.z1,we=Ue[N],Ue=Ue[H],Fe=Ve[X],Ve=Ve[ne],U=U.z2[ae],N=(u.DEBUG&&console.log("ISECT[], ",N,H,X,ne,ae),we.x),H=we.y,X=Ue.x,ne=Ue.y,ae=Fe.x,we=Fe.y,Ue=Ve.x,Fe=Ve.y,Ve=(N-X)*(we-Fe)-(H-ne)*(ae-Ue),ot=N*ne-H*X,Ze=ae*Fe-we*Ue;U.x=(ot*(ae-Ue)-Ze*(N-X))/Ve,U.y=(ot*(we-Fe)-Ze*(H-ne))/Ve},function(S){S.rp0=S.stack.pop(),u.DEBUG&&console.log(S.step,"SRP0[]",S.rp0)},function(S){S.rp1=S.stack.pop(),u.DEBUG&&console.log(S.step,"SRP1[]",S.rp1)},function(S){S.rp2=S.stack.pop(),u.DEBUG&&console.log(S.step,"SRP2[]",S.rp2)},function(S){var U=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"SZP0[]",U),S.zp0=U){case 0:S.tZone||Xi(S),S.z0=S.tZone;break;case 1:S.z0=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var U=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"SZP1[]",U),S.zp1=U){case 0:S.tZone||Xi(S),S.z1=S.tZone;break;case 1:S.z1=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var U=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"SZP2[]",U),S.zp2=U){case 0:S.tZone||Xi(S),S.z2=S.tZone;break;case 1:S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){var U=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"SZPS[]",U),S.zp0=S.zp1=S.zp2=U){case 0:S.tZone||Xi(S),S.z0=S.z1=S.z2=S.tZone;break;case 1:S.z0=S.z1=S.z2=S.gZone;break;default:throw new Error("Invalid zone pointer")}},function(S){S.loop=S.stack.pop(),u.DEBUG&&console.log(S.step,"SLOOP[]",S.loop)},function(S){u.DEBUG&&console.log(S.step,"RTG[]"),S.round=nl},function(S){u.DEBUG&&console.log(S.step,"RTHG[]"),S.round=Ki},function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"SMD[]",U),S.minDis=U/64},function(S){u.DEBUG&&console.log(S.step,"ELSE[]"),Fo(S,!1)},function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"JMPR[]",U),S.ip+=U-1},function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"SCVTCI[]",U),S.cvCutIn=U/64},void 0,void 0,function(S){var U=S.stack;u.DEBUG&&console.log(S.step,"DUP[]"),U.push(U[U.length-1])},ji,function(S){u.DEBUG&&console.log(S.step,"CLEAR[]"),S.stack.length=0},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"SWAP[]"),U.push(N),U.push(H)},function(S){var U=S.stack;u.DEBUG&&console.log(S.step,"DEPTH[]"),U.push(U.length)},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"CINDEX[]",N),U.push(U[U.length-N])},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"MINDEX[]",N),U.push(U.splice(U.length-N,1)[0])},void 0,void 0,void 0,function(S){var U=(H=S.stack).pop(),N=H.pop(),H=(u.DEBUG&&console.log(S.step,"LOOPCALL[]",U,N),S.ip),X=S.prog;S.prog=S.funcs[U];for(var ne=0;ne<N;ne++)xi(S),u.DEBUG&&console.log(++S.step,ne+1<N?"next loopcall":"done loopcall",ne);S.ip=H,S.prog=X},function(S){var U=S.stack.pop(),N=(u.DEBUG&&console.log(S.step,"CALL[]",U),S.ip),H=S.prog;S.prog=S.funcs[U],xi(S),S.ip=N,S.prog=H,u.DEBUG&&console.log(++S.step,"returning from",U)},function(S){if(S.env!=="fpgm")throw new Error("FDEF not allowed here");var H=S.stack,U=S.prog,N=S.ip,H=H.pop(),X=N;for(u.DEBUG&&console.log(S.step,"FDEF[]",H);U[++N]!==45;);S.ip=N,S.funcs[H]=U.slice(X+1,N)},void 0,cs.bind(void 0,0),cs.bind(void 0,1),ol.bind(void 0,Ii),ol.bind(void 0,ei),us.bind(void 0,0),us.bind(void 0,1),bi.bind(void 0,0),bi.bind(void 0,1),Uo.bind(void 0,0),Uo.bind(void 0,1),function(S){for(var U=S.stack,N=S.loop,H=S.fv,X=U.pop()/64,ne=S.z2;N--;){var ae=U.pop(),we=ne[ae];u.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-N)+": ":"")+"SHPIX[]",ae,X),H.setRelative(we,we,X),H.touch(we)}S.loop=1},function(S){for(var U=S.stack,N=S.rp1,H=S.rp2,X=S.loop,ne=S.z0[N],ae=S.z1[H],we=S.fv,Ue=S.dpv,Fe=S.z2;X--;){var Ve=U.pop(),ot=Fe[Ve];u.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-X)+": ":"")+"IP[]",Ve,N,"<->",H),we.interpolate(ot,ne,ae,Ue),we.touch(ot)}S.loop=1},Us.bind(void 0,0),Us.bind(void 0,1),function(S){for(var U=S.stack,N=S.rp0,H=S.z0[N],X=S.loop,ne=S.fv,ae=S.pv,we=S.z1;X--;){var Ue=U.pop(),Fe=we[Ue];u.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-X)+": ":"")+"ALIGNRP[]",Ue),ne.setRelative(Fe,H,0,ae),ne.touch(Fe)}S.loop=1},function(S){u.DEBUG&&console.log(S.step,"RTDG[]"),S.round=mA},al.bind(void 0,0),al.bind(void 0,1),function(S){var U=S.prog,N=S.ip,H=S.stack,X=U[++N];u.DEBUG&&console.log(S.step,"NPUSHB[]",X);for(var ne=0;ne<X;ne++)H.push(U[++N]);S.ip=N},function(S){var U=S.ip,N=S.prog,H=S.stack,X=N[++U];u.DEBUG&&console.log(S.step,"NPUSHW[]",X);for(var ne=0;ne<X;ne++){var ae=N[++U]<<8|N[++U];32768&ae&&(ae=-(1+(65535^ae))),H.push(ae)}S.ip=U},function(S){var H=S.stack,U=(U=S.store)||(S.store=[]),N=H.pop(),H=H.pop();u.DEBUG&&console.log(S.step,"WS",N,H),U[H]=N},function(X){var U=X.stack,N=X.store,H=U.pop(),X=(u.DEBUG&&console.log(X.step,"RS",H),N&&N[H]||0);U.push(X)},function(S){var U=(N=S.stack).pop(),N=N.pop();u.DEBUG&&console.log(S.step,"WCVTP",U,N),S.cvt[N]=U/64},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"RCVT",N),U.push(64*S.cvt[N])},$s.bind(void 0,0),$s.bind(void 0,1),void 0,ll.bind(void 0,0),ll.bind(void 0,1),function(S){u.DEBUG&&console.log(S.step,"MPPEM[]"),S.stack.push(S.ppem)},void 0,function(S){u.DEBUG&&console.log(S.step,"FLIPON[]"),S.autoFlip=!0},void 0,void 0,function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"LT[]",N,H),U.push(H<N?1:0)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"LTEQ[]",N,H),U.push(H<=N?1:0)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"GT[]",N,H),U.push(N<H?1:0)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"GTEQ[]",N,H),U.push(N<=H?1:0)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"EQ[]",N,H),U.push(N===H?1:0)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"NEQ[]",N,H),U.push(N!==H?1:0)},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"ODD[]",N),U.push(Math.trunc(N)%2?1:0)},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"EVEN[]",N),U.push(Math.trunc(N)%2?0:1)},function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"IF[]",U),U||(Fo(S,!0),u.DEBUG&&console.log(S.step,"EIF[]"))},function(S){u.DEBUG&&console.log(S.step,"EIF[]")},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"AND[]",N,H),U.push(N&&H?1:0)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"OR[]",N,H),U.push(N||H?1:0)},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"NOT[]",N),U.push(N?0:1)},eo.bind(void 0,1),function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"SDB[]",U),S.deltaBase=U},function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"SDS[]",U),S.deltaShift=Math.pow(.5,U)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"ADD[]",N,H),U.push(H+N)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"SUB[]",N,H),U.push(H-N)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"DIV[]",N,H),U.push(64*H/N)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"MUL[]",N,H),U.push(H*N/64)},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"ABS[]",N),U.push(Math.abs(N))},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"NEG[]",N),U.push(-N)},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"FLOOR[]",N),U.push(64*Math.floor(N/64))},function(S){var U=S.stack,N=U.pop();u.DEBUG&&console.log(S.step,"CEILING[]",N),U.push(64*Math.ceil(N/64))},Is.bind(void 0,0),Is.bind(void 0,1),Is.bind(void 0,2),Is.bind(void 0,3),void 0,void 0,void 0,void 0,function(S){var U=(N=S.stack).pop(),N=N.pop();u.DEBUG&&console.log(S.step,"WCVTF[]",U,N),S.cvt[N]=U*S.ppem/S.font.unitsPerEm},eo.bind(void 0,2),eo.bind(void 0,3),Io.bind(void 0,1),Io.bind(void 0,2),Io.bind(void 0,3),function(S){var U,N=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"SROUND[]",N),S.round=Xs,192&N){case 0:U=.5;break;case 64:U=1;break;case 128:U=2;break;default:throw new Error("invalid SROUND value")}switch(S.srPeriod=U,48&N){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*U;break;case 32:S.srPhase=.5*U;break;case 48:S.srPhase=.75*U;break;default:throw new Error("invalid SROUND value")}S.srThreshold=(N&=15)===0?0:(N/8-.5)*U},function(S){var U,N=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"S45ROUND[]",N),S.round=Xs,192&N){case 0:U=Math.sqrt(2)/2;break;case 64:U=Math.sqrt(2);break;case 128:U=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(S.srPeriod=U,48&N){case 0:S.srPhase=0;break;case 16:S.srPhase=.25*U;break;case 32:S.srPhase=.5*U;break;case 48:S.srPhase=.75*U;break;default:throw new Error("invalid S45ROUND value")}S.srThreshold=(N&=15)===0?0:(N/8-.5)*U},void 0,void 0,function(S){u.DEBUG&&console.log(S.step,"ROFF[]"),S.round=cr},void 0,function(S){u.DEBUG&&console.log(S.step,"RUTG[]"),S.round=il},function(S){u.DEBUG&&console.log(S.step,"RDTG[]"),S.round=sl},ji,ji,void 0,void 0,void 0,void 0,void 0,function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"SCANCTRL[]",U)},to.bind(void 0,0),to.bind(void 0,1),function(S){var U=S.stack,N=U.pop(),H=0;u.DEBUG&&console.log(S.step,"GETINFO[]",N),1&N&&(H=35),32&N&&(H|=4096),U.push(H)},void 0,function(S){var U=S.stack,N=U.pop(),H=U.pop(),X=U.pop();u.DEBUG&&console.log(S.step,"ROLL[]"),U.push(H),U.push(N),U.push(X)},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"MAX[]",N,H),U.push(Math.max(H,N))},function(S){var U=S.stack,N=U.pop(),H=U.pop();u.DEBUG&&console.log(S.step,"MIN[]",N,H),U.push(Math.min(H,N))},function(S){var U=S.stack.pop();u.DEBUG&&console.log(S.step,"SCANTYPE[]",U)},function(S){var U=S.stack.pop(),N=S.stack.pop();switch(u.DEBUG&&console.log(S.step,"INSTCTRL[]",U,N),U){case 1:return void(S.inhibitGridFit=!!N);case 2:return void(S.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,wi.bind(void 0,1),wi.bind(void 0,2),wi.bind(void 0,3),wi.bind(void 0,4),wi.bind(void 0,5),wi.bind(void 0,6),wi.bind(void 0,7),wi.bind(void 0,8),_i.bind(void 0,1),_i.bind(void 0,2),_i.bind(void 0,3),_i.bind(void 0,4),_i.bind(void 0,5),_i.bind(void 0,6),_i.bind(void 0,7),_i.bind(void 0,8),Vt.bind(void 0,0,0,0,0,0),Vt.bind(void 0,0,0,0,0,1),Vt.bind(void 0,0,0,0,0,2),Vt.bind(void 0,0,0,0,0,3),Vt.bind(void 0,0,0,0,1,0),Vt.bind(void 0,0,0,0,1,1),Vt.bind(void 0,0,0,0,1,2),Vt.bind(void 0,0,0,0,1,3),Vt.bind(void 0,0,0,1,0,0),Vt.bind(void 0,0,0,1,0,1),Vt.bind(void 0,0,0,1,0,2),Vt.bind(void 0,0,0,1,0,3),Vt.bind(void 0,0,0,1,1,0),Vt.bind(void 0,0,0,1,1,1),Vt.bind(void 0,0,0,1,1,2),Vt.bind(void 0,0,0,1,1,3),Vt.bind(void 0,0,1,0,0,0),Vt.bind(void 0,0,1,0,0,1),Vt.bind(void 0,0,1,0,0,2),Vt.bind(void 0,0,1,0,0,3),Vt.bind(void 0,0,1,0,1,0),Vt.bind(void 0,0,1,0,1,1),Vt.bind(void 0,0,1,0,1,2),Vt.bind(void 0,0,1,0,1,3),Vt.bind(void 0,0,1,1,0,0),Vt.bind(void 0,0,1,1,0,1),Vt.bind(void 0,0,1,1,0,2),Vt.bind(void 0,0,1,1,0,3),Vt.bind(void 0,0,1,1,1,0),Vt.bind(void 0,0,1,1,1,1),Vt.bind(void 0,0,1,1,1,2),Vt.bind(void 0,0,1,1,1,3),Vt.bind(void 0,1,0,0,0,0),Vt.bind(void 0,1,0,0,0,1),Vt.bind(void 0,1,0,0,0,2),Vt.bind(void 0,1,0,0,0,3),Vt.bind(void 0,1,0,0,1,0),Vt.bind(void 0,1,0,0,1,1),Vt.bind(void 0,1,0,0,1,2),Vt.bind(void 0,1,0,0,1,3),Vt.bind(void 0,1,0,1,0,0),Vt.bind(void 0,1,0,1,0,1),Vt.bind(void 0,1,0,1,0,2),Vt.bind(void 0,1,0,1,0,3),Vt.bind(void 0,1,0,1,1,0),Vt.bind(void 0,1,0,1,1,1),Vt.bind(void 0,1,0,1,1,2),Vt.bind(void 0,1,0,1,1,3),Vt.bind(void 0,1,1,0,0,0),Vt.bind(void 0,1,1,0,0,1),Vt.bind(void 0,1,1,0,0,2),Vt.bind(void 0,1,1,0,0,3),Vt.bind(void 0,1,1,0,1,0),Vt.bind(void 0,1,1,0,1,1),Vt.bind(void 0,1,1,0,1,2),Vt.bind(void 0,1,1,0,1,3),Vt.bind(void 0,1,1,1,0,0),Vt.bind(void 0,1,1,1,0,1),Vt.bind(void 0,1,1,1,0,2),Vt.bind(void 0,1,1,1,0,3),Vt.bind(void 0,1,1,1,1,0),Vt.bind(void 0,1,1,1,1,1),Vt.bind(void 0,1,1,1,1,2),Vt.bind(void 0,1,1,1,1,3)],Ps=Array.from||function(S){return S.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Ur(S){(S=S||{}).empty||(Ts(S.familyName,"When creating a new Font object, familyName is required."),Ts(S.styleName,"When creating a new Font object, styleName is required."),Ts(S.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ts(S.ascender,"When creating a new Font object, ascender is required."),Ts(S.descender,"When creating a new Font object, descender is required."),Ts(S.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:S.familyName||" "},fontSubfamily:{en:S.styleName||" "},fullName:{en:S.fullName||S.familyName+" "+S.styleName},postScriptName:{en:S.postScriptName||(S.familyName+S.styleName).replace(/\s/g,"")},designer:{en:S.designer||" "},designerURL:{en:S.designerURL||" "},manufacturer:{en:S.manufacturer||" "},manufacturerURL:{en:S.manufacturerURL||" "},license:{en:S.license||" "},licenseURL:{en:S.licenseURL||" "},version:{en:S.version||"Version 0.1"},description:{en:S.description||" "},copyright:{en:S.copyright||" "},trademark:{en:S.trademark||" "}},this.unitsPerEm=S.unitsPerEm||1e3,this.ascender=S.ascender,this.descender=S.descender,this.createdTimestamp=S.createdTimestamp,this.tables={os2:{usWeightClass:S.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:S.widthClass||this.usWidthClasses.MEDIUM,fsSelection:S.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ft.GlyphSet(this,S.glyphs||[]),this.encoding=new Ne(this),this.position=new To(this),this.substitution=new $n(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ma(this):void 0)}})}function K(S,U){var N,H=JSON.stringify(S),X=256;for(N in U){var ne=parseInt(N);if(ne&&!(ne<256)){if(JSON.stringify(U[N])===H)return ne;X<=ne&&(X=ne+1)}}return U[X]=S,X}Ur.prototype.hasChar=function(S){return this.encoding.charToGlyphIndex(S)!==null},Ur.prototype.charToGlyphIndex=function(S){return this.encoding.charToGlyphIndex(S)},Ur.prototype.charToGlyph=function(S){return S=this.charToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},Ur.prototype.stringToGlyphs=function(S,U){U=U||this.defaultRenderOptions;for(var N=Ps(S),H=[],X=0;X<N.length;X+=1){var ne=N[X];H.push(this.charToGlyphIndex(ne))}var ae=H.length;if(U.features){var S=U.script||this.substitution.getDefaultScriptName(),we=[];U.features.liga&&(we=we.concat(this.substitution.getFeature("liga",S,U.language))),U.features.rlig&&(we=we.concat(this.substitution.getFeature("rlig",S,U.language)));for(var Ue=0;Ue<ae;Ue+=1)for(var Fe=0;Fe<we.length;Fe++){for(var Ve=we[Fe],ot=Ve.sub,Ze=ot.length,ke=0;ke<Ze&&ot[ke]===H[Ue+ke];)ke++;ke===Ze&&(H.splice(Ue,Ze,Ve.by),ae=ae-Ze+1)}}for(var St=new Array(ae),ut=this.glyphs.get(0),gt=0;gt<ae;gt+=1)St[gt]=this.glyphs.get(H[gt])||ut;return St},Ur.prototype.nameToGlyphIndex=function(S){return this.glyphNames.nameToGlyphIndex(S)},Ur.prototype.nameToGlyph=function(S){return S=this.nameToGlyphIndex(S),this.glyphs.get(S)||this.glyphs.get(0)},Ur.prototype.glyphIndexToName=function(S){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(S):""},Ur.prototype.getKerningValue=function(S,U){S=S.index||S,U=U.index||U;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,S,U):this.kerningPairs[S+","+U]||0},Ur.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Ur.prototype.forEachGlyph=function(S,U,N,H,X,ne){U=U!==void 0?U:0,N=N!==void 0?N:0,X=X||this.defaultRenderOptions;var ae,we=1/this.unitsPerEm*(H=H!==void 0?H:72),Ue=this.stringToGlyphs(S,X);X.kerning&&(S=X.script||this.position.getDefaultScriptName(),ae=this.position.getKerningTables(S,X.language));for(var Fe=0;Fe<Ue.length;Fe+=1){var Ve=Ue[Fe];ne.call(this,Ve,U,N,H,X),Ve.advanceWidth&&(U+=Ve.advanceWidth*we),X.kerning&&Fe<Ue.length-1&&(U+=(ae?this.position.getKerningValue(ae,Ve.index,Ue[Fe+1].index):this.getKerningValue(Ve,Ue[Fe+1]))*we),X.letterSpacing?U+=X.letterSpacing*H:X.tracking&&(U+=X.tracking/1e3*H)}return U},Ur.prototype.getPath=function(S,U,N,H,X){var ne=new te;return this.forEachGlyph(S,U,N,H,X,function(ae,we,Ue,Fe){ae=ae.getPath(we,Ue,Fe,X,this),ne.extend(ae)}),ne},Ur.prototype.getPaths=function(S,U,N,H,X){var ne=[];return this.forEachGlyph(S,U,N,H,X,function(ae,we,Ue,Fe){ae=ae.getPath(we,Ue,Fe,X,this),ne.push(ae)}),ne},Ur.prototype.getAdvanceWidth=function(S,U,N){return this.forEachGlyph(S,0,0,U,N,function(){})},Ur.prototype.draw=function(S,U,N,H,X,ne){this.getPath(U,N,H,X,ne).draw(S)},Ur.prototype.drawPoints=function(S,U,N,H,X,ne){this.forEachGlyph(U,N,H,X,ne,function(ae,we,Ue,Fe){ae.drawPoints(S,we,Ue,Fe)})},Ur.prototype.drawMetrics=function(S,U,N,H,X,ne){this.forEachGlyph(U,N,H,X,ne,function(ae,we,Ue,Fe){ae.drawMetrics(S,we,Ue,Fe)})},Ur.prototype.getEnglishName=function(S){if(S=this.names[S],S)return S.en},Ur.prototype.validate=function(){var S=this;function U(N){N=S.getEnglishName(N),N&&N.trim().length}U("fontFamily"),U("weightName"),U("manufacturer"),U("copyright"),U("version"),this.unitsPerEm},Ur.prototype.toTables=function(){return Mo.fontToTable(this)},Ur.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Ur.prototype.toArrayBuffer=function(){for(var S=this.toTables().encode(),U=new ArrayBuffer(S.length),N=new Uint8Array(U),H=0;H<S.length;H++)N[H]=S[H];return U},Ur.prototype.download=function(S){var U=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),H=(S=S||U.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,H.byteLength,function(X){X.root.getFile(S,{create:!0},function(ne){ne.createWriter(function(ae){var we=new DataView(H),we=new Blob([we],{type:"font/opentype"});ae.write(we),ae.addEventListener("writeend",function(){location.href=ne.toURL()},!1)})})},function(X){throw new Error(X.name+": "+X.message)})):(U=t("fs"),N=function(X){for(var ne=new a(X.byteLength),ae=new Uint8Array(X),we=0;we<ne.length;++we)ne[we]=ae[we];return ne}(H),U.writeFileSync(S,N))},Ur.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Ur.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Ur.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ve={make:function(S,U){var N=new Me.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:S.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:S.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*S.axes.length}]);N.offsetToData=N.sizeOf();for(var H,X,ne,ae=0;ae<S.axes.length;ae++)N.fields=N.fields.concat((H=ae,X=S.axes[ae],ne=U,ne=K(X.name,U),[{name:"tag_"+H,type:"TAG",value:X.tag},{name:"minValue_"+H,type:"FIXED",value:X.minValue<<16},{name:"defaultValue_"+H,type:"FIXED",value:X.defaultValue<<16},{name:"maxValue_"+H,type:"FIXED",value:X.maxValue<<16},{name:"flags_"+H,type:"USHORT",value:0},{name:"nameID_"+H,type:"USHORT",value:ne}]));for(var we=0;we<S.instances.length;we++)N.fields=N.fields.concat(function(Ue,Fe,Ve,ot){for(var Ze=[{name:"nameID_"+Ue,type:"USHORT",value:K(Fe.name,ot)},{name:"flags_"+Ue,type:"USHORT",value:0}],ke=0;ke<Ve.length;++ke){var St=Ve[ke].tag;Ze.push({name:"axis_"+Ue+" "+St,type:"FIXED",value:Fe.coordinates[St]<<16})}return Ze}(we,S.instances[we],S.axes,U));return N},parse:function(S,U,N){for(var H,X,ne,ae,we=new Le.Parser(S,U),Ue=we.parseULong(),Fe=(D.argument(Ue===65536,"Unsupported fvar table version."),we.parseOffset16()),Ve=(we.skip("uShort",1),we.parseUShort()),ot=we.parseUShort(),Ze=we.parseUShort(),ke=we.parseUShort(),St=[],ut=0;ut<Ve;ut++)St.push((H=S,X=U+Fe+ut*ot,ne=N,ae={},H=new Le.Parser(H,X),ae.tag=H.parseTag(),ae.minValue=H.parseFixed(),ae.defaultValue=H.parseFixed(),ae.maxValue=H.parseFixed(),H.skip("uShort",1),ae.name=ne[H.parseUShort()]||{},ae));for(var gt=[],lt=U+Fe+Ve*ot,At=0;At<Ze;At++)gt.push(function(Wt,$t,Yt,qt){var dr={},Sr=new Le.Parser(Wt,$t);dr.name=qt[Sr.parseUShort()]||{},Sr.skip("uShort",1),dr.coordinates={};for(var Vr=0;Vr<Yt.length;++Vr)dr.coordinates[Yt[Vr].tag]=Sr.parseFixed();return dr}(S,lt+At*ke,St,N));return{axes:St,instances:gt}}},Oe=new Array(10);Oe[1]=function(){var S=this.offset+this.relativeOffset,U=this.parseUShort();return U===1?{posFormat:1,coverage:this.parsePointer(Re.coverage),value:this.parseValueRecord()}:U===2?{posFormat:2,coverage:this.parsePointer(Re.coverage),values:this.parseValueRecordList()}:void D.assert(!1,"0x"+S.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Oe[2]=function(){var S,U,N,H,ne=this.offset+this.relativeOffset,X=this.parseUShort(),ne=(D.assert(X===1||X===2,"0x"+ne.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Re.coverage)),ae=this.parseUShort(),we=this.parseUShort();return X===1?{posFormat:X,coverage:ne,valueFormat1:ae,valueFormat2:we,pairSets:this.parseList(Re.pointer(Re.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ae),value2:this.parseValueRecord(we)}})))}:X===2?(S=this.parsePointer(Re.classDef),U=this.parsePointer(Re.classDef),N=this.parseUShort(),H=this.parseUShort(),{posFormat:X,coverage:ne,valueFormat1:ae,valueFormat2:we,classDef1:S,classDef2:U,class1Count:N,class2Count:H,classRecords:this.parseList(N,Re.list(H,function(){return{value1:this.parseValueRecord(ae),value2:this.parseValueRecord(we)}}))}):void 0},Oe[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Oe[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Oe[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Oe[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Oe[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Oe[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Oe[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var qe=new Array(10),ct={parse:function(S,U){return U=(S=new Re(S,U=U||0)).parseVersion(1),D.argument(U===1||U===1.1,"Unsupported GPOS table version "+U),U===1?{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Oe)}:{version:U,scripts:S.parseScriptList(),features:S.parseFeatureList(),lookups:S.parseLookupList(Oe),variations:S.parseFeatureVariationsList()}},make:function(S){return new Me.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Me.ScriptList(S.scripts)},{name:"features",type:"TABLE",value:new Me.FeatureList(S.features)},{name:"lookups",type:"TABLE",value:new Me.LookupList(S.lookups,qe)}])}},xt={parse:function(S,U){if(S=new Le.Parser(S,U),(U=S.parseUShort())===0){var N=S,H={},ot=(N.skip("uShort"),N.parseUShort()),X=(D.argument(ot===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var ne=0;ne<X;ne+=1){var ae=N.parseUShort(),we=N.parseUShort(),Ue=N.parseShort();H[ae+","+we]=Ue}return H}if(U!==1)throw new Error("Unsupported kern table version ("+U+").");var Fe=S,Ve={},ot=(Fe.skip("uShort"),1<Fe.parseULong()&&console.warn("Only the first kern subtable is supported."),Fe.skip("uLong"),255&Fe.parseUShort());if(Fe.skip("uShort"),ot==0){var Ze=Fe.parseUShort();Fe.skip("uShort",3);for(var ke=0;ke<Ze;ke+=1){var St=Fe.parseUShort(),ut=Fe.parseUShort(),gt=Fe.parseShort();Ve[St+","+ut]=gt}}return Ve}},Ft={parse:function(S,U,N,H){for(var X=new Le.Parser(S,U),ne=H?X.parseUShort:X.parseULong,ae=[],we=0;we<N+1;we+=1){var Ue=ne.call(X);H&&(Ue*=2),ae.push(Ue)}return ae}};function kt(S,U){t("fs").readFile(S,function(N,H){if(N)return U(N.message);U(null,tl(H))})}function tr(S,U){var N=new XMLHttpRequest;N.open("get",S,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?U(null,N.response):U("Font could not be loaded: "+N.statusText)},N.onerror=function(){U("Font could not be loaded")},N.send()}function hr(S,U){for(var N=[],H=12,X=0;X<U;X+=1){var ne=Le.getTag(S,H),ae=Le.getULong(S,H+4),we=Le.getULong(S,H+8),Ue=Le.getULong(S,H+12);N.push({tag:ne,checksum:ae,offset:we,length:Ue,compression:!1}),H+=16}return N}function Zt(N,U){if(U.compression!=="WOFF")return{data:N,offset:U.offset};var N=new Uint8Array(N.buffer,U.offset+2,U.compressedLength-2),H=new Uint8Array(U.length);if(k(N,H),H.byteLength!==U.length)throw new Error("Decompression error: "+U.tag+" decompressed length doesn't match recorded length");return{data:new DataView(H.buffer,0),offset:0}}function xr(At){var U,N,H,X,ne,ae,we,Ue,Fe,Ve,ot,Ze,ke,St,ut=new Ur({empty:!0}),gt=new DataView(At,0),lt=[],At=Le.getTag(gt,0);if(At==="\0\0\0"||At==="true"||At==="typ1")ut.outlinesFormat="truetype",lt=hr(gt,H=Le.getUShort(gt,4));else if(At==="OTTO")ut.outlinesFormat="cff",lt=hr(gt,H=Le.getUShort(gt,4));else{if(At!=="wOFF")throw new Error("Unsupported OpenType signature "+At);var Wt=Le.getTag(gt,4);if(Wt==="\0\0\0")ut.outlinesFormat="truetype";else{if(Wt!=="OTTO")throw new Error("Unsupported OpenType flavor "+At);ut.outlinesFormat="cff"}lt=function(Lr,yr){for(var Jr=[],Dr=44,Nr=0;Nr<yr;Nr+=1){var Pr=Le.getTag(Lr,Dr),ln=Le.getULong(Lr,Dr+4),Si=Le.getULong(Lr,Dr+8),Qn=Le.getULong(Lr,Dr+12),Yi=void 0,Yi=Si<Qn&&"WOFF";Jr.push({tag:Pr,offset:ln,compression:Yi,compressedLength:Si,length:Qn}),Dr+=20}return Jr}(gt,H=Le.getUShort(gt,12))}for(var $t=0;$t<H;$t+=1){var Yt=lt[$t],qt=void 0;switch(Yt.tag){case"cmap":qt=Zt(gt,Yt),ut.tables.cmap=he.parse(qt.data,qt.offset),ut.encoding=new Je(ut.tables.cmap);break;case"cvt ":qt=Zt(gt,Yt),St=new Le.Parser(qt.data,qt.offset),ut.tables.cvt=St.parseShortList(Yt.length/2);break;case"fvar":ne=Yt;break;case"fpgm":qt=Zt(gt,Yt),St=new Le.Parser(qt.data,qt.offset),ut.tables.fpgm=St.parseByteList(Yt.length);break;case"head":qt=Zt(gt,Yt),ut.tables.head=Nn.parse(qt.data,qt.offset),ut.unitsPerEm=ut.tables.head.unitsPerEm,U=ut.tables.head.indexToLocFormat;break;case"hhea":qt=Zt(gt,Yt),ut.tables.hhea=le.parse(qt.data,qt.offset),ut.ascender=ut.tables.hhea.ascender,ut.descender=ut.tables.hhea.descender,ut.numberOfHMetrics=ut.tables.hhea.numberOfHMetrics;break;case"hmtx":Fe=Yt;break;case"ltag":qt=Zt(gt,Yt),N=We.parse(qt.data,qt.offset);break;case"maxp":qt=Zt(gt,Yt),ut.tables.maxp=Qe.parse(qt.data,qt.offset),ut.numGlyphs=ut.tables.maxp.numGlyphs;break;case"name":Ze=Yt;break;case"OS/2":qt=Zt(gt,Yt),ut.tables.os2=Xt.parse(qt.data,qt.offset);break;case"post":qt=Zt(gt,Yt),ut.tables.post=Cs.parse(qt.data,qt.offset),ut.glyphNames=new vt(ut.tables.post);break;case"prep":qt=Zt(gt,Yt),St=new Le.Parser(qt.data,qt.offset),ut.tables.prep=St.parseByteList(Yt.length);break;case"glyf":ae=Yt;break;case"loca":ot=Yt;break;case"CFF ":X=Yt;break;case"kern":Ve=Yt;break;case"GPOS":we=Yt;break;case"GSUB":Ue=Yt;break;case"meta":ke=Yt}}if(Wt=Zt(gt,Ze),ut.tables.name=Gr.parse(Wt.data,Wt.offset,N),ut.names=ut.tables.name,ae&&ot)At=U===0,Wt=Zt(gt,ot),Wt=Ft.parse(Wt.data,Wt.offset,ut.numGlyphs,At),At=Zt(gt,ae),ut.glyphs=rl.parse(At.data,At.offset,Wt,ut);else{if(!X)throw new Error("Font doesn't contain TrueType or CFF outlines.");At=Zt(gt,X),Tn.parse(At.data,At.offset,ut)}for(var Wt=Zt(gt,Fe),dr=(De.parse(Wt.data,Wt.offset,ut.numberOfHMetrics,ut.numGlyphs,ut.glyphs),ut),Sr=dr.tables.cmap.glyphIndexMap,Vr=Object.keys(Sr),on=0;on<Vr.length;on+=1){var Sn,tn=Vr[on],an=Sr[tn];(Sn=dr.glyphs.get(an)).addUnicode(parseInt(tn))}for(var br=0;br<dr.glyphs.length;br+=1)Sn=dr.glyphs.get(br),dr.cffEncoding?dr.isCIDFont?Sn.name="gid"+br:Sn.name=dr.cffEncoding.charset[br]:dr.glyphNames.names&&(Sn.name=dr.glyphNames.glyphIndexToName(br));return Ve?(At=Zt(gt,Ve),ut.kerningPairs=xt.parse(At.data,At.offset)):ut.kerningPairs={},we&&(Wt=Zt(gt,we),ut.tables.gpos=ct.parse(Wt.data,Wt.offset),ut.position.init()),Ue&&(At=Zt(gt,Ue),ut.tables.gsub=Fi.parse(At.data,At.offset)),ne&&(Wt=Zt(gt,ne),ut.tables.fvar=ve.parse(Wt.data,Wt.offset,ut.names)),ke&&(At=Zt(gt,ke),ut.tables.meta=Vi.parse(At.data,At.offset),ut.metas=ut.tables.meta),ut}u.Font=Ur,u.Glyph=Ie,u.Path=te,u.BoundingBox=Y,u._parse=Le,u.parse=xr,u.load=function(S,U){(typeof window>"u"?kt:tr)(S,function(N,H){if(N)return U(N);var X;try{X=xr(H)}catch(ne){return U(ne,null)}return U(null,X)})},u.loadSync=function(S){return xr(tl(t("fs").readFileSync(S)))},Object.defineProperty(u,"__esModule",{value:!0})},l(typeof s=="object"&&o!==void 0?s:A.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],250:[function(t,o,s){(function(a){function A(p,d){for(var c=0,h=p.length-1;0<=h;h--){var f=p[h];f==="."?p.splice(h,1):f===".."?(p.splice(h,1),c++):c&&(p.splice(h,1),c--)}if(d)for(;c--;)p.unshift("..");return p}function l(p,d){if(p.filter)return p.filter(d);for(var c=[],h=0;h<p.length;h++)d(p[h],h,p)&&c.push(p[h]);return c}s.resolve=function(){for(var p="",d=!1,c=arguments.length-1;-1<=c&&!d;c--){var h=0<=c?arguments[c]:a.cwd();if(typeof h!="string")throw new TypeError("Arguments to path.resolve must be strings");h&&(p=h+"/"+p,d=h.charAt(0)==="/")}return(d?"/":"")+(p=A(l(p.split("/"),function(f){return!!f}),!d).join("/"))||"."},s.normalize=function(p){var d=s.isAbsolute(p),c=u(p,-1)==="/";return(p=(p=A(l(p.split("/"),function(h){return!!h}),!d).join("/"))||d?p:".")&&c&&(p+="/"),(d?"/":"")+p},s.isAbsolute=function(p){return p.charAt(0)==="/"},s.join=function(){var p=Array.prototype.slice.call(arguments,0);return s.normalize(l(p,function(d,c){if(typeof d!="string")throw new TypeError("Arguments to path.join must be strings");return d}).join("/"))},s.relative=function(p,d){function c(v){for(var w=0;w<v.length&&v[w]==="";w++);for(var _=v.length-1;0<=_&&v[_]==="";_--);return _<w?[]:v.slice(w,_-w+1)}p=s.resolve(p).substr(1),d=s.resolve(d).substr(1);for(var h=c(p.split("/")),f=c(d.split("/")),g=Math.min(h.length,f.length),y=g,m=0;m<g;m++)if(h[m]!==f[m]){y=m;break}for(var b=[],m=y;m<h.length;m++)b.push("..");return(b=b.concat(f.slice(y))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(p){if(typeof p!="string"&&(p+=""),p.length===0)return".";for(var d=p.charCodeAt(0)===47,c=-1,h=!0,f=p.length-1;1<=f;--f)if(p.charCodeAt(f)===47){if(!h){c=f;break}}else h=!1;return c===-1?d?"/":".":d&&c===1?"/":p.slice(0,c)},s.basename=function(p,d){return p=function(c){typeof c!="string"&&(c+="");for(var h=0,f=-1,g=!0,y=c.length-1;0<=y;--y)if(c.charCodeAt(y)===47){if(!g){h=y+1;break}}else f===-1&&(g=!1,f=y+1);return f===-1?"":c.slice(h,f)}(p),p=d&&p.substr(-1*d.length)===d?p.substr(0,p.length-d.length):p},s.extname=function(p){typeof p!="string"&&(p+="");for(var d=-1,c=0,h=-1,f=!0,g=0,y=p.length-1;0<=y;--y){var m=p.charCodeAt(y);if(m===47){if(f)continue;c=y+1;break}h===-1&&(f=!1,h=y+1),m===46?d===-1?d=y:g!==1&&(g=1):d!==-1&&(g=-1)}return d===-1||h===-1||g===0||g===1&&d===h-1&&d===c+1?"":p.slice(d,h)};var u="ab".substr(-1)==="b"?function(p,d,c){return p.substr(d,c)}:function(p,d,c){return d<0&&(d=p.length+d),p.substr(d,c)}}).call(this,t("_process"))},{_process:251}],251:[function(t,l,s){var a,A,l=l.exports={};function u(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{A=typeof clearTimeout=="function"?clearTimeout:p}catch{A=p}function d(w){if(a===setTimeout)return setTimeout(w,0);if((a===u||!a)&&setTimeout)return(a=setTimeout)(w,0);try{return a(w,0)}catch{try{return a.call(null,w,0)}catch{return a.call(this,w,0)}}}var c,h=[],f=!1,g=-1;function y(){f&&c&&(f=!1,c.length?h=c.concat(h):g=-1,h.length&&m())}function m(){if(!f){for(var w=d(y),_=(f=!0,h.length);_;){for(c=h,h=[];++g<_;)c&&c[g].run();g=-1,_=h.length}c=null,f=!1,function(M){if(A===clearTimeout)return clearTimeout(M);if((A===p||!A)&&clearTimeout)return(A=clearTimeout)(M);try{A(M)}catch{try{return A.call(null,M)}catch{return A.call(this,M)}}}(w)}}function b(w,_){this.fun=w,this.array=_}function v(){}l.nextTick=function(w){var _=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)_[M-1]=arguments[M];h.push(new b(w,_)),h.length!==1||f||d(m)},b.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=v,l.addListener=v,l.once=v,l.off=v,l.removeListener=v,l.removeAllListeners=v,l.emit=v,l.prependListener=v,l.prependOnceListener=v,l.listeners=function(w){return[]},l.binding=function(w){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(w){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],252:[function(t,o,s){o=function(a){var A,l=Object.prototype,u=l.hasOwnProperty,x=typeof Symbol=="function"?Symbol:{},p=x.iterator||"@@iterator",d=x.asyncIterator||"@@asyncIterator",c=x.toStringTag||"@@toStringTag";function h(z,V,W,q){var te,R,L,D,V=V&&V.prototype instanceof w?V:w,V=Object.create(V.prototype),q=new j(q||[]);return V._invoke=(te=z,R=W,L=q,D=g,function(Z,se){if(D===m)throw new Error("Generator is already running");if(D===b){if(Z==="throw")throw se;return Q()}for(L.method=Z,L.arg=se;;){var fe=L.delegate;if(fe&&(fe=function be(pe,Ae){var ge=pe.iterator[Ae.method];if(ge===A){if(Ae.delegate=null,Ae.method==="throw"){if(pe.iterator.return&&(Ae.method="return",Ae.arg=A,be(pe,Ae),Ae.method==="throw"))return v;Ae.method="throw",Ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}if(ge=f(ge,pe.iterator,Ae.arg),ge.type==="throw")return Ae.method="throw",Ae.arg=ge.arg,Ae.delegate=null,v;if(ge=ge.arg,!ge)return Ae.method="throw",Ae.arg=new TypeError("iterator result is not an object"),Ae.delegate=null,v;{if(!ge.done)return ge;Ae[pe.resultName]=ge.value,Ae.next=pe.nextLoc,Ae.method!=="return"&&(Ae.method="next",Ae.arg=A)}return Ae.delegate=null,v}(fe,L),fe)){if(fe===v)continue;return fe}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(D===g)throw D=b,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);if(D=m,fe=f(te,R,L),fe.type==="normal"){if(D=L.done?b:y,fe.arg!==v)return{value:fe.arg,done:L.done}}else fe.type==="throw"&&(D=b,L.method="throw",L.arg=fe.arg)}}),V}function f(z,k,W){try{return{type:"normal",arg:z.call(k,W)}}catch(Y){return{type:"throw",arg:Y}}}a.wrap=h;var g="suspendedStart",y="suspendedYield",m="executing",b="completed",v={};function w(){}function _(){}function M(){}var x={},E=(x[p]=function(){return this},Object.getPrototypeOf),E=E&&E(E(O([]))),C=(E&&E!==l&&u.call(E,p)&&(x=E),M.prototype=w.prototype=Object.create(x));function T(z){["next","throw","return"].forEach(function(k){z[k]=function(W){return this._invoke(k,W)}})}function B(z){var k;this._invoke=function(W,Y){function te(){return new Promise(function(R,L){(function D(be,q,Z,se){var fe,be=f(z[be],z,q);if(be.type!=="throw")return(q=(fe=be.arg).value)&&typeof q=="object"&&u.call(q,"__await")?Promise.resolve(q.__await).then(function(pe){D("next",pe,Z,se)},function(pe){D("throw",pe,Z,se)}):Promise.resolve(q).then(function(pe){fe.value=pe,Z(fe)},function(pe){return D("throw",pe,Z,se)});se(be.arg)})(W,Y,R,L)})}return k=k?k.then(te,te):te()}}function P(z){var k={tryLoc:z[0]};1 in z&&(k.catchLoc=z[1]),2 in z&&(k.finallyLoc=z[2],k.afterLoc=z[3]),this.tryEntries.push(k)}function F(z){var k=z.completion||{};k.type="normal",delete k.arg,z.completion=k}function j(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(P,this),this.reset(!0)}function O(z){if(z){var k,W=z[p];if(W)return W.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length))return k=-1,(W=function Y(){for(;++k<z.length;)if(u.call(z,k))return Y.value=z[k],Y.done=!1,Y;return Y.value=A,Y.done=!0,Y}).next=W}return{next:Q}}function Q(){return{value:A,done:!0}}return(_.prototype=C.constructor=M).constructor=_,M[c]=_.displayName="GeneratorFunction",a.isGeneratorFunction=function(z){return z=typeof z=="function"&&z.constructor,!!z&&(z===_||(z.displayName||z.name)==="GeneratorFunction")},a.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,M):(z.__proto__=M,c in z||(z[c]="GeneratorFunction")),z.prototype=Object.create(C),z},a.awrap=function(z){return{__await:z}},T(B.prototype),B.prototype[d]=function(){return this},a.AsyncIterator=B,a.async=function(z,k,W,Y){var te=new B(h(z,k,W,Y));return a.isGeneratorFunction(k)?te:te.next().then(function(R){return R.done?R.value:te.next()})},T(C),C[c]="Generator",C[p]=function(){return this},C.toString=function(){return"[object Generator]"},a.keys=function(z){var k,W=[];for(k in z)W.push(k);return W.reverse(),function Y(){for(;W.length;){var te=W.pop();if(te in z)return Y.value=te,Y.done=!1,Y}return Y.done=!0,Y}},a.values=O,j.prototype={constructor:j,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(F),!z)for(var k in this)k.charAt(0)==="t"&&u.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=A)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var k=this;function W(V,q){return R.type="throw",R.arg=z,k.next=V,q&&(k.method="next",k.arg=A),!!q}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var te=this.tryEntries[Y],R=te.completion;if(te.tryLoc==="root")return W("end");if(te.tryLoc<=this.prev){var L=u.call(te,"catchLoc"),D=u.call(te,"finallyLoc");if(L&&D){if(this.prev<te.catchLoc)return W(te.catchLoc,!0);if(this.prev<te.finallyLoc)return W(te.finallyLoc)}else if(L){if(this.prev<te.catchLoc)return W(te.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return W(te.finallyLoc)}}}},abrupt:function(z,k){for(var W=this.tryEntries.length-1;0<=W;--W){var Y=this.tryEntries[W];if(Y.tryLoc<=this.prev&&u.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var te=Y;break}}var R=(te=te&&(z==="break"||z==="continue")&&te.tryLoc<=k&&k<=te.finallyLoc?null:te)?te.completion:{};return R.type=z,R.arg=k,te?(this.method="next",this.next=te.finallyLoc,v):this.complete(R)},complete:function(z,k){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&k&&(this.next=k),v},finish:function(z){for(var k=this.tryEntries.length-1;0<=k;--k){var W=this.tryEntries[k];if(W.finallyLoc===z)return this.complete(W.completion,W.afterLoc),F(W),v}},catch:function(z){for(var k=this.tryEntries.length-1;0<=k;--k){var W,Y,te=this.tryEntries[k];if(te.tryLoc===z)return(W=te.completion).type==="throw"&&(Y=W.arg,F(te)),Y}throw new Error("illegal catch attempt")},delegateYield:function(z,k,W){return this.delegate={iterator:O(z),resultName:k,nextLoc:W},this.method==="next"&&(this.arg=A),v}},a}(typeof o=="object"?o.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],253:[function(t,o,s){(function(a){var A,l,u,p,d,c,h,f,g,y;function m(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(F))throw new TypeError("Invalid character in header field name");return F.toLowerCase()}function b(F){return F=typeof F!="string"?String(F):F}function v(F){var j={next:function(){var O=F.shift();return{done:O===void 0,value:O}}};return l&&(j[Symbol.iterator]=function(){return j}),j}function w(F){this.map={},F instanceof w?F.forEach(function(j,O){this.append(O,j)},this):Array.isArray(F)?F.forEach(function(j){this.append(j[0],j[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(j){this.append(j,F[j])},this)}function _(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function M(F){return new Promise(function(j,O){F.onload=function(){j(F.result)},F.onerror=function(){O(F.error)}})}function x(F){var j=new FileReader,O=M(j);return j.readAsArrayBuffer(F),O}function E(F){var j;return F.slice?F.slice(0):((j=new Uint8Array(F.byteLength)).set(new Uint8Array(F)),j.buffer)}function C(){return this.bodyUsed=!1,this._initBody=function(F){if(this._bodyInit=F)if(typeof F=="string")this._bodyText=F;else if(u&&Blob.prototype.isPrototypeOf(F))this._bodyBlob=F;else if(p&&FormData.prototype.isPrototypeOf(F))this._bodyFormData=F;else if(A&&URLSearchParams.prototype.isPrototypeOf(F))this._bodyText=F.toString();else if(d&&u&&h(F))this._bodyArrayBuffer=E(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d||!ArrayBuffer.prototype.isPrototypeOf(F)&&!f(F))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(F)}else this._bodyText="";this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):A&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var F=_(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var F,j,O=_(this);if(O)return O;if(this._bodyBlob)return O=this._bodyBlob,F=new FileReader,j=M(F),F.readAsText(O),j;if(this._bodyArrayBuffer)return Promise.resolve(function(Q){for(var z=new Uint8Array(Q),k=new Array(z.length),W=0;W<z.length;W++)k[W]=String.fromCharCode(z[W]);return k.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}function T(F,j){var O,Q=(j=j||{}).body;if(F instanceof T){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,j.headers||(this.headers=new w(F.headers)),this.method=F.method,this.mode=F.mode,Q||F._bodyInit==null||(Q=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=j.credentials||this.credentials||"omit",!j.headers&&this.headers||(this.headers=new w(j.headers)),this.method=(F=j.method||this.method||"GET",O=F.toUpperCase(),-1<g.indexOf(O)?O:F),this.mode=j.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Q)}function B(F){var j=new FormData;return F.trim().split("&").forEach(function(O){var Q;O&&(Q=(O=O.split("=")).shift().replace(/\+/g," "),O=O.join("=").replace(/\+/g," "),j.append(decodeURIComponent(Q),decodeURIComponent(O)))}),j}function P(F,j){j=j||{},this.type="default",this.status=j.status===void 0?200:j.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new w(j.headers),this.url=j.url||"",this._initBody(F)}a.fetch||(A="URLSearchParams"in a,l="Symbol"in a&&"iterator"in Symbol,u="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),p="FormData"in a,(d="ArrayBuffer"in a)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=function(F){return F&&DataView.prototype.isPrototypeOf(F)},f=ArrayBuffer.isView||function(F){return F&&-1<c.indexOf(Object.prototype.toString.call(F))}),w.prototype.append=function(F,j){F=m(F),j=b(j);var O=this.map[F];this.map[F]=O?O+","+j:j},w.prototype.delete=function(F){delete this.map[m(F)]},w.prototype.get=function(F){return F=m(F),this.has(F)?this.map[F]:null},w.prototype.has=function(F){return this.map.hasOwnProperty(m(F))},w.prototype.set=function(F,j){this.map[m(F)]=b(j)},w.prototype.forEach=function(F,j){for(var O in this.map)this.map.hasOwnProperty(O)&&F.call(j,this.map[O],O,this)},w.prototype.keys=function(){var F=[];return this.forEach(function(j,O){F.push(O)}),v(F)},w.prototype.values=function(){var F=[];return this.forEach(function(j){F.push(j)}),v(F)},w.prototype.entries=function(){var F=[];return this.forEach(function(j,O){F.push([O,j])}),v(F)},l&&(w.prototype[Symbol.iterator]=w.prototype.entries),g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},C.call(T.prototype),C.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},P.error=function(){var F=new P(null,{status:0,statusText:""});return F.type="error",F},y=[301,302,303,307,308],P.redirect=function(F,j){if(y.indexOf(j)===-1)throw new RangeError("Invalid status code");return new P(null,{status:j,headers:{location:F}})},a.Headers=w,a.Request=T,a.Response=P,a.fetch=function(F,j){return new Promise(function(O,Q){var z=new T(F,j),k=new XMLHttpRequest;k.onload=function(){var W,Y={status:k.status,statusText:k.statusText,headers:(Y=k.getAllResponseHeaders()||"",W=new w,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(L){var L=L.split(":"),D=L.shift().trim();D&&(L=L.join(":").trim(),W.append(D,L))}),W)},te=(Y.url="responseURL"in k?k.responseURL:Y.headers.get("X-Request-URL"),"response"in k?k.response:k.responseText);O(new P(te,Y))},k.onerror=function(){Q(new TypeError("Network request failed"))},k.ontimeout=function(){Q(new TypeError("Network request failed"))},k.open(z.method,z.url,!0),z.credentials==="include"?k.withCredentials=!0:z.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&u&&(k.responseType="blob"),z.headers.forEach(function(W,Y){k.setRequestHeader(Y,W)}),k.send(z._bodyInit===void 0?null:z._bodyInit)})},a.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],254:[function(t,o,s){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,A=u(t("../core/main")),l=u(t("../color/color_conversion"));function u(c){return c&&c.__esModule?c:{default:c}}var p=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],d=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];A.default.prototype._rgbColorName=function(g){var h,f,g=l.default._rgbaToHSBA(g),y=[(a=g)[0],g[1],g[2]];y[0]!==0&&(y[0]=Math.round(100*y[0]),(g=y[0].toString().split(""))[f=g.length-1]=parseInt(g[f]),g[f]<2.5?g[f]=0:2.5<=g[f]&&g[f]<7.5&&(g[f]=5),g.length===2?(g[0]=parseInt(g[0]),7.5<=g[f]&&(g[f]=0,g[0]=g[0]+1),y[0]=10*g[0]+g[1]):7.5<=g[f]?y[0]=10:y[0]=g[f]),y[2]=y[2]/255;for(var m=y.length-1;1<=m;m--)y[m]<=.25?y[m]=0:.25<y[m]&&y[m]<.75?y[m]=.5:y[m]=1;if(y[0]===0&&y[1]===0&&y[2]===1){for(var b=2;0<=b;b--)a[b]=Math.round(1e4*a[b])/1e4;for(var v=0;v<p.length;v++){if(p[v].h===a[0]&&p[v].s===a[1]&&p[v].b===a[2]){h=p[v].name;break}h="white"}}else for(var w=0;w<d.length;w++)if(d[w].h===y[0]&&d[w].s===y[1]&&d[w].b===y[2]){h=d[w].name;break}return h},t=A.default,s.default=t},{"../color/color_conversion":260,"../core/main":275,"core-js/modules/es.function.name":168,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198}],255:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t},A="_Description",l="_fallbackDesc",u="_fallbackTable",p="_Label",d="_labelDesc",c="_labelTable";function h(f){if(f==="label"||f==="fallback")throw new Error("description should not be LABEL or FALLBACK");return f.endsWith(".")||f.endsWith(";")||f.endsWith(",")||f.endsWith("?")||f.endsWith("!")||(f+="."),f}a.default.prototype.describe=function(f,g){var y;a.default._validateParameters("describe",arguments),typeof f=="string"&&(y=this.canvas.id,f=h(f),this.dummyDOM||(this.dummyDOM=document.getElementById(y).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==f&&(this.descriptions.fallback.innerHTML=f):this._describeHTML("fallback",f),g===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==f&&(this.descriptions.label.innerHTML=f):this._describeHTML("label",f)))},a.default.prototype.describeElement=function(f,g,y){var m,b;a.default._validateParameters("describeElement",arguments),typeof g=="string"&&typeof f=="string"&&(m=this.canvas.id,g=h(g),b=function(v){if(v==="label"||v==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return v.endsWith(".")||v.endsWith(";")||v.endsWith(",")?v=v.replace(/.$/,":"):v.endsWith(":")||(v+=":"),v}(f),f=f.replace(/[^a-zA-Z0-9]/g,""),b='<th scope="row">'.concat(b,"</th><td>").concat(g,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[f]?this.descriptions.fallbackElements[f].innerHTML!==b&&(this.descriptions.fallbackElements[f].innerHTML=b):this._describeElementHTML("fallback",f,b),y===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[f]?this.descriptions.labelElements[f].innerHTML!==b&&(this.descriptions.labelElements[f].innerHTML=b):this._describeElementHTML("label",f,b)))},a.default.prototype._describeHTML=function(f,g){var y,m=this.canvas.id;f==="fallback"?(this.dummyDOM.querySelector("#".concat(m+A))?this.dummyDOM.querySelector("#"+m+u).insertAdjacentHTML("beforebegin",'<p id="'.concat(m+l,'"></p>')):(y='<div id="'.concat(m).concat(A,'" role="region" aria-label="Canvas Description"><p id="').concat(m).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutput")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#".concat(m)).innerHTML=y),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(m).concat(l)),this.descriptions.fallback.innerHTML=g):f==="label"&&(this.dummyDOM.querySelector("#".concat(m+p))?this.dummyDOM.querySelector("#".concat(m+c))&&this.dummyDOM.querySelector("#".concat(m+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(m).concat(d,'"></p>')):(y='<div id="'.concat(m).concat(p,'" class="p5Label"><p id="').concat(m).concat(d,'"></p></div>'),this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(m,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",y):this.dummyDOM.querySelector("#"+m).insertAdjacentHTML("afterend",y)),this.descriptions.label=this.dummyDOM.querySelector("#"+m+d),this.descriptions.label.innerHTML=g)},a.default.prototype._describeElementHTML=function(f,g,y){var m,b=this.canvas.id;f==="fallback"?(this.dummyDOM.querySelector("#".concat(b+A))?this.dummyDOM.querySelector("#"+b+u)||this.dummyDOM.querySelector("#"+b+l).insertAdjacentHTML("afterend",'<table id="'.concat(b).concat(u,'"><caption>Canvas elements and their descriptions</caption></table>')):(m='<div id="'.concat(b).concat(A,'" role="region" aria-label="Canvas Description"><table id="').concat(b).concat(u,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutput")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+b).innerHTML=m),(m=document.createElement("tr")).id=b+"_fte_"+g,this.dummyDOM.querySelector("#"+b+u).appendChild(m),this.descriptions.fallbackElements[g]=this.dummyDOM.querySelector("#".concat(b).concat("_fte_").concat(g)),this.descriptions.fallbackElements[g].innerHTML=y):f==="label"&&(this.dummyDOM.querySelector("#".concat(b+p))?this.dummyDOM.querySelector("#".concat(b+c))||this.dummyDOM.querySelector("#"+b+d).insertAdjacentHTML("afterend",'<table id="'.concat(b+c,'"></table>')):(m='<div id="'.concat(b).concat(p,'" class="p5Label"><table id="').concat(b).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+b).insertAdjacentHTML("afterend",m)),(f=document.createElement("tr")).id=b+"_lte_"+g,this.dummyDOM.querySelector("#"+b+c).appendChild(f),this.descriptions.labelElements[g]=this.dummyDOM.querySelector("#".concat(b).concat("_lte_").concat(g)),this.descriptions.labelElements[g].innerHTML=y)},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.replace":196}],256:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(a){var A,l,u,p;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(A=this._accessibleOutputs[a],u=function(d,c,h,f){return c="".concat(c," canvas, ").concat(h," by ").concat(f," pixels, contains ").concat(d[0]),c=(d[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(d[1]),c}((l=function(d,c){var h,f="",g="",y=0;for(h in c){var m,b=0;for(m in c[h]){var v='<li id="'.concat(d,"shape").concat(y,'">').concat(c[h][m].color," ").concat(h,",");h==="line"?v+=" location = ".concat(c[h][m].pos,", length = ").concat(c[h][m].length," pixels"):(v+=" location = ".concat(c[h][m].pos),h!=="point"&&(v+=", area = ".concat(c[h][m].area," %")),v+="</li>"),f+=v,b++,y++}g=1<b?"".concat(g," ").concat(b," ").concat(h,"s"):"".concat(g," ").concat(b," ").concat(h)}return{numShapes:[y,g],details:f}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(d,c){var h,f,g=0,y="",m=Array.from(Array(10),function(){return Array(10)});for(h in c)for(var b in c[h]){var v=void 0;v=h!=="line"?'<a href="#'.concat(d,"shape").concat(g,'">').concat(c[h][b].color," ").concat(h,"</a>"):'<a href="#'.concat(d,"shape").concat(g,'">').concat(c[h][b].color," ").concat(h," midpoint</a>"),m[c[h][b].loc.locY][c[h][b].loc.locX]?m[c[h][b].loc.locY][c[h][b].loc.locX]=m[c[h][b].loc.locY][c[h][b].loc.locX]+"  "+v:m[c[h][b].loc.locY][c[h][b].loc.locX]=v,g++}for(f in m){var w,_="<tr>";for(w in m[f])_+="<td>",m[f][w]!==void 0&&(_+=m[f][w]),_+="</td>";y=y+_+"</tr>"}return y}(a,this.ingredients.shapes),u!==A.summary.innerHTML&&(A.summary.innerHTML=u),p!==A.map.innerHTML&&(A.map.innerHTML=p),l.details!==A.shapeDetails.innerHTML&&(A.shapeDetails.innerHTML=l.details),this._accessibleOutputs[a]=A)},t=t.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":158,"core-js/modules/es.array.map":164,"core-js/modules/es.string.iterator":192}],257:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function A(u){return function(p){if(Array.isArray(p)){for(var d=0,c=new Array(p.length);d<p.length;d++)c[d]=p[d];return c}}(u)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(u,p,d){return p=Math.floor(u[0]/p*10),u=Math.floor(u[1]/d*10),p===10&&(p-=1),u===10&&(u-=1),{locX:p,locY:u}}a.default.prototype.textOutput=function(u){a.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},a.default.prototype.gridOutput=function(u){a.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),u===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},a.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},a.default.prototype._createOutput=function(u,p){var d,c,h,f=this.canvas.id,g=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(f).parentNode),"");p==="Fallback"?(d=f+u,this.dummyDOM.querySelector("#".concat(c=f+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(f,"_Description"))?this.dummyDOM.querySelector("#".concat(f,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(f)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):p==="Label"&&(d=f+u+(g=p),this.dummyDOM.querySelector("#".concat(c=f+"accessibleOutput"+p))||(this.dummyDOM.querySelector("#".concat(f,"_Label"))?this.dummyDOM.querySelector("#".concat(f,"_Label")):this.dummyDOM.querySelector("#".concat(f))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[d]={},u==="textOutput"?(g="#".concat(f,"gridOutput").concat(g),h='<div id="'.concat(d,'">Text Output<div id="').concat(d,'Summary" aria-label="text output summary"><p id="').concat(d,'_summary"></p><ul id="').concat(d,'_list"></ul></div><table id="').concat(d,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h,this._accessibleOutputs[d].list=this.dummyDOM.querySelector("#".concat(d,"_list"))):u==="gridOutput"&&(g="#".concat(f,"textOutput").concat(g),h='<div id="'.concat(d,'">Grid Output<p id="').concat(d,'_summary" aria-label="grid output summary"><table id="').concat(d,'_map" summary="grid output content"></table><ul id="').concat(d,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(c)).innerHTML=h,this._accessibleOutputs[d].map=this.dummyDOM.querySelector("#".concat(d,"_map"))),this._accessibleOutputs[d].shapeDetails=this.dummyDOM.querySelector("#".concat(d,"_shapeDetails")),this._accessibleOutputs[d].summary=this.dummyDOM.querySelector("#".concat(d,"_summary"))},a.default.prototype._updateAccsOutput=function(){var u=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(u+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(u+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(u+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(u+"gridOutputLabel"))},a.default.prototype._accsBackground=function(u){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==u&&(this.ingredients.colors.backgroundRGBA=u,this.ingredients.colors.background=this._rgbColorName(u))},a.default.prototype._accsCanvasColors=function(u,p){u==="fill"?this.ingredients.colors.fillRGBA!==p&&(this.ingredients.colors.fillRGBA=p,this.ingredients.colors.fill=this._rgbColorName(p)):u==="stroke"&&this.ingredients.colors.strokeRGBA!==p&&(this.ingredients.colors.strokeRGBA=p,this.ingredients.colors.stroke=this._rgbColorName(p))},a.default.prototype._accsOutput=function(u,p){u==="ellipse"&&p[2]===p[3]?u="circle":u==="rectangle"&&p[2]===p[3]&&(u="square");var d,c,h={},f=!0,g=function(m,b){var v;return m=m==="rectangle"||m==="ellipse"||m==="arc"||m==="circle"||m==="square"?(v=Math.round(b[0]+b[2]/2),Math.round(b[1]+b[3]/2)):m==="triangle"?(v=(b[0]+b[2]+b[4])/3,(b[1]+b[3]+b[5])/3):m==="quadrilateral"?(v=(b[0]+b[2]+b[4]+b[6])/4,(b[1]+b[3]+b[5]+b[7])/4):m==="line"?(v=(b[0]+b[2])/2,(b[1]+b[3])/2):(v=b[0],b[1]),[v,m]}(u,p);if(u==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(p[0],p[1],p[2],p[3])),d=this._getPos(p[0],[1]),c=this._getPos(p[2],[3]),h.loc=l(g,this.width,this.height),h.pos=d===c?"at ".concat(d):"from ".concat(d," to ").concat(c)):(u==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(u,p)),h.pos=this._getPos.apply(this,A(g)),h.loc=l(g,this.width,this.height)),this.ingredients.shapes[u]){if(this.ingredients.shapes[u]!==[h]){for(var y in this.ingredients.shapes[u])JSON.stringify(this.ingredients.shapes[u][y])===JSON.stringify(h)&&(f=!1);f===!0&&this.ingredients.shapes[u].push(h)}}else this.ingredients.shapes[u]=[h]},a.default.prototype._getPos=function(c,d){var c=new DOMPointReadOnly(c,d),d=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),c=c.matrixTransform(d),d=c.x,c=c.y,h=this.width,f=this.height;return d<.4*h?c<.4*f?"top left":.6*f<c?"bottom left":"mid left":.6*h<d?c<.4*f?"top right":.6*f<c?"bottom right":"mid right":c<.4*f?"top middle":.6*f<c?"bottom middle":"middle"},a.default.prototype._getArea=function(u,p){var d,c,h=0,f=(u==="arc"?(h=(d=((p[5]-p[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*p[2]*p[3]/8,p[6]!=="open"&&p[6]!=="chord"||(c=p[0],b=p[1],f=p[0]+p[2]/2*Math.cos(p[4]).toFixed(2),v=p[1]+p[3]/2*Math.sin(p[4]).toFixed(2),y=p[0]+p[2]/2*Math.cos(p[5]).toFixed(2),g=p[1]+p[3]/2*Math.sin(p[5]).toFixed(2),c=Math.abs(c*(v-g)+f*(g-b)+y*(b-v))/2,d>Math.PI?h+=c:h-=c)):u==="ellipse"||u==="circle"?h=3.14*p[2]/2*p[3]/2:u==="line"||u==="point"?h=0:u==="quadrilateral"?h=Math.abs((p[6]+p[0])*(p[7]-p[1])+(p[0]+p[2])*(p[1]-p[3])+(p[2]+p[4])*(p[3]-p[5])+(p[4]+p[6])*(p[5]-p[7]))/2:u==="rectangle"||u==="square"?h=p[2]*p[3]:u==="triangle"&&(h=Math.abs(p[0]*(p[3]-p[5])+p[2]*(p[5]-p[1])+p[4]*(p[1]-p[3]))/2),this.width*this._pixelDensity),g=this.height*this._pixelDensity,y=[new DOMPoint(0,0),new DOMPoint(f,0),new DOMPoint(f,g),new DOMPoint(0,g)],m=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),b=y.map(function(w){return w.matrixTransform(m)}),v=Math.abs((b[3].x+b[0].x)*(b[3].y-b[0].y)+(b[0].x+b[1].x)*(b[0].y-b[1].y)+(b[1].x+b[2].x)*(b[1].y-b[2].y)+(b[2].x+b[3].x)*(b[2].y-b[3].y))/2;return Math.round(100*h/v)},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],258:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(a){var A,l,u,p;this.dummyDOM.querySelector("#".concat(a,"_summary"))&&(A=this._accessibleOutputs[a],u=function(d,c,h,f){return h="Your output is a, ".concat(h," by ").concat(f," pixels, ").concat(c," canvas containing the following"),h=d===1?"".concat(h," shape:"):"".concat(h," ").concat(d," shapes:"),h}((l=function(d,c){var h,f="",g=0;for(h in c)for(var y in c[h]){var m='<li><a href="#'.concat(d,"shape").concat(g,'">').concat(c[h][y].color," ").concat(h,"</a>");h==="line"?m+=", ".concat(c[h][y].pos,", ").concat(c[h][y].length," pixels long.</li>"):(m+=", at ".concat(c[h][y].pos),h!=="point"&&(m+=", covering ".concat(c[h][y].area,"% of the canvas")),m+=".</li>"),f+=m,g++}return{numShapes:g,listShapes:f}}(a,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),p=function(d,c){var h,f="",g=0;for(h in c)for(var y in c[h]){var m='<tr id="'.concat(d,"shape").concat(g,'"><th>').concat(c[h][y].color," ").concat(h,"</th>");h==="line"?m+="<td>location = ".concat(c[h][y].pos,"</td><td>length = ").concat(c[h][y].length," pixels</td></tr>"):(m+="<td>location = ".concat(c[h][y].pos,"</td>"),h!=="point"&&(m+="<td> area = ".concat(c[h][y].area,"%</td>")),m+="</tr>"),f+=m,g++}return f}(a,this.ingredients.shapes),u!==A.summary.innerHTML&&(A.summary.innerHTML=u),l.listShapes!==A.list.innerHTML&&(A.list.innerHTML=l.listShapes),p!==A.shapeDetails.innerHTML&&(A.shapeDetails.innerHTML=p),this._accessibleOutputs[a]=A)},t=t.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151}],259:[function(t,o,s){var a=(a=t("./core/main"))&&a.__esModule?a:{default:a};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),o.exports=a.default},{"./accessibility/color_namer":254,"./accessibility/describe":255,"./accessibility/gridOutput":256,"./accessibility/outputs":257,"./accessibility/textOutput":258,"./color/color_conversion":260,"./color/creating_reading":261,"./color/p5.Color":262,"./color/setting":263,"./core/constants":264,"./core/environment":265,"./core/friendly_errors/fes_core":266,"./core/friendly_errors/file_errors":267,"./core/friendly_errors/sketch_reader":268,"./core/friendly_errors/stacktrace":269,"./core/friendly_errors/validate_params":270,"./core/helpers":271,"./core/init":272,"./core/legacy":274,"./core/main":275,"./core/p5.Element":276,"./core/p5.Graphics":277,"./core/p5.Renderer":278,"./core/p5.Renderer2D":279,"./core/preload":280,"./core/rendering":281,"./core/shape/2d_primitives":282,"./core/shape/attributes":283,"./core/shape/curves":284,"./core/shape/vertex":285,"./core/shim":286,"./core/structure":287,"./core/transform":288,"./data/local_storage.js":289,"./data/p5.TypedDict":290,"./dom/dom":291,"./events/acceleration":292,"./events/keyboard":293,"./events/mouse":294,"./events/touch":295,"./image/filters":296,"./image/image":297,"./image/loading_displaying":298,"./image/p5.Image":299,"./image/pixels":300,"./io/files":301,"./io/p5.Table":302,"./io/p5.TableRow":303,"./io/p5.XML":304,"./math/calculation":305,"./math/math":306,"./math/noise":307,"./math/p5.Vector":308,"./math/random":309,"./math/trigonometry":310,"./typography/attributes":311,"./typography/loading_displaying":312,"./typography/p5.Font":313,"./utilities/array_functions":314,"./utilities/conversion":315,"./utilities/string_functions":316,"./utilities/time_date":317,"./webgl/3d_primitives":318,"./webgl/interaction":320,"./webgl/light":321,"./webgl/loading":322,"./webgl/material":323,"./webgl/p5.Camera":324,"./webgl/p5.DataArray":325,"./webgl/p5.Framebuffer":326,"./webgl/p5.Geometry":327,"./webgl/p5.Matrix":328,"./webgl/p5.RenderBuffer":329,"./webgl/p5.RendererGL":332,"./webgl/p5.RendererGL.Immediate":330,"./webgl/p5.RendererGL.Retained":331,"./webgl/p5.Shader":333,"./webgl/p5.Texture":334,"./webgl/text":335}],260:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(a){var A=a[0],l=a[1],u=a[2],p=(2-l)*u/2;return p!=0&&(p==1?l=0:p<.5?l/=2-l:l=l*u/(2-2*p)),[A,l,p,a[3]]},_hsbaToRGBA:function(a){var A,l,u,p,d,c=6*a[0],h=a[1],f=a[2];return h===0?[f,f,f,a[3]]:(l=f*(1-h),u=f*(1-h*(c-(A=Math.floor(c)))),h=f*(1-h*(1+A-c)),c=A===1?(p=u,d=f,l):A===2?(p=l,d=f,h):A===3?(p=l,d=u,f):A===4?(p=h,d=l,f):A===5?(p=f,d=l,u):(p=f,d=h,l),[p,d,c,a[3]])},_hslaToHSBA:function(a){var A=a[0],l=a[1],u=a[2],p=u<.5?(1+l)*u:u+l-u*l;return[A,l=2*(p-u)/p,p,a[3]]},_hslaToRGBA:function(a){var A,l=6*a[0],u=a[1],p=a[2];return u===0?[p,p,p,a[3]]:[(A=function(d,c,h){return d<0?d+=6:6<=d&&(d-=6),d<1?c+(h-c)*d:d<3?h:d<4?c+(h-c)*(4-d):c})(2+l,u=2*p-(p=p<.5?(1+u)*p:p+u-p*u),p),A(l,u,p),A(l-2,u,p),a[3]]},_rgbaToHSBA:function(a){var A,l,u=a[0],p=a[1],d=a[2],c=Math.max(u,p,d),h=c-Math.min(u,p,d);return h==0?l=A=0:(l=h/c,u===c?A=(p-d)/h:p===c?A=2+(d-u)/h:d===c&&(A=4+(u-p)/h),A<0?A+=6:6<=A&&(A-=6)),[A/6,l,c,a[3]]},_rgbaToHSLA:function(a){var A,l,u=a[0],p=a[1],d=a[2],c=Math.max(u,p,d),f=Math.min(u,p,d),h=c+f,f=c-f;return f==0?l=A=0:(l=h<1?f/h:f/(2-h),u===c?A=(p-d)/f:p===c?A=2+(d-u)/f:d===c&&(A=4+(u-p)/f),A<0?A+=6:6<=A&&(A-=6)),[A/6,l,h/2,a[3]]}},t=t.default.ColorConversion,s.default=t},{"../core/main":275}],261:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(c){if(c&&c.__esModule)return c;if(c===null||A(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.alpha=function(c){return l.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},l.default.prototype.blue=function(c){return l.default._validateParameters("blue",arguments),this.color(c)._getBlue()},l.default.prototype.brightness=function(c){return l.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},l.default.prototype.color=function(){var c;return l.default._validateParameters("color",arguments),arguments[0]instanceof l.default.Color?arguments[0]:(c=arguments[0]instanceof Array?arguments[0]:arguments,new l.default.Color(this,c))},l.default.prototype.green=function(c){return l.default._validateParameters("green",arguments),this.color(c)._getGreen()},l.default.prototype.hue=function(c){return l.default._validateParameters("hue",arguments),this.color(c)._getHue()},l.default.prototype.lerpColor=function(c,h,f){l.default._validateParameters("lerpColor",arguments);var g,y,m,b=this._colorMode,v=this._colorMaxes;if(b===u.RGB)y=c.levels.map(function(w){return w/255}),m=h.levels.map(function(w){return w/255});else if(b===u.HSB)c._getBrightness(),h._getBrightness(),y=c.hsba,m=h.hsba;else{if(b!==u.HSL)throw new Error("".concat(b,"cannot be used for interpolation."));c._getLightness(),h._getLightness(),y=c.hsla,m=h.hsla}return f=Math.max(Math.min(f,1),0),this.lerp===void 0&&(this.lerp=function(w,_,M){return M*(_-w)+w}),c=this.lerp(y[0],m[0],f),h=this.lerp(y[1],m[1],f),g=this.lerp(y[2],m[2],f),y=this.lerp(y[3],m[3],f),c*=v[b][0],h*=v[b][1],g*=v[b][2],y*=v[b][3],this.color(c,h,g,y)},l.default.prototype.lightness=function(c){return l.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},l.default.prototype.red=function(c){return l.default._validateParameters("red",arguments),this.color(c)._getRed()},l.default.prototype.saturation=function(c){return l.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var d=l.default;s.default=d},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],262:[function(g,o,s){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function A(w){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(w)}g("core-js/modules/es.symbol"),g("core-js/modules/es.symbol.description"),g("core-js/modules/es.symbol.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.get-own-property-descriptor"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.iterator"),g("core-js/modules/es.string.trim"),g("core-js/modules/es.weak-map"),g("core-js/modules/web.dom-collections.iterator"),g("core-js/modules/es.array.includes"),g("core-js/modules/es.array.join"),g("core-js/modules/es.array.map"),g("core-js/modules/es.array.slice"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.regexp.constructor"),g("core-js/modules/es.regexp.exec"),g("core-js/modules/es.regexp.to-string"),g("core-js/modules/es.string.includes"),g("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=c(g("../core/main")),u=function(w){if(w&&w.__esModule)return w;if(w===null||A(w)!=="object"&&typeof w!="function")return{default:w};var _=d();if(_&&_.has(w))return _.get(w);var M,x={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in w){var C;Object.prototype.hasOwnProperty.call(w,M)&&((C=E?Object.getOwnPropertyDescriptor(w,M):null)&&(C.get||C.set)?Object.defineProperty(x,M,C):x[M]=w[M])}return x.default=w,_&&_.set(w,x),x}(g("../core/constants")),p=c(g("./color_conversion"));function d(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,d=function(){return w},w)}function c(w){return w&&w.__esModule?w:{default:w}}function h(w,_){for(var M=0;M<_.length;M++){var x=_[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}var f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g=/\s*/,v=/(\d{1,3})/,y=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,m=new RegExp("".concat(y.source,"%")),b={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(g.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",m.source,",",m.source,",",m.source,"\\)$"].join(g.source),"i"),RGBA:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",y.source,"\\)$"].join(g.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",m.source,",",m.source,",",m.source,",",y.source,"\\)$"].join(g.source),"i"),HSL:new RegExp(["^hsl\\(",v.source,",",m.source,",",m.source,"\\)$"].join(g.source),"i"),HSLA:new RegExp(["^hsla\\(",v.source,",",m.source,",",m.source,",",y.source,"\\)$"].join(g.source),"i"),HSB:new RegExp(["^hsb\\(",v.source,",",m.source,",",m.source,"\\)$"].join(g.source),"i"),HSBA:new RegExp(["^hsba\\(",v.source,",",m.source,",",m.source,",",y.source,"\\)$"].join(g.source),"i")},v=(l.default.Color=function(){function w(E,C){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(E._colorMode,E._colorMaxes),![u.RGB,u.HSL,u.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=w._parseInputs.apply(this,C),this._calculateLevels()}var _,M,x;return _=w,x=[{key:"_parseInputs",value:function(E,C,T,B){var P,F=arguments.length,j=this.mode,O=this.maxes[j],Q=[];if(3<=F){for(Q[0]=E/O[0],Q[1]=C/O[1],Q[2]=T/O[2],Q[3]=typeof B=="number"?B/O[3]:1,P=Q.length-1;0<=P;--P){var z=Q[P];z<0?Q[P]=0:1<z&&(Q[P]=1)}return j===u.HSL?p.default._hslaToRGBA(Q):j===u.HSB?p.default._hsbaToRGBA(Q):Q}if(F===1&&typeof E=="string"){if(T=E.trim().toLowerCase(),f[T])return w._parseInputs.call(this,f[T]);if(b.HEX3.test(T))return(Q=b.HEX3.exec(T).slice(1).map(function(k){return parseInt(k+k,16)/255}))[3]=1,Q;if(b.HEX6.test(T))return(Q=b.HEX6.exec(T).slice(1).map(function(k){return parseInt(k,16)/255}))[3]=1,Q;if(b.HEX4.test(T))return Q=b.HEX4.exec(T).slice(1).map(function(k){return parseInt(k+k,16)/255});if(b.HEX8.test(T))return Q=b.HEX8.exec(T).slice(1).map(function(k){return parseInt(k,16)/255});if(b.RGB.test(T))return(Q=b.RGB.exec(T).slice(1).map(function(k){return k/255}))[3]=1,Q;if(b.RGB_PERCENT.test(T))return(Q=b.RGB_PERCENT.exec(T).slice(1).map(function(k){return parseFloat(k)/100}))[3]=1,Q;if(b.RGBA.test(T))return Q=b.RGBA.exec(T).slice(1).map(function(k,W){return W===3?parseFloat(k):k/255});if(b.RGBA_PERCENT.test(T))return Q=b.RGBA_PERCENT.exec(T).slice(1).map(function(k,W){return W===3?parseFloat(k):parseFloat(k)/100});if(b.HSL.test(T)?(Q=b.HSL.exec(T).slice(1).map(function(k,W){return W===0?parseInt(k,10)/360:parseInt(k,10)/100}))[3]=1:b.HSLA.test(T)&&(Q=b.HSLA.exec(T).slice(1).map(function(k,W){return W===0?parseInt(k,10)/360:W===3?parseFloat(k):parseInt(k,10)/100})),(Q=Q.map(function(k){return Math.max(Math.min(k,1),0)})).length)return p.default._hslaToRGBA(Q);if(b.HSB.test(T)?(Q=b.HSB.exec(T).slice(1).map(function(k,W){return W===0?parseInt(k,10)/360:parseInt(k,10)/100}))[3]=1:b.HSBA.test(T)&&(Q=b.HSBA.exec(T).slice(1).map(function(k,W){return W===0?parseInt(k,10)/360:W===3?parseFloat(k):parseInt(k,10)/100})),Q.length){for(P=Q.length-1;0<=P;--P)Q[P]=Math.max(Math.min(Q[P],1),0);return p.default._hsbaToRGBA(Q)}Q=[1,1,1,1]}else{if(F!==1&&F!==2||typeof E!="number")throw new Error("".concat(arguments,"is not a valid color representation."));Q[0]=E/O[2],Q[1]=E/O[2],Q[2]=E/O[2],Q[3]=typeof C=="number"?C/O[3]:1,Q=Q.map(function(k){return Math.max(Math.min(k,1),0)})}return Q}}],(M=[{key:"toString",value:function(E){var C=this.levels,T=this._array,B=T[3];switch(E){case"#rrggbb":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16));case"#rrggbbaa":return"#".concat(C[0]<16?"0".concat(C[0].toString(16)):C[0].toString(16),C[1]<16?"0".concat(C[1].toString(16)):C[1].toString(16),C[2]<16?"0".concat(C[2].toString(16)):C[2].toString(16),C[3]<16?"0".concat(C[3].toString(16)):C[3].toString(16));case"#rgb":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16),Math.round(15*T[3]).toString(16));case"rgb":return"rgb(".concat(C[0],", ",C[1],", ",C[2],")");case"rgb%":return"rgb(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%, ",(100*T[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[u.HSB][0],", ",this.hsba[1]*this.maxes[u.HSB][1],", ",this.hsba[2]*this.maxes[u.HSB][2],", ",B,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*B).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[u.HSL][0],", ",this.hsla[1]*this.maxes[u.HSL][1],", ",this.hsla[2]*this.maxes[u.HSL][2],", ",B,")");case"hsla%":return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*B).toPrecision(3),"%)");default:return"rgba(".concat(C[0],",",C[1],",",C[2],",",B,")")}}},{key:"setRed",value:function(E){this._array[0]=E/this.maxes[u.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(E){this._array[1]=E/this.maxes[u.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(E){this._array[2]=E/this.maxes[u.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(E){this._array[3]=E/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var E=this._array,C=this.levels=new Array(E.length),T=E.length-1;0<=T;--T)C[T]=Math.round(255*E[T]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(E,C){this.mode=E,this.maxes=C}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[u.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[u.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[u.RGB][1]}},{key:"_getHue",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[u.HSB][0]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[u.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[u.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[u.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===u.HSB?(this.hsba||(this.hsba=p.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[u.HSB][1]):(this.hsla||(this.hsla=p.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[u.HSL][1])}}])&&h(_.prototype,M),x&&h(_,x),w}(),l.default.Color);s.default=v},{"../core/constants":264,"../core/main":275,"./color_conversion":260,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],263:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(c){if(c&&c.__esModule)return c;if(c===null||A(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}t("./p5.Color"),l.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},l.default.prototype.endClip=function(){this._renderer.endClip()},l.default.prototype.clip=function(c,h){this._renderer.beginClip(h),c(),this._renderer.endClip(h)},l.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},l.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},l.default.prototype.colorMode=function(c,h,f,g,y){return l.default._validateParameters("colorMode",arguments),c!==u.RGB&&c!==u.HSB&&c!==u.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=h,c[1]=h,c[2]=h,c[3]=h):arguments.length===4?(c[0]=h,c[1]=f,c[2]=g):arguments.length===5&&(c[0]=h,c[1]=f,c[2]=g,c[3]=y)),this},l.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},l.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},l.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},l.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},l.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},l.default.prototype.noErase=function(){return this._renderer.noErase(),this};var d=l.default;s.default=d},{"../core/constants":264,"../core/main":275,"./p5.Color":262,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],264:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QUADRATIC=s.LINEAR=s._CTX_MIDDLE=s._DEFAULT_LEADMULT=s._DEFAULT_TEXT_FILL=s.WORD=s.CHAR=s.BOLDITALIC=s.BOLD=s.ITALIC=s.NORMAL=s.BLUR=s.ERODE=s.DILATE=s.POSTERIZE=s.INVERT=s.OPAQUE=s.GRAY=s.THRESHOLD=s.BURN=s.DODGE=s.SOFT_LIGHT=s.HARD_LIGHT=s.OVERLAY=s.REPLACE=s.SCREEN=s.MULTIPLY=s.EXCLUSION=s.SUBTRACT=s.DIFFERENCE=s.LIGHTEST=s.DARKEST=s.ADD=s.REMOVE=s.BLEND=s.UP_ARROW=s.TAB=s.SHIFT=s.RIGHT_ARROW=s.RETURN=s.OPTION=s.LEFT_ARROW=s.ESCAPE=s.ENTER=s.DOWN_ARROW=s.DELETE=s.CONTROL=s.BACKSPACE=s.ALT=s.AUTO=s.HSL=s.HSB=s.RGB=s.MITER=s.BEVEL=s.ROUND=s.SQUARE=s.PROJECT=s.PIE=s.CHORD=s.OPEN=s.CLOSE=s.TESS=s.QUAD_STRIP=s.QUADS=s.TRIANGLE_STRIP=s.TRIANGLE_FAN=s.TRIANGLES=s.LINE_LOOP=s.LINE_STRIP=s.LINES=s.POINTS=s.BASELINE=s.BOTTOM=s.TOP=s.CENTER=s.LEFT=s.RIGHT=s.RADIUS=s.CORNERS=s.CORNER=s.RAD_TO_DEG=s.DEG_TO_RAD=s.RADIANS=s.DEGREES=s.TWO_PI=s.TAU=s.QUARTER_PI=s.PI=s.HALF_PI=s.WAIT=s.TEXT=s.MOVE=s.HAND=s.CROSS=s.ARROW=s.WEBGL2=s.WEBGL=s.P2D=s.VERSION=void 0,s.RGBA=s.HALF_FLOAT=s.FLOAT=s.UNSIGNED_INT=s.UNSIGNED_BYTE=s.COVER=s.CONTAIN=s.FALLBACK=s.LABEL=s.AXES=s.GRID=s._DEFAULT_FILL=s._DEFAULT_STROKE=s.PORTRAIT=s.LANDSCAPE=s.SMOOTH=s.FLAT=s.MIRROR=s.CLAMP=s.REPEAT=s.NEAREST=s.IMAGE=s.IMMEDIATE=s.TEXTURE=s.FILL=s.STROKE=s.CURVE=s.BEZIER=void 0;var a=Math.PI,A=(s.VERSION="1.9.0",s.P2D="p2d",s.WEBGL="webgl",s.WEBGL2="webgl2",s.ARROW="default",s.CROSS="crosshair",s.HAND="pointer",s.MOVE="move",s.TEXT="text",s.WAIT="wait",a/2),A=(s.HALF_PI=A,a),A=(s.PI=A,a/4),A=(s.QUARTER_PI=A,2*a),A=(s.TAU=A,2*a),A=(s.TWO_PI=A,s.DEGREES="degrees",s.RADIANS="radians",a/180),A=(s.DEG_TO_RAD=A,180/a);s.RAD_TO_DEG=A,s.CORNER="corner",s.CORNERS="corners",s.RADIUS="radius",s.RIGHT="right",s.LEFT="left",s.CENTER="center",s.TOP="top",s.BOTTOM="bottom",s.BASELINE="alphabetic",s.POINTS=0,s.LINES=1,s.LINE_STRIP=3,s.LINE_LOOP=2,s.TRIANGLES=4,s.TRIANGLE_FAN=6,s.TRIANGLE_STRIP=5,s.QUADS="quads",s.QUAD_STRIP="quad_strip",s.TESS="tess",s.CLOSE="close",s.OPEN="open",s.CHORD="chord",s.PIE="pie",s.PROJECT="square",s.SQUARE="butt",s.ROUND="round",s.BEVEL="bevel",s.MITER="miter",s.RGB="rgb",s.HSB="hsb",s.HSL="hsl",s.AUTO="auto",s.ALT=18,s.BACKSPACE=8,s.CONTROL=17,s.DELETE=46,s.DOWN_ARROW=40,s.ENTER=13,s.ESCAPE=27,s.LEFT_ARROW=37,s.OPTION=18,s.RETURN=13,s.RIGHT_ARROW=39,s.SHIFT=16,s.TAB=9,s.UP_ARROW=38,s.BLEND="source-over",s.REMOVE="destination-out",s.ADD="lighter",s.DARKEST="darken",s.LIGHTEST="lighten",s.DIFFERENCE="difference",s.SUBTRACT="subtract",s.EXCLUSION="exclusion",s.MULTIPLY="multiply",s.SCREEN="screen",s.REPLACE="copy",s.OVERLAY="overlay",s.HARD_LIGHT="hard-light",s.SOFT_LIGHT="soft-light",s.DODGE="color-dodge",s.BURN="color-burn",s.THRESHOLD="threshold",s.GRAY="gray",s.OPAQUE="opaque",s.INVERT="invert",s.POSTERIZE="posterize",s.DILATE="dilate",s.ERODE="erode",s.BLUR="blur",s.NORMAL="normal",s.ITALIC="italic",s.BOLD="bold",s.BOLDITALIC="bold italic",s.CHAR="CHAR",s.WORD="WORD",s._DEFAULT_TEXT_FILL="#000000",s._DEFAULT_LEADMULT=1.25,s._CTX_MIDDLE="middle",s.LINEAR="linear",s.QUADRATIC="quadratic",s.BEZIER="bezier",s.CURVE="curve",s.STROKE="stroke",s.FILL="fill",s.TEXTURE="texture",s.IMMEDIATE="immediate",s.IMAGE="image",s.NEAREST="nearest",s.REPEAT="repeat",s.CLAMP="clamp",s.MIRROR="mirror",s.FLAT="flat",s.SMOOTH="smooth",s.LANDSCAPE="landscape",s.PORTRAIT="portrait",s._DEFAULT_STROKE="#000000",s._DEFAULT_FILL="#FFFFFF",s.GRID="grid",s.AXES="axes",s.LABEL="label",s.FALLBACK="fallback",s.CONTAIN="contain",s.COVER="cover",s.UNSIGNED_BYTE="unsigned-byte",s.UNSIGNED_INT="unsigned-int",s.FLOAT="float",s.HALF_FLOAT="half-float",s.RGBA="rgba"},{}],265:[function(t,o,s){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function A(y){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(u=t("./main"))&&u.__esModule?u:{default:u},u=function(y){if(y&&y.__esModule)return y;if(y===null||A(y)!=="object"&&typeof y!="function")return{default:y};var m=p();if(m&&m.has(y))return m.get(y);var b,v={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in y){var _;Object.prototype.hasOwnProperty.call(y,b)&&((_=w?Object.getOwnPropertyDescriptor(y,b):null)&&(_.get||_.set)?Object.defineProperty(v,b,_):v[b]=y[b])}return v.default=y,m&&m.set(y,v),v}(t("./constants"));function p(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,p=function(){return y},y)}var d=[u.ARROW,u.CROSS,u.HAND,u.MOVE,u.TEXT,u.WAIT],c=(l.default.prototype._frameRate=0,l.default.prototype._lastFrameTime=window.performance.now(),l.default.prototype._targetFrameRate=60,window.print),h=!1;function f(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function g(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}l.default.prototype.print=function(){var y;arguments.length?(y=console).log.apply(y,arguments):h||(c(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(h=!0))},l.default.prototype.frameCount=0,l.default.prototype.deltaTime=0,l.default.prototype.focused=document.hasFocus(),l.default.prototype.cursor=function(y,m,b){var v,w="auto",_=this._curElement.elt;d.includes(y)?w=y:typeof y=="string"&&(v="",m&&b&&typeof m=="number"&&typeof b=="number"&&(v="".concat(m," ").concat(b)),w=y.substring(0,7)==="http://"||y.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(y)?"url(".concat(y,") ").concat(v,", auto"):y),_.style.cursor=w},l.default.prototype.frameRate=function(y){return l.default._validateParameters("frameRate",arguments),typeof y!="number"||y<0?this._frameRate:(this._setProperty("_targetFrameRate",y),y===0&&this._setProperty("_frameRate",y),this)},l.default.prototype.getFrameRate=function(){return this.frameRate()},l.default.prototype.setFrameRate=function(y){return this.frameRate(y)},l.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},l.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},l.default.prototype.webglVersion=u.P2D,l.default.prototype.displayWidth=screen.width,l.default.prototype.displayHeight=screen.height,l.default.prototype.windowWidth=f(),l.default.prototype.windowHeight=g(),l.default.prototype._onresize=function(y){this._setProperty("windowWidth",f()),this._setProperty("windowHeight",g());var m=this._isGlobal?window:this;typeof m.windowResized!="function"||(m=m.windowResized(y))===void 0||m||y.preventDefault()},l.default.prototype.width=0,l.default.prototype.height=0,l.default.prototype.fullscreen=function(y){if(l.default._validateParameters("fullscreen",arguments),y===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(y){if(y=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");y.requestFullscreen?y.requestFullscreen():y.mozRequestFullScreen?y.mozRequestFullScreen():y.webkitRequestFullscreen?y.webkitRequestFullscreen():y.msRequestFullscreen&&y.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},l.default.prototype.pixelDensity=function(y){var m;return l.default._validateParameters("pixelDensity",arguments),typeof y=="number"?(y!==this._pixelDensity&&(this._pixelDensity=y),(m=this).resizeCanvas(this.width,this.height,!0)):m=this._pixelDensity,m},l.default.prototype.displayDensity=function(){return window.devicePixelRatio},l.default.prototype.getURL=function(){return location.href},l.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(y){return y!==""})},l.default.prototype.getURLParams=function(){for(var y,m=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,b={};(y=m.exec(location.search))!=null;)y.index===m.lastIndex&&m.lastIndex++,b[y[1]]=y[2];return b},t=l.default,s.default=t},{"./constants":264,"./main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.search":197,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],266:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(d=t("../main"))&&d.__esModule?d:{default:d};t("../internationalization");function A(c,h){h=h||console.log.bind(console),l||p(),l.some(function(f){var g;if(c.message&&c.message.match("\\W?".concat(f.name,"\\W"))!==null)return g=f.type==="function"?"".concat(f.name,"()"):f.name,h("Did you just try to use p5.js's ".concat(g," ").concat(f.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(u)),!0})}var l=null,p=null,u=(a.default._friendlyError=a.default._checkForUserDefinedFunctions=a.default._fesErrorMonitor=function(){},l=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),p=function(){function c(f){return Object.getOwnPropertyNames(f).filter(function(g){return g[0]!=="_"&&!(g in h)&&(h[g]=!0)}).map(function(g){var y=typeof f[g]=="function"?"function":g===g.toUpperCase()?"constant":"variable";return{name:g,type:y}})}var h={};(l=[].concat(c(a.default.prototype),c(t("../constants")))).sort(function(f,g){return g.name.length-f.name.length})},d=(a.default.prototype._helpForMisusedAtTopLevelCode=A,document.readyState!=="complete"&&(window.addEventListener("error",A,!1),window.addEventListener("load",function(){window.removeEventListener("error",A,!1)})),a.default);s.default=d},{"../constants":264,"../internationalization":273,"../main":275,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.starts-with":199,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],267:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(a=t("../main"))&&a.__esModule?a:{default:a};t("../internationalization"),a.default._friendlyFileLoadError=function(){},t=a.default,s.default=t},{"../internationalization":273,"../main":275}],268:[function(t,o,s){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function A(h){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=d(t("../main"));t("../internationalization"),p(t("../constants"));function u(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,u=function(){return h},h)}function p(h){if(h&&h.__esModule)return h;if(h===null||A(h)!=="object"&&typeof h!="function")return{default:h};var f=u();if(f&&f.has(h))return f.get(h);var g,y,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&((y=b?Object.getOwnPropertyDescriptor(h,g):null)&&(y.get||y.set)?Object.defineProperty(m,g,y):m[g]=h[g]);return m.default=h,f&&f.set(h,m),m}function d(h){return h&&h.__esModule?h:{default:h}}l.default._fesCodeReader=function(){};var c=l.default;s.default=c},{"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],269:[function(t,o,s){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function a(){var A=/(^|@)\S+:\d+/,l=/^\s*at .*(\S+:\d+|\(native\))/m,u=/^(eval@)?(\[native code])?$/;return{parse:function(p){return p.stacktrace!==void 0||p["opera#sourceloc"]!==void 0?this.parseOpera(p):p.stack&&p.stack.match(l)?this.parseV8OrIE(p):p.stack?this.parseFFOrSafari(p):void 0},extractLocation:function(p){return p.indexOf(":")===-1?[p]:[(p=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(p.replace(/[()]/g,"")))[1],p[2]||void 0,p[3]||void 0]},parseV8OrIE:function(p){return p.stack.split(`
`).filter(function(d){return!!d.match(l)},this).map(function(d){var c=(d=-1<d.indexOf("(eval ")?d.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):d).replace(/^\s+/,"").replace(/\(eval code/g,"("),h=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=h?c.replace(h[0],""):c).split(/\s+/).slice(1),h=this.extractLocation(h?h[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:d}},this)},parseFFOrSafari:function(p){return p.stack.split(`
`).filter(function(d){return!d.match(u)},this).map(function(d){var c,h;return(d=-1<d.indexOf(" > eval")?d.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):d).indexOf("@")===-1&&d.indexOf(":")===-1?{functionName:d}:{functionName:(h=d.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&h[1]?h[1]:void 0,fileName:(h=this.extractLocation(d.replace(c,"")))[0],lineNumber:h[1],columnNumber:h[2],source:d}},this)},parseOpera:function(p){return!p.stacktrace||-1<p.message.indexOf(`
`)&&p.message.split(`
`).length>p.stacktrace.split(`
`).length?this.parseOpera9(p):p.stack?this.parseOpera11(p):this.parseOpera10(p)},parseOpera9:function(p){for(var d=/Line (\d+).*script (?:in )?(\S+)/i,c=p.message.split(`
`),h=[],f=2,g=c.length;f<g;f+=2){var y=d.exec(c[f]);y&&h.push({fileName:y[2],lineNumber:y[1],source:c[f]})}return h},parseOpera10:function(p){for(var d=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=p.stacktrace.split(`
`),h=[],f=0,g=c.length;f<g;f+=2){var y=d.exec(c[f]);y&&h.push({functionName:y[3]||void 0,fileName:y[2],lineNumber:y[1],source:c[f]})}return h},parseOpera11:function(p){return p.stack.split(`
`).filter(function(d){return!!d.match(A)&&!d.match(/^Error created at/)},this).map(function(d){var c,f=d.split("@"),h=this.extractLocation(f.pop()),f=f.shift()||"";return{functionName:f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=f.match(/\(([^)]*)\)/)?f.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:d}},this)}}}t.default._getErrorStackParser=function(){return new a},t=t.default,s.default=t},{"../main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],270:[function(t,o,s){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=(A=t("../main"))&&A.__esModule?A:{default:A};(function(p){if(!(p&&p.__esModule)&&!(p===null||u(p)!=="object"&&typeof p!="function")){var d=l();if(d&&d.has(p))return d.get(p);var c,h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in p){var g;Object.prototype.hasOwnProperty.call(p,c)&&((g=f?Object.getOwnPropertyDescriptor(p,c):null)&&(g.get||g.set)?Object.defineProperty(h,c,g):h[c]=p[c])}h.default=p,d&&d.set(p,h)}})(t("../constants")),t("../internationalization");function l(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,l=function(){return p},p)}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(p)}A.default._validateParameters=A.default._clearValidateParamsCache=function(){},t=A.default,s.default=t},{"../../../docs/parameterData.json":void 0,"../constants":264,"../internationalization":273,"../main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.map":169,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],271:[function(t,o,s){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}function A(p){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(p){if(p&&p.__esModule)return p;if(p===null||A(p)!=="object"&&typeof p!="function")return{default:p};var d=u();if(d&&d.has(p))return d.get(p);var c,h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in p){var g;Object.prototype.hasOwnProperty.call(p,c)&&((g=f?Object.getOwnPropertyDescriptor(p,c):null)&&(g.get||g.set)?Object.defineProperty(h,c,g):h[c]=p[c])}return h.default=p,d&&d.set(p,h),h}(t("./constants"));function u(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,u=function(){return p},p)}s.default={modeAdjust:function(p,d,c,h,f){return f===l.CORNER?{x:p,y:d,w:c,h}:f===l.CORNERS?{x:p,y:d,w:c-p,h:h-d}:f===l.RADIUS?{x:p-c,y:d-h,w:2*c,h:2*h}:f===l.CENTER?{x:p-.5*c,y:d-.5*h,w:c,h}:void 0}}},{"./constants":264,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],272:[function(t,o,s){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(A=t("../core/main"))&&A.__esModule?A:{default:A};t("./internationalization");var A=Promise.resolve();Promise.all([new Promise(function(l,u){document.readyState==="complete"?l():window.addEventListener("load",l,!1)}),A]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!a.default.instance&&new a.default})},{"../core/main":275,"./internationalization":273,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/web.dom-collections.iterator":238}],273:[function(t,o,s){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.setTranslatorLanguage=s.currentTranslatorLanguage=s.availableTranslatorLanguages=s.initialize=s.translator=void 0;var a,A,l=p(t("i18next")),u=p(t("i18next-browser-languagedetector"));function p(h){return h&&h.__esModule?h:{default:h}}function d(h,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var c=function(){function h(y,m){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(y,m)}var f,g;return f=h,(g=[{key:"fetchWithTimeout",value:function(y,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(y,m),new Promise(function(v,w){return setTimeout(function(){return w(new Error("timeout"))},b)})])}},{key:"init",value:function(y){var m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=y,this.options=m}},{key:"read",value:function(y,m,b){var v=this.options.loadPath;y===this.options.fallback?b(null,a[y][m]):A.includes(y)?(v=this.services.interpolator.interpolate(v,{lng:y,ns:m}),this.loadUrl(v,b)):b("Not found",!1)}},{key:"loadUrl",value:function(y,m){this.fetchWithTimeout(y).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(y))},function(){throw new Error("failed loading ".concat(y))}).then(function(b){return m(null,b)}).catch(m)}}])&&d(f.prototype,g),h}();c.type="backend",s.translator=function(h,f){console.debug("p5.js translator called before translations were loaded"),l.default.t(h,f)},s.initialize=function(){return l.default.use(u.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:a}).then(function(h){s.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},s.availableTranslatorLanguages=function(){return l.default.languages},s.currentTranslatorLanguage=function(h){return l.default.language},s.setTranslatorLanguage=function(h){return l.default.changeLanguage(h||void 0,function(f){return console.debug("Translations failed to load (".concat(f,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238,i18next:3,"i18next-browser-languagedetector":3}],274:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,s.default=t},{"./main":275}],275:[function(t,o,s){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function A(h){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("./shim");var l=function(h){if(h&&h.__esModule)return h;if(h===null||A(h)!=="object"&&typeof h!="function")return{default:h};var f=u();if(f&&f.has(h))return f.get(h);var g,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var b;Object.prototype.hasOwnProperty.call(h,g)&&((b=m?Object.getOwnPropertyDescriptor(h,g):null)&&(b.get||b.set)?Object.defineProperty(y,g,b):y[g]=h[g])}return y.default=h,f&&f.set(h,y),y}(t("./constants"));function u(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,u=function(){return h},h)}function p(h,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var d,c=function(){function h(y,v){var b=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=v,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var v=Object.getOwnPropertyNames(h.prototype._registeredMethods),w=!0,_=!1,M=void 0;try{for(var x,E=v[Symbol.iterator]();!(w=(x=E.next()).done);w=!0){var C=x.value;this._registeredMethods[C]=h.prototype._registeredMethods[C].slice()}}catch(k){_=!0,M=k}finally{try{w||E.return==null||E.return()}finally{if(_)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),h.prototype.callRegisteredHooksFor=function(k){var W=this||h.prototype,Y=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(k)){var W=W._registeredMethods[k],te=!0,k=!1,R=void 0;try{for(var L,D=W[Symbol.iterator]();!(te=(L=D.next()).done);te=!0){var V=L.value;typeof V=="function"&&V.call(Y)}}catch(se){k=!0,R=se}finally{try{te||D.return==null||D.return()}finally{if(k)throw R}}}},this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var k=b._isGlobal?window:b;if(k.preload){b.callRegisteredHooksFor("beforePreload");var W,Y=document.getElementById(b._loadingScreenId),te=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=b._loadingScreenId,(b._userNode||document.body).appendChild(Y)),b._preloadMethods);for(W in te){te[W]=te[W]||h;var R=te[W];R!==h.prototype&&R!==h||(b._isGlobal&&(window[W]=b._wrapPreload(b,W)),R=b),b._registeredPreloadMethods[W]=R[W],R[W]=b._wrapPreload(R,W)}k.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._recording||b._draw()},this._runIfPreloadsAreDone=function(){var k,W=this._isGlobal?window:this;W._preloadCount===0&&((k=document.getElementById(W._loadingScreenId))&&k.parentNode.removeChild(k),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var k=this._isGlobal?window:this;k._preloadDone||typeof k.preload!="function"||(k._setProperty("_preloadCount",k._preloadCount-1),k._runIfPreloadsAreDone())},this._wrapPreload=function(k,W){var Y=this;return function(){Y._incrementPreload();for(var te=arguments.length,R=new Array(te),L=0;L<te;L++)R[L]=arguments[L];return Y._registeredPreloadMethods[W].apply(k,R)}},this._incrementPreload=function(){var k=this._isGlobal?window:this;k._preloadDone||k._setProperty("_preloadCount",k._preloadCount+1)},this._setup=function(){b.callRegisteredHooksFor("beforeSetup"),b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var k=b._isGlobal?window:b;if(typeof k.preload=="function")for(var W in b._preloadMethods)k[W]=b._preloadMethods[W][W],k[W]&&b&&(k[W]=k[W].bind(b));b._millisStart=window.performance.now(),k._preloadDone=!0,typeof k.setup=="function"&&k.setup();var Y=document.getElementsByTagName("canvas"),te=!0,R=!1,L=void 0;try{for(var D,V=Y[Symbol.iterator]();!(te=(D=V.next()).done);te=!0){var q=D.value;q.dataset.hidden==="true"&&(q.style.visibility="",delete q.dataset.hidden)}}catch(Z){R=!0,L=Z}finally{try{te||V.return==null||V.return()}finally{if(R)throw L}}b._lastTargetFrameTime=window.performance.now(),b._lastRealFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput(),b.callRegisteredHooksFor("afterSetup")},this._draw=function(){var k=window.performance.now(),W=k-b._lastTargetFrameTime,Y=1e3/b._targetFrameRate;(!b._loop||Y-5<=W)&&(b.deltaTime=k-b._lastRealFrameTime,b._setProperty("deltaTime",b.deltaTime),b._frameRate=1e3/b.deltaTime,b.redraw(),b._lastTargetFrameTime=Math.max(b._lastTargetFrameTime+Y,k),b._lastRealFrameTime=k,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(k,W){b[k]=W,b._isGlobal&&(window[k]=W)},this.remove=function(){b._startListener&&window.removeEventListener("load",b._startListener,!1);var k=document.getElementById(b._loadingScreenId);if(k&&(k.parentNode.removeChild(k),b._incrementPreload()),b._curElement){for(var W in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(W,b._events[W]);var Y=!0,k=!1,te=void 0;try{for(var R,L=b._elements[Symbol.iterator]();!(Y=(R=L.next()).done);Y=!0){var D,V=R.value;for(D in V.elt&&V.elt.parentNode&&V.elt.parentNode.removeChild(V.elt),V._events)V.elt.removeEventListener(D,V._events[D])}}catch(be){k=!0,te=be}finally{try{Y||L.return==null||L.return()}finally{if(k)throw te}}var q=b;b._registeredMethods.remove.forEach(function(be){be!==void 0&&be.call(q)})}if(b._isGlobal){for(var Z in h.prototype)try{delete window[Z]}catch{window[Z]=void 0}for(var se in b)if(b.hasOwnProperty(se))try{delete window[se]}catch{window[se]=void 0}h.instance=null}},this._registeredMethods.init.forEach(function(k){k!==void 0&&k.call(this)},this),this._setupPromisePreloads();var T,B,P=this._createFriendlyGlobalFunctionBinder();if(y)y(this),h._checkForUserDefinedFunctions(this);else{for(var F in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[F]=="function"?(T=F.substring(2),this._events.hasOwnProperty(T)||(Math.hasOwnProperty(F)&&Math[F]===h.prototype[F]?P(F,h.prototype[F]):P(F,h.prototype[F].bind(this)))):P(F,h.prototype[F]);for(var j in this)this.hasOwnProperty(j)&&P(j,this[j])}for(B in this._events){var O=this["_on".concat(B)];O&&(O=O.bind(this),window.addEventListener(B,O,{passive:!1}),this._events[B]=O)}function Q(){b._setProperty("focused",!0)}function z(){b._setProperty("focused",!1)}window.addEventListener("focus",Q),window.addEventListener("blur",z),this.registerMethod("remove",function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",z)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var f,g;return f=h,(g=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=l.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(y,m){h.prototype._preloadMethods.hasOwnProperty(y)||(h.prototype._preloadMethods[y]=m)}},{key:"registerMethod",value:function(y,m){var b=this||h.prototype;b._registeredMethods.hasOwnProperty(y)||(b._registeredMethods[y]=[]),b._registeredMethods[y].push(m)}},{key:"unregisterMethod",value:function(y,m){var b=this||h.prototype;if(b._registeredMethods.hasOwnProperty(y)){for(var v=b._registeredMethods[y],w=[],_=0;_<v.length;_++)v[_]===m&&w.push(_);for(var M=w.length-1;0<=M;M--)v.splice(w[M],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},m=y.globalObject||window;return y.log||console.log.bind(console),function(b,v){h.disableFriendlyErrors,m[b]=v}}}])&&p(f.prototype,g),h}();for(d in c.instance=null,c.disableFriendlyErrors=!1,l)c.prototype[d]=l[d];c.VERSION=l.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},s.default=c},{"./constants":264,"./shim":286,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-own-property-names":179,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],276:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function A(l,u){for(var p=0;p<u.length;p++){var d=u[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}a.default.Element=function(){function l(c,h){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=h,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var u,p,d;return u=l,d=[{key:"_adjustListener",value:function(c,h,f){return h===!1?a.default.Element._detachListener(c,f):a.default.Element._attachListener(c,h,f),this}},{key:"_attachListener",value:function(c,h,f){f._events[c]&&a.default.Element._detachListener(c,f),h=h.bind(f),f.elt.addEventListener(c,h,!1),f._events[c]=h}},{key:"_detachListener",value:function(c,h){var f=h._events[c];h.elt.removeEventListener(c,f,!1),h._events[c]=null}}],(p=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof a.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return a.default.Element._adjustListener("mousedown",function(h){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(h),c.call(this,h)},this),this}},{key:"doubleClicked",value:function(c){return a.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return a.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return a.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return a.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return a.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return a.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return a.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return a.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return a.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return a.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return a.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return a.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,h){this[c]=h}}])&&A(u.prototype,p),d&&A(u,d),l}(),t=a.default.Element,s.default=t},{"./main":275}],277:[function(t,o,s){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function A(b){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(m=t("./main"))&&m.__esModule?m:{default:m},u=function(b){if(b&&b.__esModule)return b;if(b===null||A(b)!=="object"&&typeof b!="function")return{default:b};var v=p();if(v&&v.has(b))return v.get(b);var w,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var x;Object.prototype.hasOwnProperty.call(b,w)&&((x=M?Object.getOwnPropertyDescriptor(b,w):null)&&(x.get||x.set)?Object.defineProperty(_,w,x):_[w]=b[w])}return _.default=b,v&&v.set(b,_),_}(t("./constants"));function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function d(b,v){for(var w=0;w<v.length;w++){var _=v[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}function c(b,v){return(c=Object.setPrototypeOf||function(w,_){return w.__proto__=_,w})(b,v)}function h(b){return function(){var v,w=y(b);return f(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=y(this).constructor,Reflect.construct(w,arguments,v)):w.apply(this,arguments))}}function f(b,v){return!v||A(v)!=="object"&&typeof v!="function"?g(b):v}function g(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function y(b){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(b)}l.default.Graphics=function(b){var v=_;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),b&&c(v,b);var w=h(_);function _(M,x,j,C,T){var B;if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");F=T||document.createElement("canvas"),(B=w.call(this,F,C)).canvas=F;var P,F=j||u.P2D,j=C._userNode||document.body;for(P in T||j.appendChild(B.canvas),l.default.prototype)B[P]||(typeof l.default.prototype[P]=="function"?B[P]=l.default.prototype[P].bind(g(B)):B[P]=l.default.prototype[P]);return l.default.prototype._initializeInstanceVariables.apply(g(B)),B.width=M,B.height=x,B._pixelDensity=C._pixelDensity,F===u.WEBGL?B._renderer=new l.default.RendererGL(B.canvas,g(B),!1):B._renderer=new l.default.Renderer2D(B.canvas,g(B),!1),C._elements.push(g(B)),Object.defineProperty(g(B),"deltaTime",{get:function(){return this._pInst.deltaTime}}),B._renderer.resize(M,x),B._renderer._applyDefaults(),f(B,g(B))}return v=_,(b=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var M,x=this._pInst._elements.indexOf(this);for(M in x!==-1&&this._pInst._elements.splice(x,1),this._events)this.elt.removeEventListener(M,this._events[M])}},{key:"createFramebuffer",value:function(M){return new l.default.Framebuffer(this,M)}}])&&d(v.prototype,b),_}(l.default.Element);var m=l.default.Graphics;s.default=m},{"./constants":264,"./main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],278:[function(t,o,s){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=(y=t("./main"))&&y.__esModule?y:{default:y},l=function(b){if(b&&b.__esModule)return b;if(b===null||p(b)!=="object"&&typeof b!="function")return{default:b};var v=u();if(v&&v.has(b))return v.get(b);var w,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var x;Object.prototype.hasOwnProperty.call(b,w)&&((x=M?Object.getOwnPropertyDescriptor(b,w):null)&&(x.get||x.set)?Object.defineProperty(_,w,x):_[w]=b[w])}return _.default=b,v&&v.set(b,_),_}(t("../core/constants"));function u(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,u=function(){return b},b)}function p(b){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(b)}function d(b,v){for(var w=0;w<v.length;w++){var _=v[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}function c(b,v){return(c=Object.setPrototypeOf||function(w,_){return w.__proto__=_,w})(b,v)}function h(b){return function(){var v,w,_=g(b);return v=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(v=g(this).constructor,Reflect.construct(_,arguments,v)):_.apply(this,arguments),_=this,!(w=v)||p(w)!=="object"&&typeof w!="function"?f(_):w}}function f(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function g(b){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(b)}var y=function(b){var v=_;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),b&&c(v,b);var w=h(_);function _(M,x,E){var C;if(this instanceof _)return(C=w.call(this,M,x)).canvas=M,C._pixelsState=x,E?(C._isMainCanvas=!0,C._pInst._setProperty("_curElement",f(C)),C._pInst._setProperty("canvas",C.canvas),C._pInst._setProperty("width",C.width),C._pInst._setProperty("height",C.height)):(C.canvas.style.display="none",C._styles=[]),C._clipping=!1,C._clipInvert=!1,C._textSize=12,C._textLeading=15,C._textFont="sans-serif",C._textStyle=l.NORMAL,C._textAscent=null,C._textDescent=null,C._textAlign=l.LEFT,C._textBaseline=l.BASELINE,C._textWrap=l.WORD,C._rectMode=l.CORNER,C._ellipseMode=l.CENTER,C._curveTightness=0,C._imageMode=l.CORNER,C._tint=null,C._doStroke=!0,C._doFill=!0,C._strokeSet=!1,C._fillSet=!1,C._leadingSet=!1,C._pushPopDepth=0,C;throw new TypeError("Cannot call a class as a function")}return v=_,(b=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(M){this._pushPopDepth--,M.properties&&Object.assign(this,M.properties)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=M.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(M,x){this.width=M,this.height=x,this.elt.width=M*this._pInst._pixelDensity,this.elt.height=x*this._pInst._pixelDensity,this.elt.style.width="".concat(M,"px"),this.elt.style.height="".concat(x,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(M,x,E,C){var T=this._pixelsState,B=T._pixelDensity,P=this.canvas;if(M===void 0&&x===void 0)M=x=0,E=T.width,C=T.height;else if(M*=B,x*=B,E===void 0&&C===void 0)return M<0||x<0||M>=P.width||x>=P.height?[0,0,0,0]:this._getPixel(M,x);return T=new A.default.Image(E*B,C*B),T.pixelDensity(B),T.canvas.getContext("2d").drawImage(P,M,x,E*B,C*B,0,0,E*B,C*B),T}},{key:"textLeading",value:function(M){return typeof M=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",M),this._pInst):this._textLeading}},{key:"textStyle",value:function(M){return M?(M!==l.NORMAL&&M!==l.ITALIC&&M!==l.BOLD&&M!==l.BOLDITALIC||this._setProperty("_textStyle",M),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(M,x){return M!==void 0?(this._setProperty("_textAlign",M),x!==void 0&&this._setProperty("_textBaseline",x),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(M){return this._setProperty("_textWrap",M),this._textWrap}},{key:"text",value:function(M,x,E,C,T){var B,P,F,j,O=this._pInst,Q=this._textWrap,z=Number.MAX_VALUE,k=E;if((this._doFill||this._doStroke)&&M!==void 0){if(B=(M=(M=typeof M!="string"?M.toString():M).replace(/(\t)/g,"  ")).split(`
`),C!==void 0){switch(this._rectMode===l.CENTER&&(x-=C/2),this._textAlign){case l.CENTER:x+=C/2;break;case l.RIGHT:x+=C}if(T!==void 0){this._rectMode===l.CENTER&&(E-=T/2,k-=T/2);var M=E,W=O.textAscent();switch(this._textBaseline){case l.BOTTOM:j=E+T,E=Math.max(j,E),k+=W;break;case l.CENTER:j=E+T/2,E=Math.max(j,E),k+=W/2}z=E+T-W,this._textBaseline===l.CENTER&&(z=M+T-W/2)}else this._textBaseline!==l.BOTTOM&&this._textBaseline!==l.CENTER||(k=E-(M=O.textSize()*this._textLeading)/2,z=E+M/2);if(Q===l.WORD){for(var Y=[],te=0;te<B.length;te++){for(var R="",L=B[te].split(" "),D=0;D<L.length;D++)P="".concat(R+L[D])+" ",R=C<(F=this.textWidth(P))&&0<R.length?(Y.push(R),"".concat(L[D])+" "):P;Y.push(R)}var V=0;this._textBaseline===l.CENTER?V=(Y.length-1)*O.textLeading()/2:this._textBaseline===l.BOTTOM&&(V=(Y.length-1)*O.textLeading());for(var q=0;q<B.length;q++){R="",L=B[q].split(" ");for(var Z=0;Z<L.length;Z++)P="".concat(R+L[Z])+" ",C<(F=this.textWidth(P))&&0<R.length?(this._renderText(O,R.trim(),x,E-V,z,k),R="".concat(L[Z])+" ",E+=O.textLeading()):R=P;this._renderText(O,R.trim(),x,E-V,z,k),E+=O.textLeading()}}else{for(var se=[],fe=0;fe<B.length;fe++)for(var be=B[fe].split(R=""),pe=0;pe<be.length;pe++)P="".concat(R+be[pe]),(F=this.textWidth(P))<=C?R+=be[pe]:C<F&&0<R.length&&(se.push(R),R="".concat(be[pe]));se.push(R);var Ae=0;this._textBaseline===l.CENTER?Ae=(se.length-1)*O.textLeading()/2:this._textBaseline===l.BOTTOM&&(Ae=(se.length-1)*O.textLeading());for(var ge=0;ge<B.length;ge++){be=B[ge].split(R="");for(var ce=0;ce<be.length;ce++)P="".concat(R+be[ce]),(F=this.textWidth(P))<=C?R+=be[ce]:C<F&&0<R.length&&(this._renderText(O,R.trim(),x,E-Ae,z,k),E+=O.textLeading(),R="".concat(be[ce]))}this._renderText(O,R.trim(),x,E-Ae,z,k),E+=O.textLeading()}}else{var de=0;this._textBaseline===l.CENTER?de=(B.length-1)*O.textLeading()/2:this._textBaseline===l.BOTTOM&&(de=(B.length-1)*O.textLeading());for(var oe=0;oe<B.length;oe++)this._renderText(O,B[oe],x,E-de,z,k-de),E+=O.textLeading()}return O}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return p(M)==="object"&&M.font&&M.font.supported}},{key:"_updateTextMetrics",value:function(){var M,x,E,C,T,B;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((M=document.createElement("span")).style.fontFamily=this._textFont,M.style.fontSize="".concat(this._textSize,"px"),M.innerHTML="ABCjgq|",(B=document.createElement("div")).style.display="inline-block",B.style.width="1px",B.style.height="0px",C=((x=document.createElement("div")).appendChild(M),x.appendChild(B),x.style.height="0px",x.style.overflow="hidden",document.body.appendChild(x),B.style.verticalAlign="baseline",m(B)),T=m(M),E=C[1]-T[1],C=(B.style.verticalAlign="bottom",m(B)),T=m(M),B=C[1]-T[1]-E,document.body.removeChild(x),this._setProperty("_textAscent",E),this._setProperty("_textDescent",B)),this}}])&&d(v.prototype,b),_}(A.default.Element);function m(b){var v=0,w=0;if(b.offsetParent)for(;v+=b.offsetLeft,w+=b.offsetTop,b=b.offsetParent;);else v+=b.offsetLeft,w+=b.offsetTop;return[v,w]}y.prototype.textSize=function(b){return typeof b=="number"?(this._setProperty("_textSize",b),this._leadingSet||this._setProperty("_textLeading",b*l._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},A.default.Renderer=y,t=A.default.Renderer,s.default=t},{"../core/constants":264,"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],279:[function(b,o,s){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function A(v){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(v)}b("core-js/modules/es.symbol"),b("core-js/modules/es.symbol.description"),b("core-js/modules/es.symbol.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.for-each"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.array.join"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.function.name"),b("core-js/modules/es.number.to-fixed"),b("core-js/modules/es.object.get-own-property-descriptor"),b("core-js/modules/es.object.get-prototype-of"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.reflect.construct"),b("core-js/modules/es.reflect.get"),b("core-js/modules/es.regexp.to-string"),b("core-js/modules/es.string.iterator"),b("core-js/modules/es.weak-map"),b("core-js/modules/web.dom-collections.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.for-each"),b("core-js/modules/es.array.join"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.function.name"),b("core-js/modules/es.number.to-fixed"),b("core-js/modules/es.object.get-prototype-of"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.regexp.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(m=b("./main"))&&m.__esModule?m:{default:m},u=function(v){if(v&&v.__esModule)return v;if(v===null||A(v)!=="object"&&typeof v!="function")return{default:v};var w=p();if(w&&w.has(v))return w.get(v);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in v){var E;Object.prototype.hasOwnProperty.call(v,_)&&((E=x?Object.getOwnPropertyDescriptor(v,_):null)&&(E.get||E.set)?Object.defineProperty(M,_,E):M[_]=v[_])}return M.default=v,w&&w.set(v,M),M}(b("./constants"));function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}function d(v,w){for(var _=0;_<w.length;_++){var M=w[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(v,M.key,M)}}function c(v,w,_){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(C,x,E){var C=function(T,B){for(;!Object.prototype.hasOwnProperty.call(T,B)&&(T=g(T))!==null;);return T}(C,x);if(C)return(C=Object.getOwnPropertyDescriptor(C,x)).get?C.get.call(E):C.value})(v,w,_||v)}function h(v,w){return(h=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(v,w)}function f(v){return function(){var w,_=g(v),_=(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=g(this).constructor,Reflect.construct(_,arguments,w)):_.apply(this,arguments),this);if(!w||A(w)!=="object"&&typeof w!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return w}}function g(v){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(v)}b("./p5.Renderer");var y="rgba(0,0,0,0)",m=function(v){var w=M;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),v&&h(w,v);var _=f(M);function M(x,E,C){if(this instanceof M)return(x=_.call(this,x,E,C)).drawingContext=x.canvas.getContext("2d"),x._pInst._setProperty("drawingContext",x.drawingContext),x;throw new TypeError("Cannot call a class as a function")}return w=M,(v=[{key:"getFilterGraphicsLayer",value:function(){var x;return this.filterGraphicsLayer||(x=(this._pInst instanceof l.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new l.default.Graphics(this.width,this.height,u.WEBGL,x)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=u.BLEND,this._setFill(u._DEFAULT_FILL),this._setStroke(u._DEFAULT_STROKE),this.drawingContext.lineCap=u.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(x,E){c(g(M.prototype),"resize",this).call(this,x,E),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var x,E;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof l.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(x=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(x,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(x=this._getFill(),E=(E=this._pInst).color.apply(E,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(E.levels),E=E.toString(),this._setFill(E),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(x),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var x=(x=this._pInst).color.apply(x,arguments);this._setFill(x.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",x.levels)}},{key:"stroke",value:function(){var x=(x=this._pInst).color.apply(x,arguments);this._setStroke(x.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",x.levels)}},{key:"erase",value:function(x,E){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,x=this._pInst.color(255,x).toString(),this.drawingContext.fillStyle=x,this._cachedStrokeStyle=this.drawingContext.strokeStyle,x=this._pInst.color(255,E).toString(),this.drawingContext.strokeStyle=x,E=this._cachedBlendMode,this.blendMode(u.REMOVE),this._cachedBlendMode=E,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var x=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},x=(c(g(M.prototype),"beginClip",this).call(this,x),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),x=(this.drawingContext.fillStyle=x,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),x=(this.drawingContext.strokeStyle=x,this._cachedBlendMode);this.blendMode(u.BLEND),this._cachedBlendMode=x,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),c(g(M.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(x,E,C,T,B,P,F,j,O){x.gifProperties&&x._animateGif(this._pInst);try{l.default.MediaElement&&x instanceof l.default.MediaElement&&x._ensureCanvas();var Q=(Q=this._tint&&x.canvas?this._getTintedImageCanvas(x):Q)||x.canvas||x.elt,z=1;x.width&&0<x.width&&(z=Q.width/x.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(Q,z*E,z*C,z*T,z*B,P,F,j,O),this._isErasing&&this._pInst.erase()}catch(k){if(k.name!=="NS_ERROR_NOT_AVAILABLE")throw k}}},{key:"_getTintedImageCanvas",value:function(x){if(!x.canvas)return x;x.tintCanvas||(x.tintCanvas=document.createElement("canvas")),x.tintCanvas.width!==x.canvas.width&&(x.tintCanvas.width=x.canvas.width),x.tintCanvas.height!==x.canvas.height&&(x.tintCanvas.height=x.canvas.height);var E=x.tintCanvas.getContext("2d");return E.save(),E.clearRect(0,0,x.canvas.width,x.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(E.drawImage(x.canvas,0,0),E.globalCompositeOperation="luminosity",E.drawImage(x.canvas,0,0),E.globalCompositeOperation="color",E.drawImage(x.canvas,0,0),E.globalCompositeOperation="multiply",E.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),E.fillRect(0,0,x.canvas.width,x.canvas.height),E.globalCompositeOperation="destination-in"),E.globalAlpha=this._tint[3]/255,E.drawImage(x.canvas,0,0),E.restore(),x.tintCanvas}},{key:"blendMode",value:function(x){if(x===u.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(x!==u.BLEND&&x!==u.REMOVE&&x!==u.DARKEST&&x!==u.LIGHTEST&&x!==u.DIFFERENCE&&x!==u.MULTIPLY&&x!==u.EXCLUSION&&x!==u.SCREEN&&x!==u.REPLACE&&x!==u.OVERLAY&&x!==u.HARD_LIGHT&&x!==u.SOFT_LIGHT&&x!==u.DODGE&&x!==u.BURN&&x!==u.ADD)throw new Error("Mode ".concat(x," not recognized."));this._cachedBlendMode=x,this.drawingContext.globalCompositeOperation=x}}},{key:"blend",value:function(){for(var x=this.drawingContext.globalCompositeOperation,E=arguments.length,C=new Array(E),T=0;T<E;T++)C[T]=arguments[T];var B=C[C.length-1],P=Array.prototype.slice.call(C,0,C.length-1);this.drawingContext.globalCompositeOperation=B,l.default.prototype.copy.apply(this,P),this.drawingContext.globalCompositeOperation=x}},{key:"_getPixel",value:function(x,E){return x=this.drawingContext.getImageData(x,E,1,1).data,[x[0],x[1],x[2],x[3]]}},{key:"loadPixels",value:function(){var x=this._pixelsState,E=x._pixelDensity,C=this.width*E,E=this.height*E,C=this.drawingContext.getImageData(0,0,C,E);x._setProperty("imageData",C),x._setProperty("pixels",C.data)}},{key:"set",value:function(x,E,C){x=Math.floor(x),E=Math.floor(E);var T=this._pixelsState;if(C instanceof l.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(T._pixelDensity,T._pixelDensity),this.drawingContext.clearRect(x,E,C.width,C.height),this.drawingContext.drawImage(C.canvas,x,E),this.drawingContext.restore();else{var B=0,P=0,F=0,j=0,O=4*(E*T._pixelDensity*(this.width*T._pixelDensity)+x*T._pixelDensity);if(T.imageData||T.loadPixels.call(T),typeof C=="number")O<T.pixels.length&&(F=P=B=C,j=255);else if(C instanceof Array){if(C.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");O<T.pixels.length&&(B=C[0],P=C[1],F=C[2],j=C[3])}else C instanceof l.default.Color&&O<T.pixels.length&&(B=C.levels[0],P=C.levels[1],F=C.levels[2],j=C.levels[3]);for(var Q=0;Q<T._pixelDensity;Q++)for(var z=0;z<T._pixelDensity;z++)O=4*((E*T._pixelDensity+z)*this.width*T._pixelDensity+(x*T._pixelDensity+Q)),T.pixels[O]=B,T.pixels[O+1]=P,T.pixels[O+2]=F,T.pixels[O+3]=j}}},{key:"updatePixels",value:function(x,E,C,T){var B=this._pixelsState,P=B._pixelDensity;x===void 0&&E===void 0&&C===void 0&&T===void 0&&(E=x=0,C=this.width,T=this.height),x*=P,E*=P,C*=P,T*=P,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=B.imageData),this.drawingContext.putImageData(B.imageData,x,E,0,0,C,T)}},{key:"_acuteArcToBezier",value:function(x,E){var P=E/2,C=Math.cos(P),j=Math.sin(P),T=1/Math.tan(P),P=x+P,B=Math.cos(P),P=Math.sin(P),F=(4-C)/3,j=j+(C-F)*T;return{ax:Math.cos(x).toFixed(7),ay:Math.sin(x).toFixed(7),bx:(F*B+j*P).toFixed(7),by:(F*P-j*B).toFixed(7),cx:(F*B-j*P).toFixed(7),cy:(F*P+j*B).toFixed(7),dx:Math.cos(x+E).toFixed(7),dy:Math.sin(x+E).toFixed(7)}}},{key:"arc",value:function(x,E,C,T,B,P,F){var j,O=this.drawingContext,Q=C/2,z=T/2,k=[];for(x+=Q,E+=z;1e-5<=P-B;)j=Math.min(P-B,u.HALF_PI),k.push(this._acuteArcToBezier(B,j)),B+=j;return this._doFill&&(this._clipping||O.beginPath(),k.forEach(function(W,Y){Y===0&&O.moveTo(x+W.ax*Q,E+W.ay*z),O.bezierCurveTo(x+W.bx*Q,E+W.by*z,x+W.cx*Q,E+W.cy*z,x+W.dx*Q,E+W.dy*z)}),F!==u.PIE&&F!=null||O.lineTo(x,E),O.closePath(),this._clipping||O.fill()),this._doStroke&&(this._clipping||O.beginPath(),k.forEach(function(W,Y){Y===0&&O.moveTo(x+W.ax*Q,E+W.ay*z),O.bezierCurveTo(x+W.bx*Q,E+W.by*z,x+W.cx*Q,E+W.cy*z,x+W.dx*Q,E+W.dy*z)}),F===u.PIE?(O.lineTo(x,E),O.closePath()):F===u.CHORD&&O.closePath(),this._clipping||O.stroke()),this}},{key:"ellipse",value:function(k){var E=this.drawingContext,C=this._doFill,T=this._doStroke,B=parseFloat(k[0]),P=parseFloat(k[1]),z=parseFloat(k[2]),k=parseFloat(k[3]);if(C&&!T){if(this._getFill()===y)return this}else if(!C&&T&&this._getStroke()===y)return this;var F=z/2*.5522847498,j=k/2*.5522847498,O=B+z,Q=P+k,z=B+z/2,k=P+k/2;this._clipping||E.beginPath(),E.moveTo(B,k),E.bezierCurveTo(B,k-j,z-F,P,z,P),E.bezierCurveTo(z+F,P,O,k-j,O,k),E.bezierCurveTo(O,k+j,z+F,Q,z,Q),E.bezierCurveTo(z-F,Q,B,k+j,B,k),!this._clipping&&C&&E.fill(),!this._clipping&&T&&E.stroke()}},{key:"line",value:function(x,E,C,T){var B=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(this._clipping||B.beginPath(),B.moveTo(x,E),B.lineTo(C,T),B.stroke()),this}},{key:"point",value:function(x,E){var C,T,B=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(C=this._getStroke(),T=this._getFill(),this._clipping||this._setFill(C),this._clipping||B.beginPath(),B.arc(x,E,B.lineWidth/2,0,u.TWO_PI,!1),void(this._clipping||(B.fill(),this._setFill(T))))}},{key:"quad",value:function(x,E,C,T,B,P,F,j){var O=this.drawingContext,Q=this._doFill,z=this._doStroke;if(Q&&!z){if(this._getFill()===y)return this}else if(!Q&&z&&this._getStroke()===y)return this;return this._clipping||O.beginPath(),O.moveTo(x,E),O.lineTo(C,T),O.lineTo(B,P),O.lineTo(F,j),O.closePath(),!this._clipping&&Q&&O.fill(),!this._clipping&&z&&O.stroke(),this}},{key:"rect",value:function(z){var E,C,T=z[0],B=z[1],P=z[2],F=z[3],j=z[4],O=z[5],Q=z[6],z=z[7],k=this.drawingContext,W=this._doFill,Y=this._doStroke;if(W&&!Y){if(this._getFill()===y)return this}else if(!W&&Y&&this._getStroke()===y)return this;return this._clipping||k.beginPath(),j===void 0?k.rect(T,B,P,F):(O===void 0&&(O=j),Q===void 0&&(Q=O),z===void 0&&(z=Q),Y=(W=Math.abs(P))/2,C=(E=Math.abs(F))/2,E<2*(j=W<2*j?Y:j)&&(j=C),E<2*(O=W<2*O?Y:O)&&(O=C),E<2*(Q=W<2*Q?Y:Q)&&(Q=C),E<2*(z=W<2*z?Y:z)&&(z=C),this._clipping||k.beginPath(),k.moveTo(T+j,B),k.arcTo(T+P,B,T+P,B+F,O),k.arcTo(T+P,B+F,T,B+F,Q),k.arcTo(T,B+F,T,B,z),k.arcTo(T,B,T+P,B,j),k.closePath()),!this._clipping&&this._doFill&&k.fill(),!this._clipping&&this._doStroke&&k.stroke(),this}},{key:"triangle",value:function(Q){var E=this.drawingContext,C=this._doFill,T=this._doStroke,B=Q[0],P=Q[1],F=Q[2],j=Q[3],O=Q[4],Q=Q[5];if(C&&!T){if(this._getFill()===y)return this}else if(!C&&T&&this._getStroke()===y)return this;this._clipping||E.beginPath(),E.moveTo(B,P),E.lineTo(F,j),E.lineTo(O,Q),E.closePath(),!this._clipping&&C&&E.fill(),!this._clipping&&T&&E.stroke()}},{key:"endShape",value:function(x,E,C,T,B,P,F){if(E.length!==0&&(this._doStroke||this._doFill)){var j,O,Q,z=x===u.CLOSE,k=(z&&!P&&E.push(E[0]),E.length);if(C&&F===null){if(3<k){var W=[],Y=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[1][0],E[1][1]),O=1;O+2<k;O++)j=E[O],W[0]=[j[0],j[1]],W[1]=[j[0]+(Y*E[O+1][0]-Y*E[O-1][0])/6,j[1]+(Y*E[O+1][1]-Y*E[O-1][1])/6],W[2]=[E[O+1][0]+(Y*E[O][0]-Y*E[O+2][0])/6,E[O+1][1]+(Y*E[O][1]-Y*E[O+2][1])/6],W[3]=[E[O+1][0],E[O+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);z&&this.drawingContext.lineTo(E[O+1][0],E[O+1][1]),this._doFillStrokeClose(z)}}else if(T&&F===null){for(this._clipping||this.drawingContext.beginPath(),O=0;O<k;O++)E[O].isVert?E[O].moveTo?this.drawingContext.moveTo(E[O][0],E[O][1]):this.drawingContext.lineTo(E[O][0],E[O][1]):this.drawingContext.bezierCurveTo(E[O][0],E[O][1],E[O][2],E[O][3],E[O][4],E[O][5]);this._doFillStrokeClose(z)}else if(B&&F===null){for(this._clipping||this.drawingContext.beginPath(),O=0;O<k;O++)E[O].isVert?E[O].moveTo?this.drawingContext.moveTo(E[O][0],E[O][1]):this.drawingContext.lineTo(E[O][0],E[O][1]):this.drawingContext.quadraticCurveTo(E[O][0],E[O][1],E[O][2],E[O][3]);this._doFillStrokeClose(z)}else if(F===u.POINTS)for(O=0;O<k;O++)j=E[O],this._doStroke&&this._pInst.stroke(j[6]),this._pInst.point(j[0],j[1]);else if(F===u.LINES)for(O=0;O+1<k;O+=2)j=E[O],this._doStroke&&this._pInst.stroke(E[O+1][6]),this._pInst.line(j[0],j[1],E[O+1][0],E[O+1][1]);else if(F===u.TRIANGLES)for(O=0;O+2<k;O+=3)j=E[O],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(E[O+1][0],E[O+1][1]),this.drawingContext.lineTo(E[O+2][0],E[O+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(E[O+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(E[O+2][6]),this.drawingContext.stroke());else if(F===u.TRIANGLE_STRIP)for(O=0;O+1<k;O++)j=E[O],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[O+1][0],E[O+1][1]),this.drawingContext.lineTo(j[0],j[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+1][5]),O+2<k&&(this.drawingContext.lineTo(E[O+2][0],E[O+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+2][5])),this._doFillStrokeClose(z);else if(F===u.TRIANGLE_FAN){if(2<k){for(this._clipping||this.drawingContext.beginPath(),O=2;O<k;O++)j=E[O],this.drawingContext.moveTo(E[0][0],E[0][1]),this.drawingContext.lineTo(E[O-1][0],E[O-1][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(E[0][0],E[0][1]),O<k-1&&(this._doFill&&j[5]!==E[O+1][5]||this._doStroke&&j[6]!==E[O+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(j[5]),this.drawingContext.fill(),this._pInst.fill(E[O+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(j[6]),this.drawingContext.stroke(),this._pInst.stroke(E[O+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(z)}}else if(F===u.QUADS)for(O=0;O+3<k;O+=4){for(j=E[O],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(j[0],j[1]),Q=1;Q<4;Q++)this.drawingContext.lineTo(E[O+Q][0],E[O+Q][1]);this.drawingContext.lineTo(j[0],j[1]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+3][6]),this._doFillStrokeClose(z)}else if(F===u.QUAD_STRIP){if(3<k)for(O=0;O+1<k;O+=2)j=E[O],this._clipping||this.drawingContext.beginPath(),O+3<k?(this.drawingContext.moveTo(E[O+2][0],E[O+2][1]),this.drawingContext.lineTo(j[0],j[1]),this.drawingContext.lineTo(E[O+1][0],E[O+1][1]),this.drawingContext.lineTo(E[O+3][0],E[O+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+3][6])):(this.drawingContext.moveTo(j[0],j[1]),this.drawingContext.lineTo(E[O+1][0],E[O+1][1])),this._doFillStrokeClose(z)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0][0],E[0][1]),O=1;O<k;O++)(j=E[O]).isVert&&(j.moveTo?(z&&this.drawingContext.closePath(),this.drawingContext.moveTo(j[0],j[1])):this.drawingContext.lineTo(j[0],j[1]));this._doFillStrokeClose(z)}P=B=T=C=!1,z&&E.pop()}return this}},{key:"strokeCap",value:function(x){return x!==u.ROUND&&x!==u.SQUARE&&x!==u.PROJECT||(this.drawingContext.lineCap=x),this}},{key:"strokeJoin",value:function(x){return x!==u.ROUND&&x!==u.BEVEL&&x!==u.MITER||(this.drawingContext.lineJoin=x),this}},{key:"strokeWeight",value:function(x){return this.drawingContext.lineWidth=x===void 0||x===0?1e-4:x,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(x){x!==this._cachedFillStyle&&(this.drawingContext.fillStyle=x,this._cachedFillStyle=x)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(x){x!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=x,this._cachedStrokeStyle=x)}},{key:"bezier",value:function(x,E,C,T,B,P,F,j){return this._pInst.beginShape(),this._pInst.vertex(x,E),this._pInst.bezierVertex(C,T,B,P,F,j),this._pInst.endShape(),this}},{key:"curve",value:function(x,E,C,T,B,P,F,j){return this._pInst.beginShape(),this._pInst.curveVertex(x,E),this._pInst.curveVertex(C,T),this._pInst.curveVertex(B,P),this._pInst.curveVertex(F,j),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(x){x&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(x,E,C,T,B,P){this.drawingContext.transform(x,E,C,T,B,P)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(x){this.drawingContext.rotate(x)}},{key:"scale",value:function(x,E){return this.drawingContext.scale(x,E),this}},{key:"translate",value:function(x,E){return x instanceof l.default.Vector&&(E=x.y,x=x.x),this.drawingContext.translate(x,E),this}},{key:"_renderText",value:function(x,E,C,T,B,P){if(!(T<P||B<=T))return x.push(),this._isOpenType()?this._textFont._renderPath(E,C,T,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(E,C,T),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(u._DEFAULT_TEXT_FILL),this.drawingContext.fillText(E,C,T))),x.pop(),x}},{key:"textWidth",value:function(x){return this._isOpenType()?this._textFont._textWidth(x,this._textSize):this.drawingContext.measureText(x).width}},{key:"_applyTextProperties",value:function(){var x,E=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),x=this._textFont,this._isOpenType()&&(x=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(x||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===u.CENTER?this.drawingContext.textBaseline=u._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,E}},{key:"push",value:function(){return this.drawingContext.save(),c(g(M.prototype),"push",this).call(this)}},{key:"pop",value:function(x){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c(g(M.prototype),"pop",this).call(this,x)}}])&&d(w.prototype,v),M}(l.default.Renderer),b=(m.prototype.text=function(v,w,_,C,x){C!==void 0&&this.drawingContext.textBaseline===u.BASELINE&&(E=!0,this.drawingContext.textBaseline=u.TOP);var E,C=l.default.Renderer.prototype.text.apply(this,arguments);return E&&(this.drawingContext.textBaseline=u.BASELINE),C},l.default.Renderer2D=m,l.default.Renderer2D);s.default=b},{"./constants":264,"./main":275,"./p5.Renderer":278,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],280:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(t=t("./main"))&&t.__esModule?t:{default:t};a.default.prototype._promisePreloads=[];function A(){return{}}var l=!(a.default.prototype.registerPromisePreload=function(u){a.default.prototype._promisePreloads.push(u)});a.default.prototype._setupPromisePreloads=function(){var u=!0,p=!1,d=void 0;try{for(var c,h=this._promisePreloads[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var f=c.value,g=this,y=f.method,m=f.addCallbacks,b=f.legacyPreloadSetup,v=f.target||this,w=v[y].bind(v);if(v===a.default.prototype){if(l)continue;g=null,w=v[y]}v[y]=this._wrapPromisePreload(g,w,m),b&&(v[b.method]=this._legacyPreloadGenerator(g,b,v[y]))}}catch(_){p=!0,d=_}finally{try{u||h.return==null||h.return()}finally{if(p)throw d}}l=!0},a.default.prototype._wrapPromisePreload=function(u,p,d){var c=function(){for(var h=this,f=(this._incrementPreload(),null),g=null,y=arguments.length,m=new Array(y),b=0;b<y;b++)m[b]=arguments[b];if(d)for(var v=m.length-1;0<=v&&!g&&typeof m[v]=="function";v--)g=f,f=m.pop();var w=Promise.resolve(p.apply(this,m));return f&&w.then(f),g&&w.catch(g),w.then(function(){return h._decrementPreload()}),w};return c=u?c.bind(u):c},a.default.prototype._legacyPreloadGenerator=function(u,h,d){var c=h.createBaseObject||A,h=function(){var f=this;this._incrementPreload();for(var g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];var b=c.apply(this,y);return d.apply(this,y).then(function(v){Object.assign(b,v),f._decrementPreload()}),b};return h=u?h.bind(u):h}},{"./main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],281:[function(t,o,s){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=(c=t("./main"))&&c.__esModule?c:{default:c},l=function(h){if(h&&h.__esModule)return h;if(h===null||p(h)!=="object"&&typeof h!="function")return{default:h};var f=u();if(f&&f.has(h))return f.get(h);var g,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var b;Object.prototype.hasOwnProperty.call(h,g)&&((b=m?Object.getOwnPropertyDescriptor(h,g):null)&&(b.get||b.set)?Object.defineProperty(y,g,b):y[g]=h[g])}return y.default=h,f&&f.set(h,y),y}(t("./constants"));function u(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,u=function(){return h},h)}function p(h){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(h)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var d="defaultCanvas0",c=(A.default.prototype.createCanvas=function(h,f,g,y){var m,b,v;if(A.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(g=l.P2D,y=arguments[2]):m=g||l.P2D,y)(v=document.getElementById(d))&&v.parentNode.removeChild(v),v=y,this._defaultGraphicsCreated=!1;else{if(m===l.WEBGL)(v=document.getElementById(d))&&(v.parentNode.removeChild(v),b=this._renderer,this._elements=this._elements.filter(function(_){return _!==b})),(v=document.createElement("canvas")).id=d,v.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)v=this.canvas;else{v=y||document.createElement("canvas");for(var w=0;document.getElementById("defaultCanvas".concat(w));)w++;d="defaultCanvas".concat(w),v.id=d,v.classList.add("p5Canvas")}this._setupDone||(v.dataset.hidden=!0,v.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(g=document.createElement("main"),document.body.appendChild(g)),document.getElementsByTagName("main")[0])).appendChild(v)}return m===l.WEBGL?(this._setProperty("_renderer",new A.default.RendererGL(v,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new A.default.Renderer2D(v,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,f),this._renderer._applyDefaults(),this._renderer},A.default.prototype.resizeCanvas=function(h,f,g){if(A.default._validateParameters("resizeCanvas",arguments),this._renderer){var y,m,b={};for(y in this.drawingContext){var v=this.drawingContext[y];p(v)!=="object"&&typeof v!="function"&&(b[y]=v)}for(m in this.width=h,this.height=f,this._renderer.resize(h,f),b)try{this.drawingContext[m]=b[m]}catch{}g||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},A.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},A.default.prototype.createGraphics=function(h,f){for(var g=arguments.length,y=new Array(2<g?g-2:0),m=2;m<g;m++)y[m-2]=arguments[m];return y[0]instanceof HTMLCanvasElement&&(y[1]=y[0],y[0]=l.P2D),A.default._validateParameters("createGraphics",arguments),new A.default.Graphics(h,f,y[0],this,y[1])},A.default.prototype.createFramebuffer=function(h){return new A.default.Framebuffer(this,h)},A.default.prototype.blendMode=function(h){A.default._validateParameters("blendMode",arguments),h===l.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=l.BLEND),this._renderer.blendMode(h)},A.default);s.default=c},{"../webgl/p5.RendererGL":332,"./constants":264,"./main":275,"./p5.Graphics":277,"./p5.Renderer2D":279,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],282:[function(t,o,s){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function A(f){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=c(t("../main")),u=function(f){if(f&&f.__esModule)return f;if(f===null||A(f)!=="object"&&typeof f!="function")return{default:f};var g=d();if(g&&g.has(f))return g.get(f);var y,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in f){var v;Object.prototype.hasOwnProperty.call(f,y)&&((v=b?Object.getOwnPropertyDescriptor(f,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=f[y])}return m.default=f,g&&g.set(f,m),m}(t("../constants")),p=c(t("../helpers"));function d(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,d=function(){return f},f)}function c(f){return f&&f.__esModule?f:{default:f}}function h(f){return function(g){if(Array.isArray(g)){for(var y=0,m=new Array(g.length);y<g.length;y++)m[y]=g[y];return m}}(f)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),l.default.prototype._normalizeArcAngles=function(f,g,y,m,b){var v;return f-=u.TWO_PI*Math.floor(f/u.TWO_PI),g-=u.TWO_PI*Math.floor(g/u.TWO_PI),v=Math.min(Math.abs(f-g),u.TWO_PI-Math.abs(f-g)),b&&(f=f<=u.HALF_PI?Math.atan(y/m*Math.tan(f)):f>u.HALF_PI&&f<=3*u.HALF_PI?Math.atan(y/m*Math.tan(f))+u.PI:Math.atan(y/m*Math.tan(f))+u.TWO_PI,g=g<=u.HALF_PI?Math.atan(y/m*Math.tan(g)):g>u.HALF_PI&&g<=3*u.HALF_PI?Math.atan(y/m*Math.tan(g))+u.PI:Math.atan(y/m*Math.tan(g))+u.TWO_PI),g<f&&(g+=u.TWO_PI),{start:f,stop:g,correspondToSamePoint:v<1e-5}},l.default.prototype.arc=function(f,g,y,m,b,v,w,_){return l.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&b!==v&&(b=this._toRadians(b),v=this._toRadians(v),y=Math.abs(y),m=Math.abs(m),f=p.default.modeAdjust(f,g,y,m,this._renderer._ellipseMode),(g=this._normalizeArcAngles(b,v,f.w,f.h,!0)).correspondToSamePoint?this._renderer.ellipse([f.x,f.y,f.w,f.h,_]):(this._renderer.arc(f.x,f.y,f.w,f.h,g.start,g.stop,w,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[f.x,f.y,f.w,f.h,g.start,g.stop,w]))),this},l.default.prototype.ellipse=function(f,g,y,m,b){return l.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},l.default.prototype.circle=function(){l.default._validateParameters("circle",arguments);var f=Array.prototype.slice.call(arguments,0,2);return f.push(arguments[2]),f.push(arguments[2]),this._renderEllipse.apply(this,h(f))},l.default.prototype._renderEllipse=function(f,g,y,m,b){return(this._renderer._doStroke||this._renderer._doFill)&&(y<0&&(y=Math.abs(y)),m===void 0?m=y:m<0&&(m=Math.abs(m)),f=p.default.modeAdjust(f,g,y,m,this._renderer._ellipseMode),this._renderer.ellipse([f.x,f.y,f.w,f.h,b]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[f.x,f.y,f.w,f.h])),this},l.default.prototype.line=function(){for(var f,g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];return l.default._validateParameters("line",y),this._renderer._doStroke&&(f=this._renderer).line.apply(f,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",y),this},l.default.prototype.point=function(){for(var f,g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];return l.default._validateParameters("point",y),this._renderer._doStroke&&(y.length===1&&y[0]instanceof l.default.Vector?this._renderer.point.call(this._renderer,y[0].x,y[0].y,y[0].z):((f=this._renderer).point.apply(f,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",y))),this},l.default.prototype.quad=function(){for(var f,g=arguments.length,y=new Array(g),m=0;m<g;m++)y[m]=arguments[m];return l.default._validateParameters("quad",y),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&y.length<12?this._renderer.quad.call(this._renderer,y[0],y[1],0,y[2],y[3],0,y[4],y[5],0,y[6],y[7],0,y[8],y[9]):((f=this._renderer).quad.apply(f,y),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",y))),this},l.default.prototype.rect=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];return l.default._validateParameters("rect",g),this._renderRect.apply(this,g)},l.default.prototype.square=function(f,g,y,m,b,v,w){return l.default._validateParameters("square",arguments),this._renderRect.call(this,f,g,y,y,m,b,v,w)},l.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var f=p.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),g=[f.x,f.y,f.w,f.h],y=4;y<arguments.length;y++)g[y]=arguments[y];this._renderer.rect(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[f.x,f.y,f.w,f.h])}return this},l.default.prototype.triangle=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];return l.default._validateParameters("triangle",g),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",g),this},t=l.default,s.default=t},{"../constants":264,"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../helpers":271,"../main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],283:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../main"))&&d.__esModule?d:{default:d},u=function(c){if(c&&c.__esModule)return c;if(c===null||A(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}l.default.prototype.ellipseMode=function(c){return l.default._validateParameters("ellipseMode",arguments),c!==u.CORNER&&c!==u.CORNERS&&c!==u.RADIUS&&c!==u.CENTER||(this._renderer._ellipseMode=c),this},l.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},l.default.prototype.rectMode=function(c){return l.default._validateParameters("rectMode",arguments),c!==u.CORNER&&c!==u.CORNERS&&c!==u.RADIUS&&c!==u.CENTER||(this._renderer._rectMode=c),this},l.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},l.default.prototype.strokeCap=function(c){return l.default._validateParameters("strokeCap",arguments),c!==u.ROUND&&c!==u.SQUARE&&c!==u.PROJECT||this._renderer.strokeCap(c),this},l.default.prototype.strokeJoin=function(c){return l.default._validateParameters("strokeJoin",arguments),c!==u.ROUND&&c!==u.BEVEL&&c!==u.MITER||this._renderer.strokeJoin(c),this},l.default.prototype.strokeWeight=function(c){return l.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var d=l.default;s.default=d},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],284:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(A=t("../main"))&&A.__esModule?A:{default:A};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),a.default.prototype.bezier=function(){for(var l,u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return a.default._validateParameters("bezier",p),(this._renderer._doStroke||this._renderer._doFill)&&(l=this._renderer).bezier.apply(l,p),this},a.default.prototype.bezierDetail=function(l){return a.default._validateParameters("bezierDetail",arguments),this._bezierDetail=l,this},a.default.prototype.bezierPoint=function(l,u,p,d,c){a.default._validateParameters("bezierPoint",arguments);var h=1-c;return Math.pow(h,3)*l+3*Math.pow(h,2)*c*u+3*h*Math.pow(c,2)*p+Math.pow(c,3)*d},a.default.prototype.bezierTangent=function(l,u,p,d,c){a.default._validateParameters("bezierTangent",arguments);var h=1-c;return 3*d*Math.pow(c,2)-3*p*Math.pow(c,2)+6*p*h*c-6*u*h*c+3*u*Math.pow(h,2)-3*l*Math.pow(h,2)},a.default.prototype.curve=function(){for(var l,u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return a.default._validateParameters("curve",p),this._renderer._doStroke&&(l=this._renderer).curve.apply(l,p),this},a.default.prototype.curveDetail=function(l){return a.default._validateParameters("curveDetail",arguments),this._curveDetail=l<3?3:l,this},a.default.prototype.curveTightness=function(l){return a.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=l,this},a.default.prototype.curvePoint=function(l,u,p,d,c){a.default._validateParameters("curvePoint",arguments);var h=this._renderer._curveTightness,f=c*c*c,g=c*c;return l*((h-1)/2*f+(1-h)*g+(h-1)/2*c)+u*((h+3)/2*f+(-5-h)/2*g+1)+p*((-3-h)/2*f+(h+2)*g+(1-h)/2*c)+d*((1-h)/2*f+(h-1)/2*g)},a.default.prototype.curveTangent=function(l,u,p,d,g){a.default._validateParameters("curveTangent",arguments);var h=this._renderer._curveTightness,f=g*g*3,g=2*g;return l*((h-1)/2*f+(1-h)*g+(h-1)/2)+u*((h+3)/2*f+(-5-h)/2*g)+p*((-3-h)/2*f+(h+2)*g+(1-h)/2)+d*((1-h)/2*f+(h-1)/2*g)};var A=a.default;s.default=A},{"../friendly_errors/fes_core":266,"../friendly_errors/file_errors":267,"../friendly_errors/validate_params":270,"../main":275}],285:[function(t,o,s){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function A(w){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(v=t("../main"))&&v.__esModule?v:{default:v},u=function(w){if(w&&w.__esModule)return w;if(w===null||A(w)!=="object"&&typeof w!="function")return{default:w};var _=p();if(_&&_.has(w))return _.get(w);var M,x={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in w){var C;Object.prototype.hasOwnProperty.call(w,M)&&((C=E?Object.getOwnPropertyDescriptor(w,M):null)&&(C.get||C.set)?Object.defineProperty(x,M,C):x[M]=w[M])}return x.default=w,_&&_.set(w,x),x}(t("../constants"));function p(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,p=function(){return w},w)}var d=null,c=[],h=[],f=!1,g=!1,y=!1,m=!1,b=!0,v=(l.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(h=[],m=!0),this},l.default.prototype.beginShape=function(w){var _;return l.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(d=w===u.POINTS||w===u.LINES||w===u.TRIANGLES||w===u.TRIANGLE_FAN||w===u.TRIANGLE_STRIP||w===u.QUADS||w===u.QUAD_STRIP?w:null,c=[],h=[]),this},l.default.prototype.bezierVertex=function(){for(var w,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];if(l.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(w=this._renderer).bezierVertex.apply(w,M);else if(c.length===0)l.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{f=!0;for(var E=[],C=0;C<M.length;C++)E[C]=M[C];E.isVert=!1,(m?h:c).push(E)}return this},l.default.prototype.curveVertex=function(){for(var w,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];return l.default._validateParameters("curveVertex",M),this._renderer.isP3D?(w=this._renderer).curveVertex.apply(w,M):(g=!0,this.vertex(M[0],M[1])),this},l.default.prototype.endContour=function(){if(!this._renderer.isP3D){var w=h[0].slice();w.isVert=h[0].isVert,w.moveTo=!1,h.push(w),b&&(c.push(c[0]),b=!1);for(var _=0;_<h.length;_++)c.push(h[_])}return this},l.default.prototype.endShape=function(w){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(l.default._validateParameters("endShape",arguments),_<1&&(console.log(" p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(w,g,f,y,m,d,_);else{if(_!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;_=w===u.CLOSE,_&&!m&&c.push(c[0]),this._renderer.endShape(w,c,g,f,y,m,d),b=!(m=y=f=g=!1),_&&c.pop()}return this},l.default.prototype.quadraticVertex=function(){for(var w,_=arguments.length,M=new Array(_),x=0;x<_;x++)M[x]=arguments[x];if(l.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(w=this._renderer).quadraticVertex.apply(w,M);else{if(this._contourInited)return(w={}).x=M[0],w.y=M[1],w.x3=M[2],w.y3=M[3],w.type=u.QUADRATIC,this._contourVertices.push(w),this;if(0<c.length){y=!0;for(var E=[],C=0;C<M.length;C++)E[C]=M[C];E.isVert=!1,(m?h:c).push(E)}else l.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},l.default.prototype.vertex=function(w,_,M,x,E){var C;return this._renderer.isP3D?(C=this._renderer).vertex.apply(C,arguments):((C=[]).isVert=!0,C[0]=w,C[1]=_,C[2]=0,C[3]=0,C[4]=0,C[5]=this._renderer._getFill(),C[6]=this._renderer._getStroke(),M&&(C.moveTo=M),(m?(h.length===0&&(C.moveTo=!0),h):c).push(C)),this},l.default.prototype.normal=function(w,_,M){var x;return this._assert3d("normal"),l.default._validateParameters("normal",arguments),(x=this._renderer).normal.apply(x,arguments),this},l.default);s.default=v},{"../constants":264,"../main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],286:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return function(h){if(Array.isArray(h)){for(var f=0,g=new Array(h.length);f<h.length;f++)g[f]=h[f];return g}}(c)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(c){return(l=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}var u,p,d;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(c,h){window.setTimeout(c,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(u=Object.keys,t=Object.defineProperty,p=typeof Symbol=="function"&&l(Symbol())==="symbol",d=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(c,h){if(c==null)throw new TypeError("target must be an object");for(var f,g=Object(c),y=1;y<arguments.length;++y){var m=Object(arguments[y]),b=u(m);for(p&&Object.getOwnPropertySymbols&&b.push.apply(b,A(Object.getOwnPropertySymbols(m).filter(function(v){return function(w){return d.call(v,w)}}(m)))),f=0;f<b.length;++f)g[b[f]]=m[b[f]]}return g},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/web.dom-collections.iterator":238}],287:[function(t,o,s){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var a=this._styles.pop();a?(this._renderer.pop(a.renderer),Object.assign(this,a.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(a){if(!this._inUserDraw&&this._setupDone){var A=parseInt(a),l=((isNaN(A)||A<1)&&(A=1),this._isGlobal?window:this);if(typeof l.draw=="function"){l.setup===void 0&&l.scale(l._pixelDensity,l._pixelDensity);for(var u=0;u<A;u++){l.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),l._renderer.isP3D&&l._renderer._update(),l._setProperty("frameCount",l.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{l.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,s.default=t},{"./main":275,"core-js/modules/es.object.assign":176}],288:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("./main"))&&t.__esModule?t:{default:t};function A(l){return function(u){if(Array.isArray(u)){for(var p=0,d=new Array(u.length);p<u.length;p++)d[p]=u[p];return d}}(l)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.applyMatrix=function(){var l=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||l?(l=this._renderer).applyMatrix.apply(l,A(arguments.length<=0?void 0:arguments[0])):(l=this._renderer).applyMatrix.apply(l,arguments),this},a.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},a.default.prototype.rotate=function(l,u){return a.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(l),u),this},a.default.prototype.rotateX=function(l){return this._assert3d("rotateX"),a.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(l)),this},a.default.prototype.rotateY=function(l){return this._assert3d("rotateY"),a.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(l)),this},a.default.prototype.rotateZ=function(l){return this._assert3d("rotateZ"),a.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(l)),this},a.default.prototype.scale=function(l,u,p){var d;return a.default._validateParameters("scale",arguments),l instanceof a.default.Vector?(l=(d=l).x,u=d.y,p=d.z):l instanceof Array&&(l=(d=l)[0],u=d[1],p=d[2]||1),isNaN(u)?u=p=l:isNaN(p)&&(p=1),this._renderer.scale.call(this._renderer,l,u,p),this},a.default.prototype.shearX=function(l){return a.default._validateParameters("shearX",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,0,Math.tan(l),1,0,0),this},a.default.prototype.shearY=function(l){return a.default._validateParameters("shearY",arguments),l=this._toRadians(l),this._renderer.applyMatrix(1,Math.tan(l),0,1,0,0),this},a.default.prototype.translate=function(l,u,p){return a.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(l,u,p):this._renderer.translate(l,u),this},t=a.default,s.default=t},{"./main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238}],289:[function(t,o,s){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var A=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(p){return function(d){if(Array.isArray(d)){for(var c=0,h=new Array(d.length);c<d.length;c++)h[c]=d[c];return h}}(p)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(p){return(u=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(d){return a(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":a(d)})(p)}A.default.prototype.storeItem=function(p,d){typeof p!="string"&&console.log("The argument that you passed to storeItem() - ".concat(p," is not a string.")),p.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(p," must not end with 'p5TypeID'.")),d===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=u(d);switch(c){case"number":case"boolean":d=d.toString();break;case"object":d instanceof A.default.Color?c="p5.Color":d instanceof A.default.Vector&&(c="p5.Vector",d=[d.x,d.y,d.z]),d=JSON.stringify(d)}localStorage.setItem(p,d),p="".concat(p,"p5TypeID"),localStorage.setItem(p,c)},A.default.prototype.getItem=function(p){var d=localStorage.getItem(p),c=localStorage.getItem("".concat(p,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(p,"in local storage. Did you save the item with something other than setItem()?"));else if(d!==null)switch(c){case"number":d=parseFloat(d);break;case"boolean":d=d==="true";break;case"object":d=JSON.parse(d);break;case"p5.Color":d=JSON.parse(d),d=this.color.apply(this,l(d.levels));break;case"p5.Vector":d=JSON.parse(d),d=this.createVector.apply(this,l(d))}return d},A.default.prototype.clearStorage=function(){localStorage.clear()},A.default.prototype.removeItem=function(p){typeof p!="string"&&console.log("The argument that you passed to removeItem() - ".concat(p," is not a string.")),localStorage.removeItem(p),localStorage.removeItem("".concat(p,"p5TypeID"))}},{"../core/main":275,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.ends-with":190,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],290:[function(t,o,s){function a(y){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(y)}function A(y){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(m){return a(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":a(m)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),m&&p(y,m)}function p(y,m){return(p=Object.setPrototypeOf||function(b,v){return b.__proto__=v,b})(y,m)}function d(y){return function(){var m,b=c(y),b=(m=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(m=c(this).constructor,Reflect.construct(b,arguments,m)):b.apply(this,arguments),this);if(!m||A(m)!=="object"&&typeof m!="function"){if(b!==void 0)return b;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return m}}function c(y){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(y)}function h(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){for(var b=0;b<m.length;b++){var v=m[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(y,v.key,v)}}function g(y,m,b){m&&f(y.prototype,m),b&&f(y,b)}l.default.prototype.createStringDict=function(y,m){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(y,m)},l.default.prototype.createNumberDict=function(y,m){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(y,m)},l.default.TypedDict=function(){function y(m,b){return h(this,y),m instanceof Object?this.data=m:(this.data={},this.data[m]=b),this}return g(y,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(m){return this.data.hasOwnProperty(m)}},{key:"get",value:function(m){if(this.data.hasOwnProperty(m))return this.data[m];console.log("".concat(m," does not exist in this Dictionary"))}},{key:"set",value:function(m,b){this._validate(b)?this.data[m]=b:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(m){for(var b in m)this.set(b,m[b])}},{key:"create",value:function(m,b){m instanceof Object&&b===void 0?this._addObj(m):m!==void 0?this.set(m,b):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(m){if(!this.data.hasOwnProperty(m))throw new Error("".concat(m," does not exist in this Dictionary"));delete this.data[m]}},{key:"print",value:function(){for(var m in this.data)console.log("key:".concat(m," value:").concat(this.data[m]))}},{key:"saveTable",value:function(m){var b,v="";for(b in this.data)v+="".concat(b,",").concat(this.data[b],`
`);var w=new Blob([v],{type:"text/csv"});l.default.prototype.downloadFile(w,m||"mycsv","csv")}},{key:"saveJSON",value:function(m,b){l.default.prototype.saveJSON(this.data,m,b)}},{key:"_validate",value:function(m){return!0}}]),y}(),l.default.StringDict=function(){u(m,l.default.TypedDict);var y=d(m);function m(){h(this,m);for(var b=arguments.length,v=new Array(b),w=0;w<b;w++)v[w]=arguments[w];return y.call.apply(y,[this].concat(v))}return g(m,[{key:"_validate",value:function(b){return typeof b=="string"}}]),m}(),l.default.NumberDict=function(){u(m,l.default.TypedDict);var y=d(m);function m(){h(this,m);for(var b=arguments.length,v=new Array(b),w=0;w<b;w++)v[w]=arguments[w];return y.call.apply(y,[this].concat(v))}return g(m,[{key:"_validate",value:function(b){return typeof b=="number"}},{key:"add",value:function(b,v){this.data.hasOwnProperty(b)?this.data[b]+=v:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"sub",value:function(b,v){this.add(b,-v)}},{key:"mult",value:function(b,v){this.data.hasOwnProperty(b)?this.data[b]*=v:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"div",value:function(b,v){this.data.hasOwnProperty(b)?this.data[b]/=v:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"_valueTest",value:function(b){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var v,w=this.data[Object.keys(this.data)[0]];for(v in this.data)this.data[v]*b<w*b&&(w=this.data[v]);return w}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(b){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var v=Object.keys(this.data)[0],w=1;w<Object.keys(this.data).length;w++)Object.keys(this.data)[w]*b<v*b&&(v=Object.keys(this.data)[w]);return v}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),m}(),t=l.default.TypedDict,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],291:[function(t,o,s){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=(t=t("../core/main"))&&t.__esModule?t:{default:t};function l(v,w){for(var _=0;_<w.length;_++){var M=w[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(v,M.key,M)}}function u(v,w,_){w&&l(v.prototype,w),_&&l(v,_)}function p(v,w){return(p=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(v,w)}function d(v){return function(){var w,_,M=h(v);return w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=h(this).constructor,Reflect.construct(M,arguments,w)):M.apply(this,arguments),M=this,!(_=w)||g(_)!=="object"&&typeof _!="function"?c(M):_}}function c(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(v)}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function g(v){return(g=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(v)}function y(v,w,_){return(w._userNode||document.body).appendChild(v),_=new(_?A.default.MediaElement:A.default.Element)(v,w),w._elements.push(_),_}function m(v,C,_,M){var x=document.createElement(C),E=(typeof(_=_||"")=="string"&&(_=[_]),!0),C=!1,T=void 0;try{for(var B,P=_[Symbol.iterator]();!(E=(B=P.next()).done);E=!0){var F=B.value,j=document.createElement("source");j.setAttribute("src",F),x.appendChild(j)}}catch(Q){C=!0,T=Q}finally{try{E||P.return==null||P.return()}finally{if(C)throw T}}typeof M=="function"&&x.addEventListener("canplaythrough",function Q(){M(),x.removeEventListener("canplaythrough",Q)});var O=y(x,v,!0);return O.loadedmetadata=!1,x.addEventListener("loadedmetadata",function(){O.width=x.videoWidth,O.height=x.videoHeight,O.elt.width===0&&(O.elt.width=x.videoWidth),O.elt.height===0&&(O.elt.height=x.videoHeight),O.presetPlaybackRate&&(O.elt.playbackRate=O.presetPlaybackRate,delete O.presetPlaybackRate),O.loadedmetadata=!0}),O}A.default.prototype.select=function(v,w){return A.default._validateParameters("select",arguments),w=this._getContainer(w).querySelector(v),w?this._wrapElement(w):null},A.default.prototype.selectAll=function(v,w){A.default._validateParameters("selectAll",arguments);var _=[],M=this._getContainer(w).querySelectorAll(v);if(M)for(var x=0;x<M.length;x++){var E=this._wrapElement(M[x]);_.push(E)}return _},A.default.prototype._getContainer=function(v){var w=document;return typeof v=="string"?w=document.querySelector(v)||document:v instanceof A.default.Element?w=v.elt:v instanceof HTMLElement&&(w=v),w},A.default.prototype._wrapElement=function(v){var w,_=Array.prototype.slice.call(v.children);return v.tagName==="INPUT"&&v.type==="checkbox"?((w=new A.default.Element(v,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},w):v.tagName==="VIDEO"||v.tagName==="AUDIO"?new A.default.MediaElement(v,this):v.tagName==="SELECT"?this.createSelect(new A.default.Element(v,this)):0<_.length&&_.every(function(M){return M.tagName==="INPUT"||M.tagName==="LABEL"})?this.createRadio(new A.default.Element(v,this)):new A.default.Element(v,this)},A.default.prototype.removeElements=function(v){A.default._validateParameters("removeElements",arguments),this._elements.filter(function(w){return!(w.elt instanceof HTMLCanvasElement)}).map(function(w){return w.remove()})},A.default.Element.prototype.changed=function(v){return A.default.Element._adjustListener("change",v,this),this},A.default.Element.prototype.input=function(v){return A.default.Element._adjustListener("input",v,this),this},A.default.prototype.createDiv=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("div");return w.innerHTML=v,y(w,this)},A.default.prototype.createP=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("p");return w.innerHTML=v,y(w,this)},A.default.prototype.createSpan=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=document.createElement("span");return w.innerHTML=v,y(w,this)},A.default.prototype.createImg=function(){A.default._validateParameters("createImg",arguments);var v,w=document.createElement("img"),_=arguments;return 1<_.length&&typeof _[1]=="string"&&(w.alt=_[1]),2<_.length&&typeof _[2]=="string"&&(w.crossOrigin=_[2]),w.src=_[0],v=y(w,this),w.addEventListener("load",function(){v.width=w.offsetWidth||w.width,v.height=w.offsetHeight||w.height;var M=_[_.length-1];typeof M=="function"&&M(v)}),v},A.default.prototype.createA=function(v,w,_){A.default._validateParameters("createA",arguments);var M=document.createElement("a");return M.href=v,M.innerHTML=w,_&&(M.target=_),y(M,this)},A.default.prototype.createSlider=function(v,w,_,M){A.default._validateParameters("createSlider",arguments);var x=document.createElement("input");return x.type="range",x.min=v,x.max=w,M===0?x.step=1e-18:M&&(x.step=M),typeof _=="number"&&(x.value=_),y(x,this)},A.default.prototype.createButton=function(v,w){A.default._validateParameters("createButton",arguments);var _=document.createElement("button");return _.innerHTML=v,w&&(_.value=w),y(_,this)},A.default.prototype.createCheckbox=function(){for(var v=arguments.length,w=new Array(v),_=0;_<v;_++)w[_]=arguments[_];A.default._validateParameters("createCheckbox",w);var M=document.createElement("div"),x=document.createElement("input"),E=(x.type="checkbox",document.createElement("label")),C=(E.appendChild(x),M.appendChild(E),y(M,this));return C.checked=function(){var T=C.elt.firstElementChild.getElementsByTagName("input")[0];if(T){if(arguments.length===0)return T.checked;T.checked=!(arguments.length<=0||!arguments[0])}return C},this.value=function(T){return C.value=T,this},w[0]&&(C.value(w[0]),(M=document.createElement("span")).innerHTML=w[0],E.appendChild(M)),w[1]&&(x.checked=!0),C},A.default.prototype.createSelect=function(){for(var v,w=arguments.length,_=new Array(w),M=0;M<w;M++)_[M]=arguments[M];A.default._validateParameters("createSelect",_);var x,E=_[0];return E instanceof A.default.Element&&E.elt instanceof HTMLSelectElement?this.elt=(v=E).elt:E instanceof HTMLSelectElement?(v=y(E,this),this.elt=E):(x=document.createElement("select"),E&&typeof E=="boolean"&&x.setAttribute("multiple","true"),v=y(x,this),this.elt=x),v.option=function(C,T){var B;if(C!==void 0){for(var P,F=0;F<this.elt.length;F+=1)if(this.elt[F].textContent===C){B=F;break}B!==void 0?T===!1?this.elt.remove(B):this.elt[B].value=T:((P=document.createElement("option")).textContent=C,P.value=T===void 0?C:T,this.elt.appendChild(P),this._pInst._elements.push(P))}},v.selected=function(C){if(C!==void 0){for(var T=0;T<this.elt.length;T+=1)this.elt[T].value.toString()===C.toString()&&(this.elt.selectedIndex=T);return this}if(this.elt.getAttribute("multiple")){var B=[],P=!0,F=!1,j=void 0;try{for(var O,Q=this.elt.selectedOptions[Symbol.iterator]();!(P=(O=Q.next()).done);P=!0){var z=O.value;B.push(z.value)}}catch(k){F=!0,j=k}finally{try{P||Q.return==null||Q.return()}finally{if(F)throw j}}return B}return this.elt.value},v.disable=function(C){if(typeof C=="string")for(var T=0;T<this.elt.length;T++)this.elt[T].value.toString()===C&&(this.elt[T].disabled=!0,this.elt[T].selected=!1);else this.elt.disabled=!0;return this},v.enable=function(C){if(typeof C=="string")for(var T=0;T<this.elt.length;T++)this.elt[T].value.toString()===C&&(this.elt[T].disabled=!1,this.elt[T].selected=!1);else{this.elt.disabled=!1;for(var B=0;B<this.elt.length;B++)this.elt[B].disabled=!1,this.elt[B].selected=!1}return this},v},A.default.prototype.createRadio=function(){function v(C){return C instanceof HTMLInputElement&&C.type==="radio"}function w(C){return C instanceof HTMLLabelElement}var _,M,x,E=arguments.length<=0?void 0:arguments[0];return E instanceof A.default.Element&&(E.elt instanceof HTMLDivElement||E.elt instanceof HTMLSpanElement)?(_=E,this.elt=E.elt):E instanceof HTMLDivElement||E instanceof HTMLSpanElement?(_=y(E,this),M=this.elt=E,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(x=arguments.length<=1?void 0:arguments[1])):(typeof E=="string"&&(x=E),M=document.createElement("div"),_=y(M,this),this.elt=M),_._name=x||"radioOption",_._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(C){return v(C)||w(C)&&v(C.firstElementChild)}).map(function(C){return v(C)?C:C.firstElementChild})},_.option=function(C,T){var B,P,F,j=!0,O=!1,Q=void 0;try{for(var z,k=_._getOptionsArray()[Symbol.iterator]();!(j=(z=k.next()).done);j=!0){var W=z.value;if(W.value===C){B=W;break}}}catch(Y){O=!0,Q=Y}finally{try{j||k.return==null||k.return()}finally{if(O)throw Q}}return B===void 0&&((B=document.createElement("input")).setAttribute("type","radio"),B.setAttribute("value",C)),B.setAttribute("name",_._name),w(B.parentElement)?P=B.parentElement:(P=document.createElement("label")).insertAdjacentElement("afterbegin",B),P.lastElementChild instanceof HTMLSpanElement?F=P.lastElementChild:(F=document.createElement("span"),B.insertAdjacentElement("afterend",F)),F.innerHTML=T===void 0?C:T,this.elt.appendChild(P),B},_.remove=function(C){var T=!0,B=!1,P=void 0;try{for(var F,j=_._getOptionsArray()[Symbol.iterator]();!(T=(F=j.next()).done);T=!0){var O=F.value;if(O.value===C)return void(w(O.parentElement)?O.parentElement:O).remove()}}catch(Q){B=!0,P=Q}finally{try{T||j.return==null||j.return()}finally{if(B)throw P}}},_.value=function(){var C="",T=!0,B=!1,P=void 0;try{for(var F,j=_._getOptionsArray()[Symbol.iterator]();!(T=(F=j.next()).done);T=!0){var O=F.value;if(O.checked){C=O.value;break}}}catch(Q){B=!0,P=Q}finally{try{T||j.return==null||j.return()}finally{if(B)throw P}}return C},_.selected=function(C){var T=null;if(C===void 0){var B=!0,P=!1,F=void 0;try{for(var j,O=_._getOptionsArray()[Symbol.iterator]();!(B=(j=O.next()).done);B=!0){var Q=j.value;if(Q.checked){T=Q;break}}}catch(te){P=!0,F=te}finally{try{B||O.return==null||O.return()}finally{if(P)throw F}}}else{_._getOptionsArray().forEach(function(L){L.checked=!1,L.removeAttribute("checked")});var z=!0,P=!1,F=void 0;try{for(var k,W=_._getOptionsArray()[Symbol.iterator]();!(z=(k=W.next()).done);z=!0){var Y=k.value;Y.value===C&&(Y.setAttribute("checked",!0),Y.checked=!0,T=Y)}}catch(L){P=!0,F=L}finally{try{z||W.return==null||W.return()}finally{if(P)throw F}}}return T},_.disable=function(){var C=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],T=!0,B=!1,P=void 0;try{for(var F,j=_._getOptionsArray()[Symbol.iterator]();!(T=(F=j.next()).done);T=!0)F.value.setAttribute("disabled",C)}catch(O){B=!0,P=O}finally{try{T||j.return==null||j.return()}finally{if(B)throw P}}},_},A.default.prototype.createColorPicker=function(v){A.default._validateParameters("createColorPicker",arguments);var w=document.createElement("input");return w.type="color",v?v instanceof A.default.Color?w.value=v.toString("#rrggbb"):(A.default.prototype._colorMode="rgb",A.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},w.value=A.default.prototype.color(v).toString("#rrggbb")):w.value="#000000",(w=y(w,this)).color=function(){return v&&(v.mode&&(A.default.prototype._colorMode=v.mode),v.maxes&&(A.default.prototype._colorMaxes=v.maxes)),A.default.prototype.color(this.elt.value)},w},A.default.prototype.createInput=function(){var v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",w=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",_=(A.default._validateParameters("createInput",arguments),document.createElement("input"));return _.setAttribute("value",v),_.setAttribute("type",w),y(_,this)},A.default.prototype.createFileInput=function(v){var w,_=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(A.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(w=document.createElement("input")).setAttribute("type","file"),_&&w.setAttribute("multiple",!0),w.addEventListener("change",function(M){var x=!0,E=!1,C=void 0;try{for(var T,B=M.target.files[Symbol.iterator]();!(x=(T=B.next()).done);x=!0){var P=T.value;A.default.File._load(P,v)}}catch(F){E=!0,C=F}finally{try{x||B.return==null||B.return()}finally{if(E)throw C}}},!1),y(w,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},A.default.prototype.createVideo=function(v,w){return A.default._validateParameters("createVideo",arguments),m(this,"video",v,w)},A.default.prototype.createAudio=function(v,w){return A.default._validateParameters("createAudio",arguments),m(this,"audio",v,w)},A.default.prototype.VIDEO="video",A.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(v){var w=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return w?new Promise(function(_,M){w.call(navigator,v,_,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),A.default.prototype.createCapture=function(){for(var v=arguments.length,w=new Array(v),_=0;_<v;_++)w[_]=arguments[_];if(A.default._validateParameters("createCapture",w),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var M,x=!0,E=!0,C=0,T=w;C<T.length;C++){var B=T[C];B===A.default.prototype.VIDEO?E=!1:B===A.default.prototype.AUDIO?x=!1:g(B)==="object"?P=B:typeof B=="function"&&(M=B)}var P=P||{video:x,audio:E},F=document.createElement("video"),j=(F.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(P).then(function(O){try{"srcObject"in F?F.srcObject=O:F.src=window.URL.createObjectURL(O)}catch{F.src=O}},console.log),y(F,this,!0));return j.loadedmetadata=!1,F.addEventListener("loadedmetadata",function(){F.play(),F.width?(j.width=F.width,j.height=F.height):(j.width=j.elt.width=F.videoWidth,j.height=j.elt.height=F.videoHeight),j.loadedmetadata=!0,M&&M(F.srcObject)}),j},A.default.prototype.createElement=function(v,w){return A.default._validateParameters("createElement",arguments),v=document.createElement(v),w!==void 0&&(v.innerHTML=w),y(v,this)},A.default.Element.prototype.addClass=function(v){return this.elt.className?this.hasClass(v)||(this.elt.className=this.elt.className+" "+v):this.elt.className=v,this},A.default.Element.prototype.removeClass=function(v){return this.elt.classList.remove(v),this},A.default.Element.prototype.hasClass=function(v){return this.elt.classList.contains(v)},A.default.Element.prototype.toggleClass=function(v){return this.elt.classList.contains(v)?this.elt.classList.remove(v):this.elt.classList.add(v),this},A.default.Element.prototype.child=function(v){return v===void 0?this.elt.childNodes:(typeof v=="string"?(v[0]==="#"&&(v=v.substring(1)),v=document.getElementById(v)):v instanceof A.default.Element&&(v=v.elt),v instanceof HTMLElement&&this.elt.appendChild(v),this)},A.default.Element.prototype.center=function(v){var w=this.elt.style.display,_=this.elt.style.display==="none",M=this.parent().style.display==="none",x={x:this.elt.offsetLeft,y:this.elt.offsetTop},E=(_&&this.show(),M&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),C=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return v==="both"||v===void 0?this.position(E/2+this.parent().offsetLeft,C/2+this.parent().offsetTop):v==="horizontal"?this.position(E/2+this.parent().offsetLeft,x.y):v==="vertical"&&this.position(x.x,C/2+this.parent().offsetTop),this.style("display",w),_&&this.hide(),M&&this.parent().hide(),this},A.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},A.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},A.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=v,this},A.default.Element.prototype._rotate=function(){var v="";return this.elt.style.transform&&(v=(v=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=v,this},A.default.Element.prototype.style=function(v,w){if((w=w instanceof A.default.Color?"rgba("+w.levels[0]+","+w.levels[1]+","+w.levels[2]+","+w.levels[3]/255+")":w)===void 0){if(v.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(v);for(var _=v.split(";"),M=0;M<_.length;M++){var x=_[M].split(":");x[0]&&x[1]&&(this.elt.style[x[0].trim()]=x[1].trim())}}else this.elt.style[v]=w,v!=="width"&&v!=="height"&&v!=="left"&&v!=="top"||(w=window.getComputedStyle(this.elt).getPropertyValue(v).replace(/[^\d.]/g,""),this[v]=Math.round(parseFloat(w,10)));return this},A.default.Element.prototype.attribute=function(v,w){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return w===void 0?this.elt.getAttribute(v):(this.elt.setAttribute(v,w),this);if(w===void 0)return this.elt.firstChild.getAttribute(v);for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].setAttribute(v,w)},A.default.Element.prototype.removeAttribute=function(v){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var w=0;w<this.elt.childNodes.length;w++)this.elt.childNodes[w].removeAttribute(v);return this.elt.removeAttribute(v),this},A.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},A.default.Element.prototype.show=function(){return this.elt.style.display="block",this},A.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},A.default.Element.prototype.size=function(v,w){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var _=v,M=w,x=A.default.prototype.AUTO;if(_!==x||M!==x){if(_===x?_=w*this.width/this.height:M===x&&(M=v*this.height/this.width),this.elt instanceof HTMLCanvasElement){var E,C={},T=this.elt.getContext("2d");for(E in T)C[E]=T[E];for(E in this.elt.setAttribute("width",_*this._pInst._pixelDensity),this.elt.setAttribute("height",M*this._pInst._pixelDensity),this.elt.style.width=_+"px",this.elt.style.height=M+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),C)this.elt.getContext("2d")[E]=C[E]}else this.elt.style.width=_+"px",this.elt.style.height=M+"px",this.elt.width=_,this.elt.height=M;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},A.default.Element.prototype.remove=function(){this instanceof A.default.MediaElement&&(this.stop(),(w=this.elt.srcObject)!==null&&w.getTracks().forEach(function(_){_.stop()}));var v,w=this._pInst._elements.indexOf(this);for(v in w!==-1&&this._pInst._elements.splice(w,1),this._events)this.elt.removeEventListener(v,this._events[v]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},A.default.Element.prototype.drop=function(v,w){var _;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",_=function(M){M.preventDefault()}),this.elt.addEventListener("dragleave",_)),A.default.Element._attachListener("drop",function(x){x.preventDefault(),typeof w=="function"&&w.call(this,x);var x=x.dataTransfer.files,E=!0,C=!1,T=void 0;try{for(var B,P=x[Symbol.iterator]();!(E=(B=P.next()).done);E=!0){var F=B.value;A.default.File._load(F,v)}}catch(j){C=!0,T=j}finally{try{E||P.return==null||P.return()}finally{if(C)throw T}}},this)):console.log("The File APIs are not fully supported in this browser."),this},A.default.Element.prototype.draggable=function(v){var w,_="ontouchstart"in window,M=0,x=0,E=0,C=0,T=_?"touchend":"mouseup",B=_?"touchmove":"mousemove";function P(j){var O;j=j||window.event,C=_?(O=j.changedTouches,M=E-parseInt(O[0].clientX),x=C-parseInt(O[0].clientY),E=parseInt(O[0].clientX),parseInt(O[0].clientY)):(M=E-parseInt(j.clientX),x=C-parseInt(j.clientY),E=parseInt(j.clientX),parseInt(j.clientY)),v.style.left=v.offsetLeft-M+"px",v.style.top=v.offsetTop-x+"px"}function F(){document.removeEventListener(T,F,!1),document.removeEventListener(B,P,!1)}return v===void 0?w=v=this.elt:v!==this.elt&&v.elt!==this.elt&&(v=v.elt,w=this.elt),w.addEventListener(_?"touchstart":"mousedown",function(j){{var O;j=j||window.event,C=_?(O=j.changedTouches,E=parseInt(O[0].clientX),parseInt(O[0].clientY)):(E=parseInt(j.clientX),parseInt(j.clientY))}return document.addEventListener(T,F,!1),document.addEventListener(B,P,!1),!1},!1),w.style.cursor="move",this};function b(v,w,_,M){f(this,b),this.callback=v,this.time=w,this.id=_,this.val=M}t=function(v){var w=M;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),v&&p(w,v);var _=d(M);function M(x,E){f(this,M);var C=c(E=_.call(this,x,E));return E.elt.crossOrigin="anonymous",E._prevTime=0,E._cueIDCounter=0,E._cues=[],E.pixels=[],E._pixelsState=c(E),E._pixelDensity=1,E._modified=!1,E._frameOnCanvas=-1,Object.defineProperty(C,"src",{get:function(){var T=C.elt.children[0].src,B=C.elt.src===window.location.href?"":C.elt.src;return T===window.location.href?B:T},set:function(T){for(var B=0;B<C.elt.children.length;B++)C.elt.removeChild(C.elt.children[B]);var P=document.createElement("source");P.src=T,x.appendChild(P),C.elt.src=T,C.modified=!0}}),C._onended=function(){},C.elt.onended=function(){C._onended(C)},E}return u(M,[{key:"play",value:function(){var x;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(x=this.elt.play())&&x.catch&&x.catch(function(E){E.name==="NotAllowedError"?console.error(E):console.error("Media play method encountered an unexpected error",E)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var x=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(x)},{passive:!0,once:!0})}},{key:"autoplay",value:function(x){var E=this,C=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",x),x&&!C&&(x=function(){return E._setupAutoplayFailDetection()},this.elt.readyState===4?x():this.elt.addEventListener("canplay",x,{passive:!0,once:!0})),this}},{key:"volume",value:function(x){if(x===void 0)return this.elt.volume;this.elt.volume=x}},{key:"speed",value:function(x){if(x===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=x:this.presetPlaybackRate=x}},{key:"time",value:function(x){return x===void 0?this.elt.currentTime:(this.elt.currentTime=x,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var x=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&x&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var x=arguments.length,E=new Array(x),C=0;C<x;C++)E[C]=arguments[C];return A.default.Renderer2D.prototype.loadPixels.apply(this,E)}},{key:"updatePixels",value:function(x,E,C,T){return this.loadedmetadata&&(this._ensureCanvas(),A.default.Renderer2D.prototype.updatePixels.call(this,x,E,C,T)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var x=arguments.length,E=new Array(x),C=0;C<x;C++)E[C]=arguments[C];return A.default.Renderer2D.prototype.get.apply(this,E)}},{key:"_getPixel",value:function(){this.loadPixels();for(var x=arguments.length,E=new Array(x),C=0;C<x;C++)E[C]=arguments[C];return A.default.Renderer2D.prototype._getPixel.apply(this,E)}},{key:"set",value:function(x,E,C){this.loadedmetadata&&(this._ensureCanvas(),A.default.Renderer2D.prototype.set.call(this,x,E,C),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var x=arguments.length,E=new Array(x),C=0;C<x;C++)E[C]=arguments[C];A.default.prototype.copy.apply(this,E)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var x=arguments.length,E=new Array(x),C=0;C<x;C++)E[C]=arguments[C];A.default.Image.prototype.mask.apply(this,E)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(x){this._modified=x}},{key:"onended",value:function(x){return this._onended=x,this}},{key:"connect",value:function(x){var E,C;if(typeof A.default.prototype.getAudioContext=="function")E=A.default.prototype.getAudioContext(),C=A.default.soundOut.input;else try{C=(E=x.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=E.createMediaElementSource(this.elt),this.audioSourceNode.connect(C)),x?x.input?this.audioSourceNode.connect(x.input):this.audioSourceNode.connect(x):this.audioSourceNode.connect(C)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(x,B,C){var T=this._cueIDCounter++,B=new b(B,x,T,C);return this._cues.push(B),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),T}},{key:"removeCue",value:function(x){for(var E=0;E<this._cues.length;E++)this._cues[E].id===x&&(console.log(x),this._cues.splice(E,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var x=this.time(),E=0;E<this._cues.length;E++){var C=this._cues[E].time,T=this._cues[E].val;this._prevTime<C&&C<=x&&this._cues[E].callback(T)}this._prevTime=x}}]),M}(A.default.Element),A.default.MediaElement=t,t=function(){function v(w,_){f(this,v),this.file=w,this._pInst=_,_=w.type.split("/"),this.type=_[0],this.subtype=_[1],this.name=w.name,this.size=w.size,this.data=void 0}return u(v,null,[{key:"_createLoader",value:function(w,_){var M=new FileReader;return M.onload=function(x){var E,C=new A.default.File(w);C.file.type==="application/json"?C.data=JSON.parse(x.target.result):C.file.type==="text/xml"?(E=new DOMParser().parseFromString(x.target.result,"text/xml"),C.data=new A.default.XML(E.documentElement)):C.data=x.target.result,_(C)},M}},{key:"_load",value:function(w,_){var M;/^text\//.test(w.type)||w.type==="application/json"?A.default.File._createLoader(w,_).readAsText(w):/^(video|audio)\//.test(w.type)?((M=new A.default.File(w)).data=URL.createObjectURL(w),_(M)):A.default.File._createLoader(w,_).readAsDataURL(w)}}]),v}(),A.default.File=t,t=A.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240}],292:[function(t,o,s){function a(w){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(w)}function A(w){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(_){return a(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":a(_)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(v=t("../core/main"))&&v.__esModule?v:{default:v},u=function(w){if(w&&w.__esModule)return w;if(w===null||A(w)!=="object"&&typeof w!="function")return{default:w};var _=p();if(_&&_.has(w))return _.get(w);var M,x={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in w){var C;Object.prototype.hasOwnProperty.call(w,M)&&((C=E?Object.getOwnPropertyDescriptor(w,M):null)&&(C.get||C.set)?Object.defineProperty(x,M,C):x[M]=w[M])}return x.default=w,_&&_.set(w,x),x}(t("../core/constants"));function p(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,p=function(){return w},w)}l.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",l.default.prototype.accelerationX=0,l.default.prototype.accelerationY=0,l.default.prototype.accelerationZ=0,l.default.prototype.pAccelerationX=0,l.default.prototype.pAccelerationY=0,l.default.prototype.pAccelerationZ=0,l.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},l.default.prototype.rotationX=0,l.default.prototype.rotationY=0,l.default.prototype.rotationZ=0,l.default.prototype.pRotationX=0,l.default.prototype.pRotationY=0;var d=l.default.prototype.pRotationZ=0,c=0,h=0,f="clockwise",g="clockwise",y="clockwise",m=(l.default.prototype.pRotateDirectionX=void 0,l.default.prototype.pRotateDirectionY=void 0,l.default.prototype.pRotateDirectionZ=void 0,l.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},l.default.prototype.turnAxis=void 0,.5),b=30,v=(l.default.prototype.setMoveThreshold=function(w){l.default._validateParameters("setMoveThreshold",arguments),m=w},l.default.prototype.setShakeThreshold=function(w){l.default._validateParameters("setShakeThreshold",arguments),b=w},l.default.prototype._ondeviceorientation=function(w){this._updatePRotations(),this._angleMode===u.radians&&(w.beta=w.beta*(_PI/180),w.gamma=w.gamma*(_PI/180),w.alpha=w.alpha*(_PI/180)),this._setProperty("rotationX",w.beta),this._setProperty("rotationY",w.gamma),this._setProperty("rotationZ",w.alpha),this._handleMotion()},l.default.prototype._ondevicemotion=function(w){this._updatePAccelerations(),this._setProperty("accelerationX",2*w.acceleration.x),this._setProperty("accelerationY",2*w.acceleration.y),this._setProperty("accelerationZ",2*w.acceleration.z),this._handleMotion()},l.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var w,_,M,x,E,C=this._isGlobal?window:this;typeof C.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>m||Math.abs(this.accelerationY-this.pAccelerationY)>m||Math.abs(this.accelerationZ-this.pAccelerationZ)>m)&&C.deviceMoved(),typeof C.deviceTurned=="function"&&(_=this.rotationX+180,w=this.pRotationX+180,M=d+180,0<_-w&&_-w<270||_-w<-270?f="clockwise":(_-w<0||270<_-w)&&(f="counter-clockwise"),f!==this.pRotateDirectionX&&(M=_),90<Math.abs(_-M)&&Math.abs(_-M)<270&&(M=_,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=f,d=M-180,w=this.rotationY+180,_=this.pRotationY+180,M=c+180,0<w-_&&w-_<270||w-_<-270?g="clockwise":(w-_<0||270<w-this.pRotationY)&&(g="counter-clockwise"),g!==this.pRotateDirectionY&&(M=w),90<Math.abs(w-M)&&Math.abs(w-M)<270&&(M=w,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=g,c=M-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?y="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(y="counter-clockwise"),y!==this.pRotateDirectionZ&&(h=this.rotationZ),90<Math.abs(this.rotationZ-h)&&Math.abs(this.rotationZ-h)<270&&(h=this.rotationZ,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=y,this._setProperty("turnAxis",void 0)),typeof C.deviceShaken=="function"&&(this.pAccelerationX!==null&&(x=Math.abs(this.accelerationX-this.pAccelerationX),E=Math.abs(this.accelerationY-this.pAccelerationY)),b<x+E&&C.deviceShaken())},l.default);s.default=v},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],293:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.isKeyPressed=!1,a.default.prototype.keyIsPressed=!1,a.default.prototype.key="",a.default.prototype.keyCode=0,a.default.prototype._onkeydown=function(A){var l;this._downKeys[A.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",A.which),this._downKeys[A.which]=!0,this._setProperty("key",A.key||String.fromCharCode(A.which)||A.which),typeof(l=this._isGlobal?window:this).keyPressed!="function"||A.charCode||l.keyPressed(A)===!1&&A.preventDefault())},a.default.prototype._onkeyup=function(A){this._downKeys[A.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",A.key||String.fromCharCode(A.which)||A.which),this._setProperty("keyCode",A.which);var l=this._isGlobal?window:this;typeof l.keyReleased=="function"&&l.keyReleased(A)===!1&&A.preventDefault()},a.default.prototype._onkeypress=function(A){var l;A.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",A.which),this._setProperty("key",A.key||String.fromCharCode(A.which)||A.which),typeof(l=this._isGlobal?window:this).keyTyped=="function"&&l.keyTyped(A)===!1&&A.preventDefault())},a.default.prototype._onblur=function(A){this._downKeys={}},a.default.prototype.keyIsDown=function(A){return a.default._validateParameters("keyIsDown",arguments),this._downKeys[A]||!1},a.default.prototype._areDownKeys=function(){for(var A in this._downKeys)if(this._downKeys.hasOwnProperty(A)&&this._downKeys[A]===!0)return!0;return!1},t=a.default,s.default=t},{"../core/main":275}],294:[function(t,o,s){function a(d){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(d)}function A(d){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(c){return a(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":a(c)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(l=t("../core/main"))&&l.__esModule?l:{default:l},u=function(d){if(d&&d.__esModule)return d;if(d===null||A(d)!=="object"&&typeof d!="function")return{default:d};var c=p();if(c&&c.has(d))return c.get(d);var h,f={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in d){var y;Object.prototype.hasOwnProperty.call(d,h)&&((y=g?Object.getOwnPropertyDescriptor(d,h):null)&&(y.get||y.set)?Object.defineProperty(f,h,y):f[h]=d[h])}return f.default=d,c&&c.set(d,f),f}(t("../core/constants"));function p(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,p=function(){return d},d)}l.default.prototype.movedX=0,l.default.prototype.movedY=0,l.default.prototype._hasMouseInteracted=!1,l.default.prototype.mouseX=0,l.default.prototype.mouseY=0,l.default.prototype.pmouseX=0,l.default.prototype.pmouseY=0,l.default.prototype.winMouseX=0,l.default.prototype.winMouseY=0,l.default.prototype.pwinMouseX=0,l.default.prototype.pwinMouseY=0,l.default.prototype.mouseButton=0,l.default.prototype.mouseIsPressed=!1,l.default.prototype._updateNextMouseCoords=function(d){var c,h,f,g,y;this._curElement!==null&&(!d.touches||0<d.touches.length)&&(c=this._curElement.elt,h=this.width,f=this.height,(g=d)&&!g.clientX&&(g.touches?g=g.touches[0]:g.changedTouches&&(g=g.changedTouches[0])),y=c.getBoundingClientRect(),h=c.scrollWidth/h||1,c=c.scrollHeight/f||1,f={x:(g.clientX-y.left)/h,y:(g.clientY-y.top)/c,winX:g.clientX,winY:g.clientY,id:g.identifier},this._setProperty("movedX",d.movementX),this._setProperty("movedY",d.movementY),this._setProperty("mouseX",f.x),this._setProperty("mouseY",f.y),this._setProperty("winMouseX",f.winX),this._setProperty("winMouseY",f.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},l.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},l.default.prototype._setMouseButton=function(d){d.button===1?this._setProperty("mouseButton",u.CENTER):d.button===2?this._setProperty("mouseButton",u.RIGHT):this._setProperty("mouseButton",u.LEFT)},l.default.prototype._onmousemove=function(d){var c=this._isGlobal?window:this;this._updateNextMouseCoords(d),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(d)===!1&&d.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(d)===!1&&d.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(d)===!1&&d.preventDefault()},l.default.prototype._onmousedown=function(d){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(d),this._updateNextMouseCoords(d),typeof c.mousePressed=="function"?c.mousePressed(d)===!1&&d.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof c.touchStarted=="function"&&c.touchStarted(d)===!1&&d.preventDefault()},l.default.prototype._onmouseup=function(d){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof c.mouseReleased=="function"?c.mouseReleased(d)===!1&&d.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(d)===!1&&d.preventDefault()},l.default.prototype._ondragend=l.default.prototype._onmouseup,l.default.prototype._ondragover=l.default.prototype._onmousemove,l.default.prototype._onclick=function(d){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(d)===!1&&d.preventDefault()},l.default.prototype._ondblclick=function(d){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(d)===!1&&d.preventDefault()},l.default.prototype._mouseWheelDeltaY=0,l.default.prototype._pmouseWheelDeltaY=0,l.default.prototype._onwheel=function(d){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",d.deltaY),typeof c.mouseWheel=="function"&&(d.delta=d.deltaY,c.mouseWheel(d)===!1&&d.preventDefault())},l.default.prototype.requestPointerLock=function(){var d=this._curElement.elt;return d.requestPointerLock=d.requestPointerLock||d.mozRequestPointerLock,d.requestPointerLock?(d.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},l.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=l.default,s.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],295:[function(t,o,s){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(a){if(this._curElement!==null){for(var A=[],l=0;l<a.touches.length;l++)A[l]=function(y,g,m,c){var h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,f=y.getBoundingClientRect(),g=y.scrollWidth/g||1,y=y.scrollHeight/m||1,m=c.touches[h]||c.changedTouches[h];return{x:(m.clientX-f.left)/g,y:(m.clientY-f.top)/y,winX:m.clientX,winY:m.clientY,id:m.identifier}}(this._curElement.elt,this.width,this.height,a,l);this._setProperty("touches",A)}},t.default.prototype._ontouchstart=function(a){var A=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(a),this._updateNextMouseCoords(a),this._updateMouseCoords(),typeof A.touchStarted=="function"?A.touchStarted(a)===!1&&a.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof A.mousePressed=="function"&&A.mousePressed(a)===!1&&a.preventDefault()},t.default.prototype._ontouchmove=function(a){var A=this._isGlobal?window:this;this._updateTouchCoords(a),this._updateNextMouseCoords(a),typeof A.touchMoved=="function"?A.touchMoved(a)===!1&&a.preventDefault():typeof A.mouseDragged=="function"&&A.mouseDragged(a)===!1&&a.preventDefault()},t.default.prototype._ontouchend=function(a){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(a),this._updateNextMouseCoords(a);var A=this._isGlobal?window:this;typeof A.touchEnded=="function"?A.touchEnded(a)===!1&&a.preventDefault():typeof A.mouseReleased=="function"&&A.mouseReleased(a)===!1&&a.preventDefault()},t=t.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.string.includes":191}],296:[function(t,o,s){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a,A,l,u,p={_toPixels:function(d){var c,h;return d instanceof ImageData?d.data:d.getContext("2d")?d.getContext("2d").getImageData(0,0,d.width,d.height).data:d.getContext("webgl")?(h=(c=d.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,h=new Uint8Array(h),c.readPixels(0,0,d.width,d.height,c.RGBA,c.UNSIGNED_BYTE,h),h):void 0},_getARGB:function(d,c){return c*=4,d[3+c]<<24&4278190080|d[c]<<16&16711680|d[1+c]<<8&65280|255&d[2+c]},_setPixels:function(d,c){for(var h,f=0,g=d.length;f<g;f++)d[0+(h=4*f)]=(16711680&c[f])>>>16,d[1+h]=(65280&c[f])>>>8,d[2+h]=255&c[f],d[3+h]=(4278190080&c[f])>>>24},_toImageData:function(d){return d instanceof ImageData?d:d.getContext("2d").getImageData(0,0,d.width,d.height)},_createImageData:function(d,c){return p._tmpCanvas=document.createElement("canvas"),p._tmpCtx=p._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(d,c)},apply:function(d,y,h){var f=d.getContext("2d"),g=f.getImageData(0,0,d.width,d.height),y=y(g,h);y instanceof ImageData?f.putImageData(y,0,0,0,0,d.width,d.height):f.putImageData(g,0,0,0,0,d.width,d.height)},threshold:function(d,c){for(var h=p._toPixels(d),f=(c===void 0&&(c=.5),Math.floor(255*c)),g=0;g<h.length;g+=4){var y=void 0,y=f<=.2126*h[g]+.7152*h[g+1]+.0722*h[g+2]?255:0;h[g]=h[g+1]=h[g+2]=y}},gray:function(d){for(var c=p._toPixels(d),h=0;h<c.length;h+=4){var f=c[h],g=c[h+1],y=c[h+2];c[h]=c[h+1]=c[h+2]=.2126*f+.7152*g+.0722*y}},opaque:function(d){for(var c=p._toPixels(d),h=0;h<c.length;h+=4)c[h+3]=255;return c},invert:function(d){for(var c=p._toPixels(d),h=0;h<c.length;h+=4)c[h]=255-c[h],c[h+1]=255-c[h+1],c[h+2]=255-c[h+2]},posterize:function(d,c){var h=p._toPixels(d);if((c=c===void 0?4:c)<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var f=c-1,g=0;g<h.length;g+=4){var y=h[g],m=h[g+1],b=h[g+2];h[g]=255*(y*c>>8)/f,h[g+1]=255*(m*c>>8)/f,h[g+2]=255*(b*c>>8)/f}},dilate:function(d){for(var c,h,f,g,y,m,b,v,w,_=p._toPixels(d),M=0,x=_.length?_.length/4:0,E=new Int32Array(x);M<x;)for(h=(c=M)+d.width;M<h;)g=f=p._getARGB(_,M),(w=M-1)<c&&(w=M),h<=(v=M+1)&&(v=M),(y=M-d.width)<0&&(y=0),x<=(m=M+d.width)&&(m=M),y=p._getARGB(_,y),w=p._getARGB(_,w),m=p._getARGB(_,m),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(b=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))&&(f=w,g=b),g<(b=77*((w=p._getARGB(_,v))>>16&255)+151*(w>>8&255)+28*(255&w))&&(f=w,g=b),g<(v=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))&&(f=y,g=v),g<(w=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(f=m,g=w),E[M++]=f;p._setPixels(_,E)},erode:function(d){for(var c,h,f,g,y,m,b,v,w,_=p._toPixels(d),M=0,x=_.length?_.length/4:0,E=new Int32Array(x);M<x;)for(h=(c=M)+d.width;M<h;)g=f=p._getARGB(_,M),(w=M-1)<c&&(w=M),h<=(v=M+1)&&(v=M),(y=M-d.width)<0&&(y=0),x<=(m=M+d.width)&&(m=M),y=p._getARGB(_,y),w=p._getARGB(_,w),m=p._getARGB(_,m),(b=77*(w>>16&255)+151*(w>>8&255)+28*(255&w))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(f=w,g=b),(b=77*((w=p._getARGB(_,v))>>16&255)+151*(w>>8&255)+28*(255&w))<g&&(f=w,g=b),(v=77*(y>>16&255)+151*(y>>8&255)+28*(255&y))<g&&(f=y,g=v),(w=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<g&&(f=m,g=w),E[M++]=f;p._setPixels(_,E)},blur:function(d,c){for(var h,f,g,y,m,b,v,w,_,M,x=p._toPixels(d),E=d.width,C=d.height,T=E*C,B=new Int32Array(T),P=0;P<T;P++)B[P]=p._getARGB(x,P);var F,j,O,Q,z,k,W,Y,te=new Int32Array(T),R=new Int32Array(T),L=new Int32Array(T),D=new Int32Array(T),V=0,q=3.5*c|0;if(a!==(q=q<1?1:q<248?q:248)){A=1+(a=q)<<1,l=new Int32Array(A),u=new Array(A);for(var Z=0;Z<A;Z++)u[Z]=new Int32Array(256);for(var se=1,fe=q-1;se<q;se++){l[q+se]=l[fe]=k=fe*fe,W=u[q+se],Y=u[fe--];for(var be=0;be<256;be++)W[be]=Y[be]=k*be}z=l[q]=q*q,W=u[q];for(var pe=0;pe<256;pe++)W[pe]=z*pe}for(j=0;j<C;j++){for(F=0;F<E;F++){if(y=g=f=m=h=0,(b=F-a)<0)M=-b,b=0;else{if(E<=b)break;M=0}for(O=M;O<A&&!(E<=b);O++){var Ae=B[b+V];Q=u[O],m+=Q[(-16777216&Ae)>>>24],f+=Q[(16711680&Ae)>>16],g+=Q[(65280&Ae)>>8],y+=Q[255&Ae],h+=l[O],b++}te[v=V+F]=m/h,R[v]=f/h,L[v]=g/h,D[v]=y/h}V+=E}for(_=(w=-a)*E,j=V=0;j<C;j++){for(F=0;F<E;F++){if(y=g=f=m=h=0,w<0)M=v=-w,b=F;else{if(C<=w)break;M=0,v=w,b=F+_}for(O=M;O<A&&!(C<=v);O++)Q=u[O],m+=Q[te[b]],f+=Q[R[b]],g+=Q[L[b]],y+=Q[D[b]],h+=l[O],v++,b+=E;B[F+V]=m/h<<24|f/h<<16|g/h<<8|y/h}V+=E,_+=E,w++}p._setPixels(x,B)}};s.default=p},{"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int32-array":217,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234}],297:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),A=l(t("omggif"));function l(p){return p&&p.__esModule?p:{default:p}}function u(p){return function(d){if(Array.isArray(d)){for(var c=0,h=new Array(d.length);c<d.length;c++)h[c]=d[c];return h}}(p)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.default.prototype.createImage=function(p,d){return a.default._validateParameters("createImage",arguments),new a.default.Image(p,d)},a.default.prototype.saveCanvas=function(){a.default._validateParameters("saveCanvas",arguments);var p,d,c,h,f,g,y=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(p=arguments[0],y.shift()):arguments[0]instanceof a.default.Element?(p=arguments[0].elt,y.shift()):arguments[0]instanceof a.default.Framebuffer?((f=this.createGraphics((h=arguments[0]).width,h.height)).pixelDensity(pixelDensity()),h.loadPixels(),f.loadPixels(),f.pixels.set(h.pixels),f.updatePixels(),p=f.elt,y.shift()):p=this._curElement&&this._curElement.elt,1<=y.length&&(d=y[0]),c=(c=2<=y.length?y[1]:c)||a.default.prototype._checkFileExtension(d,c)[1]||"png"){default:g="image/png";break;case"jpeg":case"jpg":g="image/jpeg"}p.toBlob(function(m){a.default.prototype.downloadFile(m,d,c),f&&f.remove()},g)},a.default.prototype.encodeAndDownloadGif=function(p,d){for(var c=p.gifProperties,h=c.loopLimit,f=(h===1?h=null:h===null&&(h=0),new Uint8Array(p.width*p.height*c.numFrames)),g=[],y={},m=0;m<c.numFrames;m++){for(var b=new Set,v=c.frames[m].image.data,w=v.length,_=new Uint32Array(p.width*p.height),M=0,x=0;M<w;M+=4,x++){var E=v[M+0]<<16|v[M+1]<<8|v[M+2]<<0;b.add(E),_[x]=E}var C=u(b).sort().toString();y[C]===void 0?y[C]={freq:1,frames:[m]}:(y[C].freq+=1,y[C].frames.push(m)),g.push(_)}for(var P=[],T=Object.keys(y).sort(function(L,D){return y[D].freq-y[L].freq}),B=T[0].split(",").map(function(L){return parseInt(L)}),P=P.concat(y[B].frames),F=new Set(B),j=1;j<T.length;j++){var O=T[j].split(",").map(function(L){return parseInt(L)}).filter(function(L){return!F.has(L)});if(B.length+O.length<=256){for(var Q=0;Q<O.length;Q++)B.push(O[Q]),F.add(O[Q]);P=P.concat(y[T[j]].frames)}}P=new Set(P);for(var z={},k=0;k<B.length;k++)z[B[k]]||(z[B[k]]=k);for(var W=1;W<B.length;)W<<=1;B.length=W;for(var h={loop:h,palette:new Uint32Array(B)},Y=new A.default.GifWriter(f,p.width,p.height,h),te={},R=0;R<c.numFrames;R++)(function(D){var V=!P.has(D),q=V?[]:B,Z=new Uint8Array(p.width*p.height),se={},fe=new Set,be=(g[D].forEach(function(de,oe){V?(se[de]===void 0&&(se[de]=q.length,q.push(de)),Z[oe]=se[de]):Z[oe]=z[de],0<D&&g[D-1][oe]!==de&&fe.add(de)}),{}),pe=q.filter(function(de){return!fe.has(de)});if(0<pe.length){var pe=pe[0],Ae=(V?se:z)[pe];if(0<D){for(var ge=0;ge<g[D].length;ge++)g[D-1][ge]===g[D][ge]&&(Z[ge]=Ae);be.transparent=Ae,te.frameOpts.disposal=1}}if(be.delay=c.frames[D].delay/10,V){for(var ce=1;ce<q.length;)ce<<=1;q.length=ce,be.palette=new Uint32Array(q)}0<D&&Y.addFrame(0,0,p.width,p.height,te.pixelPaletteIndex,te.frameOpts),te={pixelPaletteIndex:Z,frameOpts:be}})(R);te.frameOpts.disposal=1,Y.addFrame(0,0,p.width,p.height,te.pixelPaletteIndex,te.frameOpts),h=new Blob([f.slice(0,Y.end())],{type:"image/gif"}),a.default.prototype.downloadFile(h,d,"gif")},a.default.prototype.saveFrames=function(p,d,c,g,f){a.default._validateParameters("saveFrames",arguments),c=a.default.prototype.constrain(c=c||3,0,15),c*=1e3;var g=a.default.prototype.constrain(g||15,0,22),y=0,m=a.default.prototype._makeFrame,b=this._curElement.elt,v=[],w=setInterval(function(){v.push(m(p+y,d,b)),y++},1e3/g);setTimeout(function(){if(clearInterval(w),f)f(v);else for(var _=0,M=v;_<M.length;_++){var x=M[_];a.default.prototype.downloadFile(x.imageData,x.filename,x.ext)}v=[]},.01+c)},a.default.prototype._makeFrame=function(p,d,f){var h,f=this?this._curElement.elt:f;if(d)switch(d.toLowerCase()){case"png":h="image/png";break;case"jpeg":case"jpg":h="image/jpeg";break;default:h="image/png"}else d="png",h="image/png";var f=(f=f.toDataURL(h)).replace(h,"image/octet-stream"),g={};return g.imageData=f,g.filename=p,g.ext=d,g},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238,omggif:248}],298:[function(t,o,s){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(b)}function A(b){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(v){return a(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":a(v)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var l=f(t("../core/main")),u=f(t("../core/helpers")),p=function(b){if(b&&b.__esModule)return b;if(b===null||A(b)!=="object"&&typeof b!="function")return{default:b};var v=h();if(v&&v.has(b))return v.get(b);var w,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in b){var x;Object.prototype.hasOwnProperty.call(b,w)&&((x=M?Object.getOwnPropertyDescriptor(b,w):null)&&(x.get||x.set)?Object.defineProperty(_,w,x):_[w]=b[w])}return _.default=b,v&&v.set(b,_),_}(t("../core/constants")),d=f(t("omggif")),c=t("gifenc");function h(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,h=function(){return b},b)}function f(b){return b&&b.__esModule?b:{default:b}}function g(b,v,w,_,M,x,E){try{var C=b[x](E),T=C.value}catch(B){return void w(B)}C.done?v(T):Promise.resolve(T).then(_,M)}function y(b,v,w,_,M,x,E,C,T,B,P){var F,j,O,Q,z,k,W,Y,te;return b===p.COVER&&(F=v,O=w,W=x,Y=E,k=C,te=T,j=B,Q=P,z=Math.max(W/j,Y/Q),W/=z,Y/=z,z=k,k=te,F===p.CENTER?z+=(j-W)/2:F===p.RIGHT&&(z+=j-W),O===p.CENTER?k+=(Q-Y)/2:O===p.BOTTOM&&(k+=Q-Y),C=(te={x:z,y:k,w:W,h:Y}).x,T=te.y,B=te.w,P=te.h),b===p.CONTAIN&&(F=v,j=w,O=_,Q=M,z=x,k=E,W=B,Y=P,te=Math.max(W/z,Y/k),W/=te,Y/=te,te=O,O=Q,F===p.CENTER?te+=(z-W)/2:F===p.RIGHT&&(te+=z-W),j===p.CENTER?O+=(k-Y)/2:j===p.BOTTOM&&(O+=k-Y),_=(b={x:te,y:O,w:W,h:Y}).x,M=b.y,x=b.w,E=b.h),{sx:C,sy:T,sw:B,sh:P,dx:_,dy:M,dw:x,dh:E}}function m(b,v){return 0<b&&b<v?b:v}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadImage=function(b,v,w){l.default._validateParameters("loadImage",arguments);var _=new l.default.Image(1,1,this),M=this,x=new Request(b,{method:"GET",mode:"cors"});return fetch(b,x).then(function(E){var C,T=E.headers.get("content-type");T===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),T&&T.includes("image/gif")?E.arrayBuffer().then(function(B){if(B){for(var B=new Uint8Array(B),P=_,F=v,j=w,O=(function(V){M._decrementPreload()}).bind(M),Q=new d.default.GifReader(B),z=(P.width=P.canvas.width=Q.width,P.height=P.canvas.height=Q.height,[]),k=Q.numFrames(),W=new Uint8ClampedArray(P.width*P.height*4),Y=0;Y<k;Y++){var te=Q.frameInfo(Y),R=P.drawingContext.getImageData(0,0,P.width,P.height),L=(W=R.data.slice(),function(V,q){try{q.decodeAndBlitFrameRGBA(V,W)}catch(Z){l.default._friendlyFileLoadError(8,P.src),typeof j=="function"?j(Z):console.error(Z)}}(Y,Q),new ImageData(W,P.width,P.height)),L=(P.drawingContext.putImageData(L,0,0),te.delay);L===0&&(L=10),z.push({image:P.drawingContext.getImageData(0,0,P.width,P.height),delay:10*L}),te.disposal===2?P.drawingContext.clearRect(te.x,te.y,te.width,te.height):te.disposal===3&&P.drawingContext.putImageData(R,0,0,te.x,te.y,te.width,te.height)}(B=Q.loopCount())===null?B=1:B===0&&(B=null),P.drawingContext.putImageData(z[0].image,0,0),1<z.length&&(P.gifProperties={displayIndex:0,loopLimit:B,loopCount:0,frames:z,numFrames:k,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof F=="function"&&F(P),O()}},function(B){typeof w=="function"?(w(B),M._decrementPreload()):console.error(B)}):((C=new Image).onload=function(){_.width=_.canvas.width=C.width,_.height=_.canvas.height=C.height,_.drawingContext.drawImage(C,0,0),_.modified=!0,typeof v=="function"&&v(_),M._decrementPreload()},C.onerror=function(B){l.default._friendlyFileLoadError(0,C.src),typeof w=="function"?(w(B),M._decrementPreload()):console.error(B)},b.indexOf("data:image/")!==0&&(C.crossOrigin="Anonymous"),C.src=b),_.modified=!0}).catch(function(E){l.default._friendlyFileLoadError(0,b),typeof w=="function"?(w(E),M._decrementPreload()):console.error(E)}),_},l.default.prototype.saveGif=function(){b=regeneratorRuntime.mark(function w(_,M){var x,E,C,T,B,P,F,j,O,Q,z,k,W,Y,te,R,L,D,V,q,Z,se,fe,be,pe,Ae,ge=arguments;return regeneratorRuntime.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(x=2<ge.length&&ge[2]!==void 0?ge[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof _!="string")throw TypeError("fileName parameter must be a string");ce.next=3;break;case 3:if(typeof M!="number")throw TypeError("Duration parameter must be a number");ce.next=5;break;case 5:if(E=x&&x.delay||0,C=x&&x.units||"seconds",T=x&&x.silent||!1,B=x&&x.notificationDuration||0,P=x&&x.notificationID||"progressBar",typeof E!="number")throw TypeError("Delay parameter must be a number");ce.next=12;break;case 12:if(C!=="seconds"&&C!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');ce.next=14;break;case 14:if(typeof T!="boolean")throw TypeError("Silent parameter must be a boolean");ce.next=16;break;case 16:if(typeof B!="number")throw TypeError("Notification duration parameter must be a number");ce.next=18;break;case 18:if(typeof P!="string")throw TypeError("Notification ID parameter must be a string");ce.next=20;break;case 20:return this._recording=!0,Q=this._targetFrameRate,F=(F=1/(Q=Q!==1/0&&Q!==void 0&&Q!==0?Q:60)*1e3)<20?20:F,O=(j=C==="seconds"?M*Q:M)+(Q=C==="seconds"?E*Q:E),Q=Q,this.frameCount=Q,z=this._pixelDensity,this.pixelDensity(1),k=[],document.getElementById(P)!==null&&document.getElementById(P).remove(),T||((W=this.createP("")).id(P),W.style("font-size","16px"),W.style("font-family","Montserrat"),W.style("background-color","#ffffffa0"),W.style("padding","8px"),W.style("border-radius","10px"),W.position(0,0)),this._renderer instanceof l.default.RendererGL&&(te=this.drawingContext,Y=new Uint8Array(te.drawingBufferWidth*te.drawingBufferHeight*4)),this.noLoop(),ce.next=39,Promise.resolve();case 39:if(Q<O)return this.redraw(),be=void 0,be=this._renderer instanceof l.default.RendererGL?(Y=new Uint8Array(te.drawingBufferWidth*te.drawingBufferHeight*4),te.readPixels(0,0,te.drawingBufferWidth,te.drawingBufferHeight,te.RGBA,te.UNSIGNED_BYTE,Y),function(de){for(var oe=parseInt(height/2),je=4*width,Se=new Uint8Array(4*width),re=0;re<oe;++re){var ie=re*je,Ce=(height-re-1)*je;Se.set(de.subarray(ie,ie+je)),de.copyWithin(ie,Ce,Ce+je),de.set(Se,Ce)}return de}(Y)):this.drawingContext.getImageData(0,0,this.width,this.height).data,k.push(be),Q++,T||W.html("Saved frame <b>"+k.length.toString()+"</b> out of "+j.toString()),ce.next=48,new Promise(function(de){return setTimeout(de,0)});ce.next=50;break;case 48:ce.next=39;break;case 50:T||W.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(z),R=(0,c.GIFEncoder)(),L=function(de){for(var oe=new Uint8Array(de.length*de[0].length),je=0;je<de.length;je++)oe.set(de[je],je*de[0].length);var Se=(0,c.quantize)(oe,256,{format:"rgba4444",oneBitAlpha:!0});return Se.length===256?Se[Se.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Se.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Se}(k),D={},V=function(de){for(var oe=de.length/4,je=new Uint8Array(oe),Se=0;Se<oe;Se++){var re=de[4*Se]<<24|de[4*Se+1]<<16|de[4*Se+2]<<8|de[4*Se+3];D[re]===void 0&&(D[re]=(0,c.nearestColorIndex)(L,de.slice(4*Se,4*(Se+1)))),je[Se]=D[re]}return je},q=L.length-1,Z=[],se=0;case 60:if(!(se<k.length)){ce.next=71;break}if(fe=V(k[se]),be=fe.slice(),se===0)R.writeFrame(fe,this.width,this.height,{palette:L,delay:F,dispose:1});else{for(pe=0;pe<fe.length;pe++)fe[pe]===Z[pe]&&(fe[pe]=q);R.writeFrame(fe,this.width,this.height,{delay:F,transparent:!0,transparentIndex:q,dispose:1})}return Z=be,T||W.html("Rendered frame <b>"+se.toString()+"</b> out of "+j.toString()),ce.next=68,new Promise(function(de){return setTimeout(de,0)});case 68:se++,ce.next=60;break;case 71:R.finish(),Ae=R.bytesView(),Ae=new Blob([Ae],{type:"image/gif"}),k=[],this._recording=!1,this.loop(),T||(W.html("Done. Downloading your gif!"),0<B&&setTimeout(function(){return W.remove()},1e3*B)),l.default.prototype.downloadFile(Ae,_,"gif");case 80:case"end":return ce.stop()}},w,this)});var b,v=function(){var w=this,_=arguments;return new Promise(function(M,x){var E=b.apply(w,_);function C(B){g(E,M,x,C,T,"next",B)}function T(B){g(E,M,x,C,T,"throw",B)}C(void 0)})};return function(w,_){return v.apply(this,arguments)}}(),l.default.prototype.image=function(b,v,w,_,Q,z,k,W,te,B,P,F){l.default._validateParameters("image",arguments);var Y=b.width,j=b.height,O=(F=F||p.CENTER,P=P||p.CENTER,b.elt&&(Y=Y!==void 0?Y:b.elt.width,j=j!==void 0?j:b.elt.height),b.elt&&b.elt.videoWidth&&!b.canvas&&(Y=Y!==void 0?Y:b.elt.videoWidth,j=j!==void 0?j:b.elt.videoHeight),_||Y),Q=Q||j,z=z||0,k=k||0,W=m(W!==void 0?W:Y,Y),Y=m(te!==void 0?te:j,j),te=1;b.elt&&!b.canvas&&b.elt.style.width&&(te=b.elt.videoWidth&&!_?b.elt.videoWidth:b.elt.width,te/=parseInt(b.elt.style.width,10)),z*=te,k*=te,Y*=te,W*=te,j=y(B,P,F,(j=u.default.modeAdjust(v,w,O,Q,this._renderer._imageMode)).x,j.y,j.w,j.h,z,k,W,Y),this._renderer.image(b,j.sx,j.sy,j.sw,j.sh,j.dx,j.dy,j.dw,j.dh)},l.default.prototype.tint=function(){for(var b=arguments.length,v=new Array(b),w=0;w<b;w++)v[w]=arguments[w];l.default._validateParameters("tint",v);var _=this.color.apply(this,v);this._renderer._tint=_.levels},l.default.prototype.noTint=function(){this._renderer._tint=null},l.default.prototype._getTintedImageCanvas=l.default.Renderer2D.prototype._getTintedImageCanvas,l.default.prototype.imageMode=function(b){l.default._validateParameters("imageMode",arguments),b!==p.CORNER&&b!==p.CORNERS&&b!==p.CENTER||(this._renderer._imageMode=b)},t=l.default,s.default=t},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/helpers":271,"../core/main":275,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,gifenc:245,omggif:248,"regenerator-runtime/runtime":252}],299:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),A=l(t("./filters"));function l(p){return p&&p.__esModule?p:{default:p}}function u(p,d){for(var c=0;c<d.length;c++){var h=d[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(p,h.key,h)}}a.default.Image=function(){function p(h,f){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.width=h,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var d,c;return d=p,(c=[{key:"pixelDensity",value:function(h){return h!==void 0?(h<=0&&(a.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),h=1),this._pixelDensity=h,this.width/=h,this.height/=h,this):this._pixelDensity}},{key:"_animateGif",value:function(y){var f,g=this.gifProperties,y=y._lastRealFrameTime;g.lastChangeTime===0&&(g.lastChangeTime=y),g.playing&&(g.timeDisplayed=y-g.lastChangeTime,f=g.frames[g.displayIndex].delay,g.timeDisplayed>=f&&(f=Math.floor(g.timeDisplayed/f),g.timeDisplayed=0,g.lastChangeTime=y,g.displayIndex+=f,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(y=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[y].image,0,0),g.displayIndex=y,this.setModified(!0))))}},{key:"_setProperty",value:function(h,f){this[h]=f,this.setModified(!0)}},{key:"loadPixels",value:function(){a.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(h,f,g,y){a.default.Renderer2D.prototype.updatePixels.call(this,h,f,g,y),this.setModified(!0)}},{key:"get",value:function(h,f,g,y){return a.default._validateParameters("p5.Image.get",arguments),a.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];return a.default.Renderer2D.prototype._getPixel.apply(this,f)}},{key:"set",value:function(h,f,g){a.default.Renderer2D.prototype.set.call(this,h,f,g),this.setModified(!0)}},{key:"resize",value:function(h,f){h===0&&f===0?(h=this.canvas.width,f=this.canvas.height):h===0?h=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*h/this.canvas.width),h=Math.floor(h),f=Math.floor(f);var g=document.createElement("canvas");if(g.width=h,g.height=f,this.gifProperties)for(var y=this.gifProperties,m=0;m<y.numFrames;m++){for(var b=this.drawingContext.createImageData(h,f),v=(E=E=x=M=_=void 0,y.frames[m].image),w=b,_=0,M=0;M<w.height;M++)for(var x=0;x<w.width;x++){var E=Math.floor(x*v.width/w.width),E=4*(Math.floor(M*v.height/w.height)*v.width+E);w.data[_++]=v.data[E++],w.data[_++]=v.data[E++],w.data[_++]=v.data[E++],w.data[_++]=v.data[+E]}y.frames[m].image=b}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=h,this.canvas.height=this.height=f,this.drawingContext.drawImage(g,0,0,h,f,0,0,h,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];a.default.prototype.copy.apply(this,f)}},{key:"mask",value:function(h){var f=this.drawingContext.globalCompositeOperation,g=1,y=[h=h===void 0?this:h,0,0,(g=h instanceof a.default.Renderer?h._pInst._pixelDensity:g)*h.width,g*h.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var m=0;m<this.gifProperties.frames.length;m++)this.drawingContext.putImageData(this.gifProperties.frames[m].image,0,0),this.copy.apply(this,y),this.gifProperties.frames[m].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,y);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)}},{key:"filter",value:function(h,f){A.default.apply(this.canvas,A.default[h],f),this.setModified(!0)}},{key:"blend",value:function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];a.default._validateParameters("p5.Image.blend",arguments),a.default.prototype.blend.apply(this,f),this.setModified(!0)}},{key:"setModified",value:function(h){this._modified=h}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(h,f){this.gifProperties?a.default.prototype.encodeAndDownloadGif(this,h):a.default.prototype.saveCanvas(this.canvas,h,f)}},{key:"reset",value:function(){var h;this.gifProperties&&((h=this.gifProperties).playing=!0,h.timeSinceStart=0,h.timeDisplayed=0,h.lastChangeTime=0,h.loopCount=0,h.displayIndex=0,this.drawingContext.putImageData(h.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var h;if(this.gifProperties)return(h=this.gifProperties).displayIndex%h.numFrames}},{key:"setFrame",value:function(h){var f;this.gifProperties&&(h<(f=this.gifProperties).numFrames&&0<=h?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=h,this.drawingContext.putImageData(f.frames[h].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(h,f){if(this.gifProperties){var g=this.gifProperties;if(f<g.numFrames&&0<=f)g.frames[f].delay=h;else{var y=!0,f=!1,m=void 0;try{for(var b,v=g.frames[Symbol.iterator]();!(y=(b=v.next()).done);y=!0)b.value.delay=h}catch(_){f=!0,m=_}finally{try{y||v.return==null||v.return()}finally{if(f)throw m}}}}}}])&&u(d.prototype,c),p}(),t=a.default.Image,s.default=t},{"../core/main":275,"./filters":296,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],300:[function(t,o,s){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=l(t("../core/main")),A=l(t("./filters"));function l(u){return u&&u.__esModule?u:{default:u}}t("../color/p5.Color"),a.default.prototype.pixels=[],a.default.prototype.blend=function(){for(var u,p=arguments.length,d=new Array(p),c=0;c<p;c++)d[c]=arguments[c];a.default._validateParameters("blend",d),this._renderer?(u=this._renderer).blend.apply(u,d):a.default.Renderer2D.prototype.blend.apply(this,d)},a.default.prototype.copy=function(){for(var u,p,d,c,h,f,g,y,m,b=arguments.length,v=new Array(b),w=0;w<b;w++)v[w]=arguments[w];if(a.default._validateParameters("copy",v),v.length===9)u=v[0],p=v[1],d=v[2],c=v[3],h=v[4],f=v[5],g=v[6],y=v[7],m=v[8];else{if(v.length!==8)throw new Error("Signature not supported");u=this,p=v[0],d=v[1],c=v[2],h=v[3],f=v[4],g=v[5],y=v[6],m=v[7]}a.default.prototype._copyHelper(this,u,p,d,c,h,f,g,y,m)},a.default.prototype._copyHelper=function(u,p,d,c,h,f,g,y,m,b){var v=p.canvas.width/p.width,w=0,_=0;p._renderer&&p._renderer.isP3D&&(w=p.width/2,_=p.height/2),u._renderer&&u._renderer.isP3D?a.default.RendererGL.prototype.image.call(u._renderer,p,d+w,c+_,h,f,g,y,m,b):u.drawingContext.drawImage(p.canvas,v*(d+w),v*(c+_),v*h,v*f,g,y,m,b)},a.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},a.default.prototype.filter=function(){for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];a.default._validateParameters("filter",arguments);var g=(function(){var y,m={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof a.default.Shader?m.shader=arguments.length<=0?void 0:arguments[0]:(m.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(m.value=arguments.length<=1?void 0:arguments[1]),((y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y])===!1&&(m.useWebGL=!1)),m}).apply(void 0,p),c=g.shader,h=g.operation,f=g.value,g=g.useWebGL;this._renderer.isP3D&&c?a.default.RendererGL.prototype.filter.call(this._renderer,c):g||this._renderer.isP3D?(!g&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?a.default.RendererGL.prototype.filter.call(this._renderer,h,f):((c=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),c.filter.apply(c,p),this._renderer._pInst.image(c,0,0),c.clear())):this.canvas!==void 0?A.default.apply(this.canvas,A.default[h],f):A.default.apply(this.elt,A.default[h],f)},a.default.prototype.get=function(u,p,d,c){var h;return a.default._validateParameters("get",arguments),(h=this._renderer).get.apply(h,arguments)},a.default.prototype.loadPixels=function(){for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];a.default._validateParameters("loadPixels",p),this._renderer.loadPixels()},a.default.prototype.set=function(u,p,d){this._renderer.set(u,p,d)},a.default.prototype.updatePixels=function(u,p,d,c){a.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(u,p,d,c)},t=a.default,s.default=t},{"../color/p5.Color":262,"../core/main":275,"./filters":296,"core-js/modules/es.array.filter":155}],301:[function(t,o,s){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=p(t("../core/main")),l=(t("whatwg-fetch"),t("es6-promise/auto"),p(t("fetch-jsonp"))),u=p(t("file-saver"));function p(f){return f&&f.__esModule?f:{default:f}}function d(f){return(d=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(f)}function c(f){return f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function h(f,g){g&&g!==!0&&g!=="true"||(g="");var y="";return(f=f||"untitled")&&f.includes(".")&&(y=f.split(".").pop()),g&&y!==g&&(y=g,f="".concat(f,".").concat(y)),[f,y]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),A.default.prototype.loadJSON=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];A.default._validateParameters("loadJSON",g);for(var m,b,v,w=g[0],_={},M="json",x=1;x<g.length;x++){var E=g[x];typeof E=="string"?E!=="jsonp"&&E!=="json"||(M=E):typeof E=="function"?m?b=E:m=E:d(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",v=E)}var C=this;return this.httpDo(w,"GET",v,M,function(T){for(var B in T)_[B]=T[B];m!==void 0&&m(T),C._decrementPreload()},function(T){if(A.default._friendlyFileLoadError(5,w),!b)throw T;b(T)}),_},A.default.prototype.loadStrings=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];A.default._validateParameters("loadStrings",g);for(var m,b,v=[],w=1;w<g.length;w++){var _=g[w];typeof _=="function"&&(m===void 0?m=_:b===void 0&&(b=_))}var M=this;return A.default.prototype.httpDo.call(this,g[0],"GET","text",function(x){for(var E=x.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),C=0,T=E.length;C<T;C+=32768)Array.prototype.push.apply(v,E.slice(C,Math.min(C+32768,T)));m!==void 0&&m(v),M._decrementPreload()},function(x){if(A.default._friendlyFileLoadError(3,x),!b)throw x;b(x)}),v},A.default.prototype.loadTable=function(f){var g,y,m,b=!1,v=f.substring(f.lastIndexOf(".")+1,f.length);v==="csv"?m=",":v==="ssv"?m=";":v==="tsv"&&(m="	");for(var w=1;w<arguments.length;w++)typeof arguments[w]=="function"?g===void 0?g=arguments[w]:y===void 0&&(y=arguments[w]):typeof arguments[w]=="string"&&(arguments[w]==="header"&&(b=!0),arguments[w]==="csv"?m=",":arguments[w]==="ssv"?m=";":arguments[w]==="tsv"&&(m="	"));var _=new A.default.Table,M=this;return this.httpDo(f,"GET","table",function(x){for(var E,C,T={},B=0,P=[],F=0,j=null,O=function(){T.currentState=B,T.token=""},Q=function(){j.push(T.token),O()},z=function(){T.currentState=4,P.push(j),j=null};;){if((E=x[F++])==null){if(T.escaped)throw new Error("Unclosed quote in file.");if(j){Q(),z();break}}if(j===null&&(T.escaped=!1,j=[],O()),T.currentState===B){if(E==='"'){T.escaped=!0,T.currentState=1;continue}T.currentState=1}if(T.currentState===1&&T.escaped)if(E==='"')x[F]==='"'?(T.token+='"',F++):(T.escaped=!1,T.currentState=2);else{if(E==="\r")continue;T.token+=E}else E==="\r"?(x[F]===`
`&&F++,Q(),z()):E===`
`?(Q(),z()):E===m?Q():T.currentState===1&&(T.token+=E)}if(b)_.columns=P.shift();else for(var k=0;k<P[0].length;k++)_.columns[k]="null";for(var W=0;W<P.length;W++)(P[W].length!==1||P[W][0]!=="undefined"&&P[W][0]!=="")&&((C=new A.default.TableRow).arr=P[W],C.obj=function(Y,te){if((te=te||[])===void 0)for(var R=0;R<Y.length;R++)te[R.toString()]=R;return Object.fromEntries(te.map(function(L,D){return[L,Y[D]]}))}(P[W],_.columns),_.addRow(C));typeof g=="function"&&g(_),M._decrementPreload()},function(x){A.default._friendlyFileLoadError(2,f),y?y(x):console.error(x)}),_},A.default.prototype.loadXML=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];for(var m,b,v=new A.default.XML,w=1;w<g.length;w++){var _=g[w];typeof _=="function"&&(m===void 0?m=_:b===void 0&&(b=_))}var M=this;return this.httpDo(g[0],"GET","xml",function(x){for(var E in x)v[E]=x[E];m!==void 0&&m(v),M._decrementPreload()},function(x){if(A.default._friendlyFileLoadError(1,x),!b)throw x;b(x)}),v},A.default.prototype.loadBytes=function(f,g,y){var m={},b=this;return this.httpDo(f,"GET","arrayBuffer",function(v){m.bytes=new Uint8Array(v),typeof g=="function"&&g(m),b._decrementPreload()},function(v){if(A.default._friendlyFileLoadError(6,f),!y)throw v;y(v)}),m},A.default.prototype.httpGet=function(){A.default._validateParameters("httpGet",arguments);var f=Array.prototype.slice.call(arguments);return f.splice(1,0,"GET"),A.default.prototype.httpDo.apply(this,f)},A.default.prototype.httpPost=function(){A.default._validateParameters("httpPost",arguments);var f=Array.prototype.slice.call(arguments);return f.splice(1,0,"POST"),A.default.prototype.httpDo.apply(this,f)},A.default.prototype.httpDo=function(){for(var f,g,y,m={},b=0,v="text/plain",w=arguments.length-1;0<w&&typeof(w<0||arguments.length<=w?void 0:arguments[w])=="function";w--)b++;var _=arguments.length-b,M=arguments.length<=0?void 0:arguments[0];if(_==2&&typeof M=="string"&&d(arguments.length<=1?void 0:arguments[1])==="object")P=new Request(M,arguments.length<=1?void 0:arguments[1]),g=arguments.length<=2?void 0:arguments[2],y=arguments.length<=3?void 0:arguments[3];else{for(var x,E="GET",C=1;C<arguments.length;C++){var T=C<0||arguments.length<=C?void 0:arguments[C];if(typeof T=="string")T==="GET"||T==="POST"||T==="PUT"||T==="DELETE"?E=T:T==="json"||T==="jsonp"||T==="binary"||T==="arrayBuffer"||T==="xml"||T==="text"||T==="table"?f=T:x=T;else if(typeof T=="number")x=T.toString();else if(d(T)==="object")if(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))for(var B in T)m[B]=T[B];else v=T instanceof A.default.XML?(x=T.serialize(),"application/xml"):(x=JSON.stringify(T),"application/json");else typeof T=="function"&&(g?y=T:g=T)}var _=E==="GET"?new Headers:new Headers({"Content-Type":v}),P=new Request(M,{method:E,mode:"cors",body:x,headers:_})}return(_=(_=(f=f||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))==="jsonp"?(0,l.default)(M,m):fetch(P)).then(function(F){if(!F.ok)throw(j=new Error(F.body)).status=F.status,j.ok=!1,j;var j=0;switch((j=f!=="jsonp"?F.headers.get("content-length"):j)&&64e6<j&&A.default._friendlyFileLoadError(7,M),f){case"json":case"jsonp":return F.json();case"binary":return F.blob();case"arrayBuffer":return F.arrayBuffer();case"xml":return F.text().then(function(O){return O=new DOMParser().parseFromString(O,"text/xml"),new A.default.XML(O.documentElement)});default:return F.text()}})).then(g||function(){}),_.catch(y||console.error),_},window.URL=window.URL||window.webkitURL,A.default.prototype._pWriters=[],A.default.prototype.createWriter=function(f,g){var y,m;for(m in A.default.prototype._pWriters)if(A.default.prototype._pWriters[m].name===f)return y=new A.default.PrintWriter(f+this.millis(),g),A.default.prototype._pWriters.push(y),y;return y=new A.default.PrintWriter(f,g),A.default.prototype._pWriters.push(y),y},A.default.PrintWriter=function(f,g){var y=this;this.name=f,this.content="",this.write=function(m){this.content+=m},this.print=function(m){this.content+="".concat(m,`
`)},this.clear=function(){this.content=""},this.close=function(){var m,b=[];for(m in b.push(this.content),A.default.prototype.writeFile(b,f,g),A.default.prototype._pWriters)A.default.prototype._pWriters[m].name===this.name&&A.default.prototype._pWriters.splice(m,1);y.clear(),y={}}},A.default.prototype.save=function(f,g,y){var m=arguments,b=(this._curElement||this).elt;if(m.length===0)A.default.prototype.saveCanvas(b);else if(m[0]instanceof A.default.Renderer||m[0]instanceof A.default.Graphics)A.default.prototype.saveCanvas(m[0].elt,m[1],m[2]);else if(m.length===1&&typeof m[0]=="string")A.default.prototype.saveCanvas(b,m[0]);else switch(h(m[1],m[2])[1]){case"json":return void A.default.prototype.saveJSON(m[0],m[1],m[2]);case"txt":return void A.default.prototype.saveStrings(m[0],m[1],m[2]);default:m[0]instanceof Array?A.default.prototype.saveStrings(m[0],m[1],m[2]):m[0]instanceof A.default.Table?A.default.prototype.saveTable(m[0],m[1],m[2]):m[0]instanceof A.default.Image?A.default.prototype.saveCanvas(m[0].canvas,m[1]):m[0]instanceof A.default.SoundFile&&A.default.prototype.saveSound(m[0],m[1],m[2],m[3])}},A.default.prototype.saveJSON=function(f,g,y){A.default._validateParameters("saveJSON",arguments),y=y?JSON.stringify(f):JSON.stringify(f,void 0,2),this.saveStrings(y.split(`
`),g,"json")},A.default.prototype.saveJSONObject=A.default.prototype.saveJSON,A.default.prototype.saveJSONArray=A.default.prototype.saveJSON,A.default.prototype.saveStrings=function(f,g,y,m){A.default._validateParameters("saveStrings",arguments);for(var b=this.createWriter(g,y||"txt"),v=0;v<f.length;v++)m?b.write(f[v]+`\r
`):b.write(f[v]+`
`);b.close(),b.clear()},A.default.prototype.saveTable=function(f,g,y){A.default._validateParameters("saveTable",arguments),m=y===void 0?g.substring(g.lastIndexOf(".")+1,g.length):y;var m,b=this.createWriter(g,m),v=f.columns,w=m==="tsv"?"	":",";if(m!=="html"){if(v[0]!=="0"){for(var _=0;_<v.length;_++)_<v.length-1?b.write(v[_]+w):b.write(v[_]);b.write(`
`)}for(var M=0;M<f.rows.length;M++){for(var x=void 0,x=0;x<f.rows[M].arr.length;x++)x<f.rows[M].arr.length-1?m==="csv"&&String(f.rows[M].arr[x]).includes(",")?b.write('"'+f.rows[M].arr[x]+'"'+w):b.write(f.rows[M].arr[x]+w):m==="csv"&&String(f.rows[M].arr[x]).includes(",")?b.write('"'+f.rows[M].arr[x]+'"'):b.write(f.rows[M].arr[x]);b.write(`
`)}}else{if(b.print("<html>"),b.print("<head>"),b.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),b.print("</head>"),b.print("<body>"),b.print("  <table>"),v[0]!=="0"){b.print("    <tr>");for(var E=0;E<v.length;E++){var C=c(v[E]);b.print("      <td>".concat(C)),b.print("      </td>")}b.print("    </tr>")}for(var T=0;T<f.rows.length;T++){b.print("    <tr>");for(var B=0;B<f.columns.length;B++){var P=c(f.rows[T].getString(B));b.print("      <td>".concat(P)),b.print("      </td>")}b.print("    </tr>")}b.print("  </table>"),b.print("</body>"),b.print("</html>")}b.close(),b.clear()},A.default.prototype.writeFile=function(b,g,y){var m="application/octet-stream",b=(A.default.prototype._isSafari()&&(m="text/plain"),new Blob(b,{type:m}));A.default.prototype.downloadFile(b,g,y)},A.default.prototype.downloadFile=function(f,b,v){var m,b=h(b,v),v=b[0];f instanceof Blob?u.default.saveAs(f,v):((m=document.createElement("a")).href=f,m.download=v,m.onclick=function(w){document.body.removeChild(w.target),w.stopPropagation()},m.style.display="none",document.body.appendChild(m),A.default.prototype._isSafari()&&(f=(f=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(b[1],'"'),alert(f)),m.click())},A.default.prototype._checkFileExtension=h,A.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=A.default,s.default=t},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.promise":183,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/web.dom-collections.iterator":238,"core-js/modules/web.url":240,"es6-promise/auto":241,"fetch-jsonp":243,"file-saver":244,"whatwg-fetch":253}],302:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function A(l,u){for(var p=0;p<u.length;p++){var d=u[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}a.default.Table=function(){function l(d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var u,p;return u=l,(p=[{key:"addRow",value:function(d){if(d=d||new a.default.TableRow,d.arr===void 0||d.obj===void 0)throw new Error("invalid TableRow: ".concat(d));return(d.table=this).rows.push(d),d}},{key:"removeRow",value:function(d){this.rows[d].table=null,d=this.rows.splice(d+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(d)}},{key:"getRow",value:function(d){return this.rows[d]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(d,c){if(typeof c=="string"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].obj[c]===d)return this.rows[h]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[c]===d)return this.rows[f];return null}},{key:"findRows",value:function(d,c){var h=[];if(typeof c=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[c]===d&&h.push(this.rows[f]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[c]===d&&h.push(this.rows[g]);return h}},{key:"matchRow",value:function(d,c){if(typeof c=="number"){for(var h=0;h<this.rows.length;h++)if(this.rows[h].arr[c].match(d))return this.rows[h]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[c].match(d))return this.rows[f];return null}},{key:"matchRows",value:function(d,c){var h=[];if(typeof c=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[c].match(d)&&h.push(this.rows[f]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[c].match(d)&&h.push(this.rows[g]);return h}},{key:"getColumn",value:function(d){var c=[];if(typeof d=="string")for(var h=0;h<this.rows.length;h++)c.push(this.rows[h].obj[d]);else for(var f=0;f<this.rows.length;f++)c.push(this.rows[f].arr[d]);return c}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(d){this.columns.push(d||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(d,c){for(var h=[],f=0;f<d.length;f++)h.push(d.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(h.join("|"),"g");if(c===void 0)for(var y=0;y<this.columns.length;y++)for(var m=0;m<this.rows.length;m++){var b=(b=this.rows[m].arr[y]).replace(g,"");this.rows[m].arr[y]=b,this.rows[m].obj[this.columns[y]]=b}else if(typeof c=="string")for(var v=0;v<this.rows.length;v++){var w=(w=this.rows[v].obj[c]).replace(g,""),_=(this.rows[v].obj[c]=w,this.columns.indexOf(c));this.rows[v].arr[_]=w}else for(var M=0;M<this.rows.length;M++){var x=(x=this.rows[M].arr[c]).replace(g,"");this.rows[M].arr[c]=x,this.rows[M].obj[this.columns[c]]=x}}},{key:"trim",value:function(d){var c=new RegExp(" ","g");if(d===void 0)for(var h=0;h<this.columns.length;h++)for(var f=0;f<this.rows.length;f++){var g=(g=this.rows[f].arr[h]).replace(c,"");this.rows[f].arr[h]=g,this.rows[f].obj[this.columns[h]]=g}else if(typeof d=="string")for(var y=0;y<this.rows.length;y++){var m=(m=this.rows[y].obj[d]).replace(c,""),b=(this.rows[y].obj[d]=m,this.columns.indexOf(d));this.rows[y].arr[b]=m}else for(var v=0;v<this.rows.length;v++){var w=(w=this.rows[v].arr[d]).replace(c,"");this.rows[v].arr[d]=w,this.rows[v].obj[this.columns[d]]=w}}},{key:"removeColumn",value:function(f){typeof f=="string"?h=this.columns.indexOf(c=f):c=this.columns[h=f];var c,h,f=this.columns.splice(h+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var g=0;g<this.rows.length;g++){var y=this.rows[g].arr,m=y.splice(h+1,y.length);y.pop(),this.rows[g].arr=y.concat(m),delete this.rows[g].obj[c]}}},{key:"set",value:function(d,c,h){this.rows[d].set(c,h)}},{key:"setNum",value:function(d,c,h){this.rows[d].setNum(c,h)}},{key:"setString",value:function(d,c,h){this.rows[d].setString(c,h)}},{key:"get",value:function(d,c){return this.rows[d].get(c)}},{key:"getNum",value:function(d,c){return this.rows[d].getNum(c)}},{key:"getString",value:function(d,c){return this.rows[d].getString(c)}},{key:"getObject",value:function(d){for(var c,h={},f=0;f<this.rows.length;f++)if(c=this.rows[f].obj,typeof d=="string"){if(!(0<=this.columns.indexOf(d)))throw new Error('This table has no column named "'.concat(d,'"'));h[c[d]]=c}else h[f]=this.rows[f].obj;return h}},{key:"getArray",value:function(){for(var d=[],c=0;c<this.rows.length;c++)d.push(this.rows[c].arr);return d}}])&&A(u.prototype,p),l}(),t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.join":162,"core-js/modules/es.array.splice":167,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.match":193,"core-js/modules/es.string.replace":196}],303:[function(t,o,s){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(A,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(A,p.key,p)}}t.default.TableRow=function(){function A(p,d){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");var c=[];p&&(c=p.split(d=d||",")),this.arr=c,this.obj=Object.fromEntries(c.entries()),this.table=null}var l,u;return l=A,(u=[{key:"set",value:function(p,d){if(typeof p=="string"){var c=this.table.columns.indexOf(p);if(!(0<=c))throw new Error('This table has no column named "'.concat(p,'"'));this.obj[p]=d,this.arr[c]=d}else{if(!(p<this.table.columns.length))throw new Error("Column #".concat(p," is out of the range of this table"));this.arr[p]=d,c=this.table.columns[p],this.obj[c]=d}}},{key:"setNum",value:function(p,d){d=parseFloat(d),this.set(p,d)}},{key:"setString",value:function(p,d){d=d.toString(),this.set(p,d)}},{key:"get",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p]}},{key:"getNum",value:function(p){var d=parseFloat(typeof p=="string"?this.obj[p]:this.arr[p]);if(d.toString()==="NaN")throw"Error: ".concat(this.obj[p]," is NaN (Not a Number)");return d}},{key:"getString",value:function(p){return(typeof p=="string"?this.obj:this.arr)[p].toString()}}])&&a(l.prototype,u),A}(),t=t.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.from-entries":177,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.split":198,"core-js/modules/web.dom-collections.iterator":238}],304:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function A(u,p){for(var d=0;d<p.length;d++){var c=p[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}function l(u){for(var p=[],d=0;d<u.length;d++)p.push(new a.default.XML(u[d]));return p}a.default.XML=function(){function u(c){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");c?this.DOM=c:(c=document.implementation.createDocument(null,"doc"),this.DOM=c.createElement("root"))}var p,d;return p=u,(d=[{key:"getParent",value:function(){return new a.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(c){var h=this.DOM.innerHTML,f=this.DOM.attributes,g=document.implementation.createDocument(null,"default").createElement(c);g.innerHTML=h;for(var y=0;y<f.length;y++)g.setAttribute(f[y].nodeName,f.nodeValue);this.DOM=g}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var c=[],h=0;h<this.DOM.childNodes.length;h++)c.push(this.DOM.childNodes[h].nodeName);return c}},{key:"getChildren",value:function(c){return l(c?this.DOM.getElementsByTagName(c):this.DOM.children)}},{key:"getChild",value:function(c){if(typeof c!="string")return new a.default.XML(this.DOM.children[c]);var h=!0,f=!1,g=void 0;try{for(var y,m=this.DOM.children[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var b=y.value;if(b.tagName===c)return new a.default.XML(b)}}catch(v){f=!0,g=v}finally{try{h||m.return==null||m.return()}finally{if(f)throw g}}}},{key:"addChild",value:function(c){c instanceof a.default.XML&&this.DOM.appendChild(c.DOM)}},{key:"removeChild",value:function(c){var h=-1;if(typeof c=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===c){h=f;break}}else h=c;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var c=[],h=!0,f=!1,g=void 0;try{for(var y,m=this.DOM.attributes[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var b=y.value;c.push(b.nodeName)}}catch(v){f=!0,g=v}finally{try{h||m.return==null||m.return()}finally{if(f)throw g}}return c}},{key:"hasAttribute",value:function(c){var h={},f=!0,g=!1,y=void 0;try{for(var m,b=this.DOM.attributes[Symbol.iterator]();!(f=(m=b.next()).done);f=!0){var v=m.value;h[v.nodeName]=v.nodeValue}}catch(w){g=!0,y=w}finally{try{f||b.return==null||b.return()}finally{if(g)throw y}}return!!h[c]}},{key:"getNum",value:function(c,h){var f={},g=!0,y=!1,m=void 0;try{for(var b,v=this.DOM.attributes[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){var w=b.value;f[w.nodeName]=w.nodeValue}}catch(_){y=!0,m=_}finally{try{g||v.return==null||v.return()}finally{if(y)throw m}}return Number(f[c])||h||0}},{key:"getString",value:function(c,h){var f={},g=!0,y=!1,m=void 0;try{for(var b,v=this.DOM.attributes[Symbol.iterator]();!(g=(b=v.next()).done);g=!0){var w=b.value;f[w.nodeName]=w.nodeValue}}catch(_){y=!0,m=_}finally{try{g||v.return==null||v.return()}finally{if(y)throw m}}return f[c]?String(f[c]):h||null}},{key:"setAttribute",value:function(c,h){this.DOM.setAttribute(c,h)}},{key:"getContent",value:function(c){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||c||null}},{key:"setContent",value:function(c){this.DOM.children.length||(this.DOM.textContent=c)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&A(p.prototype,d),u}(),t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],305:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.abs=Math.abs,a.default.prototype.ceil=Math.ceil,a.default.prototype.constrain=function(A,l,u){return a.default._validateParameters("constrain",arguments),Math.max(Math.min(A,u),l)},a.default.prototype.dist=function(){for(var A=arguments.length,l=new Array(A),u=0;u<A;u++)l[u]=arguments[u];return a.default._validateParameters("dist",l),l.length===4?Math.hypot(l[2]-l[0],l[3]-l[1]):l.length===6?Math.hypot(l[3]-l[0],l[4]-l[1],l[5]-l[2]):void 0},a.default.prototype.exp=Math.exp,a.default.prototype.floor=Math.floor,a.default.prototype.lerp=function(A,l,u){return a.default._validateParameters("lerp",arguments),u*(l-A)+A},a.default.prototype.log=Math.log,a.default.prototype.mag=function(A,l){return a.default._validateParameters("mag",arguments),Math.hypot(A,l)},a.default.prototype.map=function(A,l,u,p,d,c){return a.default._validateParameters("map",arguments),A=(A-l)/(u-l)*(d-p)+p,c?p<d?this.constrain(A,p,d):this.constrain(A,d,p):A},a.default.prototype.max=function(){for(var A=function(d){var c=-1/0,h=!0,f=!1,g=void 0;try{for(var y,m=d[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)var b=y.value,c=c<b?b:c}catch(v){f=!0,g=v}finally{try{h||m.return==null||m.return()}finally{if(f)throw g}}return c},l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return u[0]instanceof Array?A(u[0]):A(u)},a.default.prototype.min=function(){for(var A=function(d){var c=1/0,h=!0,f=!1,g=void 0;try{for(var y,m=d[Symbol.iterator]();!(h=(y=m.next()).done);h=!0)var b=y.value,c=b<c?b:c}catch(v){f=!0,g=v}finally{try{h||m.return==null||m.return()}finally{if(f)throw g}}return c},l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return u[0]instanceof Array?A(u[0]):A(u)},a.default.prototype.norm=function(A,l,u){return a.default._validateParameters("norm",arguments),this.map(A,l,u,0,1)},a.default.prototype.pow=Math.pow,a.default.prototype.round=function(A,l){return l?(l=Math.pow(10,l),Math.round(A*l)/l):Math.round(A)},a.default.prototype.sq=function(A){return A*A},a.default.prototype.sqrt=Math.sqrt,a.default.prototype.fract=function(p){a.default._validateParameters("fract",arguments);var l,u=0,p=Number(p);return isNaN(p)||Math.abs(p)===1/0?p:(p<0&&(p=-p,u=1),String(p).includes(".")&&!String(p).includes("e")?(l=String(p),l=+("0"+l.slice(l.indexOf("."))),Math.abs(u-l)):p<1?Math.abs(u-p):0)},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],306:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function A(u,p,d){return(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,h,f){var g=[null];return g.push.apply(g,h),h=new(Function.bind.apply(c,g)),f&&l(h,f.prototype),h}).apply(null,arguments)}function l(u,p){return(l=Object.setPrototypeOf||function(d,c){return d.__proto__=c,d})(u,p)}a.default.prototype.createVector=function(u,p,d){return this instanceof a.default?A(a.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new a.default.Vector(u,p,d)},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188}],307:[function(d,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,d=(d=d("../core/main"))&&d.__esModule?d:{default:d};function a(c){return .5*(1-Math.cos(c*Math.PI))}var A,l=4095,u=4,p=.5,d=(d.default.prototype.noise=function(c){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(A==null){A=new Array(4096);for(var g=0;g<4096;g++)A[g]=Math.random()}c<0&&(c=-c),h<0&&(h=-h),f<0&&(f=-f);for(var y,m,b=Math.floor(c),v=Math.floor(h),w=Math.floor(f),_=c-b,M=h-v,x=f-w,E=0,C=.5,T=0;T<u;T++){var B=b+(v<<4)+(w<<8),P=a(_),F=a(M),j=A[B&l];j+=P*(A[B+1&l]-j),y=A[B+16&l],j+=F*((y+=P*(A[B+16+1&l]-y))-j),y=A[(B+=256)&l],y+=P*(A[B+1&l]-y),m=A[B+16&l],y+=F*((m+=P*(A[B+16+1&l]-m))-y),E+=(j+=a(x)*(y-j))*C,C*=p,b<<=1,v<<=1,w<<=1,1<=(_*=2)&&(b++,_--),1<=(M*=2)&&(v++,M--),1<=(x*=2)&&(w++,x--)}return E},d.default.prototype.noiseDetail=function(c,h){0<c&&(u=c),0<h&&(p=h)},d.default.prototype.noiseSeed=function(c){g=4294967296;var h,f,g,y={setSeed:function(b){f=h=(b??Math.random()*g)>>>0},getSeed:function(){return h},rand:function(){return(f=(1664525*f+1013904223)%g)/g}};y.setSeed(c),A=new Array(4096);for(var m=0;m<4096;m++)A[m]=y.rand()},d.default);s.default=d},{"../core/main":275}],308:[function(t,o,s){function a(g){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function A(g){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(y){return a(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":a(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(f=t("../core/main"))&&f.__esModule?f:{default:f},u=function(g){if(g&&g.__esModule)return g;if(g===null||A(g)!=="object"&&typeof g!="function")return{default:g};var y=p();if(y&&y.has(g))return y.get(g);var m,b={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in g){var w;Object.prototype.hasOwnProperty.call(g,m)&&((w=v?Object.getOwnPropertyDescriptor(g,m):null)&&(w.get||w.set)?Object.defineProperty(b,m,w):b[m]=g[m])}return b.default=g,y&&y.set(g,b),b}(t("../core/constants"));function p(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,p=function(){return g},g)}function d(g,y){for(var m=0;m<y.length;m++){var b=y[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}function c(g,y){return g!==0&&(this.x=this.x%g),y!==0&&(this.y=this.y%y),this}function h(g,y,m){return g!==0&&(this.x=this.x%g),y!==0&&(this.y=this.y%y),m!==0&&(this.z=this.z%m),this}l.default.Vector=function(){function g(){var M=this,v=g;if(!(M instanceof v))throw new TypeError("Cannot call a class as a function");var w,_,M=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],w=(arguments.length<=2?void 0:arguments[2])||0,_=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(w=(arguments.length<=0?void 0:arguments[0])||0,_=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=w,this.y=_,this.z=M}var y,m,b;return y=g,b=[{key:"fromAngle",value:function(v,w){return new l.default.Vector((w=w===void 0?1:w)*Math.cos(v),w*Math.sin(v),0)}},{key:"fromAngles",value:function(C,x,_){_===void 0&&(_=1);var M=Math.cos(x),x=Math.sin(x),E=Math.cos(C),C=Math.sin(C);return new l.default.Vector(_*C*x,-_*E,_*C*M)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*u.TWO_PI)}},{key:"random3D",value:function(){var v=Math.random()*u.TWO_PI,w=2*Math.random()-1,M=Math.sqrt(1-w*w),_=M*Math.cos(v),M=M*Math.sin(v);return new l.default.Vector(_,M,w)}},{key:"copy",value:function(v){return v.copy(v)}},{key:"add",value:function(v,w,_){return _?_.set(v):(_=v.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),_.add(w),_}},{key:"rem",value:function(v,w){if(v instanceof l.default.Vector&&w instanceof l.default.Vector)return(v=v.copy()).rem(w),v}},{key:"sub",value:function(v,w,_){return _?_.set(v):(_=v.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),_.sub(w),_}},{key:"mult",value:function(v,w,_){return _?_.set(v):(_=v.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),_.mult(w),_}},{key:"rotate",value:function(v,w,_){return arguments.length===2?_=v.copy():(_ instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),_.set(v)),_.rotate(w),_}},{key:"div",value:function(v,w,_){return _?_.set(v):(_=v.copy(),arguments.length===3&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),_.div(w),_}},{key:"dot",value:function(v,w){return v.dot(w)}},{key:"cross",value:function(v,w){return v.cross(w)}},{key:"dist",value:function(v,w){return v.dist(w)}},{key:"lerp",value:function(v,w,_,M){return M?M.set(v):(M=v.copy(),arguments.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),M.lerp(w,_),M}},{key:"slerp",value:function(v,w,_,M){return M?M.set(v):(M=v.copy(),arguments.length===4&&l.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),M.slerp(w,_),M}},{key:"mag",value:function(v){return v.mag()}},{key:"magSq",value:function(v){return v.magSq()}},{key:"normalize",value:function(v,w){return arguments.length<2?w=v.copy():(w instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),w.set(v)),w.normalize()}},{key:"limit",value:function(v,w,_){return arguments.length<3?_=v.copy():(_ instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),_.set(v)),_.limit(w)}},{key:"setMag",value:function(v,w,_){return arguments.length<3?_=v.copy():(_ instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),_.set(v)),_.setMag(w)}},{key:"heading",value:function(v){return v.heading()}},{key:"angleBetween",value:function(v,w){return v.angleBetween(w)}},{key:"reflect",value:function(v,w,_){return arguments.length<3?_=v.copy():(_ instanceof l.default.Vector||l.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),_.set(v)),_.reflect(w)}},{key:"array",value:function(v){return v.array()}},{key:"equals",value:function(v,w){var _;return v instanceof l.default.Vector?_=v:v instanceof Array?_=new l.default.Vector().set(v):l.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),_.equals(w)}}],(m=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(v,w,_){return v instanceof l.default.Vector?(this.x=v.x||0,this.y=v.y||0,this.z=v.z||0):Array.isArray(v)?(this.x=v[0]||0,this.y=v[1]||0,this.z=v[2]||0):(this.x=v||0,this.y=w||0,this.z=_||0),this}},{key:"copy",value:function(){return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new l.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(v,w,_){return v instanceof l.default.Vector?(this.x+=v.x||0,this.y+=v.y||0,this.z+=v.z||0):Array.isArray(v)?(this.x+=v[0]||0,this.y+=v[1]||0,this.z+=v[2]||0):(this.x+=v||0,this.y+=w||0,this.z+=_||0),this}},{key:"rem",value:function(v,w,_){var M;if(v instanceof l.default.Vector){if([v.x,v.y,v.z].every(Number.isFinite))return x=parseFloat(v.x),E=parseFloat(v.y),M=parseFloat(v.z),h.call(this,x,E,M)}else if(Array.isArray(v)){if(v.every(function(C){return Number.isFinite(C)}))return v.length===2?c.call(this,v[0],v[1]):v.length===3?h.call(this,v[0],v[1],v[2]):void 0}else if(arguments.length===1){if(Number.isFinite(v)&&v!==0)return this.x=this.x%v,this.y=this.y%v,this.z=this.z%v,this}else if(arguments.length===2){var x=Array.prototype.slice.call(arguments);if(x.every(function(C){return Number.isFinite(C)})&&x.length===2)return c.call(this,x[0],x[1])}else if(arguments.length===3){var E=Array.prototype.slice.call(arguments);if(E.every(function(C){return Number.isFinite(C)})&&E.length===3)return h.call(this,E[0],E[1],E[2])}}},{key:"sub",value:function(v,w,_){return v instanceof l.default.Vector?(this.x-=v.x||0,this.y-=v.y||0,this.z-=v.z||0):Array.isArray(v)?(this.x-=v[0]||0,this.y-=v[1]||0,this.z-=v[2]||0):(this.x-=v||0,this.y-=w||0,this.z-=_||0),this}},{key:"mult",value:function(v,w,_){var M;return v instanceof l.default.Vector?Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"?(this.x*=v.x,this.y*=v.y,this.z*=v.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(v)?v.every(function(x){return Number.isFinite(x)})&&v.every(function(x){return typeof x=="number"})?v.length===1?(this.x*=v[0],this.y*=v[0],this.z*=v[0]):v.length===2?(this.x*=v[0],this.y*=v[1]):v.length===3&&(this.x*=v[0],this.y*=v[1],this.z*=v[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(M=Array.prototype.slice.call(arguments)).every(function(x){return Number.isFinite(x)})&&M.every(function(x){return typeof x=="number"})?(arguments.length===1&&(this.x*=v,this.y*=v,this.z*=v),arguments.length===2&&(this.x*=v,this.y*=w),arguments.length===3&&(this.x*=v,this.y*=w,this.z*=_)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(v,w,_){if(v instanceof l.default.Vector)if(Number.isFinite(v.x)&&Number.isFinite(v.y)&&Number.isFinite(v.z)&&typeof v.x=="number"&&typeof v.y=="number"&&typeof v.z=="number"){var M=v.z===0&&this.z===0;if(v.x===0||v.y===0||!M&&v.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=v.x,this.y/=v.y,M||(this.z/=v.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(v))if(v.every(function(x){return Number.isFinite(x)})&&v.every(function(x){return typeof x=="number"})){if(v.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;v.length===1?(this.x/=v[0],this.y/=v[0],this.z/=v[0]):v.length===2?(this.x/=v[0],this.y/=v[1]):v.length===3&&(this.x/=v[0],this.y/=v[1],this.z/=v[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(M=Array.prototype.slice.call(arguments),M.every(function(x){return Number.isFinite(x)})&&M.every(function(x){return typeof x=="number"})){if(M.some(function(x){return x===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=v,this.y/=v,this.z/=v),arguments.length===2&&(this.x/=v,this.y/=w),arguments.length===3&&(this.x/=v,this.y/=w,this.z/=_)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var v=this.x,w=this.y,_=this.z;return v*v+w*w+_*_}},{key:"dot",value:function(v,w,_){return v instanceof l.default.Vector?this.dot(v.x,v.y,v.z):this.x*(v||0)+this.y*(w||0)+this.z*(_||0)}},{key:"cross",value:function(M){var w=this.y*M.z-this.z*M.y,_=this.z*M.x-this.x*M.z,M=this.x*M.y-this.y*M.x;return this.isPInst?new l.default.Vector(this._fromRadians,this._toRadians,w,_,M):new l.default.Vector(w,_,M)}},{key:"dist",value:function(v){return v.copy().sub(this).mag()}},{key:"normalize",value:function(){var v=this.mag();return v!==0&&this.mult(1/v),this}},{key:"limit",value:function(v){var w=this.magSq();return v*v<w&&this.div(Math.sqrt(w)).mult(v),this}},{key:"setMag",value:function(v){return this.normalize().mult(v)}},{key:"heading",value:function(){var v=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(v):v}},{key:"setHeading",value:function(v){this.isPInst&&(v=this._toRadians(v));var w=this.mag();return this.x=w*Math.cos(v),this.y=w*Math.sin(v),this}},{key:"rotate",value:function(w){var w=this.heading()+w,_=(this.isPInst&&(w=this._toRadians(w)),this.mag());return this.x=Math.cos(w)*_,this.y=Math.sin(w)*_,this}},{key:"angleBetween",value:function(v){var w;return this.magSq()*v.magSq()==0?NaN:(w=this.cross(v),v=Math.atan2(w.mag(),this.dot(v))*Math.sign(w.z||1),this.isPInst?this._fromRadians(v):v)}},{key:"lerp",value:function(v,w,_,M){return v instanceof l.default.Vector?this.lerp(v.x,v.y,v.z,w):(this.x+=(v-this.x)*M||0,this.y+=(w-this.y)*M||0,this.z+=(_-this.z)*M||0,this)}},{key:"slerp",value:function(v,w){if(w!==0){if(w===1)return this.set(v);var _=this.mag(),M=v.mag();if(_*M==0)this.mult(1-w).add(v.x*w,v.y*w,v.z*w);else{var x=this.cross(v),E=x.mag(),C=Math.atan2(E,this.dot(v));if(0<E)x.x/=E,x.y/=E,x.z/=E;else{if(C<.5*Math.PI)return this.mult(1-w).add(v.x*w,v.y*w,v.z*w),this;this.z===0&&v.z===0?x.set(0,0,1):this.x!==0?x.set(this.y,-this.x,0).normalize():x.set(1,0,0)}E=x.cross(this),v=1-w+w*M/_,x=v*Math.cos(w*C),M=v*Math.sin(w*C),this.x=this.x*x+E.x*M,this.y=this.y*x+E.y*M,this.z=this.z*x+E.z*M}}return this}},{key:"reflect",value:function(v){return v.normalize(),this.sub(v.mult(2*this.dot(v)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(E,w,_){var M,x,E=E instanceof l.default.Vector?(M=E.x||0,x=E.y||0,E.z||0):Array.isArray(E)?(M=E[0]||0,x=E[1]||0,E[2]||0):(M=E||0,x=w||0,_||0);return this.x===M&&this.y===x&&this.z===E}}])&&d(y.prototype,m),b&&d(y,b),g}();var f=l.default.Vector;s.default=f},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.constructor":173,"core-js/modules/es.number.is-finite":174,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],309:[function(p,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(p=p("../core/main"))&&p.__esModule?p:{default:p},A="_lcg_random_state",l=4294967296,u=0,p=(a.default.prototype._lcg=function(d){return this[d]=(1664525*this[d]+1013904223)%l,this[d]/l},a.default.prototype._lcgSetSeed=function(d,c){this[d]=(c??Math.random()*l)>>>0},a.default.prototype.randomSeed=function(d){this._lcgSetSeed(A,d),this._gaussian_previous=!1},a.default.prototype.random=function(d,c){var h,f;return a.default._validateParameters("random",arguments),h=this[A]!=null?this._lcg(A):Math.random(),d===void 0?h:c===void 0?d instanceof Array?d[Math.floor(h*d.length)]:h*d:(c<d&&(f=d,d=c,c=f),h*(c-d)+d)},a.default.prototype.randomGaussian=function(d){var c,h,f,g,y=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=u,this._gaussian_previous=!1;else{for(;1<=(g=(h=this.random(2)-1)*h+(f=this.random(2)-1)*f););c=h*(g=Math.sqrt(-2*Math.log(g)/g)),u=f*g,this._gaussian_previous=!0}return c*y+(d||0)},a.default);s.default=p},{"../core/main":275}],310:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(c){if(c&&c.__esModule)return c;if(c===null||A(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}l.default.prototype._angleMode=u.RADIANS,l.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},l.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},l.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},l.default.prototype.atan2=function(c,h){return this._fromRadians(Math.atan2(c,h))},l.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},l.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},l.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},l.default.prototype.degrees=function(c){return c*u.RAD_TO_DEG},l.default.prototype.radians=function(c){return c*u.DEG_TO_RAD},l.default.prototype.angleMode=function(c){if(l.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==u.DEGREES&&c!==u.RADIANS||(this._angleMode=c)},l.default.prototype._toRadians=function(c){return this._angleMode===u.DEGREES?c*u.DEG_TO_RAD:c},l.default.prototype._toDegrees=function(c){return this._angleMode===u.RADIANS?c*u.RAD_TO_DEG:c},l.default.prototype._fromRadians=function(c){return this._angleMode===u.DEGREES?c*u.RAD_TO_DEG:c};var d=l.default;s.default=d},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],311:[function(t,o,s){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.textAlign=function(A,l){var u;return a.default._validateParameters("textAlign",arguments),(u=this._renderer).textAlign.apply(u,arguments)},a.default.prototype.textLeading=function(A){var l;return a.default._validateParameters("textLeading",arguments),(l=this._renderer).textLeading.apply(l,arguments)},a.default.prototype.textSize=function(A){var l;return a.default._validateParameters("textSize",arguments),(l=this._renderer).textSize.apply(l,arguments)},a.default.prototype.textStyle=function(A){var l;return a.default._validateParameters("textStyle",arguments),(l=this._renderer).textStyle.apply(l,arguments)},a.default.prototype.textWidth=function(){for(var A=arguments.length,l=new Array(A),u=0;u<A;u++)l[u]=arguments[u];if(l[0]+="",a.default._validateParameters("textWidth",l),l[0].length===0)return 0;for(var p=l[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),d=[],c=0;c<p.length;c++)d.push(this._renderer.textWidth(p[c]));return Math.max.apply(Math,d)},a.default.prototype.textAscent=function(){for(var A=arguments.length,l=new Array(A),u=0;u<A;u++)l[u]=arguments[u];return a.default._validateParameters("textAscent",l),this._renderer.textAscent()},a.default.prototype.textDescent=function(){for(var A=arguments.length,l=new Array(A),u=0;u<A;u++)l[u]=arguments[u];return a.default._validateParameters("textDescent",l),this._renderer.textDescent()},a.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},a.default.prototype.textWrap=function(A){if(A!=="WORD"&&A!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(A)},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198}],312:[function(t,o,s){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function A(f){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=c(t("../core/constants")),p=c(t("opentype.js"));function d(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,d=function(){return f},f)}function c(f){if(f&&f.__esModule)return f;if(f===null||A(f)!=="object"&&typeof f!="function")return{default:f};var g=d();if(g&&g.has(f))return g.get(f);var y,m,b={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in f)Object.prototype.hasOwnProperty.call(f,y)&&((m=v?Object.getOwnPropertyDescriptor(f,y):null)&&(m.get||m.set)?Object.defineProperty(b,y,m):b[y]=f[y]);return b.default=f,g&&g.set(f,b),b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),l.default.prototype.loadFont=function(f,g,y){l.default._validateParameters("loadFont",arguments);var m=new l.default.Font(this),b=this;return p.load(f,function(_,M){if(_)return l.default._friendlyFileLoadError(4,f),y!==void 0?y(_):void console.error(_,f);m.font=M,g!==void 0&&g(m),b._decrementPreload();var _=f.split("\\").pop().split("/").pop(),M=_.lastIndexOf("."),x=M<1?null:_.slice(M+1);["ttf","otf","woff","woff2"].includes(x)&&(x=_.slice(0,M!==-1?M:0),(_=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(x,`;
src: url(`).concat(f,`);
}
`))),document.head.appendChild(_))}),m},l.default.prototype.text=function(f,g,y,m,b){var v;return l.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(v=this._renderer).text.apply(v,arguments):this},l.default.prototype.textFont=function(f,g){if(l.default._validateParameters("textFont",arguments),arguments.length){if(f)return this._renderer._setProperty("_textFont",f),g&&(this._renderer._setProperty("_textSize",g),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",g*u._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var h=l.default;s.default=h},{"../core/constants":264,"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.last-index-of":163,"core-js/modules/es.array.slice":165,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,"opentype.js":249}],313:[function(t,o,s){function a(E){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=(A=t("../core/main"))&&A.__esModule?A:{default:A},l=function(E){if(E&&E.__esModule)return E;if(E===null||p(E)!=="object"&&typeof E!="function")return{default:E};var C=u();if(C&&C.has(E))return C.get(E);var T,B={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in E){var F;Object.prototype.hasOwnProperty.call(E,T)&&((F=P?Object.getOwnPropertyDescriptor(E,T):null)&&(F.get||F.set)?Object.defineProperty(B,T,F):B[T]=E[T])}return B.default=E,C&&C.set(E,B),B}(t("../core/constants"));function u(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,u=function(){return E},E)}function p(E){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(C){return a(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":a(C)})(E)}function d(E,C){for(var T=0;T<C.length;T++){var B=C[T];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(E,B.key,B)}}function c(E,C){var T=E.length;return E[C<0?C%T+T:C%T]}function h(E,C,T,B){var P,F,j;return B?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),F=h.tmpPoint1,j=h.tmpPoint2,F.x=C.x-E.x,F.y=C.y-E.y,j.x=T.x-C.x,j.y=T.y-C.y,P=F.x*j.x+F.y*j.y,F=Math.sqrt(F.x*F.x+F.y*F.y),j=Math.sqrt(j.x*j.x+j.y*j.y),Math.acos(P/(F*j))<B):(C[0]-E[0])*(T[1]-E[1])-(T[0]-E[0])*(C[1]-E[1])==0}function f(D,q,V,Z,se,F,j,O,Q){var z=1-Q,W=Math.pow(z,3),Y=Math.pow(z,2),L=Q*Q,te=L*Q,k=W*D+3*Y*Q*V+3*z*Q*Q*se+te*j,W=W*q+3*Y*Q*Z+3*z*Q*Q*F+te*O,Y=D+2*Q*(V-D)+L*(se-2*V+D),te=q+2*Q*(Z-q)+L*(F-2*Z+q),R=V+2*Q*(se-V)+L*(j-2*se+V),L=Z+2*Q*(F-Z)+L*(O-2*F+Z),D=z*D+Q*V,V=z*q+Q*Z,q=z*se+Q*j,Z=z*F+Q*O,se=90-180*Math.atan2(Y-R,te-L)/Math.PI;return(R<Y||te<L)&&(se+=180),{x:k,y:W,m:{x:Y,y:te},n:{x:R,y:L},start:{x:D,y:V},end:{x:q,y:Z},alpha:se}}function g(E,C,T,B,P,F,j,O,Q){return Q==null?M(E,C,T,B,P,F,j,O):f(E,C,T,B,P,F,j,O,function(z,k,W,Y,te,R,L,D,V){if(!(V<0||M(z,k,W,Y,te,R,L,D)<V)){var q,Z=.5,se=1-Z;for(q=M(z,k,W,Y,te,R,L,D,se);.01<Math.abs(q-V);)q=M(z,k,W,Y,te,R,L,D,se+=(q<V?1:-1)*(Z/=2));return se}}(E,C,T,B,P,F,j,O,Q))}function y(E,C,T){for(var B,P,F,j,O,Q=0,z=0,k=(E=function(W,Y){function te(Se,re,ie){var Ce,Me;if(!Se)return["C",re.x,re.y,re.x,re.y,re.x,re.y];switch(Se[0]in{T:1,Q:1}||(re.qx=re.qy=null),Se[0]){case"M":re.X=Se[1],re.Y=Se[2];break;case"A":Se=["C"].concat(b.apply(0,[re.x,re.y].concat(Se.slice(1))));break;case"S":Me=ie==="C"||ie==="S"?(Ce=2*re.x-re.bx,2*re.y-re.by):(Ce=re.x,re.y),Se=["C",Ce,Me].concat(Se.slice(1));break;case"T":ie==="Q"||ie==="T"?(re.qx=2*re.x-re.qx,re.qy=2*re.y-re.qy):(re.qx=re.x,re.qy=re.y),Se=["C"].concat(_(re.x,re.y,re.qx,re.qy,Se[1],Se[2]));break;case"Q":re.qx=Se[1],re.qy=Se[2],Se=["C"].concat(_(re.x,re.y,Se[1],Se[2],Se[3],Se[4]));break;case"L":Se=["C"].concat(w(re.x,re.y,Se[1],Se[2]));break;case"H":Se=["C"].concat(w(re.x,re.y,Se[1],re.y));break;case"V":Se=["C"].concat(w(re.x,re.y,re.x,Se[1]));break;case"Z":Se=["C"].concat(w(re.x,re.y,re.X,re.Y))}return Se}function R(Se,re){if(7<Se[re].length){Se[re].shift();for(var ie=Se[re];ie.length;)fe[re]="A",q&&(be[re]="A"),Se.splice(re++,0,["C"].concat(ie.splice(0,6)));Se.splice(re,1),D=Math.max(V.length,q&&q.length||0)}}function L(Se,re,ie,Ce,Me){Se&&re&&Se[Me][0]==="M"&&re[Me][0]!=="M"&&(re.splice(Me,0,["M",Ce.x,Ce.y]),ie.bx=0,ie.by=0,ie.x=Se[Me][1],ie.y=Se[Me][2],D=Math.max(V.length,q&&q.length||0))}var D,V=m(W),q=Y&&m(Y),Z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},se={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},fe=[],be=[],pe="",Ae="";D=Math.max(V.length,q&&q.length||0);for(var ge=0;ge<D;ge++){(pe=V[ge]?V[ge][0]:pe)!=="C"&&(fe[ge]=pe,ge&&(Ae=fe[ge-1])),V[ge]=te(V[ge],Z,Ae),fe[ge]!=="A"&&pe==="C"&&(fe[ge]="C"),R(V,ge),q&&((pe=q[ge]?q[ge][0]:pe)!=="C"&&(be[ge]=pe,ge&&(Ae=be[ge-1])),q[ge]=te(q[ge],se,Ae),be[ge]!=="A"&&pe==="C"&&(be[ge]="C"),R(q,ge)),L(V,q,Z,se,ge),L(q,V,se,Z,ge);var ce=V[ge],de=q&&q[ge],oe=ce.length,je=q&&de.length;Z.x=ce[oe-2],Z.y=ce[oe-1],Z.bx=parseFloat(ce[oe-4])||Z.x,Z.by=parseFloat(ce[oe-3])||Z.y,se.bx=q&&(parseFloat(de[je-4])||se.x),se.by=q&&(parseFloat(de[je-3])||se.y),se.x=q&&de[je-2],se.y=q&&de[je-1]}return q?[V,q]:V}(E)).length;z<k;z++){if((F=E[z])[0]==="M")B=+F[1],P=+F[2];else{if(C<Q+(j=g(B,P,F[1],F[2],F[3],F[4],F[5],F[6]))&&!T)return{x:(O=g(B,P,F[1],F[2],F[3],F[4],F[5],F[6],C-Q)).x,y:O.y,alpha:O.alpha};Q+=j,B=+F[5],P=+F[6]}F.shift()}return O=(O=T?Q:f(B,P,F[0],F[1],F[2],F[3],F[4],F[5],1)).alpha?{x:O.x,y:O.y,alpha:O.alpha}:O}function m(E){var C=[],T=0,B=0,P=0,F=0,j=0;if(E){E[0][0]==="M"&&(P=T=+E[0][1],F=B=+E[0][2],j++,C[0]=["M",T,B]);for(var O,Q,z=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",k=j,W=E.length;k<W;k++){if(C.push(O=[]),(Q=E[k])[0]!==String.prototype.toUpperCase.call(Q[0]))switch(O[0]=String.prototype.toUpperCase.call(Q[0]),O[0]){case"A":O[1]=Q[1],O[2]=Q[2],O[3]=Q[3],O[4]=Q[4],O[5]=Q[5],O[6]=+(Q[6]+T),O[7]=+(Q[7]+B);break;case"V":O[1]=+Q[1]+B;break;case"H":O[1]=+Q[1]+T;break;case"R":for(var Y,te=2,R=(Y=[T,B].concat(Q.slice(1))).length;te<R;te++)Y[te]=+Y[te]+T,Y[++te]=+Y[te]+B;C.pop(),C=C.concat(v(Y,z));break;case"M":P=+Q[1]+T,F=+Q[2]+B;break;default:for(var L=1,D=Q.length;L<D;L++)O[L]=+Q[L]+(L%2?T:B)}else if(Q[0]==="R")Y=[T,B].concat(Q.slice(1)),C.pop(),C=C.concat(v(Y,z)),O=["R"].concat(Q.slice(-2));else for(var V=0,q=Q.length;V<q;V++)O[V]=Q[V];switch(O[0]){case"Z":T=P,B=F;break;case"H":T=O[1];break;case"V":B=O[1];break;case"M":P=O[O.length-2],F=O[O.length-1];break;default:T=O[O.length-2],B=O[O.length-1]}}}return C}function b(E,C,T,B,q,fe,Z,O,Q,z){function k(je,Se,re){return{x:je*Math.cos(re)-Se*Math.sin(re),y:je*Math.sin(re)+Se*Math.cos(re)}}var W,D=Math.PI,V=120*D/180,Y=D/180*(+q||0),te=[],R=(z?(ge=z[0],W=z[1],pe=z[2],Ae=z[3]):(E=(se=k(E,C,-Y)).x,C=se.y,1<(R=(L=(E-(O=(se=k(O,Q,-Y)).x))/2)*L/(T*T)+(se=(C-(Q=se.y))/2)*se/(B*B))&&(T*=R=Math.sqrt(R),B*=R),R=T*T,be=B*B,pe=(fe=(fe===Z?-1:1)*Math.sqrt(Math.abs((R*be-R*se*se-be*L*L)/(R*se*se+be*L*L))))*T*se/B+(E+O)/2,Ae=fe*-B*L/T+(C+Q)/2,ge=Math.asin(((C-Ae)/B).toFixed(9)),W=Math.asin(((Q-Ae)/B).toFixed(9)),(ge=E<pe?D-ge:ge)<0&&(ge=2*D+ge),(W=O<pe?D-W:W)<0&&(W=2*D+W),Z&&W<ge&&(ge-=2*D),!Z&&ge<W&&(W-=2*D)),W-ge),L=(Math.abs(R)>V&&(be=W,se=O,fe=Q,W=ge+V*(Z&&ge<W?1:-1),te=b(O=pe+T*Math.cos(W),Q=Ae+B*Math.sin(W),T,B,q,0,Z,se,fe,[W,be,pe,Ae])),R=W-ge,Math.cos(ge)),D=Math.sin(ge),V=Math.cos(W),q=Math.sin(W),Z=Math.tan(R/4),se=4/3*T*Z,fe=4/3*B*Z,be=[E,C],pe=[E+se*D,C-fe*L],Ae=[O+se*q,Q-fe*V],ge=[O,Q];if(pe[0]=2*be[0]-pe[0],pe[1]=2*be[1]-pe[1],z)return[pe,Ae,ge].concat(te);for(var ce=[],de=0,oe=(te=[pe,Ae,ge].concat(te).join().split(",")).length;de<oe;de++)ce[de]=de%2?k(te[de-1],te[de],Y).y:k(te[de],te[de+1],Y).x;return ce}function v(E,C){for(var T=[],B=0,P=E.length;B<P-2*!C;B+=2){var F=[{x:+E[B-2],y:+E[B-1]},{x:+E[B],y:+E[B+1]},{x:+E[B+2],y:+E[B+3]},{x:+E[B+4],y:+E[B+5]}];C?B?P-4===B?F[3]={x:+E[0],y:+E[1]}:P-2===B&&(F[2]={x:+E[0],y:+E[1]},F[3]={x:+E[2],y:+E[3]}):F[0]={x:+E[P-2],y:+E[P-1]}:P-4===B?F[3]=F[2]:B||(F[0]={x:+E[B],y:+E[B+1]}),T.push(["C",(-F[0].x+6*F[1].x+F[2].x)/6,(-F[0].y+6*F[1].y+F[2].y)/6,(F[1].x+6*F[2].x-F[3].x)/6,(F[1].y+6*F[2].y-F[3].y)/6,F[2].x,F[2].y])}return T}function w(E,C,T,B){return[E,C,T,B,T,B]}function _(E,C,T,B,P,F){return[1/3*E+2/3*T,1/3*C+2/3*B,1/3*P+2/3*T,1/3*F+2/3*B,P,F]}function M(E,C,T,B,P,F,j,O,Q){for(var z=(Q=1<(Q=Q??1)?1:Q<0?0:Q)/2,k=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],W=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],te=0;te<12;te++){var L=z*k[te]+z,R=x(L,E,T,P,j),L=x(L,C,B,F,O);W+=Y[te]*Math.sqrt(R*R+L*L)}return z*W}function x(E,C,T,B,P){return E*(E*(-3*C+9*T-9*B+3*P)+6*C-12*T+6*B)-3*C+3*T}A.default.Font=function(){function E(B){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");this.parent=B,this.cache={},this.font=void 0}var C,T;return C=E,(T=[{key:"textBounds",value:function(B){var P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,F=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,z=3<arguments.length?arguments[3]:void 0,j=4<arguments.length?arguments[4]:void 0,O=j&&j.renderer&&j.renderer._pInst||this.parent,Q=O._renderer.drawingContext,z=(Q.textAlign||l.LEFT,Q.textBaseline||l.BASELINE,z||O._renderer._textSize);if(!se){for(var k=[],W=[],Y=[],te=(Y[0]=[],[]),R=this._scale(z),L=O._renderer.textLeading(),D=0,V=(this.font.forEachGlyph(B,P,F,z,j,function(pe,Ae,ge,ce){var de=pe.getMetrics();pe.index===0||pe.index===10?Y[D+=1]=[]:(Y[D].push(Ae+de.xMin*R),Y[D].push(Ae+de.xMax*R),te.push(ge+D*L+-de.yMin*R),te.push(ge+D*L+-de.yMax*R))}),0<Y[D].length&&(k[D]=Math.min.apply(null,Y[D]),W[D]=Math.max.apply(null,Y[D])),0),q=0;q<=D;q++){k[q]=Math.min.apply(null,Y[q]),W[q]=Math.max.apply(null,Y[q]);var Z=W[q]-k[q];V<Z&&(V=Z)}var Q=Math.min.apply(null,k),se={x:Q,y:F=Math.min.apply(null,te),h:Math.max.apply(null,te)-F,w:V,advance:Q-P},z=this._handleAlignment(O._renderer,B,se.x,se.y,se.w+se.advance);se.x=z.x,se.y=z.y}return se}},{key:"textToPoints",value:function(B,P,F,j,O){var Q=P,z=[],k=B.split(/\r?\n|\r|\n/g);j=j||this.parent._renderer._textSize;for(var W,Y,te,R=0;R<k.length;R++){var L=0;P=Q;for(var D=(D=k[R]).replace("	","  "),V=this._getGlyphs(D),q=0;q<V.length;q++){if(Y=D,!((te=V)[W=q].name&&te[W].name==="space"||Y.length===te.length&&Y[W]===" "))for(var Z=function(pe){for(var Ae,ge=[],ce=0;ce<pe.length;ce++)pe[ce].type==="M"&&(Ae&&ge.push(Ae),Ae=[]),Ae.push(function(de){var oe=[de.type];return de.type==="M"||de.type==="L"?oe.push(de.x,de.y):de.type==="C"?oe.push(de.x1,de.y1,de.x2,de.y2,de.x,de.y):de.type==="Q"&&oe.push(de.x1,de.y1,de.x,de.y),oe}(pe[ce]));return ge.push(Ae),ge}(V[q].getPath(P,F,j).commands),se=0;se<Z.length;se++)for(var fe=function(pe,Ae){for(var Ae=function(Se,re){if(p(Se)!=="object")Se=re;else for(var ie in re)Se[ie]===void 0&&(Se[ie]=re[ie]);return Se}(Ae,{sampleFactor:.1,simplifyThreshold:0}),ge=y(pe,0,1),ce=ge/(ge*Ae.sampleFactor),de=[],oe=0;oe<ge;oe+=ce)de.push(y(pe,oe));return Ae.simplifyThreshold&&function(je){for(var Se=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,re=0,ie=je.length-1;3<je.length&&0<=ie;--ie)h(c(je,ie-1),c(je,ie),c(je,ie+1),Se)&&(je.splice(ie%je.length,1),re++)}(de,Ae.simplifyThreshold),de}(Z[se],O),be=0;be<fe.length;be++)fe[be].x+=L,z.push(fe[be]);L+=V[q].advanceWidth*this._scale(j)}F+=this.parent._renderer._textLeading}return z}},{key:"_getGlyphs",value:function(B){return this.font.stringToGlyphs(B)}},{key:"_getPath",value:function(B,Q,F,j){var O=(j&&j.renderer&&j.renderer._pInst||this.parent)._renderer,Q=this._handleAlignment(O,B,Q,F);return this.font.getPath(B,Q.x,Q.y,O._textSize,j)}},{key:"_getPathData",value:function(B,P,F,j){var O=3;return typeof B=="string"&&2<arguments.length?B=this._getPath(B,P,F,j):p(P)==="object"&&(j=P),j&&typeof j.decimals=="number"&&(O=j.decimals),B.toPathData(O)}},{key:"_getSVG",value:function(B,P,F,j){var O=3;return typeof B=="string"&&2<arguments.length?B=this._getPath(B,P,F,j):p(P)==="object"&&(j=P),j&&(typeof j.decimals=="number"&&(O=j.decimals),typeof j.strokeWidth=="number"&&(B.strokeWidth=j.strokeWidth),j.fill!==void 0&&(B.fill=j.fill),j.stroke!==void 0&&(B.stroke=j.stroke)),B.toSVG(O)}},{key:"_renderPath",value:function(z,W,Y,j){var O=j&&j.renderer||this.parent._renderer,Q=O.drawingContext,z=(p(z)==="object"&&z.commands?z:this._getPath(z,W,Y,j)).commands,k=(Q.beginPath(),!0),W=!1,Y=void 0;try{for(var te,R=z[Symbol.iterator]();!(k=(te=R.next()).done);k=!0){var L=te.value;L.type==="M"?Q.moveTo(L.x,L.y):L.type==="L"?Q.lineTo(L.x,L.y):L.type==="C"?Q.bezierCurveTo(L.x1,L.y1,L.x2,L.y2,L.x,L.y):L.type==="Q"?Q.quadraticCurveTo(L.x1,L.y1,L.x,L.y):L.type==="Z"&&Q.closePath()}}catch(D){W=!0,Y=D}finally{try{k||R.return==null||R.return()}finally{if(W)throw Y}}return O._doStroke&&O._strokeSet&&!O._clipping&&Q.stroke(),O._doFill&&!O._clipping&&(O._fillSet||O._setFill(l._DEFAULT_TEXT_FILL),Q.fill()),this}},{key:"_textWidth",value:function(B,P){return this.font.getAdvanceWidth(B,P)}},{key:"_textAscent",value:function(B){return this.font.ascender*this._scale(B)}},{key:"_textDescent",value:function(B){return-this.font.descender*this._scale(B)}},{key:"_scale",value:function(B){return 1/this.font.unitsPerEm*(B||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(B,P,F,j,O){var Q=B._textSize;switch(O===void 0&&(O=this._textWidth(P,Q)),B._textAlign){case l.CENTER:F-=O/2;break;case l.RIGHT:F-=O}switch(B._textBaseline){case l.TOP:j+=this._textAscent(Q);break;case l.CENTER:j+=this._textAscent(Q)/2;break;case l.BOTTOM:j-=this._textDescent(Q)}return{x:F,y:j}}}])&&d(C.prototype,T),E}(),t=A.default,s.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.function.name":168,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],314:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(a,A){return a.push(A),a},t.default.prototype.arrayCopy=function(a,A,l,u,p){var d,c;a=p!==void 0?(c=Math.min(p,a.length),d=u,a.slice(A,c+A)):(c=l!==void 0?(c=l,Math.min(c,a.length)):a.length,l=A,a.slice(d=0,c)),Array.prototype.splice.apply(l,[d,c].concat(a))},t.default.prototype.concat=function(a,A){return a.concat(A)},t.default.prototype.reverse=function(a){return a.reverse()},t.default.prototype.shorten=function(a){return a.pop(),a},t.default.prototype.shuffle=function(a,A){for(var l,u,p=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(a),d=(a=A||p?a:a.slice()).length;1<d;)l=this.random(0,1)*d|0,u=a[--d],a[d]=a[l],a[l]=u;return a},t.default.prototype.sort=function(a,u){var l=u?a.slice(0,Math.min(u,a.length)):a,u=u?a.slice(Math.min(u,a.length)):[];return(l=typeof l[0]=="string"?l.sort():l.sort(function(p,d){return p-d})).concat(u)},t.default.prototype.splice=function(a,A,l){return Array.prototype.splice.apply(a,[l,0].concat(A)),a},t.default.prototype.subset=function(a,A,l){return l!==void 0?a.slice(A,A+l):a.slice(A,a.length)},t=t.default,s.default=t},{"../core/main":275,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182}],315:[function(t,o,s){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.float=function(A){return A instanceof Array?A.map(parseFloat):parseFloat(A)},a.default.prototype.int=function(A){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return A===1/0||A==="Infinity"?1/0:A===-1/0||A==="-Infinity"?-1/0:typeof A=="string"?parseInt(A,l):typeof A=="number"?0|A:typeof A=="boolean"?A?1:0:A instanceof Array?A.map(function(u){return a.default.prototype.int(u,l)}):void 0},a.default.prototype.str=function(A){return A instanceof Array?A.map(a.default.prototype.str):String(A)},a.default.prototype.boolean=function(A){return typeof A=="number"?A!==0:typeof A=="string"?A.toLowerCase()==="true":typeof A=="boolean"?A:A instanceof Array?A.map(a.default.prototype.boolean):void 0},a.default.prototype.byte=function(A){return A=a.default.prototype.int(A,10),typeof A=="number"?(A+128)%256-128:A instanceof Array?A.map(a.default.prototype.byte):void 0},a.default.prototype.char=function(A){return typeof A!="number"||isNaN(A)?A instanceof Array?A.map(a.default.prototype.char):typeof A=="string"?a.default.prototype.char(parseInt(A,10)):void 0:String.fromCharCode(A)},a.default.prototype.unchar=function(A){return typeof A=="string"&&A.length===1?A.charCodeAt(0):A instanceof Array?A.map(a.default.prototype.unchar):void 0},a.default.prototype.hex=function(A,l){if(l=l??8,A instanceof Array)return A.map(function(p){return a.default.prototype.hex(p,l)});if(A===1/0||A===-1/0)return(A===1/0?"F":"0").repeat(l);if(typeof A=="number"){A<0&&(A=4294967295+A+1);for(var u=Number(A).toString(16).toUpperCase();u.length<l;)u="0".concat(u);return u=u.length>=l?u.substring(u.length-l,u.length):u}},a.default.prototype.unhex=function(A){return A instanceof Array?A.map(a.default.prototype.unhex):parseInt("0x".concat(A),16)},t=a.default,s.default=t},{"../core/main":275,"core-js/modules/es.array.map":164,"core-js/modules/es.number.constructor":173,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.repeat":195}],316:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(c=t("../core/main"))&&c.__esModule?c:{default:c};function A(h,f){return function(g){if(Array.isArray(g))return g}(h)||function(g,y){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var m=[],b=!0,v=!1,w=void 0;try{for(var _,M=g[Symbol.iterator]();!(b=(_=M.next()).done)&&(m.push(_.value),!y||m.length!==y);b=!0);}catch(x){v=!0,w=x}finally{try{b||M.return==null||M.return()}finally{if(v)throw w}}return m}}(h,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(h,f,g){var m=A(h.toString().split("."),2),y=m[0],m=m[1];return g===void 0?(y=y.padStart(f,"0"),m?y+"."+m:y):(y=(h=A(h.toFixed(g).toString().split("."),2))[0],m=h[1],y=y.padStart(f,"0"),m===void 0?y:y+"."+m)}function u(m,f){var g=(m=m.toString()).indexOf("."),y=g!==-1?m.substring(g):"",m=(m=g!==-1?m.substring(0,g):m).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(f===0)y="";else if(f!==void 0)if(f>y.length)for(var b=f-(y+=g===-1?".":"").length+1,v=0;v<b;v++)y+="0";else y=y.substring(0,f+1);return m+y}function p(h){return 0<parseFloat(h)?"+".concat(h.toString()):h.toString()}function d(h){return 0<=parseFloat(h)?" ".concat(h.toString()):h.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.join=function(h,f){return a.default._validateParameters("join",arguments),h.join(f)},a.default.prototype.match=function(h,f){return a.default._validateParameters("match",arguments),h.match(f)},a.default.prototype.matchAll=function(h,f){a.default._validateParameters("matchAll",arguments);for(var g=new RegExp(f,"g"),y=g.exec(h),m=[];y!==null;)m.push(y),y=g.exec(h);return m},a.default.prototype.nf=function(h,f,g){return a.default._validateParameters("nf",arguments),h instanceof Array?h.map(function(y){return l(y,f,g)}):Object.prototype.toString.call(h)==="[object Arguments]"?h.length===3?this.nf(h[0],h[1],h[2]):h.length===2?this.nf(h[0],h[1]):this.nf(h[0]):l(h,f,g)},a.default.prototype.nfc=function(h,f){return a.default._validateParameters("nfc",arguments),h instanceof Array?h.map(function(g){return u(g,f)}):u(h,f)},a.default.prototype.nfp=function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];a.default._validateParameters("nfp",f);var y=a.default.prototype.nf.apply(this,f);return y instanceof Array?y.map(p):p(y)},a.default.prototype.nfs=function(){for(var h=arguments.length,f=new Array(h),g=0;g<h;g++)f[g]=arguments[g];a.default._validateParameters("nfs",f);var y=a.default.prototype.nf.apply(this,f);return y instanceof Array?y.map(d):d(y)},a.default.prototype.split=function(h,f){return a.default._validateParameters("split",arguments),h.split(f)},a.default.prototype.splitTokens=function(h,f){var g,y;return a.default._validateParameters("splitTokens",arguments),y=f!==void 0?(y=/\]/g.exec(f=f),(g=/\[/g.exec(f))&&y?(f=f.slice(0,y.index)+f.slice(y.index+1),g=/\[/g.exec(f),f=f.slice(0,g.index)+f.slice(g.index+1),new RegExp("[\\[".concat(f,"\\]]"),"g")):y?(f=f.slice(0,y.index)+f.slice(y.index+1),new RegExp("[".concat(f,"\\]]"),"g")):g?(f=f.slice(0,g.index)+f.slice(g.index+1),new RegExp("[".concat(f,"\\[]"),"g")):new RegExp("[".concat(f,"]"),"g")):/\s/g,h.split(y).filter(function(m){return m})},a.default.prototype.trim=function(h){return a.default._validateParameters("trim",arguments),h instanceof Array?h.map(this.trim):h.trim()};var c=a.default;s.default=c},{"../core/friendly_errors/fes_core":266,"../core/friendly_errors/file_errors":267,"../core/friendly_errors/validate_params":270,"../core/main":275,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.constructor":186,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.match":193,"core-js/modules/es.string.pad-start":194,"core-js/modules/es.string.replace":196,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],317:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,s.default=t},{"../core/main":275}],318:[function(t,o,s){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(h)}function A(h){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(f){return a(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":a(f)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(c=t("../core/main"))&&c.__esModule?c:{default:c},u=(t("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||A(h)!=="object"&&typeof h!="function")return{default:h};var f=p();if(f&&f.has(h))return f.get(h);var g,y={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var b;Object.prototype.hasOwnProperty.call(h,g)&&((b=m?Object.getOwnPropertyDescriptor(h,g):null)&&(b.get||b.set)?Object.defineProperty(y,g,b):y[g]=h[g])}return y.default=h,f&&f.set(h,y),y}(t("../core/constants")));function p(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,p=function(){return h},h)}l.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},l.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},l.default.prototype.buildGeometry=function(h){return this._renderer.buildGeometry(h)},l.default.prototype.freeGeometry=function(h){this._renderer._freeBuffers(h.gid)},l.default.prototype.plane=function(h,f,g,y){this._assert3d("plane"),l.default._validateParameters("plane",arguments),h===void 0&&(h=50),f===void 0&&(f=h),y===void 0&&(y=1);var m,b="plane|".concat(g=g===void 0?1:g,"|").concat(y);return this._renderer.geometryInHash(b)||((m=new l.default.Geometry(g,y,function(){for(var v,w,_=0;_<=this.detailY;_++)for(var M=_/this.detailY,x=0;x<=this.detailX;x++)v=x/this.detailX,w=new l.default.Vector(v-.5,M-.5,0),this.vertices.push(w),this.uvs.push(v,M)})).computeFaces().computeNormals(),g<=1&&y<=1?m._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(b,m)),this._renderer.drawBuffersScaled(b,h,f,1),this},l.default.prototype.box=function(h,f,g,y,m){this._assert3d("box"),l.default._validateParameters("box",arguments),h===void 0&&(h=50),f===void 0&&(f=h),g===void 0&&(g=f);var b,v=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,v=(m===void 0&&(m=v?1:4),"box|".concat(y=y===void 0?v?1:4:y,"|").concat(m));return this._renderer.geometryInHash(v)||((b=new l.default.Geometry(y,m,function(){var w=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,M){for(var M=4*M,x=0;x<4;x++){var E=_[x],E=new l.default.Vector((2*(1&E)-1)/2,((2&E)-1)/2,((4&E)/2-1)/2);w.vertices.push(E),w.uvs.push(1&x,(2&x)/2)}w.faces.push([M,1+M,2+M]),w.faces.push([2+M,1+M,3+M])})})).computeNormals(),y<=4&&m<=4?b._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(v,b)),this._renderer.drawBuffersScaled(v,h,f,g),this},l.default.prototype.sphere=function(h,f,g){return this._assert3d("sphere"),l.default._validateParameters("sphere",arguments),this.ellipsoid(h=h===void 0?50:h,h,h,f=f===void 0?24:f,g=g===void 0?16:g),this};function d(h,f,g,y,m,b,v){h=h<=0?1:h,f=f<0?0:f,g=g<=0?h:g,y=y<3?3:y;for(var w,_,M=(b=b===void 0||b)?-2:0,x=(m=m<1?1:m)+((v=v===void 0?f!==0:v)?2:0),E=Math.atan2(h-f,g),C=Math.sin(E),T=Math.cos(E),B=M;B<=x;++B){var P=B/m,F=g*P,j=void 0,j=B<0?(P=F=0,h):m<B?(F=g,P=1,f):h+(f-h)*P;for(B!==-2&&B!==m+2||(j=0),F-=g/2,w=0;w<y;++w){var O=w/(y-1),z=2*Math.PI*O,Q=Math.sin(z),z=Math.cos(z),k=(this.vertices.push(new l.default.Vector(Q*j,F,z*j)),void 0),k=B<0?new l.default.Vector(0,-1,0):m<B&&f?new l.default.Vector(0,1,0):new l.default.Vector(Q*T,C,z*T);this.vertexNormals.push(k),this.uvs.push(O,P)}}var W=0;if(b){for(_=0;_<y;++_)this.faces.push([W+_,W+y+(_+1)%y,W+y+_]);W+=2*y}for(B=0;B<m;++B){for(w=0;w<y;++w){var Y=(w+1)%y;this.faces.push([W+w,W+Y,W+y+Y]),this.faces.push([W+w,W+y+Y,W+y+w])}W+=y}if(v)for(W+=y,w=0;w<y;++w)this.faces.push([W+w,W+(w+1)%y,W+y])}l.default.prototype.cylinder=function(h,f,g,y,m,b){this._assert3d("cylinder"),l.default._validateParameters("cylinder",arguments),h===void 0&&(h=50),f===void 0&&(f=h),y===void 0&&(y=1),b===void 0&&(b=!0),m===void 0&&(m=!0);var v,w="cylinder|".concat(g=g===void 0?24:g,"|").concat(y,"|").concat(m,"|").concat(b);return this._renderer.geometryInHash(w)||(v=new l.default.Geometry(g,y),d.call(v,1,1,1,g,y,m,b),g<=24&&y<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,v)),this._renderer.drawBuffersScaled(w,h,f,h),this},l.default.prototype.cone=function(h,f,g,y,m){this._assert3d("cone"),l.default._validateParameters("cone",arguments),h===void 0&&(h=50),f===void 0&&(f=h),y===void 0&&(y=1),m===void 0&&(m=!0);var b,v="cone|".concat(g=g===void 0?24:g,"|").concat(y,"|").concat(m);return this._renderer.geometryInHash(v)||(b=new l.default.Geometry(g,y),d.call(b,1,0,1,g,y,m,!1),g<=24&&y<=16?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,b)),this._renderer.drawBuffersScaled(v,h,f,h),this},l.default.prototype.ellipsoid=function(h,f,g,y,m){this._assert3d("ellipsoid"),l.default._validateParameters("ellipsoid",arguments),h===void 0&&(h=50),f===void 0&&(f=h),g===void 0&&(g=h),m===void 0&&(m=16);var b,v="ellipsoid|".concat(y=y===void 0?24:y,"|").concat(m);return this._renderer.geometryInHash(v)||((b=new l.default.Geometry(y,m,function(){for(var w=0;w<=this.detailY;w++)for(var _=w/this.detailY,M=Math.PI*_-Math.PI/2,x=Math.cos(M),E=Math.sin(M),C=0;C<=this.detailX;C++){var T=C/this.detailX,P=2*Math.PI*T,B=Math.cos(P),P=Math.sin(P),P=new l.default.Vector(x*P,E,x*B);this.vertices.push(P),this.vertexNormals.push(P),this.uvs.push(T,_)}})).computeFaces(),y<=24&&m<=24?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(v,b)),this._renderer.drawBuffersScaled(v,h,f,g),this},l.default.prototype.torus=function(h,v,g,y){if(this._assert3d("torus"),l.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(v===void 0)v=10;else if(!v)return;g===void 0&&(g=24),y===void 0&&(y=16);var m,b=(v/h).toPrecision(4),v="torus|".concat(b,"|").concat(g,"|").concat(y);return this._renderer.geometryInHash(v)||((m=new l.default.Geometry(g,y,function(){for(var w=0;w<=this.detailY;w++)for(var _=w/this.detailY,M=2*Math.PI*_,x=Math.cos(M),E=Math.sin(M),C=1+b*x,T=0;T<=this.detailX;T++){var B=T/this.detailX,P=2*Math.PI*B,j=Math.cos(P),P=Math.sin(P),F=new l.default.Vector(C*j,C*P,b*E),j=new l.default.Vector(x*j,x*P,E);this.vertices.push(F),this.vertexNormals.push(j),this.uvs.push(B,_)}})).computeFaces(),g<=24&&y<=16?m._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(v,m)),this._renderer.drawBuffersScaled(v,h,h,h),this},l.default.RendererGL.prototype.point=function(h,f,g){var y=[];return y.push(new l.default.Vector(h,f,g=g===void 0?0:g)),this._drawPoints(y,this.immediateMode.buffers.point),this},l.default.RendererGL.prototype.triangle=function(v){var f=v[0],g=v[1],y=v[2],m=v[3],b=v[4],v=v[5],w=(this.geometryInHash("tri")||((w=new l.default.Geometry(1,1,function(){var x=[];x.push(new l.default.Vector(0,0,0)),x.push(new l.default.Vector(1,0,0)),x.push(new l.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=x,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),w.computeNormals(),this.createBuffers("tri",w)),this.uMVMatrix.copy());try{var _=Math.sign(f*m-y*g+y*v-b*m+b*g-f*v),M=new l.default.Matrix([y-f,m-g,0,0,b-f,v-g,0,0,0,0,_,0,f,g,0,1]).mult(this.uMVMatrix);this.uMVMatrix=M,this.drawBuffers("tri")}finally{this.uMVMatrix=w}return this},l.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,u.TWO_PI,u.OPEN,h[4])},l.default.RendererGL.prototype.arc=function(h){var f,g=arguments[1],y=arguments[2],m=arguments[3],b=arguments[4],v=arguments[5],w=arguments[6],_=arguments[7]||25,M=(Math.abs(v-b)>=u.TWO_PI?"".concat(x="ellipse","|"):"".concat(x="arc","|").concat(b,"|").concat(v,"|").concat(w,"|")).concat(_,"|"),x=(this.geometryInHash(M)||((f=new l.default.Geometry(_,1,function(){if(b.toFixed(10)!==v.toFixed(10)){w!==u.PIE&&w!==void 0||(this.vertices.push(new l.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=_;E++){var T=(v-b)*(E/_)+b,C=.5+Math.cos(T)/2,T=.5+Math.sin(T)/2;this.vertices.push(new l.default.Vector(C,T,0)),this.uvs.push([C,T]),E<_-1&&(this.faces.push([0,E+1,E+2]),this.edges.push([E+1,E+2]))}switch(w){case u.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case u.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case u.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?f._edgesToVertices(f):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(x," with more than 50 detail")),this.createBuffers(M,f)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,g,0]),this.uMVMatrix.scale(y,m,1),this.drawBuffers(M)}finally{this.uMVMatrix=x}return this},l.default.RendererGL.prototype.rect=function(h){var f=h[0],g=h[1],y=h[2],m=h[3];if(h[4]===void 0){var w=this._pInst._glAttributes.perPixelLighting,b=h[4]||(w?1:24),v=h[5]||(w?1:16),w="rect|".concat(b,"|").concat(v),_=(this.geometryInHash(w)||((_=new l.default.Geometry(b,v,function(){for(var k=0;k<=this.detailY;k++)for(var W=k/this.detailY,Y=0;Y<=this.detailX;Y++){var te=Y/this.detailX,R=new l.default.Vector(te,W,0);this.vertices.push(R),this.uvs.push(te,W)}0<b&&0<v&&(this.edges=[[0,b],[b,(b+1)*(v+1)-1],[(b+1)*(v+1)-1,(b+1)*v],[(b+1)*v,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(w,_)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([f,g,0]),this.uMVMatrix.scale(y,m,1),this.drawBuffers(w)}finally{this.uMVMatrix=_}}else{var w=h[4],_=h[5]===void 0?w:h[5],M=h[6]===void 0?_:h[6],h=h[7]===void 0?M:h[7],P=y,x=m,T=((P+=f)<f&&(T=f,f=P,P=T),(x+=g)<g&&(T=g,g=x,x=T),Math.min((P-f)/2,(x-g)/2)),E=(T<w&&(w=T),T<_&&(_=T),T<M&&(M=T),T<h&&(h=T),f),C=g,T=P,f=x,B=(this.beginShape(),_!==0?(this.vertex(T-_,C),this.quadraticVertex(T,C,T,C+_)):this.vertex(T,C),M!==0?(this.vertex(T,f-M),this.quadraticVertex(T,f,T-M,f)):this.vertex(T,f),h!==0?(this.vertex(E+h,f),this.quadraticVertex(E,f,E,f-h)):this.vertex(E,f),w!==0?(this.vertex(E,C+w),this.quadraticVertex(E,C,E+w,C)):this.vertex(E,C),!(this.immediateMode.geometry.uvs.length=0)),g=!1,P=void 0;try{for(var F,j=this.immediateMode.geometry.vertices[Symbol.iterator]();!(B=(F=j.next()).done);B=!0){var O=F.value,Q=(O.x-E)/y,z=(O.y-C)/m;this.immediateMode.geometry.uvs.push(Q,z)}}catch(L){g=!0,P=L}finally{try{B||j.return==null||j.return()}finally{if(g)throw P}}this.endShape(u.CLOSE)}return this},l.default.RendererGL.prototype.quad=function(h,f,g,y,m,b,v,w,_,M,x,E,C,T){C===void 0&&(C=2),T===void 0&&(T=2);var B="quad|".concat(h,"|").concat(f,"|").concat(g,"|").concat(y,"|").concat(m,"|").concat(b,"|").concat(v,"|").concat(w,"|").concat(_,"|").concat(M,"|").concat(x,"|").concat(E,"|").concat(C,"|").concat(T);if(!this.geometryInHash(B)){var P=new l.default.Geometry(C,T,function(){for(var Y=1/(this.detailX-1),te=1/(this.detailY-1),R=0;R<this.detailY;R++)for(var L=0;L<this.detailX;L++){var D=L*Y,V=R*te;this.vertices.push(new l.default.Vector((1-D)*((1-V)*h+V*M)+D*((1-V)*y+V*v),(1-D)*((1-V)*f+V*x)+D*((1-V)*m+V*w),(1-D)*((1-V)*g+V*E)+D*((1-V)*b+V*_))),this.uvs.push([D,V])}});P.faces=[];for(var F=0;F<T-1;F++)for(var j=0;j<C-1;j++){var O=j+F*C,Q=j+1+(F+1)*C,z=j+(F+1)*C;P.faces.push([O,j+1+F*C,Q]),P.faces.push([O,Q,z])}P.computeNormals();for(var k=[P.edges.length=0,2,3,1],W=0;W<k.length;W++)P.edges.push([k[W],k[(W+1)%k.length]]);P._edgesToVertices(),this.createBuffers(B,P)}return this.drawBuffers(B),this},l.default.RendererGL.prototype.bezier=function(h,f,g,y,m,b,v,w,_,M,x,E){arguments.length===8&&(x=w,M=v,w=b,v=m,m=y,y=g,g=b=_=E=0);var C=this._pInst._bezierDetail||20;this.beginShape();for(var T=0;T<=C;T++){var B=Math.pow(1-T/C,3),P=T/C*3*Math.pow(1-T/C,2),F=3*Math.pow(T/C,2)*(1-T/C),j=Math.pow(T/C,3);this.vertex(h*B+y*P+v*F+M*j,f*B+m*P+w*F+x*j,g*B+b*P+_*F+E*j)}return this.endShape(),this},l.default.RendererGL.prototype.curve=function(h,f,g,y,m,b,v,w,_,M,x,E){arguments.length===8&&(M=v,x=w,v=m,w=y,m=y=g,g=b=_=E=0);var C=this._pInst._curveDetail;this.beginShape();for(var T=0;T<=C;T++){var B=.5*Math.pow(T/C,3),P=.5*Math.pow(T/C,2),F=T/C*.5;this.vertex(B*(3*y-h-3*v+M)+P*(2*h-5*y+4*v-M)+F*(-h+v)+2*y*.5,B*(3*m-f-3*w+x)+P*(2*f-5*m+4*w-x)+F*(-f+w)+2*m*.5,B*(3*b-g-3*_+E)+P*(2*g-5*b+4*_-E)+F*(-g+_)+2*b*.5)}return this.endShape(),this},l.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(u.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},l.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,f,g,y,m,b,v=[],w=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,x=0,E=1,C=0;x<1;){if(b=parseFloat(x.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(b),E.toFixed(6)===M.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(x.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(b);break}x+=M,E-=M,++C}}for(var T=this._lookUpTableBezier.length,B=[],P=0;P<4;P++)B.push([]);B[0]=this.immediateMode.geometry.vertexColors.slice(-4),B[3]=this.curFillColor.slice();var F=[];for(P=0;P<4;P++)F.push([]);if(F[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),F[3]=this.curStrokeColor.slice(),_===6){this.isBezier=!0;var v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],j=Math.hypot(v[0]-v[1],w[0]-w[1]),Q=Math.hypot(v[1]-v[2],w[1]-w[2]),O=Math.hypot(v[2]-v[3],w[2]-w[3]),Q=j+Q+O;for(j/=Q,O/=Q,m=0;m<4;m++)B[1].push(B[0][m]*(1-j)+B[3][m]*j),B[2].push(B[0][m]*O+B[3][m]*(1-O)),F[1].push(F[0][m]*(1-j)+F[3][m]*j),F[2].push(F[0][m]*O+F[3][m]*(1-O));for(y=0;y<T;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=h=f=0;P<4;P++){for(m=0;m<4;m++)this.curFillColor[m]+=this._lookUpTableBezier[y][P]*B[P][m],this.curStrokeColor[m]+=this._lookUpTableBezier[y][P]*F[P][m];h+=v[P]*this._lookUpTableBezier[y][P],f+=w[P]*this._lookUpTableBezier[y][P]}this.vertex(h,f)}this.curFillColor=B[3],this.curStrokeColor=F[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(_===9){this.isBezier=!0,v=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var z=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],k=Math.hypot(v[0]-v[1],w[0]-w[1],z[0]-z[1]),Q=Math.hypot(v[1]-v[2],w[1]-w[2],z[1]-z[2]),W=Math.hypot(v[2]-v[3],w[2]-w[3],z[2]-z[3]),_=k+Q+W;for(k/=_,W/=_,m=0;m<4;m++)B[1].push(B[0][m]*(1-k)+B[3][m]*k),B[2].push(B[0][m]*W+B[3][m]*(1-W)),F[1].push(F[0][m]*(1-k)+F[3][m]*k),F[2].push(F[0][m]*W+F[3][m]*(1-W));for(y=0;y<T;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=h=f=g=0;P<4;P++){for(m=0;m<4;m++)this.curFillColor[m]+=this._lookUpTableBezier[y][P]*B[P][m],this.curStrokeColor[m]+=this._lookUpTableBezier[y][P]*F[P][m];h+=v[P]*this._lookUpTableBezier[y][P],f+=w[P]*this._lookUpTableBezier[y][P],g+=z[P]*this._lookUpTableBezier[y][P]}this.vertex(h,f,g)}this.curFillColor=B[3],this.curStrokeColor=F[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},l.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,f,g,y,m,b,v=[],w=[],_=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,x=0,E=1,C=0;x<1;){if(b=parseFloat(x.toFixed(6)),this._lookUpTableQuadratic[C]=this._quadraticCoefficients(b),E.toFixed(6)===M.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(x.toFixed(6)),++C,this._lookUpTableQuadratic[C]=this._quadraticCoefficients(b);break}x+=M,E-=M,++C}}for(var T=this._lookUpTableQuadratic.length,B=[],P=0;P<3;P++)B.push([]);B[0]=this.immediateMode.geometry.vertexColors.slice(-4),B[2]=this.curFillColor.slice();var F=[];for(P=0;P<3;P++)F.push([]);if(F[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),F[2]=this.curStrokeColor.slice(),_===4){this.isQuadratic=!0;var v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],j=Math.hypot(v[0]-v[1],w[0]-w[1]);for(j/=j+Math.hypot(v[1]-v[2],w[1]-w[2]),m=0;m<4;m++)B[1].push(B[0][m]*(1-j)+B[2][m]*j),F[1].push(F[0][m]*(1-j)+F[2][m]*j);for(y=0;y<T;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=h=f=0;P<3;P++){for(m=0;m<4;m++)this.curFillColor[m]+=this._lookUpTableQuadratic[y][P]*B[P][m],this.curStrokeColor[m]+=this._lookUpTableQuadratic[y][P]*F[P][m];h+=v[P]*this._lookUpTableQuadratic[y][P],f+=w[P]*this._lookUpTableQuadratic[y][P]}this.vertex(h,f)}this.curFillColor=B[2],this.curStrokeColor=F[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(_===6){this.isQuadratic=!0,v=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var O=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],Q=Math.hypot(v[0]-v[1],w[0]-w[1],O[0]-O[1]);for(Q/=Q+Math.hypot(v[1]-v[2],w[1]-w[2],O[1]-O[2]),m=0;m<4;m++)B[1].push(B[0][m]*(1-Q)+B[2][m]*Q),F[1].push(F[0][m]*(1-Q)+F[2][m]*Q);for(y=0;y<T;y++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],P=h=f=g=0;P<3;P++){for(m=0;m<4;m++)this.curFillColor[m]+=this._lookUpTableQuadratic[y][P]*B[P][m],this.curStrokeColor[m]+=this._lookUpTableQuadratic[y][P]*F[P][m];h+=v[P]*this._lookUpTableQuadratic[y][P],f+=w[P]*this._lookUpTableQuadratic[y][P],g+=O[P]*this._lookUpTableQuadratic[y][P]}this.vertex(h,f,g)}this.curFillColor=B[2],this.curStrokeColor=F[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},l.default.RendererGL.prototype.curveVertex=function(){var h,f,g,y,m,b,v=[],w=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,x=0,E=1,C=0;x<1;){if(b=parseFloat(x.toFixed(6)),this._lookUpTableBezier[C]=this._bezierCoefficients(b),E.toFixed(6)===M.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(x.toFixed(6)),++C,this._lookUpTableBezier[C]=this._bezierCoefficients(b);break}x+=M,E-=M,++C}}var T=this._lookUpTableBezier.length;if(_===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),m=0;m<T;m++)f=v[0]*this._lookUpTableBezier[m][0]+v[1]*this._lookUpTableBezier[m][1]+v[2]*this._lookUpTableBezier[m][2]+v[3]*this._lookUpTableBezier[m][3],g=w[0]*this._lookUpTableBezier[m][0]+w[1]*this._lookUpTableBezier[m][1]+w[2]*this._lookUpTableBezier[m][2]+w[3]*this._lookUpTableBezier[m][3],this.vertex(f,g);for(m=0;m<_;m++)this.immediateMode._curveVertex.shift()}}else if(_===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,v=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),m=0;m<T;m++)f=v[0]*this._lookUpTableBezier[m][0]+v[1]*this._lookUpTableBezier[m][1]+v[2]*this._lookUpTableBezier[m][2]+v[3]*this._lookUpTableBezier[m][3],g=w[0]*this._lookUpTableBezier[m][0]+w[1]*this._lookUpTableBezier[m][1]+w[2]*this._lookUpTableBezier[m][2]+w[3]*this._lookUpTableBezier[m][3],y=h[0]*this._lookUpTableBezier[m][0]+h[1]*this._lookUpTableBezier[m][1]+h[2]*this._lookUpTableBezier[m][2]+h[3]*this._lookUpTableBezier[m][3],this.vertex(f,g,y);for(m=0;m<_;m++)this.immediateMode._curveVertex.shift()}},l.default.RendererGL.prototype.image=function(h,E,g,C,m,b,v,w,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(u.NORMAL);var M=0,x=(E<=h.width&&(M=E/h.width),1),E=(E+C<=h.width&&(x=(E+C)/h.width),0),C=(g<=h.height&&(E=g/h.height),1);g+m<=h.height&&(C=(g+m)/h.height),this.beginShape(),this.vertex(b,v,0,M,E),this.vertex(b+w,v,0,x,E),this.vertex(b+w,v+_,0,x,C),this.vertex(b,v+_,0,M,C),this.endShape(u.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(u.REMOVE)};var c=l.default;s.default=c},{"../core/constants":264,"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.number.to-fixed":175,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],319:[function(t,o,s){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function A(f){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(f){if(f&&f.__esModule)return f;if(f===null||A(f)!=="object"&&typeof f!="function")return{default:f};var g=p();if(g&&g.has(f))return g.get(f);var y,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in f){var v;Object.prototype.hasOwnProperty.call(f,y)&&((v=b?Object.getOwnPropertyDescriptor(f,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=f[y])}return m.default=f,g&&g.set(f,m),m}(t("../core/constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function d(f){return function(g){if(Array.isArray(g)){for(var y=0,m=new Array(g.length);y<g.length;y++)m[y]=g[y];return m}}(f)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}var h=function(){function f(m){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");(this.renderer=m)._pInst.push(),this.identityMatrix=new l.default.Matrix,m.uMVMatrix=new l.default.Matrix,this.geometry=new l.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(f.nextGeometryId),f.nextGeometryId++,this.hasTransform=!1}var g,y;return g=f,(y=[{key:"transformVertices",value:function(m){var b=this;return this.hasTransform?m.map(function(v){return b.renderer.uMVMatrix.multiplyPoint(v)}):m}},{key:"transformNormals",value:function(m){var b=this;return this.hasTransform?m.map(function(v){return b.renderer.uNMatrix.multiplyVec3(v)}):m}},{key:"addGeometry",value:function(m){for(var b,v=this,w=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(M,x){return M===v.identityMatrix.mat4[x]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),_=((b=this.geometry.vertices).push.apply(b,d(this.transformVertices(m.vertices))),(b=this.geometry.vertexNormals).push.apply(b,d(this.transformNormals(m.vertexNormals))),(b=this.geometry.uvs).push.apply(b,d(m.uvs)),this.renderer._doFill&&(b=this.geometry.faces).push.apply(b,d(m.faces.map(function(M){return M.map(function(x){return x+w})}))),this.renderer._doStroke&&(b=this.geometry.edges).push.apply(b,d(m.edges.map(function(M){return M.map(function(x){return x+w})}))),d(m.vertexColors));_.length<4*m.vertices.length;)_.push.apply(_,d(this.renderer.curFillColor));(b=this.geometry.vertexColors).push.apply(b,d(_))}},{key:"addImmediate",value:function(){var m=this.renderer.immediateMode.geometry,b=this.renderer.immediateMode.shapeMode,v=[];if(this.renderer._doFill)if(b===u.TRIANGLE_STRIP||b===u.QUAD_STRIP)for(var w=2;w<m.vertices.length;w++)w%2==0?v.push([w,w-1,w-2]):v.push([w,w-2,w-1]);else if(b===u.TRIANGLE_FAN)for(var _=2;_<m.vertices.length;_++)v.push([0,_-1,_]);else for(var M=0;M<m.vertices.length;M+=3)v.push([M,M+1,M+2]);this.addGeometry(Object.assign({},m,{faces:v}))}},{key:"addRetained",value:function(m){this.addGeometry(m.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&c(g.prototype,y),f}();h.nextGeometryId=0,s.default=h},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.every":153,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],320:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var A=(d=t("../core/main"))&&d.__esModule?d:{default:d},l=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var h=u();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../core/constants"));function u(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,u=function(){return c},c)}function p(c){return(p=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}A.default.prototype.orbitControl=function(c,h,f,_){var y=this,m=(this._assert3d("orbitControl"),A.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);c===void 0&&(c=1),h===void 0&&(h=c),f===void 0&&(f=1),p(_)!=="object"&&(_={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var x=_.disableTouchActions;this.touchActionsDisabled===!0||x!==void 0&&!x||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var b,v,w,x=_.freeRotation,_=x!==void 0&&x,M=[],x=(this.touches.forEach(function(j){y._renderer.prevTouches.forEach(function(O){j.id===O.id&&(O={x:j.x,y:j.y,px:O.x,py:O.y},M.push(O))})}),this._renderer.prevTouches=this.touches,0),E=0,C=0,T=0,B=0,P=this.height<this.width?this.height:this.width,F=!1;return 0<M.length?(F=0<M[0].x&&M[0].x<this.width&&0<M[0].y&&M[0].y<this.height,M.length===1?(E=-c*((b=M[0]).x-b.px)/P,C=h*(b.y-b.py)/P):(b=M[0],v=M[1],x=-(Math.hypot(b.x-v.x,b.y-v.y)-Math.hypot(b.px-v.px,b.py-v.py))*f*4e-4,T=.5*(b.x+v.x)-.5*(b.px+v.px),B=.5*(b.y+v.y)-.5*(b.py+v.py)),0<this.touches.length?F&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(F=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(x=Math.sign(this._mouseWheelDeltaY)*f,x*=.01,this._mouseWheelDeltaY=0,F&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(E=-c*this.movedX/P,C=h*this.movedY/P):this.mouseButton===this.RIGHT&&(T=this.movedX,B=this.movedY*m.yScale),F&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),x!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=x),.001<Math.abs(this._renderer.zoomVelocity)?(_?m._orbitFree(0,0,this._renderer.zoomVelocity):m._orbit(0,0,this._renderer.zoomVelocity),m.projMatrix.mat4[15]!==0&&(m.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),m.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=m.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=m.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,E===0&&C===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*E,.6*C),1e-6<this._renderer.rotateVelocity.magSq()?(_?m._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):m._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),T===0&&B===0||!this._renderer.executeRotateAndMove||(b=2*T/this.width,v=2*-B/this.height,this._renderer.moveVelocity.add(.15*b,.15*v)),1e-6<this._renderer.moveVelocity.magSq()?(f=m._getLocalAxes(),c=m.eyeX-m.centerX,h=m.eyeY-m.centerY,P=m.eyeZ-m.centerZ,F=Math.sqrt(c*c+h*h+P*P),x=new A.default.Vector(m.centerX,m.centerY,m.centerZ),x=m.cameraMatrix.multiplyPoint(x),(x=this._renderer.uPMatrix.multiplyAndNormalizePoint(x)).x-=this._renderer.moveVelocity.x,x.y-=this._renderer.moveVelocity.y,C=(E=this._renderer.uPMatrix.mat4)[15]===0?(w=(E[8]+x.x)/E[0]*F,(E[9]+x.y)/E[5]*F):(w=(x.x-E[12])/E[0],(x.y-E[13])/E[5]),m.setPosition(m.eyeX+w*f.x[0]+C*f.y[0],m.eyeY+w*f.x[1]+C*f.y[1],m.eyeZ+w*f.x[2]+C*f.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},A.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];A.default._validateParameters("debugMode",h);for(var g=this._registeredMethods.post.length-1;0<=g;g--)this._registeredMethods.post[g].toString()!==this._grid().toString()&&this._registeredMethods.post[g].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(g,1);h[0]===l.GRID?this.registerMethod("post",this._grid.call(this,h[1],h[2],h[3],h[4],h[5])):h[0]===l.AXES?this.registerMethod("post",this._axesIcon.call(this,h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid.call(this,h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon.call(this,h[5],h[6],h[7],h[8])))},A.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},A.default.prototype._grid=function(c,h,f,g,y){c===void 0&&(c=this.width/2),h===void 0&&(h=Math.round(c/30)<4?4:Math.round(c/30)),f===void 0&&(f=0),g===void 0&&(g=0),y===void 0&&(y=0);var m=c/h,b=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var v=0;v<=h;v++)this.beginShape(this.LINES),this.vertex(-b+f,g,v*m-b+y),this.vertex(b+f,g,v*m-b+y),this.endShape();for(var w=0;w<=h;w++)this.beginShape(this.LINES),this.vertex(w*m-b+f,g,-b+y),this.vertex(w*m-b+f,g,b+y),this.endShape();this.pop()}},A.default.prototype._axesIcon=function(c,h,f,g){return c===void 0&&(c=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),f===void 0&&(f=h),g===void 0&&(g=h),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,f,g),this.vertex(h+c,f,g),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,f,g),this.vertex(h,f+c,g),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,f,g),this.vertex(h,f,g+c),this.endShape(),this.pop()}};var d=A.default;s.default=d},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.splice":167,"core-js/modules/es.math.hypot":170,"core-js/modules/es.math.sign":172,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],321:[function(t,o,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};a.default.prototype.ambientLight=function(A,l,u,p){this._assert3d("ambientLight"),a.default._validateParameters("ambientLight",arguments);var d=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(d._array[0],d._array[1],d._array[2]),this._renderer._enableLighting=!0,this},a.default.prototype.specularColor=function(A,l,u){this._assert3d("specularColor"),a.default._validateParameters("specularColor",arguments);var p=this.color.apply(this,arguments);return this._renderer.specularColors=[p._array[0],p._array[1],p._array[2]],this},a.default.prototype.directionalLight=function(A,y,g,p,d,c){this._assert3d("directionalLight"),a.default._validateParameters("directionalLight",arguments),A=A instanceof a.default.Color?A:this.color(A,y,g);var h,f,y=arguments[arguments.length-1],g=typeof y=="number"?(h=arguments[arguments.length-3],f=arguments[arguments.length-2],arguments[arguments.length-1]):(h=y.x,f=y.y,y.z),y=Math.sqrt(h*h+f*f+g*g);return this._renderer.directionalLightDirections.push(h/y,f/y,g/y),this._renderer.directionalLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.pointLight=function(A,g,y,p,d,c){this._assert3d("pointLight"),a.default._validateParameters("pointLight",arguments),A=A instanceof a.default.Color?A:this.color(A,g,y);var h,f,g=arguments[arguments.length-1],y=typeof g=="number"?(h=arguments[arguments.length-3],f=arguments[arguments.length-2],arguments[arguments.length-1]):(h=g.x,f=g.y,g.z);return this._renderer.pointLightPositions.push(h,f,y),this._renderer.pointLightDiffuseColors.push(A._array[0],A._array[1],A._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},a.default.prototype.imageLight=function(A){this._renderer.activeImageLight=A,this._renderer._enableLighting=!0},a.default.prototype.lights=function(){this._assert3d("lights");var A=this.color("rgb(128,128,128)");return this.ambientLight(A),this.directionalLight(A,0,0,-1),this},a.default.prototype.lightFalloff=function(A,l,u){return this._assert3d("lightFalloff"),a.default._validateParameters("lightFalloff",arguments),A<0&&(A=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),A===0&&l===0&&u===0&&(A=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=A,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=u,this},a.default.prototype.spotLight=function(A,l,u,p,d,c,h,f,g,y,m){this._assert3d("spotLight"),a.default._validateParameters("spotLight",arguments);var b,v,w,_=arguments.length;switch(_){case 11:case 10:b=this.color(A,l,u),v=new a.default.Vector(p,d,c),w=new a.default.Vector(h,f,g);break;case 9:A instanceof a.default.Color?(b=A,v=new a.default.Vector(l,u,p),w=new a.default.Vector(d,c,h),y=f,m=g):p instanceof a.default.Vector?(b=this.color(A,l,u),v=p,w=new a.default.Vector(d,c,h),y=f,m=g):h instanceof a.default.Vector?(b=this.color(A,l,u),v=new a.default.Vector(p,d,c),w=h,y=f,m=g):(b=this.color(A,l,u),v=new a.default.Vector(p,d,c),w=new a.default.Vector(h,f,g));break;case 8:y=(w=A instanceof a.default.Color?(b=A,v=new a.default.Vector(l,u,p),new a.default.Vector(d,c,h)):p instanceof a.default.Vector?(b=this.color(A,l,u),v=p,new a.default.Vector(d,c,h)):(b=this.color(A,l,u),v=new a.default.Vector(p,d,c),h),f);break;case 7:A instanceof a.default.Color&&l instanceof a.default.Vector?(b=A,v=l,w=new a.default.Vector(u,p,d),y=c,m=h):A instanceof a.default.Color&&d instanceof a.default.Vector?(b=A,v=new a.default.Vector(l,u,p),w=d,y=c,m=h):p instanceof a.default.Vector&&d instanceof a.default.Vector?(b=this.color(A,l,u),v=p,w=d,y=c,m=h):w=A instanceof a.default.Color?(b=A,v=new a.default.Vector(l,u,p),new a.default.Vector(d,c,h)):p instanceof a.default.Vector?(b=this.color(A,l,u),v=p,new a.default.Vector(d,c,h)):(b=this.color(A,l,u),v=new a.default.Vector(p,d,c),h);break;case 6:p instanceof a.default.Vector&&d instanceof a.default.Vector?(b=this.color(A,l,u),v=p,w=d,y=c):A instanceof a.default.Color&&d instanceof a.default.Vector?(b=A,v=new a.default.Vector(l,u,p),w=d,y=c):A instanceof a.default.Color&&l instanceof a.default.Vector&&(b=A,v=l,w=new a.default.Vector(u,p,d),y=c);break;case 5:A instanceof a.default.Color&&l instanceof a.default.Vector&&u instanceof a.default.Vector?(b=A,v=l,w=u,y=p,m=d):p instanceof a.default.Vector&&d instanceof a.default.Vector?(b=this.color(A,l,u),v=p,w=d):A instanceof a.default.Color&&d instanceof a.default.Vector?(b=A,v=new a.default.Vector(l,u,p),w=d):A instanceof a.default.Color&&l instanceof a.default.Vector&&(b=A,v=l,w=new a.default.Vector(u,p,d));break;case 4:b=A,v=l,w=u,y=p;break;case 3:b=A,v=l,w=u;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(v.x,v.y,v.z),w.normalize(),this._renderer.spotLightDirections.push(w.x,w.y,w.z),y===void 0&&(y=Math.PI/3),m!==void 0&&m<1?(m=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):m===void 0&&(m=100),y=this._renderer._pInst._toRadians(y),this._renderer.spotLightAngle.push(Math.cos(y)),this._renderer.spotLightConc.push(m),this._renderer._enableLighting=!0,this},a.default.prototype.noLights=function(){this._assert3d("noLights");for(var A=arguments.length,l=new Array(A),u=0;u<A;u++)l[u]=arguments[u];return a.default._validateParameters("noLights",l),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},t=a.default,s.default=t},{"../core/main":275}],322:[function(t,o,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(A=t("../core/main"))&&A.__esModule?A:{default:A};t("./p5.Geometry"),a.default.prototype.loadModel=function(l){a.default._validateParameters("loadModel",arguments);var u,p,d,c=l.slice(-4),h=(typeof arguments[1]=="boolean"?(u=arguments[1],p=arguments[2],d=arguments[3],arguments[4]!==void 0&&(c=arguments[4])):(u=!1,p=arguments[1],d=arguments[2],arguments[3]!==void 0&&(c=arguments[3])),new a.default.Geometry),f=(h.gid="".concat(l,"|").concat(u),this);return c.match(/\.stl$/i)?this.httpDo(l,"GET","arrayBuffer",function(g){(function(y,m){if(function(b){for(var v=new DataView(b),w=[115,111,108,105,100],_=0;_<5;_++)if(function(M,x,E){for(var C=0,T=M.length;C<T;C++)if(M[C]!==x.getUint8(E+C,!1))return;return 1}(w,v,_))return;return 1}(m))(function(b,v){for(var w,_,M,x,E,C,T,B=new DataView(v),P=B.getUint32(80,!0),F=!1,j=0;j<70;j++)B.getUint32(j,!1)===1129270351&&B.getUint8(j+4)===82&&B.getUint8(j+5)===61&&(F=!0,x=[],E=B.getUint8(j+6)/255,C=B.getUint8(j+7)/255,T=B.getUint8(j+8)/255);for(var O=0;O<P;O++){for(var Q,z=84+50*O,k=B.getFloat32(z,!0),W=B.getFloat32(4+z,!0),Y=B.getFloat32(8+z,!0),te=(F&&(Q=B.getUint16(48+z,!0),M=32768&Q?(w=E,_=C,T):(w=(31&Q)/31,_=(Q>>5&31)/31,(Q>>10&31)/31)),new a.default.Vector(k,W,Y)),R=1;R<=3;R++){var L=z+12*R,L=new a.default.Vector(B.getFloat32(L,!0),B.getFloat32(4+L,!0),B.getFloat32(8+L,!0));b.vertices.push(L),b.vertexNormals.push(te),F&&x.push(w,_,M)}b.faces.push([3*O,3*O+1,3*O+2]),b.uvs.push([0,0],[0,0],[0,0])}})(y,m);else{if(m=new DataView(m),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");m=new TextDecoder("utf-8").decode(m).split(`
`),function(b,v){for(var w,_,M="",x=[],E=0;E<v.length;++E){for(var C=v[E].trim(),T=C.split(" "),B=0;B<T.length;++B)T[B]===""&&T.splice(B,1);if(T.length!==0)switch(M){case"":if(T[0]!=="solid")return console.error(C),console.error('Invalid state "'.concat(T[0],'", should be "solid"'));M="solid";break;case"solid":if(T[0]!=="facet"||T[1]!=="normal")return console.error(C),console.error('Invalid state "'.concat(T[0],'", should be "facet normal"'));w=new a.default.Vector(parseFloat(T[2]),parseFloat(T[3]),parseFloat(T[4])),b.vertexNormals.push(w,w,w),M="facet normal";break;case"facet normal":if(T[0]!=="outer"||T[1]!=="loop")return console.error(C),console.error('Invalid state "'.concat(T[0],'", should be "outer loop"'));M="vertex";break;case"vertex":if(T[0]==="vertex")_=new a.default.Vector(parseFloat(T[1]),parseFloat(T[2]),parseFloat(T[3])),b.vertices.push(_),b.uvs.push([0,0]),x.push(b.vertices.indexOf(_));else{if(T[0]!=="endloop")return console.error(C),console.error('Invalid state "'.concat(T[0],'", should be "vertex" or "endloop"'));b.faces.push(x),x=[],M="endloop"}break;case"endloop":if(T[0]!=="endfacet")return console.error(C),console.error('Invalid state "'.concat(T[0],'", should be "endfacet"'));M="endfacet";break;case"endfacet":if(T[0]!=="endsolid"){if(T[0]!=="facet"||T[1]!=="normal")return console.error(C),console.error('Invalid state "'.concat(T[0],'", should be "endsolid" or "facet normal"'));w=new a.default.Vector(parseFloat(T[2]),parseFloat(T[3]),parseFloat(T[4])),b.vertexNormals.push(w,w,w),M="facet normal"}break;default:console.error('Invalid state "'.concat(M,'"'))}}}(y,m)}})(h,g),u&&h.normalize(),f._decrementPreload(),typeof p=="function"&&p(h)},d):c.match(/\.obj$/i)?this.loadStrings(l,function(g){for(var y=h,m=g,b={v:[],vt:[],vn:[]},v={},w=0;w<m.length;++w){var _=m[w].trim().split(/\b\s+/);if(0<_.length){if(_[0]==="v"||_[0]==="vn"){var M=new a.default.Vector(parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3]));b[_[0]].push(M)}else if(_[0]==="vt")M=[parseFloat(_[1]),1-parseFloat(_[2])],b[_[0]].push(M);else if(_[0]==="f")for(var x=3;x<_.length;++x){for(var E=[],C=[1,x-1,x],T=0;T<C.length;++T){var B=_[C[T]],P=0;if(v[B]!==void 0)P=v[B];else{for(var F=B.split("/"),j=0;j<F.length;j++)F[j]=parseInt(F[j])-1;P=v[B]=y.vertices.length,y.vertices.push(b.v[F[0]].copy()),b.vt[F[1]]?y.uvs.push(b.vt[F[1]].slice()):y.uvs.push([0,0]),b.vn[F[2]]&&y.vertexNormals.push(b.vn[F[2]].copy())}E.push(P)}E[0]!==E[1]&&E[0]!==E[2]&&E[1]!==E[2]&&y.faces.push(E)}}}y.vertexNormals.length===0&&y.computeNormals(),u&&h.normalize(),f._decrementPreload(),typeof p=="function"&&p(h)},d):(a.default._friendlyFileLoadError(3,l),d?d():a.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),h},a.default.prototype.model=function(l){this._assert3d("model"),a.default._validateParameters("model",arguments),0<l.vertices.length&&(this._renderer.geometryInHash(l.gid)||(l.edges.length===0&&l._makeTriangleEdges(),l._edgesToVertices(),this._renderer.createBuffers(l.gid,l)),this._renderer.drawBuffers(l.gid))};var A=a.default;s.default=A},{"../core/main":275,"./p5.Geometry":327,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.splice":167,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.match":193,"core-js/modules/es.string.split":198,"core-js/modules/es.string.trim":201}],323:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=function(c){if(c&&c.__esModule)return c;if(c===null||A(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../core/constants"));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}t("./p5.Texture"),l.default.prototype.loadShader=function(c,h,f,g){l.default._validateParameters("loadShader",arguments),g=g||console.error;function y(){b._decrementPreload(),f&&f(m)}var m=new l.default.Shader,b=this,v=!1,w=!1;return this.loadStrings(c,function(_){m._vertSrc=_.join(`
`),w=!0,v&&y()},g),this.loadStrings(h,function(_){m._fragSrc=_.join(`
`),v=!0,w&&y()},g),m},l.default.prototype.createShader=function(c,h){return l.default._validateParameters("createShader",arguments),new l.default.Shader(this._renderer,c,h)},l.default.prototype.createFilterShader=function(c){l.default._validateParameters("createFilterShader",arguments);var h=c.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,h=new l.default.Shader(this._renderer,h,c);return this._renderer.GL?h.ensureCompiledOnContext(this):h.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),h},l.default.prototype.shader=function(c){return this._assert3d("shader"),l.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),this},l.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},l.default.prototype.texture=function(c){return this._assert3d("texture"),l.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=u.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.textureMode=function(c){c!==u.IMAGE&&c!==u.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},l.default.prototype.textureWrap=function(c){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,f=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=h,!0),g=!1,y=void 0;try{for(var m,b=this._renderer.textures.values()[Symbol.iterator]();!(f=(m=b.next()).done);f=!0)m.value.setWrapMode(c,h)}catch(v){g=!0,y=v}finally{try{f||b.return==null||b.return()}finally{if(g)throw y}}},l.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];return l.default._validateParameters("normalMaterial",h),this._renderer.drawMode=u.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},l.default.prototype.ambientMaterial=function(c,h,f){this._assert3d("ambientMaterial"),l.default._validateParameters("ambientMaterial",arguments);var g=l.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=g._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},l.default.prototype.emissiveMaterial=function(c,h,f,g){this._assert3d("emissiveMaterial"),l.default._validateParameters("emissiveMaterial",arguments);var y=l.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=y._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.specularMaterial=function(c,h,f,g){this._assert3d("specularMaterial"),l.default._validateParameters("specularMaterial",arguments);var y=l.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=y._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},l.default.prototype.shininess=function(c){return this._assert3d("shininess"),l.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},l.default.RendererGL.prototype._applyColorBlend=function(c){var h=this.GL,f=this.drawMode===u.TEXTURE,f=this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==u.BLEND||c[c.length-1]<1||this._isErasing;return f!==this._isBlending&&(f||this.curBlendMode!==u.BLEND&&this.curBlendMode!==u.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=f),this._applyBlendMode(),c},l.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case u.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case u.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case u.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case u.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case u.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case u.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case u.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case u.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case u.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case u.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var d=l.default;s.default=d},{"../core/constants":264,"../core/main":275,"./p5.Texture":334,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.join":162,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],324:[function(t,o,s){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function A(l,u){for(var p=0;p<u.length;p++){var d=u[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}a.default.prototype.camera=function(){var l;this._assert3d("camera");for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return a.default._validateParameters("camera",p),(l=this._renderer._curCamera).camera.apply(l,p),this},a.default.prototype.perspective=function(){var l;this._assert3d("perspective");for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return a.default._validateParameters("perspective",p),(l=this._renderer._curCamera).perspective.apply(l,p),this},a.default.prototype.ortho=function(){var l;this._assert3d("ortho");for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return a.default._validateParameters("ortho",p),(l=this._renderer._curCamera).ortho.apply(l,p),this},a.default.prototype.frustum=function(){var l;this._assert3d("frustum");for(var u=arguments.length,p=new Array(u),d=0;d<u;d++)p[d]=arguments[d];return a.default._validateParameters("frustum",p),(l=this._renderer._curCamera).frustum.apply(l,p),this},a.default.prototype.createCamera=function(){this._assert3d("createCamera");var l=new a.default.Camera(this._renderer);return l._computeCameraDefaultSettings(),l._setDefaultCamera(),this._renderer._curCamera=l},a.default.Camera=function(){function l(d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=d,this.cameraType="default",this.cameraMatrix=new a.default.Matrix,this.projMatrix=new a.default.Matrix,this.yScale=1}var u,p;return u=l,(p=[{key:"perspective",value:function(g,c,h,f){this.cameraType=0<arguments.length?"custom":"default",g===void 0?(g=this.defaultCameraFOV,this.cameraFOV=g):this.cameraFOV=this._renderer._pInst._toRadians(g),c===void 0&&(c=this.defaultAspectRatio),h===void 0&&(h=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),h<=1e-4&&(h=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<h&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=c,this.cameraNear=h,this.cameraFar=f,this.projMatrix=a.default.Matrix.identity();var g=1/Math.tan(this.cameraFOV/2),y=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(g/c,0,0,0,0,-g*this.yScale,0,0,0,0,(f+h)*y,-1,0,0,2*f*h*y,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(x,M,h,f,g,y){x===void 0&&(x=-this._renderer.width/2),M===void 0&&(M=+this._renderer.width/2),h===void 0&&(h=-this._renderer.height/2),f===void 0&&(f=+this._renderer.height/2),g===void 0&&(g=0),y===void 0&&(y=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=g;var E=M-x,m=f-h,b=(this.cameraFar=y)-g,v=2/E,w=2/m*this.yScale,_=-2/b,M=-(M+x)/E,x=-(f+h)/m,E=-(y+g)/b;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(v,0,0,0,0,-w,0,0,0,0,_,0,M,x,E,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(x,M,h,f,g,y){x===void 0&&(x=.05*-this._renderer.width),M===void 0&&(M=.05*+this._renderer.width),h===void 0&&(h=.05*+this._renderer.height),f===void 0&&(f=.05*-this._renderer.height),g===void 0&&(g=this.defaultCameraNear),y===void 0&&(y=this.defaultCameraFar),this.cameraNear=g;var E=M-x,m=f-h,b=(this.cameraFar=y)-g,v=2*g/E,w=2*g/m*this.yScale,_=-2*y*g/b,M=(M+x)/E,x=(f+h)/m,E=-(y+g)/b;this.projMatrix=a.default.Matrix.identity(),this.projMatrix.set(v,0,0,0,0,-w,0,0,M,x,E,-1,0,0,_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(v,c,h,f){var g=this.centerX,y=this.centerY,m=this.centerZ,b=(g-=this.eyeX,y-=this.eyeY,m-=this.eyeZ,a.default.Matrix.identity(this._renderer._pInst)),v=(b.rotate(this._renderer._pInst._toRadians(v),c,h,f),[g*b.mat4[0]+y*b.mat4[4]+m*b.mat4[8],g*b.mat4[1]+y*b.mat4[5]+m*b.mat4[9],g*b.mat4[2]+y*b.mat4[6]+m*b.mat4[10]]);v[0]+=this.eyeX,v[1]+=this.eyeY,v[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,v[0],v[1],v[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(d){var c=this._getLocalAxes();this._rotateView(d,c.y[0],c.y[1],c.y[2])}},{key:"tilt",value:function(d){var c=this._getLocalAxes();this._rotateView(d,c.x[0],c.x[1],c.x[2])}},{key:"lookAt",value:function(d,c,h){this.camera(this.eyeX,this.eyeY,this.eyeZ,d,c,h,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(d,c,h,f,g,y,m,b,v){return d===void 0&&(d=this.defaultEyeX,c=this.defaultEyeY,h=this.defaultEyeZ,f=d,g=c,b=1,v=m=y=0),this.eyeX=d,this.eyeY=c,this.eyeZ=h,f!==void 0&&(this.centerX=f,this.centerY=g,this.centerZ=y),m!==void 0&&(this.upX=m,this.upY=b,this.upZ=v),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),g=-d,this.cameraMatrix.translate([g,-c,-h]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(f,g,h){var y=this._getLocalAxes(),f=[y.x[0]*f,y.x[1]*f,y.x[2]*f],g=[y.y[0]*g,y.y[1]*g,y.y[2]*g],y=[y.z[0]*h,y.z[1]*h,y.z[2]*h];this.camera(this.eyeX+f[0]+g[0]+y[0],this.eyeY+f[1]+g[1]+y[1],this.eyeZ+f[2]+g[2]+y[2],this.centerX+f[0]+g[0]+y[0],this.centerY+f[1]+g[1]+y[1],this.centerZ+f[2]+g[2]+y[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(d,c,h){var f=d-this.eyeX,g=c-this.eyeY,y=h-this.eyeZ;this.camera(d,c,h,this.centerX+f,this.centerY+g,this.centerZ+y,this.upX,this.upY,this.upZ)}},{key:"set",value:function(d){for(var c=0,h=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];c<h.length;c++){var f=h[c];this[f]=d[f]}this.cameraMatrix=d.cameraMatrix.copy(),this.projMatrix=d.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(d,c,h){var f,g,y,m,b,v,w,_,M,x,E,C,T,B,P,F,j,O;h===0?this.set(d):h===1?this.set(c):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=d.projMatrix.mat4[0]*Math.pow(c.projMatrix.mat4[0]/d.projMatrix.mat4[0],h),this.projMatrix.mat4[5]=d.projMatrix.mat4[5]*Math.pow(c.projMatrix.mat4[5]/d.projMatrix.mat4[5],h),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),m=new a.default.Vector(d.eyeX,d.eyeY,d.eyeZ),b=new a.default.Vector(c.eyeX,c.eyeY,c.eyeZ),F=new a.default.Vector(d.centerX,d.centerY,d.centerZ),O=new a.default.Vector(c.centerX,c.centerY,c.centerZ),y=a.default.Vector.dist(m,F),f=a.default.Vector.dist(b,O),f=y*Math.pow(f/y,h),y=a.default.Vector.sub(m,b),g=1,1e-6<(j=(B=m.copy().sub(b).sub(F).add(O)).magSq())&&(g=a.default.Vector.dot(y,B)/j,g=Math.max(0,Math.min(g,1))),y=a.default.Vector.lerp(a.default.Vector.lerp(m,F,g),a.default.Vector.lerp(b,O,g),h),B=d.cameraMatrix.createSubMatrix3x3(),j=c.cameraMatrix.createSubMatrix3x3(),m=B.row(2),F=j.row(2),b=B.row(1),O=j.row(1),d=new a.default.Vector,c=new a.default.Vector,v=new a.default.Vector,w=new a.default.Vector,1-(_=.5*((B=(j=j.mult3x3(B.copy().transpose3x3())).diagonal())[0]+B[1]+B[2]-1))<1e-7?(d.set(a.default.Vector.lerp(m,F,h)).normalize(),v.set(d).mult(g*f).add(y),w.set(d).mult((g-1)*f).add(y),c.set(a.default.Vector.lerp(b,O,h)).normalize()):(F=1/(1-_),O=Math.max(B[0],B[1],B[2]),C=j.mat3[1]+j.mat3[3],T=j.mat3[2]+j.mat3[6],P=j.mat3[5]+j.mat3[7],O=O===B[0]?(x=.5*C*(F/=M=Math.sqrt((B[0]-_)*F)),E=.5*T*F,.5*(j.mat3[7]-j.mat3[5])/M):O===B[1]?(E=.5*P*(F/=x=Math.sqrt((B[1]-_)*F)),M=.5*C*F,.5*(j.mat3[2]-j.mat3[6])/x):(M=.5*T*(F/=E=Math.sqrt((B[2]-_)*F)),x=.5*P*F,.5*(j.mat3[3]-j.mat3[1])/E),C=h*Math.atan2(O,_),T=Math.cos(C),B=Math.sin(C),(O=new a.default.Matrix("mat3",[T+(P=1-T)*M*M,P*(F=M*x)+B*E,P*(j=E*M)-B*x,P*F-B*E,T+P*x*x,P*(h=x*E)+B*M,P*j+B*x,P*h-B*M,T+P*E*E])).multiplyVec3(m,d),v.set(d).mult(g*f).add(y),w.set(d).mult((g-1)*f).add(y),O.multiplyVec3(b,c)),this.camera(v.x,v.y,v.z,w.x,w.y,w.z,c.x,c.y,c.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var d=new a.default.Camera(this._renderer);return d.cameraFOV=this.cameraFOV,d.aspectRatio=this.aspectRatio,d.eyeX=this.eyeX,d.eyeY=this.eyeY,d.eyeZ=this.eyeZ,d.centerX=this.centerX,d.centerY=this.centerY,d.centerZ=this.centerZ,d.upX=this.upX,d.upY=this.upY,d.upZ=this.upZ,d.cameraNear=this.cameraNear,d.cameraFar=this.cameraFar,d.cameraType=this.cameraType,d.cameraMatrix=this.cameraMatrix.copy(),d.projMatrix=this.projMatrix.copy(),d.yScale=this.yScale,d}},{key:"_getLocalAxes",value:function(){var d=this.eyeX-this.centerX,c=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,m=Math.sqrt(d*d+c*c+h*h),m=(m!==0&&(d/=m,c/=m,h/=m),this.upX),f=(b=this.upY)*h-(v=this.upZ)*c,g=-m*h+v*d,y=m*c-b*d,m=c*y-h*g,b=-d*y+h*f,v=d*g-c*f,w=Math.sqrt(f*f+g*g+y*y),w=(w!==0&&(f/=w,g/=w,y/=w),Math.sqrt(m*m+b*b+v*v));return w!==0&&(m/=w,b/=w,v/=w),{x:[f,g,y],y:[m,b,v],z:[d,c,h]}}},{key:"_orbit",value:function(d,w,v){var g=this.eyeX-this.centerX,y=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,f=Math.hypot(g,y,m),g=new a.default.Vector(g,y,m).normalize(),y=new a.default.Vector(this.upX,this.upY,this.upZ).normalize(),m=new a.default.Vector.cross(y,g).normalize(),b=new a.default.Vector.cross(m,y),v=((f=(f*=Math.pow(10,v))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,a.default.Vector.dot(g,y))))+w),w=d;(v<=0||v>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),y.mult(Math.cos(v)),b.mult(Math.cos(w)*Math.sin(v)),m.mult(Math.sin(w)*Math.sin(v)),g.set(y).add(b).add(m),this.eyeX=f*g.x+this.centerX,this.eyeY=f*g.y+this.centerY,this.eyeZ=f*g.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(v,w,M){var g=this.eyeX-this.centerX,y=this.eyeY-this.centerY,m=this.eyeZ-this.centerZ,f=Math.hypot(g,y,m),g=new a.default.Vector(g,y,m).normalize(),y=new a.default.Vector(this.upX,this.upY,this.upZ),m=new a.default.Vector.cross(y,g).normalize(),b=new a.default.Vector.cross(g,m),x=Math.atan2(w,v),x=(b.mult(Math.sin(x)),m.mult(Math.cos(x)).add(b),Math.sqrt(v*v+w*w)),b=new a.default.Vector.cross(g,m),v=((f=(f*=Math.pow(10,M))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.cos(x)),w=Math.sin(x),M=y.dot(g),x=y.dot(m),_=M*v+x*w,M=-M*w+x*v,x=y.dot(b);y.x=_*g.x+M*m.x+x*b.x,y.y=_*g.y+M*m.y+x*b.y,y.z=_*g.z+M*m.z+x*b.z,m.mult(-w),g.mult(v).add(m).mult(f),this.camera(g.x+this.centerX,g.y+this.centerY,g.z+this.centerZ,this.centerX,this.centerY,this.centerZ,y.x,y.y,y.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&A(u.prototype,p),l}(),a.default.prototype.setCamera=function(l){this._renderer._curCamera=l,this._renderer.uPMatrix.set(l.projMatrix.mat4[0],l.projMatrix.mat4[1],l.projMatrix.mat4[2],l.projMatrix.mat4[3],l.projMatrix.mat4[4],l.projMatrix.mat4[5],l.projMatrix.mat4[6],l.projMatrix.mat4[7],l.projMatrix.mat4[8],l.projMatrix.mat4[9],l.projMatrix.mat4[10],l.projMatrix.mat4[11],l.projMatrix.mat4[12],l.projMatrix.mat4[13],l.projMatrix.mat4[14],l.projMatrix.mat4[15])},t=a.default.Camera,s.default=t},{"../core/main":275,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.hypot":170,"core-js/modules/es.string.sub":200}],325:[function(t,o,s){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(A,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(A,p.key,p)}}t.default.DataArray=function(){function A(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,d=this,c=A;if(!(d instanceof c))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(p),this.initialLength=p}var l,u;return l=A,(u=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var p;this.length<this.data.length/2&&(p=1<<Math.ceil(Math.log2(this.length)),(p=new Float32Array(p)).set(this.data.subarray(0,this.length),0),this.data=p)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var p=arguments.length,d=new Array(p),c=0;c<p;c++)d[c]=arguments[c];this.ensureLength(this.length+d.length),this.data.set(d,this.length),this.length+=d.length}},{key:"slice",value:function(p,d){return this.data.slice(p,Math.min(d,this.length))}},{key:"subArray",value:function(p,d){return this.data.subarray(p,Math.min(d,this.length))}},{key:"ensureLength",value:function(p){for(;this.data.length<p;){var d=new Float32Array(2*this.data.length);d.set(this.data,0),this.data=d}}}])&&a(l.prototype,u),A}(),t=t.default.DataArray,s.default=t},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.math.log2":171,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],326:[function(C,o,s){function a(T){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(T)}function A(T){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(B){return a(B)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":a(B)})(T)}C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.description"),C("core-js/modules/es.symbol.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-own-property-descriptor"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.reflect.construct"),C("core-js/modules/es.reflect.get"),C("core-js/modules/es.regexp.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.string.iterator"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),C("core-js/modules/es.weak-map"),C("core-js/modules/web.dom-collections.iterator"),C("core-js/modules/es.array.fill"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.object.get-prototype-of"),C("core-js/modules/es.object.to-string"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.typed-array.float32-array"),C("core-js/modules/es.typed-array.uint8-array"),C("core-js/modules/es.typed-array.uint8-clamped-array"),C("core-js/modules/es.typed-array.copy-within"),C("core-js/modules/es.typed-array.every"),C("core-js/modules/es.typed-array.fill"),C("core-js/modules/es.typed-array.filter"),C("core-js/modules/es.typed-array.find"),C("core-js/modules/es.typed-array.find-index"),C("core-js/modules/es.typed-array.for-each"),C("core-js/modules/es.typed-array.includes"),C("core-js/modules/es.typed-array.index-of"),C("core-js/modules/es.typed-array.iterator"),C("core-js/modules/es.typed-array.join"),C("core-js/modules/es.typed-array.last-index-of"),C("core-js/modules/es.typed-array.map"),C("core-js/modules/es.typed-array.reduce"),C("core-js/modules/es.typed-array.reduce-right"),C("core-js/modules/es.typed-array.reverse"),C("core-js/modules/es.typed-array.set"),C("core-js/modules/es.typed-array.slice"),C("core-js/modules/es.typed-array.some"),C("core-js/modules/es.typed-array.sort"),C("core-js/modules/es.typed-array.subarray"),C("core-js/modules/es.typed-array.to-locale-string"),C("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(E=C("../core/main"))&&E.__esModule?E:{default:E},u=function(T){if(T&&T.__esModule)return T;if(T===null||A(T)!=="object"&&typeof T!="function")return{default:T};var B=c();if(B&&B.has(T))return B.get(T);var P,F={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in T){var O;Object.prototype.hasOwnProperty.call(T,P)&&((O=j?Object.getOwnPropertyDescriptor(T,P):null)&&(O.get||O.set)?Object.defineProperty(F,P,O):F[P]=T[P])}return F.default=T,B&&B.set(T,F),F}(C("../core/constants")),p=C("./p5.Texture"),d=C("./p5.RendererGL");function c(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,c=function(){return T},T)}function h(T,B){return function(P){if(Array.isArray(P))return P}(T)||function(P,F){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]"){var j=[],O=!0,Q=!1,z=void 0;try{for(var k,W=P[Symbol.iterator]();!(O=(k=W.next()).done)&&(j.push(k.value),!F||j.length!==F);O=!0);}catch(Y){Q=!0,z=Y}finally{try{O||W.return==null||W.return()}finally{if(Q)throw z}}return j}}(T,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(T,B,P){return B in T?Object.defineProperty(T,B,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[B]=P,T}function g(T,B){if(!(T instanceof B))throw new TypeError("Cannot call a class as a function")}function y(T,B){for(var P=0;P<B.length;P++){var F=B[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}function m(T,B,P){B&&y(T.prototype,B),P&&y(T,P)}function b(T,B,P){return(b=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(Q,j,O){var Q=function(z,k){for(;!Object.prototype.hasOwnProperty.call(z,k)&&(z=_(z))!==null;);return z}(Q,j);if(Q)return(Q=Object.getOwnPropertyDescriptor(Q,j)).get?Q.get.call(O):Q.value})(T,B,P||T)}function v(T,B){return(v=Object.setPrototypeOf||function(P,F){return P.__proto__=F,P})(T,B)}function w(T){return function(){var B,P=_(T),P=(B=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(B=_(this).constructor,Reflect.construct(P,arguments,B)):P.apply(this,arguments),this);if(!B||A(B)!=="object"&&typeof B!="function"){if(P!==void 0)return P;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return B}}function _(T){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(T)}var M=function(T){var B=F;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(T&&T.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),T&&v(B,T);var P=w(F);function F(j){var O;return g(this,F),(O=P.call(this,j.target._renderer)).fbo=j,O.yScale=-1,O}return m(F,[{key:"_computeCameraDefaultSettings",value:function(){b(_(F.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),F}(l.default.Camera),x=(l.default.FramebufferCamera=M,function(){function T(B,P){g(this,T),this.framebuffer=B,this.property=P}return m(T,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),T}()),E=(l.default.FramebufferTexture=x,function(){function T(j){var P=this,F=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},j=(g(this,T),this.target=j,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=F.format||u.UNSIGNED_BYTE,this.channels=F.channels||(j._renderer._pInst._glAttributes.alpha?u.RGBA:u.RGB),this.useDepth=F.depth===void 0||F.depth,this.depthFormat=F.depthFormat||u.FLOAT,this.textureFiltering=F.textureFiltering||u.LINEAR,F.antialias===void 0?this.antialiasSamples=j._renderer._pInst._glAttributes.antialias?2:0:typeof F.antialias=="number"?this.antialiasSamples=F.antialias:this.antialiasSamples=F.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&j.webglVersion!==u.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),F.width&&F.height?(this.width=F.width,this.height=F.height,this.autoSized=!1):(F.width===void 0!=(F.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=j.width,this.height=j.height,this.autoSized=!0),this.density=F.density||j.pixelDensity(),j._renderer.GL);if(this.gl=j,this._checkIfFormatsAvailable(),F.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(F.stencil===void 0||F.stencil),this.framebuffer=j.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=j.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),F=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=F,this.draw(function(){return P.target.clear()})}return m(T,[{key:"resize",value:function(B,P){this.autoSized=!1,this.width=B,this.height=P,this._handleResize()}},{key:"pixelDensity",value:function(B){if(!B)return this.density;this.autoSized=!1,this.density=B,this._handleResize()}},{key:"autoSized",value:function(B){if(B===void 0)return this.autoSized;this.autoSized=B,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var B=this.gl,B=(this.useDepth&&this.target.webglVersion===u.WEBGL&&!B.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===u.WEBGL&&this.depthFormat===u.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),[u.UNSIGNED_BYTE,u.FLOAT,u.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&![u.UNSIGNED_INT,u.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=u.FLOAT),(0,p.checkWebGLCapabilities)(this.target._renderer));B.float||this.format!==u.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.useDepth&&!B.float&&this.depthFormat===u.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=u.UNSIGNED_INT),B.halfFloat||this.format!==u.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=u.UNSIGNED_BYTE),this.channels===u.RGB&&[u.FLOAT,u.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=u.RGBA)}},{key:"_recreateTextures",value:function(){var B=this.gl,P=(this._updateSize(),B.getParameter(B.TEXTURE_BINDING_2D)),F=B.getParameter(B.FRAMEBUFFER_BINDING),j=B.createTexture();if(!j)throw new Error("Unable to create color texture");B.bindTexture(B.TEXTURE_2D,j);var O=this._glColorFormat();if(B.texImage2D(B.TEXTURE_2D,0,O.internalFormat,this.width*this.density,this.height*this.density,0,O.format,O.type,null),this.colorTexture=j,B.bindFramebuffer(B.FRAMEBUFFER,this.framebuffer),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,j,0),this.useDepth){var j=B.createTexture();if(!j)throw new Error("Unable to create depth texture");var Q=this._glDepthFormat();B.bindTexture(B.TEXTURE_2D,j),B.texImage2D(B.TEXTURE_2D,0,Q.internalFormat,this.width*this.density,this.height*this.density,0,Q.format,Q.type,null),B.framebufferTexture2D(B.FRAMEBUFFER,this.useStencil?B.DEPTH_STENCIL_ATTACHMENT:B.DEPTH_ATTACHMENT,B.TEXTURE_2D,j,0),this.depthTexture=j}this.antialias&&(this.colorRenderbuffer=B.createRenderbuffer(),B.bindRenderbuffer(B.RENDERBUFFER,this.colorRenderbuffer),B.renderbufferStorageMultisample(B.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,B.getParameter(B.MAX_SAMPLES))),O.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(Q=this._glDepthFormat(),this.depthRenderbuffer=B.createRenderbuffer(),B.bindRenderbuffer(B.RENDERBUFFER,this.depthRenderbuffer),B.renderbufferStorageMultisample(B.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,B.getParameter(B.MAX_SAMPLES))),Q.internalFormat,this.width*this.density,this.height*this.density)),B.bindFramebuffer(B.FRAMEBUFFER,this.aaFramebuffer),B.framebufferRenderbuffer(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&B.framebufferRenderbuffer(B.FRAMEBUFFER,this.useStencil?B.DEPTH_STENCIL_ATTACHMENT:B.DEPTH_ATTACHMENT,B.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new x(this,"depthTexture"),j=B.NEAREST,this.depthP5Texture=new l.default.Texture(this.target._renderer,this.depth,{minFilter:j,magFilter:j}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new x(this,"colorTexture"),O=this.textureFiltering===u.LINEAR?B.LINEAR:B.NEAREST,this.colorP5Texture=new l.default.Texture(this.target._renderer,this.color,{minFilter:O,magFilter:O}),this.target._renderer.textures.set(this.color,this.colorP5Texture),B.bindTexture(B.TEXTURE_2D,P),B.bindFramebuffer(B.FRAMEBUFFER,F)}},{key:"_glColorFormat",value:function(){var B,P,F=this.gl,j=this.format===u.FLOAT?F.FLOAT:this.format===u.HALF_FLOAT?this.target.webglVersion===u.WEBGL2?F.HALF_FLOAT:F.getExtension("OES_texture_half_float").HALF_FLOAT_OES:F.UNSIGNED_BYTE,O=this.channels===u.RGBA?F.RGBA:F.RGB;return{internalFormat:this.target.webglVersion===u.WEBGL2?(f(P={},F.FLOAT,f({},F.RGBA,F.RGBA32F)),f(P,F.HALF_FLOAT,f({},F.RGBA,F.RGBA16F)),f(P,F.UNSIGNED_BYTE,(f(B={},F.RGBA,F.RGBA8),f(B,F.RGB,F.RGB8),B)),P[j][O]):this.format===u.HALF_FLOAT?F.RGBA:O,format:O,type:j}}},{key:"_glDepthFormat",value:function(){var F=this.gl,B=this.useStencil?this.depthFormat===u.FLOAT?F.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===u.WEBGL2?F.UNSIGNED_INT_24_8:F.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===u.FLOAT?F.FLOAT:F.UNSIGNED_INT,P=this.useStencil?F.DEPTH_STENCIL:F.DEPTH_COMPONENT,F=this.useStencil?this.depthFormat===u.FLOAT?F.DEPTH32F_STENCIL8:this.target.webglVersion===u.WEBGL2?F.DEPTH24_STENCIL8:F.DEPTH_STENCIL:this.target.webglVersion===u.WEBGL2?this.depthFormat===u.FLOAT?F.DEPTH_COMPONENT32F:F.DEPTH_COMPONENT24:F.DEPTH_COMPONENT;return{internalFormat:F,format:P,type:B}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var j=this.color,B=this.depth,P=this.colorRenderbuffer,F=this.depthRenderbuffer,j=(this._deleteTexture(j),B&&this._deleteTexture(B),this.gl);P&&j.deleteRenderbuffer(P),F&&j.deleteRenderbuffer(F),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var B=new M(this);return B._computeCameraDefaultSettings(),B._setDefaultCamera(),this.target._renderer._curCamera=B}},{key:"_deleteTexture",value:function(B){this.gl.deleteTexture(B.rawTexture()),this.target._renderer.textures.delete(B)}},{key:"remove",value:function(){var B=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),B.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&B.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&B.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&B.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var B=this.gl;B.bindFramebuffer(B.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var B=this.gl,P=(B.bindFramebuffer(B.READ_FRAMEBUFFER,this.aaFramebuffer),B.bindFramebuffer(B.DRAW_FRAMEBUFFER,this.framebuffer),[[B.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&P.push([B.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var F=0,j=P;F<j.length;F++){var Q=h(j[F],2),O=Q[0],Q=Q[1];B.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,O,Q)}}}},{key:"end",value:function(){var B=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(B.bindFramebuffer(B.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(B){this.begin(),B(),this.end()}},{key:"loadPixels",value:function(){var B=this.gl,P=this.target._renderer.activeFramebuffer(),F=(B.bindFramebuffer(B.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,d.readPixelsWebGL)(this.pixels,B,this.framebuffer,0,0,this.width*this.density,this.height*this.density,F.format,F.type),P?B.bindFramebuffer(B.FRAMEBUFFER,P._framebufferToBind()):B.bindFramebuffer(B.FRAMEBUFFER,null)}},{key:"get",value:function(B,P,F,j){l.default._validateParameters("p5.Framebuffer.get",arguments);var O=this._glColorFormat();if(B===void 0&&P===void 0)P=B=0,F=this.width,j=this.height;else if(F===void 0&&j===void 0)return(B<0||P<0||B>=this.width||P>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),B=this.target.constrain(B,0,this.width-1),P=this.target.constrain(P,0,this.height-1)),(0,d.readPixelWebGL)(this.gl,this.framebuffer,B*this.density,P*this.density,O.format,O.type);B=this.target.constrain(B,0,this.width-1),P=this.target.constrain(P,0,this.height-1),F=this.target.constrain(F,1,this.width-B),j=this.target.constrain(j,1,this.height-P);for(var Q=(0,d.readPixelsWebGL)(void 0,this.gl,this.framebuffer,B*this.density,P*this.density,F*this.density,j*this.density,O.format,O.type),z=new Uint8ClampedArray(F*j*this.density*this.density*4),k=(z.fill(255),O.type===this.gl.RGB?3:4),W=0;W<j*this.density;W++)for(var Y=0;Y<F*this.density;Y++)for(var te=0;te<4;te++){var R,L=4*(W*F*this.density+Y)+te;te<k&&(R=k==4?L:(W*F*this.density+Y)*k+te,z[L]=Q[R])}return B=new l.default.Image(F*this.density,j*this.density),B.imageData=B.canvas.getContext("2d").createImageData(B.width,B.height),B.imageData.data.set(z),B.pixels=B.imageData.data,B.updatePixels(),this.density!==1&&B.resize(F,j),B}},{key:"updatePixels",value:function(){var B=this.gl,P=(this.colorP5Texture.bindTexture(),this._glColorFormat()),F=P.format===B.RGBA?4:3,F=this.width*this.height*this.density*this.density*F,j=P.type===B.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof j)||this.pixels.length!==F)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");B.texImage2D(B.TEXTURE_2D,0,P.internalFormat,this.width*this.density,this.height*this.density,0,P.format,P.type,this.pixels),this.colorP5Texture.unbindTexture(),j=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(B.clearDepth(1),B.clear(B.DEPTH_BUFFER_BIT)),this.end()):(B.bindFramebuffer(B.FRAMEBUFFER,this.framebuffer),this.useDepth&&(B.clearDepth(1),B.clear(B.DEPTH_BUFFER_BIT)),j?B.bindFramebuffer(B.FRAMEBUFFER,j._framebufferToBind()):B.bindFramebuffer(B.FRAMEBUFFER,null))}}]),T}()),C=l.default.Framebuffer=E;s.default=C},{"../core/constants":264,"../core/main":275,"./p5.RendererGL":332,"./p5.Texture":334,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.typed-array.uint8-clamped-array":235,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],327:[function(t,o,s){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function A(f){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(f){if(f&&f.__esModule)return f;if(f===null||A(f)!=="object"&&typeof f!="function")return{default:f};var g=p();if(g&&g.has(f))return g.get(f);var y,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in f){var v;Object.prototype.hasOwnProperty.call(f,y)&&((v=b?Object.getOwnPropertyDescriptor(f,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=f[y])}return m.default=f,g&&g.set(f,m),m}(t("../core/constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function d(f){return function(g){if(Array.isArray(g)){for(var y=0,m=new Array(g.length);y<g.length;y++)m[y]=g[y];return m}}(f)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(f,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}l.default.Geometry=function(){function f(m,b,v){if(this instanceof f)return this.vertices=[],this.lineVertices=new l.default.DataArray,this.lineTangentsIn=new l.default.DataArray,this.lineTangentsOut=new l.default.DataArray,this.lineSides=new l.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new l.default.DataArray,this.detailX=m!==void 0?m:1,this.detailY=b!==void 0?b:1,this.dirtyFlags={},v instanceof Function&&v.call(this),this;throw new TypeError("Cannot call a class as a function")}var g,y;return g=f,(y=[{key:"reset",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"computeFaces",value:function(){this.faces.length=0;for(var m,b,v,w=this.detailX+1,_=0;_<this.detailY;_++)for(var M=0;M<this.detailX;M++)b=(_+1)*w+M+1,this.faces.push([_*w+M,m=_*w+M+1,v=(_+1)*w+M]),this.faces.push([v,m,b]);return this}},{key:"_getFaceNormal",value:function(b){var b=this.faces[b],v=this.vertices[b[0]],_=this.vertices[b[1]],b=this.vertices[b[2]],_=l.default.Vector.sub(_,v),b=l.default.Vector.sub(b,v),v=l.default.Vector.cross(_,b),w=l.default.Vector.mag(v),_=w/(l.default.Vector.mag(_)*l.default.Vector.mag(b));return _===0||isNaN(_)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),v):(1<_&&(_=1),v.mult(Math.asin(_)/w))}},{key:"computeNormals",value:function(){var m,b=this,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:u.FLAT,w=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,_=this.vertexNormals,M=this.vertices,x=this.faces;if(v===u.SMOOTH){for(var E={},C=[],T=Math.pow(10,w===void 0?3:w),B=function(Q){return Math.round(Q*T)/T},P=function(Q){return"".concat(B(Q.x),",").concat(B(Q.y),",").concat(B(Q.z))},F=0;F<M.length;F++){var j=M[F],O=P(j);E[O]===void 0&&(E[O]=C.length,C.push(j))}x.forEach(function(Q){for(var z=0;z<3;++z){var k=Q[z],k=M[k],k=P(k);Q[z]=E[k]}}),this.edges.forEach(function(Q){for(var z=0;z<2;++z){var k=Q[z],k=M[k],k=P(k);Q[z]=E[k]}}),this.vertices=M=C}for(m=_.length=0;m<M.length;++m)_.push(new l.default.Vector);for(x.forEach(function(Q,z){for(var k=b._getFaceNormal(z),W=0;W<3;++W){var Y=Q[W];_[Y].add(k)}}),m=0;m<M.length;++m)_[m].normalize();return this}},{key:"averageNormals",value:function(){for(var m=0;m<=this.detailY;m++){var b=this.detailX+1,v=l.default.Vector.add(this.vertexNormals[m*b],this.vertexNormals[m*b+this.detailX]),v=l.default.Vector.div(v,2);this.vertexNormals[m*b]=v,this.vertexNormals[m*b+this.detailX]=v}return this}},{key:"averagePoleNormals",value:function(){for(var m=new l.default.Vector(0,0,0),b=0;b<this.detailX;b++)m.add(this.vertexNormals[b]);for(var m=l.default.Vector.div(m,this.detailX),v=0;v<this.detailX;v++)this.vertexNormals[v]=m;m=new l.default.Vector(0,0,0);for(var w=this.vertices.length-1;w>this.vertices.length-1-this.detailX;w--)m.add(this.vertexNormals[w]);m=l.default.Vector.div(m,this.detailX);for(var _=this.vertices.length-1;_>this.vertices.length-1-this.detailX;_--)this.vertexNormals[_]=m;return this}},{key:"_makeTriangleEdges",value:function(){for(var m=this.edges.length=0;m<this.faces.length;m++)this.edges.push([this.faces[m][0],this.faces[m][1]]),this.edges.push([this.faces[m][1],this.faces[m][2]]),this.edges.push([this.faces[m][2],this.faces[m][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var m,b=new Map,v=new Set,w=0;w<this.edges.length;w++){var _,M=this.edges[w-1],x=this.edges[w],E=this.vertices[x[0]],C=this.vertices[x[1]],T=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*x[0],4*(x[0]+1)):[0,0,0,0],B=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*x[1],4*(x[1]+1)):[0,0,0,0],P=C.copy().sub(E).normalize(),F=0<P.magSq();F&&this._addSegment(E,C,T,B,P),0<w&&M[1]===x[0]?v.has(x[0])||(v.add(x[0]),b.delete(x[0]),m&&F&&P.dot(m)<1-1e-8&&this._addJoin(E,m,P,T)):(F&&!v.has(x[0])&&((_=b.get(x[0]))?(this._addJoin(E,_.dir,P,T),b.delete(x[0]),v.add(x[0])):b.set(x[0],{point:E,dir:P.copy().mult(-1),color:T})),m&&!v.has(M[1])&&((_=b.get(M[1]))?(this._addJoin(this.vertices[M[1]],m,_.dir.copy().mult(-1),T),b.delete(M[1]),v.add(M[1])):b.set(M[1],{point:this.vertices[M[1]],dir:m,color:T}),m=void 0)),w!==this.edges.length-1||v.has(x[1])||((E=b.get(x[1]))?(this._addJoin(C,P,E.dir.copy().mult(-1),B),b.delete(x[1]),v.add(x[1])):b.set(x[1],{point:C,dir:P,color:B})),F&&(m=P)}var j=!0,O=!1,Q=void 0;try{for(var z,k=b.values()[Symbol.iterator]();!(j=(z=k.next()).done);j=!0){var W=z.value,Y=W.point,te=W.dir,R=W.color;this._addCap(Y,te,R)}}catch(L){O=!0,Q=L}finally{try{j||k.return==null||k.return()}finally{if(O)throw Q}}return this}},{key:"_addSegment",value:function(M,x,v,w,_){var M=M.array(),x=x.array(),E=_.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var C=0,T=[this.lineTangentsIn,this.lineTangentsOut];C<T.length;C++)for(var B=T[C],P=0;P<6;P++)B.push.apply(B,d(E));return(_=this.lineVertices).push.apply(_,d(M).concat(d(x),d(M),d(x),d(x),d(M))),(_=this.lineVertexColors).push.apply(_,d(v).concat(d(w),d(v),d(w),d(w),d(v))),this}},{key:"_addCap",value:function(m,b,v){for(var w,_=m.array(),M=b.array(),x=[0,0,0],E=0;E<6;E++)(w=this.lineVertices).push.apply(w,d(_)),(w=this.lineTangentsIn).push.apply(w,d(M)),(w=this.lineTangentsOut).push.apply(w,x),(w=this.lineVertexColors).push.apply(w,d(v));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(m,b,v,w){for(var _,M=m.array(),x=b.array(),E=v.array(),C=0;C<12;C++)(_=this.lineVertices).push.apply(_,d(M)),(_=this.lineTangentsIn).push.apply(_,d(x)),(_=this.lineTangentsOut).push.apply(_,d(E)),(_=this.lineVertexColors).push.apply(_,d(w));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var m=this.vertices[0].copy(),b=this.vertices[0].copy(),v=0;v<this.vertices.length;v++)m.x=Math.max(m.x,this.vertices[v].x),b.x=Math.min(b.x,this.vertices[v].x),m.y=Math.max(m.y,this.vertices[v].y),b.y=Math.min(b.y,this.vertices[v].y),m.z=Math.max(m.z,this.vertices[v].z),b.z=Math.min(b.z,this.vertices[v].z);for(var w=l.default.Vector.lerp(m,b,.5),_=l.default.Vector.sub(m,b),M=200/Math.max(Math.max(_.x,_.y),_.z),x=0;x<this.vertices.length;x++)this.vertices[x].sub(w),this.vertices[x].mult(M)}return this}}])&&c(g.prototype,y),f}();var h=l.default.Geometry;s.default=h},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":157,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.for-each":237,"core-js/modules/web.dom-collections.iterator":238}],328:[function(p,o,s){p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(p=p("../core/main"))&&p.__esModule?p:{default:p};function A(d,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}var l=Array,u=function(d){return Array.isArray(d)},p=(typeof Float32Array<"u"&&(l=Float32Array,u=function(d){return Array.isArray(d)||d instanceof Float32Array}),a.default.Matrix=function(){function d(){var g=this,y=d;if(g instanceof y)return arguments.length&&((g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g])instanceof a.default&&(this.p5=(y=arguments.length-1)<0||arguments.length<=y?void 0:arguments[y]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new l([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new l([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var c,h,f;return c=d,f=[{key:"identity",value:function(g){return new a.default.Matrix(g)}}],(h=[{key:"set",value:function(g){return g instanceof a.default.Matrix?this.mat4=g.mat4:u(g)?this.mat4=g:arguments.length===16&&(this.mat4[0]=g,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new a.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var g;return this.mat3!==void 0?((g=new a.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],g.mat3[1]=this.mat3[1],g.mat3[2]=this.mat3[2],g.mat3[3]=this.mat3[3],g.mat3[4]=this.mat3[4],g.mat3[5]=this.mat3[5],g.mat3[6]=this.mat3[6],g.mat3[7]=this.mat3[7],g.mat3[8]=this.mat3[8]):((g=new a.default.Matrix(this.p5)).mat4[0]=this.mat4[0],g.mat4[1]=this.mat4[1],g.mat4[2]=this.mat4[2],g.mat4[3]=this.mat4[3],g.mat4[4]=this.mat4[4],g.mat4[5]=this.mat4[5],g.mat4[6]=this.mat4[6],g.mat4[7]=this.mat4[7],g.mat4[8]=this.mat4[8],g.mat4[9]=this.mat4[9],g.mat4[10]=this.mat4[10],g.mat4[11]=this.mat4[11],g.mat4[12]=this.mat4[12],g.mat4[13]=this.mat4[13],g.mat4[14]=this.mat4[14],g.mat4[15]=this.mat4[15]),g}},{key:"transpose",value:function(g){var y,m,b,v,w,_;return g instanceof a.default.Matrix?(y=g.mat4[1],m=g.mat4[2],b=g.mat4[3],v=g.mat4[6],w=g.mat4[7],_=g.mat4[11],this.mat4[0]=g.mat4[0],this.mat4[1]=g.mat4[4],this.mat4[2]=g.mat4[8],this.mat4[3]=g.mat4[12],this.mat4[4]=y,this.mat4[5]=g.mat4[5],this.mat4[6]=g.mat4[9],this.mat4[7]=g.mat4[13],this.mat4[8]=m,this.mat4[9]=v,this.mat4[10]=g.mat4[10],this.mat4[11]=g.mat4[14],this.mat4[12]=b,this.mat4[13]=w,this.mat4[14]=_,this.mat4[15]=g.mat4[15]):u(g)&&(y=g[1],m=g[2],b=g[3],v=g[6],w=g[7],_=g[11],this.mat4[0]=g[0],this.mat4[1]=g[4],this.mat4[2]=g[8],this.mat4[3]=g[12],this.mat4[4]=y,this.mat4[5]=g[5],this.mat4[6]=g[9],this.mat4[7]=g[13],this.mat4[8]=m,this.mat4[9]=v,this.mat4[10]=g[10],this.mat4[11]=g[14],this.mat4[12]=b,this.mat4[13]=w,this.mat4[14]=_,this.mat4[15]=g[15]),this}},{key:"invert",value:function(Q){Q instanceof a.default.Matrix?(y=Q.mat4[0],m=Q.mat4[1],b=Q.mat4[2],v=Q.mat4[3],w=Q.mat4[4],_=Q.mat4[5],M=Q.mat4[6],x=Q.mat4[7],E=Q.mat4[8],C=Q.mat4[9],T=Q.mat4[10],B=Q.mat4[11],P=Q.mat4[12],F=Q.mat4[13],j=Q.mat4[14],O=Q.mat4[15]):u(Q)&&(y=Q[0],m=Q[1],b=Q[2],v=Q[3],w=Q[4],_=Q[5],M=Q[6],x=Q[7],E=Q[8],C=Q[9],T=Q[10],B=Q[11],P=Q[12],F=Q[13],j=Q[14],O=Q[15]);var y,m,b,v,w,_,M,x,E,C,T,B,P,F,j,O,Q=y*_-m*w,z=y*M-b*w,k=y*x-v*w,W=m*M-b*_,Y=m*x-v*_,te=b*x-v*M,R=E*F-C*P,L=E*j-T*P,D=E*O-B*P,V=C*j-T*F,q=C*O-B*F,Z=T*O-B*j,se=Q*Z-z*q+k*V+W*D-Y*L+te*R;return se?(this.mat4[0]=(_*Z-M*q+x*V)*(se=1/se),this.mat4[1]=(b*q-m*Z-v*V)*se,this.mat4[2]=(F*te-j*Y+O*W)*se,this.mat4[3]=(T*Y-C*te-B*W)*se,this.mat4[4]=(M*D-w*Z-x*L)*se,this.mat4[5]=(y*Z-b*D+v*L)*se,this.mat4[6]=(j*k-P*te-O*z)*se,this.mat4[7]=(E*te-T*k+B*z)*se,this.mat4[8]=(w*q-_*D+x*R)*se,this.mat4[9]=(m*D-y*q-v*R)*se,this.mat4[10]=(P*Y-F*k+O*Q)*se,this.mat4[11]=(C*k-E*Y-B*Q)*se,this.mat4[12]=(_*L-w*V-M*R)*se,this.mat4[13]=(y*V-m*L+b*R)*se,this.mat4[14]=(F*z-P*W-j*Q)*se,this.mat4[15]=(E*W-C*z+T*Q)*se,this):null}},{key:"invert3x3",value:function(){var g=this.mat3[0],y=this.mat3[1],m=this.mat3[2],b=this.mat3[3],v=this.mat3[4],w=this.mat3[5],_=this.mat3[6],M=this.mat3[7],x=this.mat3[8],E=x*v-w*M,C=-x*b+w*_,T=M*b-v*_,B=g*E+y*C+m*T;return B?(this.mat3[0]=E*(B=1/B),this.mat3[1]=(-x*y+m*M)*B,this.mat3[2]=(w*y-m*v)*B,this.mat3[3]=C*B,this.mat3[4]=(x*g-m*_)*B,this.mat3[5]=(-w*g+m*b)*B,this.mat3[6]=T*B,this.mat3[7]=(-M*g+y*_)*B,this.mat3[8]=(v*g-y*b)*B,this):null}},{key:"transpose3x3",value:function(g){var y=(g=g===void 0?this.mat3:g)[1],m=g[2],b=g[5];return this.mat3[0]=g[0],this.mat3[1]=g[3],this.mat3[2]=g[6],this.mat3[3]=y,this.mat3[4]=g[4],this.mat3[5]=g[7],this.mat3[6]=m,this.mat3[7]=b,this.mat3[8]=g[8],this}},{key:"inverseTranspose",value:function(g){if(g=g.mat4,this.mat3===void 0?a.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=g[0],this.mat3[1]=g[1],this.mat3[2]=g[2],this.mat3[3]=g[4],this.mat3[4]=g[5],this.mat3[5]=g[6],this.mat3[6]=g[8],this.mat3[7]=g[9],this.mat3[8]=g[10]),g=this.invert3x3(),g)g.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this}},{key:"determinant",value:function(){var g=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],m=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],b=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],v=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],w=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],M=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],x=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],E=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],C=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return g*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*C+m*E+b*x-v*M+w*_}},{key:"mult",value:function(m){var y;if(m===this||m===this.mat4)y=this.copy().mat4;else if(m instanceof a.default.Matrix)y=m.mat4;else if(u(m))y=m;else{if(arguments.length!==16)return;y=arguments}var m=this.mat4[0],b=this.mat4[1],v=this.mat4[2],w=this.mat4[3];return this.mat4[0]=m*y[0]+b*y[4]+v*y[8]+w*y[12],this.mat4[1]=m*y[1]+b*y[5]+v*y[9]+w*y[13],this.mat4[2]=m*y[2]+b*y[6]+v*y[10]+w*y[14],this.mat4[3]=m*y[3]+b*y[7]+v*y[11]+w*y[15],m=this.mat4[4],b=this.mat4[5],v=this.mat4[6],w=this.mat4[7],this.mat4[4]=m*y[0]+b*y[4]+v*y[8]+w*y[12],this.mat4[5]=m*y[1]+b*y[5]+v*y[9]+w*y[13],this.mat4[6]=m*y[2]+b*y[6]+v*y[10]+w*y[14],this.mat4[7]=m*y[3]+b*y[7]+v*y[11]+w*y[15],m=this.mat4[8],b=this.mat4[9],v=this.mat4[10],w=this.mat4[11],this.mat4[8]=m*y[0]+b*y[4]+v*y[8]+w*y[12],this.mat4[9]=m*y[1]+b*y[5]+v*y[9]+w*y[13],this.mat4[10]=m*y[2]+b*y[6]+v*y[10]+w*y[14],this.mat4[11]=m*y[3]+b*y[7]+v*y[11]+w*y[15],m=this.mat4[12],b=this.mat4[13],v=this.mat4[14],w=this.mat4[15],this.mat4[12]=m*y[0]+b*y[4]+v*y[8]+w*y[12],this.mat4[13]=m*y[1]+b*y[5]+v*y[9]+w*y[13],this.mat4[14]=m*y[2]+b*y[6]+v*y[10]+w*y[14],this.mat4[15]=m*y[3]+b*y[7]+v*y[11]+w*y[15],this}},{key:"apply",value:function(m){var y;if(m===this||m===this.mat4)y=this.copy().mat4;else if(m instanceof a.default.Matrix)y=m.mat4;else if(u(m))y=m;else{if(arguments.length!==16)return;y=arguments}var m=this.mat4,b=m[0],v=m[4],w=m[8],_=m[12],b=(m[0]=y[0]*b+y[1]*v+y[2]*w+y[3]*_,m[4]=y[4]*b+y[5]*v+y[6]*w+y[7]*_,m[8]=y[8]*b+y[9]*v+y[10]*w+y[11]*_,m[12]=y[12]*b+y[13]*v+y[14]*w+y[15]*_,m[1]),v=m[5],w=m[9],_=m[13],b=(m[1]=y[0]*b+y[1]*v+y[2]*w+y[3]*_,m[5]=y[4]*b+y[5]*v+y[6]*w+y[7]*_,m[9]=y[8]*b+y[9]*v+y[10]*w+y[11]*_,m[13]=y[12]*b+y[13]*v+y[14]*w+y[15]*_,m[2]),v=m[6],w=m[10],_=m[14],b=(m[2]=y[0]*b+y[1]*v+y[2]*w+y[3]*_,m[6]=y[4]*b+y[5]*v+y[6]*w+y[7]*_,m[10]=y[8]*b+y[9]*v+y[10]*w+y[11]*_,m[14]=y[12]*b+y[13]*v+y[14]*w+y[15]*_,m[3]),v=m[7],w=m[11],_=m[15];return m[3]=y[0]*b+y[1]*v+y[2]*w+y[3]*_,m[7]=y[4]*b+y[5]*v+y[6]*w+y[7]*_,m[11]=y[8]*b+y[9]*v+y[10]*w+y[11]*_,m[15]=y[12]*b+y[13]*v+y[14]*w+y[15]*_,this}},{key:"scale",value:function(g,y,m){return g instanceof a.default.Vector?(y=g.y,m=g.z,g=g.x):g instanceof Array&&(y=g[1],m=g[2],g=g[0]),this.mat4[0]*=g,this.mat4[1]*=g,this.mat4[2]*=g,this.mat4[3]*=g,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=m,this.mat4[9]*=m,this.mat4[10]*=m,this.mat4[11]*=m,this}},{key:"rotate",value:function(Q,q,V,b){q instanceof a.default.Vector?(V=q.y,b=q.z,q=q.x):q instanceof Array&&(V=q[1],b=q[2],q=q[0]);var v=Math.sqrt(q*q+V*V+b*b),v=(q*=1/v,V*=1/v,b*=1/v,this.mat4[0]),w=this.mat4[1],_=this.mat4[2],M=this.mat4[3],x=this.mat4[4],E=this.mat4[5],C=this.mat4[6],T=this.mat4[7],B=this.mat4[8],P=this.mat4[9],F=this.mat4[10],j=this.mat4[11],O=Math.sin(Q),Q=Math.cos(Q),z=1-Q,k=q*q*z+Q,W=V*q*z+b*O,Y=b*q*z-V*O,te=q*V*z-b*O,R=V*V*z+Q,L=b*V*z+q*O,D=q*b*z+V*O,V=V*b*z-q*O,q=b*b*z+Q;return this.mat4[0]=v*k+x*W+B*Y,this.mat4[1]=w*k+E*W+P*Y,this.mat4[2]=_*k+C*W+F*Y,this.mat4[3]=M*k+T*W+j*Y,this.mat4[4]=v*te+x*R+B*L,this.mat4[5]=w*te+E*R+P*L,this.mat4[6]=_*te+C*R+F*L,this.mat4[7]=M*te+T*R+j*L,this.mat4[8]=v*D+x*V+B*q,this.mat4[9]=w*D+E*V+P*q,this.mat4[10]=_*D+C*V+F*q,this.mat4[11]=M*D+T*V+j*q,this}},{key:"translate",value:function(b){var y=b[0],m=b[1],b=b[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*m+this.mat4[8]*b,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*m+this.mat4[9]*b,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*m+this.mat4[10]*b,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*m+this.mat4[11]*b}},{key:"rotateX",value:function(g){this.rotate(g,1,0,0)}},{key:"rotateY",value:function(g){this.rotate(g,0,1,0)}},{key:"rotateZ",value:function(g){this.rotate(g,0,0,1)}},{key:"perspective",value:function(v,y,m,b){var v=1/Math.tan(v/2),w=1/(m-b);return this.mat4[0]=v/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=v,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(b+m)*w,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*b*m*w,this.mat4[15]=0,this}},{key:"ortho",value:function(g,y,m,b,v,w){var _=1/(g-y),M=1/(m-b),x=1/(v-w);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*M,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*x,this.mat4[11]=0,this.mat4[12]=(g+y)*_,this.mat4[13]=(b+m)*M,this.mat4[14]=(w+v)*x,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(g,y,m,b){var v=new Array(4),w=this.mat4;return v[0]=w[0]*g+w[4]*y+w[8]*m+w[12]*b,v[1]=w[1]*g+w[5]*y+w[9]*m+w[13]*b,v[2]=w[2]*g+w[6]*y+w[10]*m+w[14]*b,v[3]=w[3]*g+w[7]*y+w[11]*m+w[15]*b,v}},{key:"multiplyPoint",value:function(m){var b=m.x,y=m.y,m=m.z,b=this.multiplyVec4(b,y,m,1);return new a.default.Vector(b[0],b[1],b[2])}},{key:"multiplyAndNormalizePoint",value:function(m){var b=m.x,y=m.y,m=m.z,b=this.multiplyVec4(b,y,m,1);return b[0]/=b[3],b[1]/=b[3],b[2]/=b[3],new a.default.Vector(b[0],b[1],b[2])}},{key:"multiplyDirection",value:function(m){var b=m.x,y=m.y,m=m.z,b=this.multiplyVec4(b,y,m,0);return new a.default.Vector(b[0],b[1],b[2])}},{key:"mult3x3",value:function(m){var y;if(m===this||m===this.mat3)y=this.copy().mat3;else if(m instanceof a.default.Matrix)y=m.mat3;else if(u(m))y=m;else{if(arguments.length!==9)return;y=arguments}var m=this.mat3[0],b=this.mat3[1],v=this.mat3[2];return this.mat3[0]=m*y[0]+b*y[3]+v*y[6],this.mat3[1]=m*y[1]+b*y[4]+v*y[7],this.mat3[2]=m*y[2]+b*y[5]+v*y[8],m=this.mat3[3],b=this.mat3[4],v=this.mat3[5],this.mat3[3]=m*y[0]+b*y[3]+v*y[6],this.mat3[4]=m*y[1]+b*y[4]+v*y[7],this.mat3[5]=m*y[2]+b*y[5]+v*y[8],m=this.mat3[6],b=this.mat3[7],v=this.mat3[8],this.mat3[6]=m*y[0]+b*y[3]+v*y[6],this.mat3[7]=m*y[1]+b*y[4]+v*y[7],this.mat3[8]=m*y[2]+b*y[5]+v*y[8],this}},{key:"column",value:function(g){return new a.default.Vector(this.mat3[3*g],this.mat3[3*g+1],this.mat3[3*g+2])}},{key:"row",value:function(g){return new a.default.Vector(this.mat3[g],this.mat3[g+3],this.mat3[g+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(g,y){return(y=y===void 0?g.copy():y).x=this.row(0).dot(g),y.y=this.row(1).dot(g),y.z=this.row(2).dot(g),y}},{key:"createSubMatrix3x3",value:function(){var g=new a.default.Matrix("mat3");return g.mat3[0]=this.mat4[0],g.mat3[1]=this.mat4[1],g.mat3[2]=this.mat4[2],g.mat3[3]=this.mat4[4],g.mat3[4]=this.mat4[5],g.mat3[5]=this.mat4[6],g.mat3[6]=this.mat4[8],g.mat3[7]=this.mat4[9],g.mat3[8]=this.mat4[10],g}}])&&A(c.prototype,h),f&&A(c,f),d}(),a.default.Matrix);s.default=p},{"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.to-string":182,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231}],329:[function(t,o,s){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(A,l){for(var u=0;u<l.length;u++){var p=l[u];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(A,p.key,p)}}t.default.RenderBuffer=function(){function A(p,d,c,h,f,g){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.size=p,this.src=d,this.dst=c,this.attr=h,this._renderer=f,this.map=g}var l,u;return l=A,(u=[{key:"_prepareBuffer",value:function(p,d){var c,h,f,m=d.attributes,g=this._renderer.GL,y=p.model||p,m=m[this.attr];m&&(c=p[this.dst],0<(h=y[this.src]).length?((f=!c)&&(p[this.dst]=c=g.createBuffer()),g.bindBuffer(g.ARRAY_BUFFER,c),!f&&y.dirtyFlags[this.src]===!1||(f=(p=this.map)?p(h):h,this._renderer._bindBuffer(c,g.ARRAY_BUFFER,f),y.dirtyFlags[this.src]=!1),d.enableAttrib(m,this.size)):(p=m.location)!==-1&&this._renderer.registerEnabled.has(p)&&(g.disableVertexAttribArray(p),this._renderer.registerEnabled.delete(p)))}}])&&a(l.prototype,u),A}(),t=t.default.RenderBuffer,s.default=t},{"../core/main":275,"core-js/modules/es.array.map":164}],330:[function(t,o,s){function a(f){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(f)}function A(f){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(g){return a(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":a(g)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(h=t("../core/main"))&&h.__esModule?h:{default:h},u=function(f){if(f&&f.__esModule)return f;if(f===null||A(f)!=="object"&&typeof f!="function")return{default:f};var g=p();if(g&&g.has(f))return g.get(f);var y,m={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(y in f){var v;Object.prototype.hasOwnProperty.call(f,y)&&((v=b?Object.getOwnPropertyDescriptor(f,y):null)&&(v.get||v.set)?Object.defineProperty(m,y,v):m[y]=f[y])}return m.default=f,g&&g.set(f,m),m}(t("../core/constants"));function p(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,p=function(){return f},f)}function d(f){return function(g){if(Array.isArray(g)){for(var y=0,m=new Array(g.length);y<g.length;y++)m[y]=g[y];return m}}(f)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),l.default.RendererGL.prototype.beginShape=function(f){return this.immediateMode.shapeMode=f!==void 0?f:u.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(l.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==u.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},l.default.RendererGL.prototype.vertex=function(f,g){if(this.immediateMode.shapeMode===u.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var y in c){var m=c[y],y=this.immediateMode.geometry[y];y.push.apply(y,d(y.slice(y.length-3*m,y.length-2*m)).concat(d(y.slice(y.length-m,y.length))))}var b,v,w=b=v=0,_=(arguments.length===3?w=arguments[2]:arguments.length===4?(b=arguments[2],v=arguments[3]):arguments.length===5&&(w=arguments[2],b=arguments[3],v=arguments[4]),new l.default.Vector(f,g,w)),_=(this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),_=(this.immediateMode.geometry.vertexColors.push(_[0],_[1],_[2],_[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(_[0],_[1],_[2],_[3]),this.textureMode!==u.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(b/=this._tex.width,v/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(b,v),this.immediateMode._bezierVertex[0]=f,this.immediateMode._bezierVertex[1]=g,this.immediateMode._bezierVertex[2]=w,this.immediateMode._quadraticVertex[0]=f,this.immediateMode._quadraticVertex[1]=g,this.immediateMode._quadraticVertex[2]=w,this},l.default.RendererGL.prototype.normal=function(f,g,y){return f instanceof l.default.Vector?this._currentNormal=f:this._currentNormal=new l.default.Vector(f,g,y),this},l.default.RendererGL.prototype.endShape=function(f,g,y,m,b,v){var w=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===u.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===u.TESS&&(this.immediateMode.shapeMode,u.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this.immediateMode.shapeMode!==u.LINE_STRIP&&this.immediateMode.shapeMode!==u.LINES||(this.immediateMode.shapeMode=u.TRIANGLE_FAN),this.immediateMode.shapeMode===u.QUADS?this.immediateMode.shapeMode=u.TRIANGLES:this.immediateMode.shapeMode===u.QUAD_STRIP&&(this.immediateMode.shapeMode=u.TRIANGLE_STRIP),this._doFill&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(w),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},l.default.RendererGL.prototype._processVertices=function(f){var g;this.immediateMode.geometry.vertices.length!==0&&(g=this._doStroke,f=f===u.CLOSE,g&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,f),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),g=this.immediateMode.shapeMode===u.TESS,f=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||g||f)&&this.immediateMode.shapeMode!==u.LINES&&this._tesselateShape())},l.default.RendererGL.prototype._calculateEdges=function(f,g,y){var m=[],b=0,v=this.immediateMode.contourIndices.slice(),w=0;switch(f){case u.TRIANGLE_STRIP:for(b=0;b<g.length-2;b++)m.push([b,b+1]),m.push([b,b+2]);m.push([b,b+1]);break;case u.TRIANGLE_FAN:for(b=1;b<g.length-1;b++)m.push([0,b]),m.push([b,b+1]);m.push([0,g.length-1]);break;case u.TRIANGLES:for(b=0;b<g.length-2;b+=3)m.push([b,b+1]),m.push([b+1,b+2]),m.push([b+2,b]);break;case u.LINES:for(b=0;b<g.length-1;b+=2)m.push([b,b+1]);break;case u.QUADS:for(b=0;b<g.length-5;b+=6)m.push([b,b+1]),m.push([b+1,b+2]),m.push([b+3,b+5]),m.push([b+4,b+5]);break;case u.QUAD_STRIP:for(b=0;b<g.length-2;b+=2)m.push([b,b+1]),m.push([b,b+2]),m.push([b+1,b+3]);m.push([b,b+1]);break;default:for(b=0;b<g.length;b++)b+1<g.length&&b+1!==v[0]?m.push([b,b+1]):((y||w)&&m.push([b,w]),0<v.length&&(w=v.shift()))}return f!==u.TESS&&y&&m.push([g.length-1,0]),m},l.default.RendererGL.prototype._tesselateShape=function(){for(var f=this,g=(this.immediateMode.shapeMode=u.TRIANGLES,[[]]),y=0;y<this.immediateMode.geometry.vertices.length;y++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===y&&(this.immediateMode.contourIndices.shift(),g.push([])),g[g.length-1].push(this.immediateMode.geometry.vertices[y].x,this.immediateMode.geometry.vertices[y].y,this.immediateMode.geometry.vertices[y].z,this.immediateMode.geometry.uvs[2*y],this.immediateMode.geometry.uvs[2*y+1],this.immediateMode.geometry.vertexColors[4*y],this.immediateMode.geometry.vertexColors[4*y+1],this.immediateMode.geometry.vertexColors[4*y+2],this.immediateMode.geometry.vertexColors[4*y+3],this.immediateMode.geometry.vertexNormals[y].x,this.immediateMode.geometry.vertexNormals[y].y,this.immediateMode.geometry.vertexNormals[y].z);for(var m,b=this._triangulate(g),v=this.immediateMode.geometry.vertices,w=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,M=b.length;_<M;_+=l.default.RendererGL.prototype.tessyVertexSize)w.push.apply(w,d(b.slice(_+5,_+9))),this.normal.apply(this,d(b.slice(_+9,_+12))),this.vertex.apply(this,d(b.slice(_,_+5)));this.geometryBuilder&&(m=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(x){return x.map(function(E){if(!m.has(E)){var C=v[E],T=f.immediateMode.geometry.vertices.findIndex(function(z){return C.x===z.x&&C.y===z.y&&C.z===z.z});if(T===-1){for(var B=1/0,P=0,F=0;F<f.immediateMode.geometry.vertices.length;F++){var O=f.immediateMode.geometry.vertices[F],Q=C.x-O.x,j=C.y-O.y,O=C.z-O.z,Q=Q*Q+j*j+O*O;Q<B&&(B=Q,P=F)}T=P}m.set(E,T)}return m.get(E)})})),this.immediateMode.geometry.vertexColors=w},l.default.RendererGL.prototype._drawImmediateFill=function(){var f,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,y=this.GL,m=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,f=this._getImmediateFillShader(),this._setFillUniforms(f),!0),b=!1,v=void 0;try{for(var w,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(m=(w=_.next()).done);m=!0)w.value._prepareBuffer(this.immediateMode.geometry,f)}catch(M){b=!0,v=M}finally{try{m||_.return==null||_.return()}finally{if(b)throw v}}if(f.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor),g===1)y.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{y.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,g)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}f.unbindShader()},l.default.RendererGL.prototype._drawImmediateStroke=function(){var f=this.GL,g=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),y=(this._setStrokeUniforms(g),!0),m=!1,b=void 0;try{for(var v,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(y=(v=w.next()).done);y=!0)v.value._prepareBuffer(this.immediateMode.geometry,g)}catch(_){m=!0,b=_}finally{try{y||w.return==null||w.return()}finally{if(m)throw b}}g.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),f.drawArrays(f.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),g.unbindShader()},l.default.RendererGL);s.default=h},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.find-index":156,"core-js/modules/es.array.from":158,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.map":164,"core-js/modules/es.array.slice":165,"core-js/modules/es.map":169,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],331:[function(t,o,s){function a(c){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(c)}function A(c){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(h){return a(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":a(h)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=(d=t("../core/main"))&&d.__esModule?d:{default:d},u=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||A(c)!=="object"&&typeof c!="function")return{default:c};var h=p();if(h&&h.has(c))return h.get(c);var f,g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in c){var m;Object.prototype.hasOwnProperty.call(c,f)&&((m=y?Object.getOwnPropertyDescriptor(c,f):null)&&(m.get||m.set)?Object.defineProperty(g,f,m):g[f]=c[f])}return g.default=c,h&&h.set(c,g),g}(t("../core/constants")));function p(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,p=function(){return c},c)}l.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")},l.default.RendererGL.prototype._initBufferDefaults=function(c){var h;return this._freeBuffers(c),1e3<Object.keys(this.retainedMode.geometry).length&&(h=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(h)),this.retainedMode.geometry[c]={}},l.default.RendererGL.prototype._freeBuffers=function(c){var h,f=this.retainedMode.geometry[c];function g(y){var m=!0,b=!1,v=void 0;try{for(var w,_=y[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var M=w.value;f[M.dst]&&(h.deleteBuffer(f[M.dst]),f[M.dst]=null)}}catch(x){b=!0,v=x}finally{try{m||_.return==null||_.return()}finally{if(b)throw v}}}f&&(delete this.retainedMode.geometry[c],h=this.GL,f.indexBuffer&&h.deleteBuffer(f.indexBuffer),g(this.retainedMode.buffers.stroke),g(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(b,h){var f,g,y,m=this.GL,b=this._initBufferDefaults(b),v=(b.model=h,b.indexBuffer);return h.faces.length?(v=v||(b.indexBuffer=m.createBuffer()),y=(g=(f=l.default.RendererGL.prototype._flatten(h.faces)).some(function(w){return 65535<w}))?Uint32Array:Uint16Array,this._bindBuffer(v,m.ELEMENT_ARRAY_BUFFER,f,y),b.indexBufferType=g?m.UNSIGNED_INT:m.UNSIGNED_SHORT,b.vertexCount=3*h.faces.length):(v&&(m.deleteBuffer(v),b.indexBuffer=null),b.vertexCount=h.vertices?h.vertices.length:0),b.lineVertexCount=h.lineVertices?h.lineVertices.length/3:0,b},l.default.RendererGL.prototype.drawBuffers=function(c){var h=this.GL,f=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<f.model.vertexColors.length;var g=this._getRetainedFillShader(),y=(this._setFillUniforms(g),!0),m=!1,b=void 0;try{for(var v,w=this.retainedMode.buffers.fill[Symbol.iterator]();!(y=(v=w.next()).done);y=!0)v.value._prepareBuffer(f,g)}catch(C){m=!0,b=C}finally{try{y||w.return==null||w.return()}finally{if(m)throw b}}g.disableRemainingAttributes(),f.indexBuffer&&this._bindBuffer(f.indexBuffer,h.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(h.TRIANGLES,c),g.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<f.lineVertexCount){this._useLineColor=0<f.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),M=(this._setStrokeUniforms(_),!0),m=!1,b=void 0;try{for(var x,E=this.retainedMode.buffers.stroke[Symbol.iterator]();!(M=(x=E.next()).done);M=!0)x.value._prepareBuffer(f,_)}catch(B){m=!0,b=B}finally{try{M||E.return==null||E.return()}finally{if(m)throw b}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor),this._drawArrays(h.TRIANGLES,c),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(f),this},l.default.RendererGL.prototype.drawBuffersScaled=function(c,h,f,g){var y=this.uMVMatrix.copy();try{this.uMVMatrix.scale(h,f,g),this.drawBuffers(c)}finally{this.uMVMatrix=y}},l.default.RendererGL.prototype._drawArrays=function(c,h){return this.GL.drawArrays(c,0,this.retainedMode.geometry[h].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(c,f){var f=this.retainedMode.geometry[f],g=this.GL;if(f.indexBuffer){if(this._pInst.webglVersion!==u.WEBGL2&&f.indexBufferType===g.UNSIGNED_INT&&!g.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");g.drawElements(g.TRIANGLES,f.vertexCount,f.indexBufferType,0)}else g.drawArrays(c||g.TRIANGLES,0,f.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(c,h){var f=this.GL,g=this._getImmediatePointShader();this._setPointUniforms(g),this._bindBuffer(h,f.ARRAY_BUFFER,this._vToNArray(c),Float32Array,f.STATIC_DRAW),g.enableAttrib(g.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),f.drawArrays(f.Points,0,c.length),g.unbindShader()};var d=l.default.RendererGL;s.default=d},{"../core/constants":264,"../core/main":275,"./p5.RenderBuffer":329,"./p5.RendererGL":332,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.some":166,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],332:[function(F,o,s){function a(k){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(k)}function A(k){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(W){return a(W)}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":a(W)})(k)}F("core-js/modules/es.symbol"),F("core-js/modules/es.symbol.description"),F("core-js/modules/es.symbol.iterator"),F("core-js/modules/es.array.concat"),F("core-js/modules/es.array.copy-within"),F("core-js/modules/es.array.every"),F("core-js/modules/es.array.fill"),F("core-js/modules/es.array.from"),F("core-js/modules/es.array.includes"),F("core-js/modules/es.array.iterator"),F("core-js/modules/es.array.slice"),F("core-js/modules/es.array.some"),F("core-js/modules/es.map"),F("core-js/modules/es.object.assign"),F("core-js/modules/es.object.get-own-property-descriptor"),F("core-js/modules/es.object.get-prototype-of"),F("core-js/modules/es.object.to-string"),F("core-js/modules/es.reflect.construct"),F("core-js/modules/es.reflect.get"),F("core-js/modules/es.regexp.to-string"),F("core-js/modules/es.set"),F("core-js/modules/es.string.includes"),F("core-js/modules/es.string.iterator"),F("core-js/modules/es.typed-array.float32-array"),F("core-js/modules/es.typed-array.float64-array"),F("core-js/modules/es.typed-array.int16-array"),F("core-js/modules/es.typed-array.uint8-array"),F("core-js/modules/es.typed-array.uint16-array"),F("core-js/modules/es.typed-array.uint32-array"),F("core-js/modules/es.typed-array.copy-within"),F("core-js/modules/es.typed-array.every"),F("core-js/modules/es.typed-array.fill"),F("core-js/modules/es.typed-array.filter"),F("core-js/modules/es.typed-array.find"),F("core-js/modules/es.typed-array.find-index"),F("core-js/modules/es.typed-array.for-each"),F("core-js/modules/es.typed-array.includes"),F("core-js/modules/es.typed-array.index-of"),F("core-js/modules/es.typed-array.iterator"),F("core-js/modules/es.typed-array.join"),F("core-js/modules/es.typed-array.last-index-of"),F("core-js/modules/es.typed-array.map"),F("core-js/modules/es.typed-array.reduce"),F("core-js/modules/es.typed-array.reduce-right"),F("core-js/modules/es.typed-array.reverse"),F("core-js/modules/es.typed-array.set"),F("core-js/modules/es.typed-array.slice"),F("core-js/modules/es.typed-array.some"),F("core-js/modules/es.typed-array.sort"),F("core-js/modules/es.typed-array.subarray"),F("core-js/modules/es.typed-array.to-locale-string"),F("core-js/modules/es.typed-array.to-string"),F("core-js/modules/es.weak-map"),F("core-js/modules/web.dom-collections.iterator"),F("core-js/modules/es.symbol"),F("core-js/modules/es.symbol.description"),F("core-js/modules/es.symbol.iterator"),F("core-js/modules/es.array.concat"),F("core-js/modules/es.array.copy-within"),F("core-js/modules/es.array.every"),F("core-js/modules/es.array.fill"),F("core-js/modules/es.array.from"),F("core-js/modules/es.array.includes"),F("core-js/modules/es.array.iterator"),F("core-js/modules/es.array.slice"),F("core-js/modules/es.array.some"),F("core-js/modules/es.map"),F("core-js/modules/es.object.assign"),F("core-js/modules/es.object.to-string"),F("core-js/modules/es.set"),F("core-js/modules/es.string.includes"),F("core-js/modules/es.string.iterator"),F("core-js/modules/es.typed-array.float32-array"),F("core-js/modules/es.typed-array.float64-array"),F("core-js/modules/es.typed-array.int16-array"),F("core-js/modules/es.typed-array.uint8-array"),F("core-js/modules/es.typed-array.uint16-array"),F("core-js/modules/es.typed-array.uint32-array"),F("core-js/modules/es.typed-array.copy-within"),F("core-js/modules/es.typed-array.every"),F("core-js/modules/es.typed-array.fill"),F("core-js/modules/es.typed-array.filter"),F("core-js/modules/es.typed-array.find"),F("core-js/modules/es.typed-array.find-index"),F("core-js/modules/es.typed-array.for-each"),F("core-js/modules/es.typed-array.includes"),F("core-js/modules/es.typed-array.index-of"),F("core-js/modules/es.typed-array.iterator"),F("core-js/modules/es.typed-array.join"),F("core-js/modules/es.typed-array.last-index-of"),F("core-js/modules/es.typed-array.map"),F("core-js/modules/es.typed-array.reduce"),F("core-js/modules/es.typed-array.reduce-right"),F("core-js/modules/es.typed-array.reverse"),F("core-js/modules/es.typed-array.set"),F("core-js/modules/es.typed-array.slice"),F("core-js/modules/es.typed-array.some"),F("core-js/modules/es.typed-array.sort"),F("core-js/modules/es.typed-array.subarray"),F("core-js/modules/es.typed-array.to-locale-string"),F("core-js/modules/es.typed-array.to-string"),F("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.readPixelsWebGL=Q,s.readPixelWebGL=z,s.default=void 0;var l=f(F("../core/main")),u=function(k){if(k&&k.__esModule)return k;if(k===null||A(k)!=="object"&&typeof k!="function")return{default:k};var W=h();if(W&&W.has(k))return W.get(k);var Y,te={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Y in k){var L;Object.prototype.hasOwnProperty.call(k,Y)&&((L=R?Object.getOwnPropertyDescriptor(k,Y):null)&&(L.get||L.set)?Object.defineProperty(te,Y,L):te[Y]=k[Y])}return te.default=k,W&&W.set(k,te),te}(F("../core/constants")),p=f(F("./GeometryBuilder")),d=f(F("libtess")),c=(F("./p5.Shader"),F("./p5.Camera"),F("../core/p5.Renderer"),F("./p5.Matrix"),F("./p5.Framebuffer"),F("path"),F("./p5.Texture"));function h(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,h=function(){return k},k)}function f(k){return k&&k.__esModule?k:{default:k}}function g(k){return function(W){if(Array.isArray(W)){for(var Y=0,te=new Array(W.length);Y<W.length;Y++)te[Y]=W[Y];return te}}(k)||function(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(k,W){for(var Y=0;Y<W.length;Y++){var te=W[Y];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(k,te.key,te)}}function m(k,W,Y){return(m=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(D,R,L){var D=function(V,q){for(;!Object.prototype.hasOwnProperty.call(V,q)&&(V=_(V))!==null;);return V}(D,R);if(D)return(D=Object.getOwnPropertyDescriptor(D,R)).get?D.get.call(L):D.value})(k,W,Y||k)}function b(k,W){return(b=Object.setPrototypeOf||function(Y,te){return Y.__proto__=te,Y})(k,W)}function v(k){return function(){var W,Y,te=_(k);return W=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(W=_(this).constructor,Reflect.construct(te,arguments,W)):te.apply(this,arguments),te=this,!(Y=W)||A(Y)!=="object"&&typeof Y!="function"?w(te):Y}}function w(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function _(k){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(k)}function M(k,W,Y){W in k?Object.defineProperty(k,W,{value:Y,enumerable:!0,configurable:!0,writable:!0}):k[W]=Y}function x(k,W){P+="#define STROKE_CAP_".concat(k," ").concat(W,`
`),T[u[k]]=W}function E(k,W){P+="#define STROKE_JOIN_".concat(k," ").concat(W,`
`),B[u[k]]=W}var C,T={},B={},P="",F=(x("ROUND",0),x("PROJECT",1),x("SQUARE",2),E("ROUND",0),E("MITER",1),E("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return smoothstep(vec3(0.0), vec3(0.8), texture.xyz);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal);
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return pow(outColor.xyz, vec3(10.0));
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),j={immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:F+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:F+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:P+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:P+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.025;
	float nrSamples = 0.0;
  
	for(float phi = 0.0; phi < 2.0 * PI; phi += sampleDelta)
	{
    for(float theta = 0.0; theta < ( 0.5 ) * PI; theta += sampleDelta)
    {
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 1024; // 4096\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
	if (n > 0)\r
	{\r
  	denom = mod(float(n), 2.0);\r
  	result += denom * invBase;\r
  	invBase = invBase / 2.0;\r
  	n = int(float(n) / 2.0);\r
	}\r
  }\r
\r
  return result;\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`};for(C in j)j[C]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+j[C];M(F={},u.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),M(F,u.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),M(F,u.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),M(F,u.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),M(F,u.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),M(F,u.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),M(F,u.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),M(F,u.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var O=F;function Q(k,W,fe,te,R,L,D,V,q,Z){var se=W.getParameter(W.FRAMEBUFFER_BINDING),fe=(W.bindFramebuffer(W.FRAMEBUFFER,fe),V===W.RGBA?4:3),be=L*D*fe,pe=q===W.UNSIGNED_BYTE?Uint8Array:Float32Array;if(k instanceof pe&&k.length===be||(k=new pe(be)),W.readPixels(te,Z?Z-R-D:R,L,D,V,q,k),W.bindFramebuffer(W.FRAMEBUFFER,se),Z)for(var Ae=Math.floor(D/2),ge=new pe(L*fe),ce=0;ce<Ae;ce++){var de=ce*L*4,oe=(D-ce-1)*L*4;ge.set(k.subarray(de,de+4*L)),k.copyWithin(de,oe,oe+4*L),k.set(ge,oe)}return k}function z(k,q,Y,te,R,L,D){var V=k.getParameter(k.FRAMEBUFFER_BINDING),q=(k.bindFramebuffer(k.FRAMEBUFFER,q),R===k.RGBA?4:3),q=new(L===k.UNSIGNED_BYTE?Uint8Array:Float32Array)(q);return k.readPixels(Y,D?D-te-1:te,1,1,R,L,q),k.bindFramebuffer(k.FRAMEBUFFER,V),Array.from(q)}l.default.prototype.setAttributes=function(k,W){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Y=!0;if(W!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[k]!==W&&(this._glAttributes[k]=W,Y=!1)):k instanceof Object&&this._glAttributes!==k&&(this._glAttributes=k,Y=!1),this._renderer.isP3D&&!Y){if(!this._setupDone){for(var te in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(te))return void l.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},l.default.RendererGL=function(k){var W=te;if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(k&&k.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),k&&b(W,k);var Y=v(te);function te(R,L,D,V){if(this instanceof te)return(R=Y.call(this,R,L,D))._setAttributeDefaults(L),R._initContext(),R.isP3D=!0,R.geometryBuilder=void 0,R.GL=R.drawingContext,R._pInst._setProperty("drawingContext",R.drawingContext),R._isErasing=!1,R._clipDepths=[],R._isClipApplied=!1,R._stencilTestOn=!1,R._enableLighting=!1,R.ambientLightColors=[],R.specularColors=[1,1,1],R.directionalLightDirections=[],R.directionalLightDiffuseColors=[],R.directionalLightSpecularColors=[],R.pointLightPositions=[],R.pointLightDiffuseColors=[],R.pointLightSpecularColors=[],R.spotLightPositions=[],R.spotLightDirections=[],R.spotLightDiffuseColors=[],R.spotLightSpecularColors=[],R.spotLightAngle=[],R.spotLightConc=[],R.activeImageLight=null,R.diffusedTextures=new Map,R.specularTextures=new Map,R.drawMode=u.FILL,R.curFillColor=R._cachedFillStyle=[1,1,1,1],R.curAmbientColor=R._cachedFillStyle=[1,1,1,1],R.curSpecularColor=R._cachedFillStyle=[0,0,0,0],R.curEmissiveColor=R._cachedFillStyle=[0,0,0,0],R.curStrokeColor=R._cachedStrokeStyle=[0,0,0,1],R.curBlendMode=u.BLEND,R._cachedBlendMode=void 0,R.webglVersion===u.WEBGL2?R.blendExt=R.GL:R.blendExt=R.GL.getExtension("EXT_blend_minmax"),R._isBlending=!1,R._hasSetAmbient=!1,R._useSpecularMaterial=!1,R._useEmissiveMaterial=!1,R._useNormalMaterial=!1,R._useShininess=1,R._useLineColor=!1,R._useVertexColor=!1,R.registerEnabled=new Set,R._tint=[255,255,255,255],R.constantAttenuation=1,R.linearAttenuation=0,R.quadraticAttenuation=0,R.uMVMatrix=new l.default.Matrix,R.uPMatrix=new l.default.Matrix,R.uNMatrix=new l.default.Matrix("mat3"),R._currentNormal=new l.default.Vector(0,0,1),R._curCamera=new l.default.Camera(w(R)),R._curCamera._computeCameraDefaultSettings(),R._curCamera._setDefaultCamera(),R.filterCamera=new l.default.Camera(w(R)),R.filterCamera._computeCameraDefaultSettings(),R.filterCamera._setDefaultCamera(),R.prevTouches=[],R.zoomVelocity=0,R.rotateVelocity=new l.default.Vector(0,0),R.moveVelocity=new l.default.Vector(0,0),R.executeZoom=!1,R.executeRotateAndMove=!1,R._defaultLightShader=void 0,R._defaultImmediateModeShader=void 0,R._defaultNormalShader=void 0,R._defaultColorShader=void 0,R._defaultPointShader=void 0,R.userFillShader=void 0,R.userStrokeShader=void 0,R.userPointShader=void 0,R.retainedMode={geometry:{},buffers:{stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",w(R)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",w(R)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",w(R)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",w(R)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",w(R))],fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(R),R._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",w(R),R._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",w(R)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",w(R)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(R),R._flatten)],text:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(R),R._vToNArray),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(R),R._flatten)]}},R.immediateMode={geometry:new l.default.Geometry,shapeMode:u.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new l.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",w(R),R._vToNArray),new l.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",w(R),R._vToNArray),new l.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",w(R)),new l.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",w(R)),new l.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",w(R),R._flatten)],stroke:[new l.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",w(R)),new l.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",w(R)),new l.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",w(R)),new l.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",w(R)),new l.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",w(R))],point:R.GL.createBuffer()}},R.pointSize=5,R.curStrokeWeight=1,R.curStrokeCap=u.ROUND,R.curStrokeJoin=u.ROUND,R.textures=new Map,R.framebuffers=new Set,R.activeFramebuffers=[],R.filterShader=void 0,R.filterLayer=void 0,R.filterLayerTemp=void 0,R.defaultFilterShaders={},R.textureMode=u.IMAGE,R.textureWrapX=u.CLAMP,R.textureWrapY=u.CLAMP,R._tex=null,R._curveTightness=6,R._lookUpTableBezier=[],R._lookUpTableQuadratic=[],R._lutBezierDetail=0,R._lutQuadraticDetail=0,R.isProcessingVertices=!1,R._tessy=R._initTessy(),R.fontInfos={},R._curShader=void 0,R;throw new TypeError("Cannot call a class as a function")}return W=te,(k=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new p.default(this)}},{key:"endGeometry",value:function(){var R;if(this.geometryBuilder)return R=this.geometryBuilder.finish(),this.geometryBuilder=void 0,R;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(R){return this.beginGeometry(),R(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(R){var L={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};R._glAttributes===null?R._glAttributes=L:R._glAttributes=Object.assign(L,R._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?u.WEBGL2:u.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var R=this.drawingContext;R.enable(R.DEPTH_TEST),R.depthFunc(R.LEQUAL),R.viewport(0,0,R.drawingBufferWidth,R.drawingBufferHeight),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(R,L){var D,V=this.width,q=this.height,se=this.canvas.id,Z=this._pInst instanceof l.default.Graphics,se=(Z?((D=this._pInst).canvas.parentNode.removeChild(D.canvas),D.canvas=document.createElement("canvas"),(D._pInst._userNode||document.body).appendChild(D.canvas),l.default.Element.call(D,D.canvas,D._pInst),D.width=V,D.height=q):((D=this.canvas)&&D.parentNode.removeChild(D),(D=document.createElement("canvas")).id=se,(this._pInst._userNode||document.body).appendChild(D),this._pInst.canvas=D,this.canvas=D),new l.default.RendererGL(this._pInst.canvas,this._pInst,!Z));this._pInst._setProperty("_renderer",se),se.resize(V,q),se._applyDefaults(),Z||this._pInst._elements.push(se),typeof L=="function"&&setTimeout(function(){L.apply(window._renderer,R)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var V=(V=this._pInst).color.apply(V,arguments),R=V.levels[0]/255,L=V.levels[1]/255,D=V.levels[2]/255,V=V.levels[3]/255;this.clear(R,L,D,V)}},{key:"fill",value:function(R,L,D,V){var q=l.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=q._array,this.drawMode=u.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(R,L,D,V){var q=l.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=q._array}},{key:"strokeCap",value:function(R){this.curStrokeCap=R}},{key:"strokeJoin",value:function(R){this.curStrokeJoin=R}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(R,L){R.width===L.width&&R.height===L.height||R.resize(L.width,L.height),R.pixelDensity()!==L.pixelDensity()&&R.pixelDensity(L.pixelDensity())}},{key:"filter",value:function(){var R,L,D=this,V=this.getFilterLayer(),q=void 0,Z=void 0,se=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(Z=arguments.length<=0?void 0:arguments[0],M(R={},u.BLUR,3),M(R,u.POSTERIZE,4),M(R,u.THRESHOLD,.5),q=Z in(R=R)&&(arguments.length<=1?void 0:arguments[1])===void 0?R[Z]:arguments.length<=1?void 0:arguments[1],Z in this.defaultFilterShaders||(this.defaultFilterShaders[Z]=new l.default.Shader(V._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,O[Z])),this.filterShader=this.defaultFilterShaders[Z]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),fe=(this.matchSize(V,se),se!==this&&(this.filterCamera=this.getFilterLayer().createCamera()),V.draw(function(){return D._pInst.clear()}),[1/(se.width*se.pixelDensity()),1/(se.height*se.pixelDensity())]);Z===u.BLUR?(L=this.getFilterLayerTemp(),this.matchSize(L,se),this._pInst.push(),this._pInst.noStroke(),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",fe),this.filterShader.setUniform("canvasSize",[se.width,se.height]),this.filterShader.setUniform("radius",Math.max(1,q)),L.draw(function(){D.filterShader.setUniform("direction",[1,0]),D.filterShader.setUniform("tex0",se),D._pInst.clear(),D._pInst.shader(D.filterShader),D._pInst.rect(-se.width/2,-se.height/2,se.width,se.height)}),V.draw(function(){D.filterShader.setUniform("direction",[0,1]),D.filterShader.setUniform("tex0",L),D._pInst.clear(),D._pInst.shader(D.filterShader),D._pInst.rect(-se.width/2,-se.height/2,se.width,se.height)}),this._pInst.pop()):V.draw(function(){D._pInst.noStroke(),D._pInst.shader(D.filterShader),D.filterShader.setUniform("tex0",se),D.filterShader.setUniform("texelSize",fe),D.filterShader.setUniform("canvasSize",[se.width,se.height]),D.filterShader.setUniform("filterParameter",q),D._pInst.rect(-se.width/2,-se.height/2,se.width,se.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(u.CORNER),this._pInst.blendMode(u.BLEND),this.filterCamera._resize(),this._pInst.setCamera(this.filterCamera),this._pInst.resetMatrix(),this._pInst.image(V,-this.width/2,-this.height/2,this.width,this.height),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(R){return R?this._pInst.pixelDensity(R):this._pInst.pixelDensity()}},{key:"blendMode",value:function(R){R===u.DARKEST||R===u.LIGHTEST||R===u.ADD||R===u.BLEND||R===u.SUBTRACT||R===u.SCREEN||R===u.EXCLUSION||R===u.REPLACE||R===u.MULTIPLY||R===u.REMOVE?this.curBlendMode=R:R!==u.BURN&&R!==u.OVERLAY&&R!==u.HARD_LIGHT&&R!==u.SOFT_LIGHT&&R!==u.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(R,L){this._isErasing||(this._cachedBlendMode=this.curBlendMode,this._isErasing=!0,this.blendMode(u.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,R/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,L/255])}},{key:"noErase",value:function(){var R;this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),R=this.curBlendMode,this.blendMode(this._cachedBlendMode),this._cachedBlendMode=R,this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var R=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},R=(m(_(te.prototype),"beginClip",this).call(this,R),this.drawTarget()._isClipApplied=!0,this.GL);R.clearStencil(0),R.clear(R.STENCIL_BUFFER_BIT),R.enable(R.STENCIL_TEST),this._stencilTestOn=!0,R.stencilFunc(R.ALWAYS,1,255),R.stencilOp(R.KEEP,R.KEEP,R.REPLACE),R.disable(R.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var R=this.GL;R.stencilOp(R.KEEP,R.KEEP,R.KEEP),R.stencilFunc(this._clipInvert?R.EQUAL:R.NOTEQUAL,0,255),R.enable(R.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),m(_(te.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(R){this.curStrokeWeight!==R&&(this.pointSize=R,this.curStrokeWeight=R)}},{key:"_getPixel",value:function(R,L){var D=this.GL;return z(D,null,R,L,D.RGBA,D.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var R,L,D=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(R=this._pInst._pixelDensity,L=this.GL,D._setProperty("pixels",Q(D.pixels,L,null,0,0,this.width*R,this.height*R,L.RGBA,L.UNSIGNED_BYTE,this.height*R)))}},{key:"updatePixels",value:function(){var R=this._getTempFramebuffer();R.pixels=this._pixelsState.pixels,R.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(u.CENTER),this._pInst.image(R,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:u.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:u.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(R){return this.retainedMode.geometry[R]!==void 0}},{key:"viewport",value:function(R,L){this._viewport=[0,0,R,L],this.GL.viewport(0,0,R,L)}},{key:"resize",value:function(q,V){l.default.Renderer.prototype.resize.call(this,q,V),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var q=this._pixelsState,D=(q.pixels!==void 0&&q._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),V=!1,q=void 0;try{for(var Z,se=this.framebuffers[Symbol.iterator]();!(D=(Z=se.next()).done);D=!0)Z.value._canvasSizeChanged()}catch(fe){V=!0,q=fe}finally{try{D||se.return==null||se.return()}finally{if(V)throw q}}}},{key:"clear",value:function(){var R=(arguments.length<=0?void 0:arguments[0])||0,L=(arguments.length<=1?void 0:arguments[1])||0,D=(arguments.length<=2?void 0:arguments[2])||0,V=(arguments.length<=3?void 0:arguments[3])||0,q=this.activeFramebuffer();q&&q.format===u.UNSIGNED_BYTE&&!q.antialias&&V===0&&(V=1e-10),this.GL.clearColor(R*V,L*V,D*V,V),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(R,L,D,V,q,Z){arguments.length===16?l.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([R,L,0,0,D,V,0,0,0,0,1,0,q,Z,0,1])}},{key:"translate",value:function(R,L,D){return R instanceof l.default.Vector&&(D=R.z,L=R.y,R=R.x),this.uMVMatrix.translate([R,L,D]),this}},{key:"scale",value:function(R,L,D){return this.uMVMatrix.scale(R,L,D),this}},{key:"rotate",value:function(R,L){return L===void 0?this.rotateZ(R):(l.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(R){return this.rotate(R,1,0,0),this}},{key:"rotateY",value:function(R){return this.rotate(R,0,1,0),this}},{key:"rotateZ",value:function(R){return this.rotate(R,0,0,1),this}},{key:"push",value:function(){var R=l.default.Renderer.prototype.push.apply(this),L=R.properties;return L.uMVMatrix=this.uMVMatrix.copy(),L.uPMatrix=this.uPMatrix.copy(),L._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),L.ambientLightColors=this.ambientLightColors.slice(),L.specularColors=this.specularColors.slice(),L.directionalLightDirections=this.directionalLightDirections.slice(),L.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),L.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),L.pointLightPositions=this.pointLightPositions.slice(),L.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),L.pointLightSpecularColors=this.pointLightSpecularColors.slice(),L.spotLightPositions=this.spotLightPositions.slice(),L.spotLightDirections=this.spotLightDirections.slice(),L.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),L.spotLightSpecularColors=this.spotLightSpecularColors.slice(),L.spotLightAngle=this.spotLightAngle.slice(),L.spotLightConc=this.spotLightConc.slice(),L.userFillShader=this.userFillShader,L.userStrokeShader=this.userStrokeShader,L.userPointShader=this.userPointShader,L.pointSize=this.pointSize,L.curStrokeWeight=this.curStrokeWeight,L.curStrokeColor=this.curStrokeColor,L.curFillColor=this.curFillColor,L.curAmbientColor=this.curAmbientColor,L.curSpecularColor=this.curSpecularColor,L.curEmissiveColor=this.curEmissiveColor,L._hasSetAmbient=this._hasSetAmbient,L._useSpecularMaterial=this._useSpecularMaterial,L._useEmissiveMaterial=this._useEmissiveMaterial,L._useShininess=this._useShininess,L.constantAttenuation=this.constantAttenuation,L.linearAttenuation=this.linearAttenuation,L.quadraticAttenuation=this.quadraticAttenuation,L._enableLighting=this._enableLighting,L._useNormalMaterial=this._useNormalMaterial,L._tex=this._tex,L.drawMode=this.drawMode,L._currentNormal=this._currentNormal,L.curBlendMode=this.curBlendMode,L.activeImageLight=this.activeImageLight,R}},{key:"pop",value:function(){var R;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var L=arguments.length,D=new Array(L),V=0;V<L;V++)D[V]=arguments[V];(R=m(_(te.prototype),"pop",this)).call.apply(R,[this].concat(D)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var R=this.drawTarget();R._isClipApplied!==this._stencilTestOn&&(R._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var R=this.userStrokeShader;return R&&R.isStrokeShader()?R:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var R=this.userFillShader;if(this._useNormalMaterial&&(!R||!R.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getImmediateModeShader();return R}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var R=this.userFillShader;if(this._enableLighting){if(!R||!R.isLightShader())return this._getLightShader()}else if(this._tex){if(!R||!R.isTextureShader())return this._getLightShader()}else if(!R)return this._getColorShader();return R}},{key:"_getImmediatePointShader",value:function(){var R=this.userPointShader;return R&&R.isPointShader()?R:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+j.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+j.phongFrag):this._defaultLightShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+j.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+j.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+j.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+j.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+j.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+j.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+j.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+j.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+j.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+j.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+j.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+j.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===u.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new l.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+j.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+j.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(R,L){var D="";return this.webglVersion===u.WEBGL2&&(D+=`#version 300 es
#define WEBGL2
`),R==="vert"?D+=`#define VERTEX_SHADER
`:R==="frag"&&(D+=`#define FRAGMENT_SHADER
`),L&&(D+="precision ".concat(L,` float;
`)),D}},{key:"_getEmptyTexture",value:function(){var R;return this._emptyTexture||((R=new l.default.Image(1,1)).set(0,0,255),this._emptyTexture=new l.default.Texture(this,R)),this._emptyTexture}},{key:"getTexture",value:function(R){R instanceof l.default.Framebuffer&&(R=R.color);var L=this.textures.get(R);return L||(L=new l.default.Texture(this,R),this.textures.set(R,L),L)}},{key:"getDiffusedTexture",value:function(R){var L,D;return this.diffusedTextures.get(R)!=null?this.diffusedTextures.get(R):(L=Math.floor(R.height/R.width*200),D=(L=this._pInst.createGraphics(200,L,u.WEBGL)).createShader(j.imageLightVert,j.imageLightDiffusedFrag),L.shader(D),D.setUniform("environmentMap",R),L.noStroke(),L.rectMode(L.CENTER),L.rect(0,0,L.width,L.height),this.diffusedTextures.set(R,L),L)}},{key:"getSpecularTexture",value:function(R){if(this.specularTextures.get(R)!=null)return this.specularTextures.get(R);var L,D=[],V=this._pInst.createGraphics(512,512,u.WEBGL),q=Math.log(512)/Math.log(2);V.pixelDensity(1);for(var Z=512;1<=Z;Z/=2){V.resizeCanvas(Z,Z);var se=1-Math.log(Z)/Math.log(2)/q,fe=V.createShader(j.imageLightVert,j.imageLightSpecularFrag);V.shader(fe),V.clear(),fe.setUniform("environmentMap",R),fe.setUniform("roughness",se),V.noStroke(),V.plane(Z,Z),D.push(V.get().drawingContext.getImageData(0,0,Z,Z))}return V.remove(),L=new c.MipmapTexture(this,D,{}),this.specularTextures.set(R,L),L}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(R){return new l.default.Framebuffer(this,R)}},{key:"_setStrokeUniforms",value:function(R){R.bindShader(),R.setUniform("uUseLineColor",this._useLineColor),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uStrokeWeight",this.curStrokeWeight),R.setUniform("uStrokeCap",T[this.curStrokeCap]),R.setUniform("uStrokeJoin",B[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(R){R.bindShader(),R.setUniform("uUseVertexColor",this._useVertexColor),R.setUniform("uMaterialColor",this.curFillColor),R.setUniform("isTexture",!!this._tex),this._tex&&R.setUniform("uSampler",this._tex),R.setUniform("uTint",this._tint),R.setUniform("uHasSetAmbient",this._hasSetAmbient),R.setUniform("uAmbientMatColor",this.curAmbientColor),R.setUniform("uSpecularMatColor",this.curSpecularColor),R.setUniform("uEmissiveMatColor",this.curEmissiveColor),R.setUniform("uSpecular",this._useSpecularMaterial),R.setUniform("uEmissive",this._useEmissiveMaterial),R.setUniform("uShininess",this._useShininess),this._setImageLightUniforms(R),R.setUniform("uUseLighting",this._enableLighting);var L=this.pointLightDiffuseColors.length/3,L=(R.setUniform("uPointLightCount",L),R.setUniform("uPointLightLocation",this.pointLightPositions),R.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),R.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),L=(R.setUniform("uDirectionalLightCount",L),R.setUniform("uLightingDirection",this.directionalLightDirections),R.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),R.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),L=(R.setUniform("uAmbientLightCount",L),R.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);R.setUniform("uSpotLightCount",L),R.setUniform("uSpotLightAngle",this.spotLightAngle),R.setUniform("uSpotLightConc",this.spotLightConc),R.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),R.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),R.setUniform("uSpotLightLocation",this.spotLightPositions),R.setUniform("uSpotLightDirection",this.spotLightDirections),R.setUniform("uConstantAttenuation",this.constantAttenuation),R.setUniform("uLinearAttenuation",this.linearAttenuation),R.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),R.bindTextures()}},{key:"_setImageLightUniforms",value:function(R){var L,D;R.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(L=this.getDiffusedTexture(this.activeImageLight),R.setUniform("environmentMapDiffused",L),L=this.getSpecularTexture(this.activeImageLight),D=20/this._useShininess,R.setUniform("levelOfDetail",8*D),R.setUniform("environmentMapSpecular",L))}},{key:"_setPointUniforms",value:function(R){R.bindShader(),R.setUniform("uMaterialColor",this.curStrokeColor),R.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(R,L,D,V,q){L=L||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(L,R),D!==void 0&&((R=D)instanceof l.default.DataArray?R=D.dataArray():R instanceof(V||Float32Array)||(R=new(V||Float32Array)(R)),this.GL.bufferData(L,R,q||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(R,L){return R.length===L.length&&R.every(function(D,V){return D===L[V]})}},{key:"_isTypedArray",value:function(R){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(L){return R instanceof L})}},{key:"_flatten",value:function(R){if(R.length===0)return[];var L;if(2e4<R.length){for(var D=[],V=R.slice(),q=V.pop();Array.isArray(q)?V.push.apply(V,g(q)):D.push(q),V.length&&(q=V.pop())!==void 0;);return D.reverse(),D}return(L=[]).concat.apply(L,g(R))}},{key:"_vToNArray",value:function(R){var L=[],D=!0,V=!1,q=void 0;try{for(var Z,se=R[Symbol.iterator]();!(D=(Z=se.next()).done);D=!0){var fe=Z.value;L.push(fe.x,fe.y,fe.z)}}catch(be){V=!0,q=be}finally{try{D||se.return==null||se.return()}finally{if(V)throw q}}return L}},{key:"_bezierCoefficients",value:function(R){var L=R*R,D=1-R,V=D*D;return[V*D,3*V*R,3*D*L,L*R]}},{key:"_quadraticCoefficients",value:function(R){var L=1-R;return[L*L,2*L*R,R*R]}},{key:"_bezierToCatmull",value:function(R){return[R[1],R[1]+(R[2]-R[0])/this._curveTightness,R[2]-(R[3]-R[1])/this._curveTightness,R[2]]}},{key:"_initTessy",value:function(){var R=new d.default.GluTesselator;return R.gluTessCallback(d.default.gluEnum.GLU_TESS_VERTEX_DATA,function(L,D){for(var V=0;V<L.length;V++)D.push(L[V])}),R.gluTessCallback(d.default.gluEnum.GLU_TESS_BEGIN,function(L){L!==d.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(L))}),R.gluTessCallback(d.default.gluEnum.GLU_TESS_ERROR,function(L){console.log("error callback"),console.log("error number: ".concat(L))}),R.gluTessCallback(d.default.gluEnum.GLU_TESS_COMBINE,function(L,D,V){for(var q=new Array(l.default.RendererGL.prototype.tessyVertexSize).fill(0),Z=0;Z<V.length;Z++)for(var se=0;se<q.length;se++)V[Z]!==0&&D[Z]&&(q[se]+=D[Z][se]*V[Z]);return q}),R.gluTessCallback(d.default.gluEnum.GLU_TESS_EDGE_FLAG,function(L){}),R.gluTessProperty(d.default.gluEnum.GLU_TESS_WINDING_RULE,d.default.windingRule.GLU_TESS_WINDING_NONZERO),R}},{key:"_triangulate",value:function(R){var L=R[0]?R[0][2]:void 0,D=!0,V=!0,be=!1,Ae=void 0;try{for(var q,Z=R[Symbol.iterator]();!(V=(q=Z.next()).done);V=!0)for(var se=q.value,fe=0;fe<se.length;fe+=l.default.RendererGL.prototype.tessyVertexSize)if(se[fe+2]!==L){D=!1;break}}catch(re){be=!0,Ae=re}finally{try{V||Z.return==null||Z.return()}finally{if(be)throw Ae}}D?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var be=[],pe=(this._tessy.gluTessBeginPolygon(be),!0),Ae=!1,ge=void 0;try{for(var ce,de=R[Symbol.iterator]();!(pe=(ce=de.next()).done);pe=!0){var oe=ce.value;this._tessy.gluTessBeginContour();for(var je=0;je<oe.length;je+=l.default.RendererGL.prototype.tessyVertexSize){var Se=oe.slice(je,je+l.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Se,Se)}this._tessy.gluTessEndContour()}}catch(re){Ae=!0,ge=re}finally{try{pe||de.return==null||de.return()}finally{if(Ae)throw ge}}return this._tessy.gluTessEndPolygon(),be}}])&&y(W.prototype,k),te}(l.default.Renderer),l.default.prototype._assert3d=function(k){if(!this._renderer.isP3D)throw new Error("".concat(k,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},l.default.RendererGL.prototype.tessyVertexSize=12,F=l.default.RendererGL,s.default=F},{"../core/constants":264,"../core/main":275,"../core/p5.Renderer":278,"./GeometryBuilder":319,"./p5.Camera":324,"./p5.Framebuffer":326,"./p5.Matrix":328,"./p5.Shader":333,"./p5.Texture":334,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":158,"core-js/modules/es.array.includes":159,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.map":169,"core-js/modules/es.object.assign":176,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.reflect.get":185,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.set":189,"core-js/modules/es.string.includes":191,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.float32-array":211,"core-js/modules/es.typed-array.float64-array":212,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.int16-array":216,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint16-array":232,"core-js/modules/es.typed-array.uint32-array":233,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238,libtess:247,path:250}],333:[function(t,o,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function A(l,u){for(var p=0;p<u.length;p++){var d=u[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}a.default.Shader=function(){function l(d,c,h){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._renderer=d,this._vertSrc=c,this._fragSrc=h,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var u,p;return u=l,(p=[{key:"init",value:function(){if(this._glProgram===0){var d=this._renderer.GL;if(this._vertShader=d.createShader(d.VERTEX_SHADER),d.shaderSource(this._vertShader,this._vertSrc),d.compileShader(this._vertShader),!d.getShaderParameter(this._vertShader,d.COMPILE_STATUS))return a.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(d.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=d.createShader(d.FRAGMENT_SHADER),d.shaderSource(this._fragShader,this._fragSrc),d.compileShader(this._fragShader),!d.getShaderParameter(this._fragShader,d.COMPILE_STATUS))return a.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(d.getShaderInfoLog(this._fragShader))),null;this._glProgram=d.createProgram(),d.attachShader(this._glProgram,this._vertShader),d.attachShader(this._glProgram,this._fragShader),d.linkProgram(this._glProgram),d.getProgramParameter(this._glProgram,d.LINK_STATUS)||a.default._friendlyError("Snap! Error linking shader program: ".concat(d.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(d){var c=new a.default.Shader(d._renderer,this._vertSrc,this._fragSrc);return c.ensureCompiledOnContext(d),c}},{key:"ensureCompiledOnContext",value:function(d){if(this._glProgram!==0&&this._renderer!==d._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=d._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var d=this._renderer.GL,c=d.getProgramParameter(this._glProgram,d.ACTIVE_ATTRIBUTES),h=0;h<c;++h){var f=d.getActiveAttrib(this._glProgram,h),g=f.name,y=d.getAttribLocation(this._glProgram,g),m={};m.name=g,m.location=y,m.index=h,m.type=f.type,m.size=f.size,this.attributes[g]=m}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var d=this._renderer.GL,c=d.getProgramParameter(this._glProgram,d.ACTIVE_UNIFORMS),h=0,f=0;f<c;++f){var g=d.getActiveUniform(this._glProgram,f),y={},m=(y.location=d.getUniformLocation(this._glProgram,g.name),y.size=g.size,g.name);1<g.size&&(m=m.substring(0,m.indexOf("[0]"))),y.name=m,y.type=g.type,y._cachedData=void 0,y.type===d.SAMPLER_2D&&(y.samplerIndex=h,h++,this.samplers.push(y)),y.isArray=1<g.size||y.type===d.FLOAT_MAT3||y.type===d.FLOAT_MAT4||y.type===d.FLOAT_VEC2||y.type===d.FLOAT_VEC3||y.type===d.FLOAT_VEC4||y.type===d.INT_VEC2||y.type===d.INT_VEC4||y.type===d.INT_VEC3,this.uniforms[m]=y}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var d=this._renderer.GL,c=!0,h=!1,f=void 0;try{for(var g,y=this.samplers[Symbol.iterator]();!(c=(g=y.next()).done);c=!0){var m=g.value,b=m.texture;b===void 0&&(b=this._renderer._getEmptyTexture()),d.activeTexture(d.TEXTURE0+m.samplerIndex),b.bindTexture(),b.update(),d.uniform1i(m.location,m.samplerIndex)}}catch(v){h=!0,f=v}finally{try{c||y.return==null||y.return()}finally{if(h)throw f}}}},{key:"updateTextures",value:function(){var d=!0,c=!1,h=void 0;try{for(var f,g=this.samplers[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var y=f.value.texture;y&&y.update()}}catch(m){c=!0,h=m}finally{try{d||g.return==null||g.return()}finally{if(c)throw h}}}},{key:"unbindTextures",value:function(){var d=!0,c=!1,h=void 0;try{for(var f,g=this.samplers[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var y=f.value;this.setUniform(y.name,this._renderer._getEmptyTexture())}}catch(m){c=!0,h=m}finally{try{d||g.return==null||g.return()}finally{if(c)throw h}}}},{key:"_setMatrixUniforms",value:function(){var d=this._renderer._curCamera.cameraMatrix,c=this._renderer.uPMatrix,h=this._renderer.uMVMatrix,f=h.copy();f.mult(c),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",d.mat4),this.setUniform("uProjectionMatrix",c.mat4),this.setUniform("uModelViewMatrix",h.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var d=this._renderer.GL;return this._renderer._curShader!==this&&(d.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(d,c){var h=this.uniforms[d];if(h){var f=this._renderer.GL;if(h.isArray){if(h._cachedData&&this._renderer._arraysEqual(h._cachedData,c))return;h._cachedData=c.slice(0)}else{if(h._cachedData&&h._cachedData===c)return;Array.isArray(c)?h._cachedData=c.slice(0):h._cachedData=c}var g=h.location;switch(this.useProgram(),h.type){case f.BOOL:c===!0?f.uniform1i(g,1):f.uniform1i(g,0);break;case f.INT:1<h.size?c.length&&f.uniform1iv(g,c):f.uniform1i(g,c);break;case f.FLOAT:1<h.size?c.length&&f.uniform1fv(g,c):f.uniform1f(g,c);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(g,!1,c);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(g,!1,c);break;case f.FLOAT_VEC2:1<h.size?c.length&&f.uniform2fv(g,c):f.uniform2f(g,c[0],c[1]);break;case f.FLOAT_VEC3:1<h.size?c.length&&f.uniform3fv(g,c):f.uniform3f(g,c[0],c[1],c[2]);break;case f.FLOAT_VEC4:1<h.size?c.length&&f.uniform4fv(g,c):f.uniform4f(g,c[0],c[1],c[2],c[3]);break;case f.INT_VEC2:1<h.size?c.length&&f.uniform2iv(g,c):f.uniform2i(g,c[0],c[1]);break;case f.INT_VEC3:1<h.size?c.length&&f.uniform3iv(g,c):f.uniform3i(g,c[0],c[1],c[2]);break;case f.INT_VEC4:1<h.size?c.length&&f.uniform4iv(g,c):f.uniform4i(g,c[0],c[1],c[2],c[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+h.samplerIndex),h.texture=c instanceof a.default.Texture?c:this._renderer.getTexture(c),f.uniform1i(g,h.samplerIndex),h.texture.src.gifProperties&&h.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(d,c,h,f,g,y){var m;return d&&(d=d.location)!==-1&&(m=this._renderer.GL,this._renderer.registerEnabled.has(d)||(m.enableVertexAttribArray(d),this._renderer.registerEnabled.add(d)),this._renderer.GL.vertexAttribPointer(d,c,h||m.FLOAT,f||!1,g||0,y||0)),this}},{key:"disableRemainingAttributes",value:function(){var d=this,c=!0,h=!1,f=void 0;try{for(var g,y=this._renderer.registerEnabled.values()[Symbol.iterator]();!(c=(g=y.next()).done);c=!0)(function(){var m=g.value;Object.keys(d.attributes).some(function(b){return d.attributes[b].location===m})||(d._renderer.GL.disableVertexAttribArray(m),d._renderer.registerEnabled.delete(m))})()}catch(m){h=!0,f=m}finally{try{c||y.return==null||y.return()}finally{if(h)throw f}}}}])&&A(u.prototype,p),l}(),t=a.default.Shader,s.default=t},{"../core/main":275,"core-js/modules/es.array.index-of":160,"core-js/modules/es.array.iterator":161,"core-js/modules/es.array.slice":165,"core-js/modules/es.array.some":166,"core-js/modules/es.function.name":168,"core-js/modules/es.object.keys":181,"core-js/modules/es.object.to-string":182,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/web.dom-collections.iterator":238}],334:[function(t,o,s){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function A(v){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.checkWebGLCapabilities=b,s.default=s.MipmapTexture=void 0;var l=(m=t("../core/main"))&&m.__esModule?m:{default:m},u=function(v){if(v&&v.__esModule)return v;if(v===null||A(v)!=="object"&&typeof v!="function")return{default:v};var w=p();if(w&&w.has(v))return w.get(v);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in v){var E;Object.prototype.hasOwnProperty.call(v,_)&&((E=x?Object.getOwnPropertyDescriptor(v,_):null)&&(E.get||E.set)?Object.defineProperty(M,_,E):M[_]=v[_])}return M.default=v,w&&w.set(v,M),M}(t("../core/constants"));function p(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,p=function(){return v},v)}function d(v,w){return(d=Object.setPrototypeOf||function(_,M){return _.__proto__=M,_})(v,w)}function c(v){return function(){var w,_=h(v),_=(w=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(w=h(this).constructor,Reflect.construct(_,arguments,w)):_.apply(this,arguments),this);if(!w||A(w)!=="object"&&typeof w!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return w}}function h(v){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)})(v)}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function g(v,w){for(var _=0;_<w.length;_++){var M=w[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(v,M.key,M)}}function y(v,w,_){w&&g(v.prototype,w),_&&g(v,_)}l.default.Texture=function(){function v(C,_,E){f(this,v),this._renderer=C;var x=this._renderer.GL,E=(E=E||{},this.src=_,this.glTex=void 0,this.glTarget=x.TEXTURE_2D,this.glFormat=E.format||x.RGBA,this.mipmaps=!1,this.glMinFilter=E.minFilter||x.LINEAR,this.glMagFilter=E.magFilter||x.LINEAR,this.glWrapS=E.wrapS||x.CLAMP_TO_EDGE,this.glWrapT=E.wrapT||x.CLAMP_TO_EDGE,this.glDataType=E.dataType||x.UNSIGNED_BYTE,b(C)),C=(this.glFormat!==x.HALF_FLOAT||E.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=x.FLOAT),this.glFormat!==x.HALF_FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||E.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.glFormat!==x.FLOAT||E.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=x.UNSIGNED_BYTE),this.glFormat!==x.FLOAT||this.glMinFilter!==x.LINEAR&&this.glMagFilter!==x.LINEAR||E.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===x.LINEAR&&(this.glMinFilter=x.NEAREST),this.glMagFilter===x.LINEAR&&(this.glMagFilter=x.NEAREST)),this.isSrcMediaElement=l.default.MediaElement!==void 0&&_ instanceof l.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=l.default.Element!==void 0&&_ instanceof l.default.Element&&!(_ instanceof l.default.Graphics)&&!(_ instanceof l.default.Renderer),this.isSrcP5Image=_ instanceof l.default.Image,this.isSrcP5Graphics=_ instanceof l.default.Graphics,this.isSrcP5Renderer=_ instanceof l.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof l.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=C.width,this.height=C.height,this.init(C),this}return y(v,[{key:"_getTextureDataFromSource",value:function(){var w;return this.isFramebufferTexture?w=this.src.rawTexture():this.isSrcP5Image?w=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?w=this.src.elt:this.isImageData&&(w=this.src),w}},{key:"init",value:function(w){var _,M=this._renderer.GL;this.isFramebufferTexture||(this.glTex=M.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),M.texImage2D(this.glTarget,0,M.RGBA,1,1,0,this.glFormat,this.glDataType,_)):M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,w))}},{key:"update",value:function(){var w,_,M,x=this.src;return x.width!==0&&x.height!==0&&!this.isFramebufferTexture&&(w=this._getTextureDataFromSource(),_=!1,M=this._renderer.GL,w.width!==this.width||w.height!==this.height?(_=!0,this.width=w.width||x.width,this.height=w.height||x.height,this.isSrcP5Image?x.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&x.setModified(!0)):this.isSrcP5Image?x.isModified()&&x.setModified(!(_=!0)):this.isSrcMediaElement?x.isModified()?x.setModified(!(_=!0)):x.loadedmetadata&&this._videoPrevUpdateTime!==x.time()&&(this._videoPrevUpdateTime=x.time(),_=!0):this.isImageData?x._dirty&&(_=!(x._dirty=!1)):_=!0,_&&(this.bindTexture(),M.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,w)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(w,_){var M=this._renderer.GL;this.glMinFilter=this.glFilter(w),this.glMagFilter=this.glFilter(_),this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,this.glMinFilter),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(w){var _=this._renderer.GL;return w===u.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(w,_){function M(T){return(T&T-1)==0}var x=this._renderer.GL,C=this._getTextureDataFromSource(),C=C.naturalWidth&&C.naturalHeight?(E=C.naturalWidth,C.naturalHeight):(E=this.width,this.height),E=M(E),C=M(C);w===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapS=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):w===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapS=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=x.CLAMP_TO_EDGE):this.glWrapS=x.CLAMP_TO_EDGE,_===u.REPEAT?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapT=x.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):_===u.MIRROR?this._renderer.webglVersion===u.WEBGL2||E&&C?this.glWrapT=x.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=x.CLAMP_TO_EDGE):this.glWrapT=x.CLAMP_TO_EDGE,this.bindTexture(),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,this.glWrapS),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),v}();var m=function(v){var w=M;if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),v&&d(w,v);var _=c(M);function M(x,E,C){return f(this,M),E=(x=_.call(this,x,E,C))._renderer.GL,x.glMinFilter===E.LINEAR&&(x.glMinFilter=E.LINEAR_MIPMAP_LINEAR),x}return y(M,[{key:"glFilter",value:function(x){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(x){var E=this._renderer.GL;this.glTex=E.createTexture(),this.bindTexture();for(var C=0;C<x.length;C++)E.texImage2D(this.glTarget,C,this.glFormat,this.glFormat,this.glDataType,x[C]);this.glMinFilter=E.LINEAR_MIPMAP_LINEAR,E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,this.glMagFilter),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),M}(l.default.Texture);function b(x){var w=x.GL,x=x.webglVersion,_=x===u.WEBGL2?w.getExtension("EXT_color_buffer_float")&&w.getExtension("EXT_float_blend"):w.getExtension("OES_texture_float"),M=_&&w.getExtension("OES_texture_float_linear"),x=x===u.WEBGL2?w.getExtension("EXT_color_buffer_float"):w.getExtension("OES_texture_half_float");return{float:_,floatLinear:M,halfFloat:x,halfFloatLinear:x&&w.getExtension("OES_texture_half_float_linear")}}s.MipmapTexture=m,t=l.default.Texture,s.default=t},{"../core/constants":264,"../core/main":275,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.get-prototype-of":180,"core-js/modules/es.object.to-string":182,"core-js/modules/es.reflect.construct":184,"core-js/modules/es.regexp.to-string":188,"core-js/modules/es.string.iterator":192,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.typed-array.copy-within":205,"core-js/modules/es.typed-array.every":206,"core-js/modules/es.typed-array.fill":207,"core-js/modules/es.typed-array.filter":208,"core-js/modules/es.typed-array.find":210,"core-js/modules/es.typed-array.find-index":209,"core-js/modules/es.typed-array.for-each":213,"core-js/modules/es.typed-array.includes":214,"core-js/modules/es.typed-array.index-of":215,"core-js/modules/es.typed-array.iterator":218,"core-js/modules/es.typed-array.join":219,"core-js/modules/es.typed-array.last-index-of":220,"core-js/modules/es.typed-array.map":221,"core-js/modules/es.typed-array.reduce":223,"core-js/modules/es.typed-array.reduce-right":222,"core-js/modules/es.typed-array.reverse":224,"core-js/modules/es.typed-array.set":225,"core-js/modules/es.typed-array.slice":226,"core-js/modules/es.typed-array.some":227,"core-js/modules/es.typed-array.sort":228,"core-js/modules/es.typed-array.subarray":229,"core-js/modules/es.typed-array.to-locale-string":230,"core-js/modules/es.typed-array.to-string":231,"core-js/modules/es.typed-array.uint8-array":234,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}],335:[function(t,o,s){function a(v){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(v)}function A(v){return(A=typeof Symbol=="function"&&a(Symbol.iterator)==="symbol"?function(w){return a(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":a(w)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var l,u=(l=t("../core/main"))&&l.__esModule?l:{default:l},p=function(v){if(v&&v.__esModule)return v;if(v===null||A(v)!=="object"&&typeof v!="function")return{default:v};var w=d();if(w&&w.has(v))return w.get(v);var _,M={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in v){var E;Object.prototype.hasOwnProperty.call(v,_)&&((E=x?Object.getOwnPropertyDescriptor(v,_):null)&&(E.get||E.set)?Object.defineProperty(M,_,E):M[_]=v[_])}return M.default=v,w&&w.set(v,M),M}(t("../core/constants"));function d(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,d=function(){return v},v)}function c(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function h(v,w){for(var _=0;_<w.length;_++){var M=w[_];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(v,M.key,M)}}function f(v,w,_){w&&h(v.prototype,w),_&&h(v,_)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),u.default.RendererGL.prototype._applyTextProperties=function(){},u.default.RendererGL.prototype.textWidth=function(v){return this._isOpenType()?this._textFont._textWidth(v,this._textSize):0};var g=function(){function v(w,_){c(this,v),this.width=w,this.height=_,this.infos=[]}return f(v,[{key:"findImage",value:function(w){var _,M,x=this.width*this.height;if(x<w)throw new Error("font is too complex to render in 3D");for(var E=this.infos.length-1;0<=E;--E){var C=this.infos[E];if(C.index+w<x){M=(_=C).imageData;break}}if(!_){try{M=new ImageData(this.width,this.height)}catch{var T=document.getElementsByTagName("canvas")[0],B=!T,P=(T||((T=document.createElement("canvas")).style.display="none",document.body.appendChild(T)),T.getContext("2d"));P&&(M=P.createImageData(this.width,this.height)),B&&document.body.removeChild(T)}this.infos.push(_={index:0,imageData:M})}return P=_.index,_.index+=w,M._dirty=!0,{imageData:M,index:P}}}]),v}();function y(C,w,_,M,x){var E=C.imageData.data,C=4*C.index++;E[C++]=w,E[C++]=_,E[C++]=M,E[+C]=x}var m=Math.sqrt(3),b=function(){function v(w){c(this,v),this.font=w,this.strokeImageInfos=new g(64,64),this.colDimImageInfos=new g(64,64),this.rowDimImageInfos=new g(64,64),this.colCellImageInfos=new g(64,64),this.rowCellImageInfos=new g(64,64),this.glyphInfos={}}return f(v,[{key:"getGlyphInfo",value:function(w){var _=this.glyphInfos[w.index];if(!_){var M=w.getBoundingBox(),x=M.x1,E=M.y1,C=M.x2-x,T=M.y2-E,B=w.path.commands;if(C==0||T==0||!B.length)return this.glyphInfos[w.index]={};for(var P=[],F=[],j=[],O=8;0<=O;--O)j.push([]);for(O=8;0<=O;--O)F.push([]);var Q,z,k,W,Y=function(){function Ge(nt,et,st,Re){c(this,Ge),this.p0=nt,this.c0=et,this.c1=st,this.p1=Re}return f(Ge,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return u.default.Vector.sub(u.default.Vector.sub(this.p1,this.p0),u.default.Vector.mult(u.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Ke){var et=u.default.Vector.lerp(this.p0,this.c0,Ke),Re=u.default.Vector.lerp(this.c0,this.c1,Ke),st=u.default.Vector.lerp(et,Re,Ke),Re=(this.c1=u.default.Vector.lerp(this.c1,this.p1,Ke),this.c0=u.default.Vector.lerp(Re,this.c1,Ke),u.default.Vector.lerp(st,this.c0,Ke)),Ke=new Ge(this.p0,et,st,Re);return this.p0=Re,Ke}},{key:"splitInflections",value:function(){var nt=u.default.Vector.sub(this.c0,this.p0),et=u.default.Vector.sub(u.default.Vector.sub(this.c1,this.c0),nt),st=u.default.Vector.sub(u.default.Vector.sub(u.default.Vector.sub(this.p1,this.c1),nt),u.default.Vector.mult(et,2)),Re=[],Ke=et.x*st.y-et.y*st.x;return Ke!==0&&0<=(nt=(st=nt.x*st.y-nt.y*st.x)*st-4*Ke*(nt.x*et.y-nt.y*et.x))&&(Ke<0&&(Ke=-Ke,st=-st),nt=(-st+(et=Math.sqrt(nt)))/(2*Ke),0<(st=(-st-et)/(2*Ke))&&st<1&&(Re.push(this.split(st)),nt=1-(1-nt)/(1-st)),0<nt&&nt<1&&Re.push(this.split(nt))),Re.push(this),Re}}]),Ge}(),te=!0,R=!1,L=void 0;try{for(var D,V=B[Symbol.iterator]();!(te=(D=V.next()).done);te=!0){var q=D.value,Z=(q.x-x)/C,se=(q.y-E)/T;if(!Me(Q,z,Z,se)){switch(q.type){case"M":k=Z,W=se;break;case"L":Ce(Q,z,Z,se);break;case"Q":var fe=(q.x1-x)/C,be=(q.y1-E)/T;re([Q,Z,fe],[z,se,be],{x:Q,y:z,cx:fe,cy:be});break;case"Z":Me(Q,z,k,W)?P.push({x:Q,y:z}):(Ce(Q,z,k,W),P.push({x:k,y:W}));break;case"C":for(var pe=function($,Ne,Je,st,Re,Ke,Le,he){var $=new Y(new u.default.Vector($,Ne),new u.default.Vector(Je,st),new u.default.Vector(Re,Ke),new u.default.Vector(Le,he)).splitInflections(),ee=[],me=30/m,Ee=!0,Ne=!1,Je=void 0;try{for(var ht,vt=$[Symbol.iterator]();!(Ee=(ht=vt.next()).done);Ee=!0){for(var $e=ht.value,Ie=[],yt=void 0;!(.125<=(yt=me/$e.quadError()));){var dt=Math.pow(yt,.3333333333333333),ft=$e.split(dt),bt=$e.split(1-dt/(1-dt));ee.push(ft),Ie.push($e),$e=bt}yt<1&&ee.push($e.split(.5)),ee.push($e),Array.prototype.push.apply(ee,Ie.reverse())}}catch(It){Ne=!0,Je=It}finally{try{Ee||vt.return==null||vt.return()}finally{if(Ne)throw Je}}return ee}(Q,z,(q.x1-x)/C,(q.y1-E)/T,(q.x2-x)/C,(q.y2-E)/T,Z,se),Ae=0;Ae<pe.length;Ae++){var ge=pe[Ae].toQuadratic();re([ge.x,ge.x1,ge.cx],[ge.y,ge.y1,ge.cy],ge)}break;default:throw new Error("unknown command type: ".concat(q.type))}Q=Z,z=se}}}catch(Ge){R=!0,L=Ge}finally{try{te||V.return==null||V.return()}finally{if(R)throw L}}for(var ce=P.length,de=this.strokeImageInfos.findImage(ce),oe=de.index,je=0;je<ce;++je){var Se=P[je];y(de,ie(Se.x),ie(Se.y),ie(Se.cx),ie(Se.cy))}(_=this.glyphInfos[w.index]={glyph:w,uGlyphRect:[M.x1,-M.y1,M.x2,-M.y2],strokeImageInfo:de,strokes:P,colInfo:ze(j,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ze(F,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function re(Ge,nt,et){var st=P.length;function Re(ee,me,Ee){for(var Ne=ee.length;0<Ne--;){var Je=ee[Ne];Je<me&&(me=Je),Ee<Je&&(Ee=Je)}return{min:me,max:Ee}}P.push(et);for(var et=Re(Ge,1,0),Ge=Math.max(Math.floor(9*et.min-.5),0),Ke=Math.min(Math.ceil(9*et.max+.5),9),Le=Ge;Le<Ke;++Le)j[Le].push(st);for(var et=Re(nt,1,0),Ge=Math.max(Math.floor(9*et.min-.5),0),he=Math.min(Math.ceil(9*et.max+.5),9),$=Ge;$<he;++$)F[$].push(st)}function ie(Ge){return(Ge=(et=255)*Ge)<(nt=0)?nt:et<Ge?et:Ge;var nt,et}function Ce(Ge,nt,et,st){re([Ge,et],[nt,st],{x:Ge,y:nt,cx:(Ge+et)/2,cy:(nt+st)/2})}function Me(Ge,nt,et,st){return Math.abs(et-Ge)<1e-5&&Math.abs(st-nt)<1e-5}function ze(Ge,nt,et){for(var st=Ge.length,Re=nt.findImage(st),nt=Re.index,Ke=0,Le=0;Le<st;++Le)Ke+=Ge[Le].length;for(var he=et.findImage(Ke),$=0;$<st;++$){var ee=Ge[$],me=ee.length,Ee=he.index;y(Re,Ee>>7,127&Ee,me>>7,127&me);for(var Ne=0;Ne<me;++Ne){var Je=ee[Ne]+oe;y(he,Je>>7,127&Je,0,0)}}return{cellImageInfo:he,dimOffset:nt,dimImageInfo:Re}}}}]),v}();u.default.RendererGL.prototype._renderText=function(v,w,_,M,x){if(this._textFont&&typeof this._textFont!="string"){if(!(x<=M)&&this._doFill){if(this._isOpenType()){v.push();var x=this._doStroke,E=this.drawMode,C=(this._doStroke=!1,this.drawMode=p.TEXTURE,this._textFont.font),T=(T=this._textFont._fontInfo)||(this._textFont._fontInfo=new b(C)),_=this._textFont._handleAlignment(this,w,_,M),M=this._textSize/C.unitsPerEm,B=(this.translate(_.x,_.y,0),this.scale(M,M,1),this.GL),_=!this._defaultFontShader,P=this._getFontShader(),F=(P.init(),P.bindShader(),_&&(P.setUniform("uGridImageSize",[64,64]),P.setUniform("uCellsImageSize",[64,64]),P.setUniform("uStrokeImageSize",[64,64]),P.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),j=(F||((M=this._textGeom=new u.default.Geometry(1,1,function(){for(var Ae=0;Ae<=1;Ae++)for(var ge=0;ge<=1;ge++)this.vertices.push(new u.default.Vector(ge,Ae,0)),this.uvs.push(ge,Ae)})).computeFaces().computeNormals(),F=this.createBuffers("glyph",M)),!0),_=!1,M=void 0;try{for(var O,Q=this.retainedMode.buffers.text[Symbol.iterator]();!(j=(O=Q.next()).done);j=!0)O.value._prepareBuffer(F,P)}catch(Ae){_=!0,M=Ae}finally{try{j||Q.return==null||Q.return()}finally{if(_)throw M}}this._bindBuffer(F.indexBuffer,B.ELEMENT_ARRAY_BUFFER),P.setUniform("uMaterialColor",this.curFillColor),B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var z=0,k=null,W=C.stringToGlyphs(w),Y=!0,te=!1,R=void 0;try{for(var L,D=W[Symbol.iterator]();!(Y=(L=D.next()).done);Y=!0){var V,q,Z=L.value,se=(k&&(z+=C.getKerningValue(k,Z)),T.getGlyphInfo(Z));se.uGlyphRect&&(V=se.rowInfo,q=se.colInfo,P.setUniform("uSamplerStrokes",se.strokeImageInfo.imageData),P.setUniform("uSamplerRowStrokes",V.cellImageInfo.imageData),P.setUniform("uSamplerRows",V.dimImageInfo.imageData),P.setUniform("uSamplerColStrokes",q.cellImageInfo.imageData),P.setUniform("uSamplerCols",q.dimImageInfo.imageData),P.setUniform("uGridOffset",se.uGridOffset),P.setUniform("uGlyphRect",se.uGlyphRect),P.setUniform("uGlyphOffset",z),P.bindTextures(),B.drawElements(B.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),z+=Z.advanceWidth,k=Z}}catch(Ae){te=!0,R=Ae}finally{try{Y||D.return==null||D.return()}finally{if(te)throw R}}}finally{P.unbindShader(),this._doStroke=x,this.drawMode=E,B.pixelStorei(B.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),v.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return v}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":264,"../core/main":275,"./p5.RendererGL.Retained":331,"./p5.Shader":333,"core-js/modules/es.array.iterator":161,"core-js/modules/es.object.get-own-property-descriptor":178,"core-js/modules/es.object.to-string":182,"core-js/modules/es.regexp.exec":187,"core-js/modules/es.string.iterator":192,"core-js/modules/es.string.split":198,"core-js/modules/es.string.sub":200,"core-js/modules/es.symbol":204,"core-js/modules/es.symbol.description":202,"core-js/modules/es.symbol.iterator":203,"core-js/modules/es.weak-map":236,"core-js/modules/web.dom-collections.iterator":238}]},{},[259])(259)})})(lv);var n2=lv.exports;const i2=r2(n2);function Df(i){new i2(r=>{let n,t=[],o=[],s=1,a=s*.1,A;class l{constructor(c,h,f){this.x=c,this.width=h,this.height=f,this.windowStates=[],this.horizontalSpacing=r.random(1,2),this.verticalSpacing=r.random(5.5,20),this.hasGap=A;for(let g=0;g<h;g++){this.windowStates[g]=[];for(let y=0;y<f;y++)this.windowStates[g][y]=!1}}draw(){this.hasGap&&(r.noStroke(),r.fill(0),r.rect(this.x-5,r.height-this.height,10,this.height)),r.noFill(),r.stroke(255,0,0),r.rect(this.x,r.height-this.height,this.width,this.height);const c=.5;for(let h=0,f=0;f<this.width;h++,f+=c+this.horizontalSpacing)for(let g=0,y=0;y<this.height;g++,y+=c+this.verticalSpacing){let m=this.x+f,b=r.height-this.height+y;if(m>=0&&m<r.width&&b>=0&&b<r.height&&this.windowStates[h]&&this.windowStates[h][g]){let v=(h+g)%2===0?r.color(255,255,255):r.color(200,190,210);r.set(m,b,v)}}}updateWindows(){for(let c=0;c<this.width;c++)for(let h=0;h<this.height;h++)r.random()<.005&&(this.windowStates[c][h]=!this.windowStates[c][h])}pan(c){this.x-=c}}function u(){t.forEach(d=>{d.updateWindows()}),o.forEach(d=>{r.random()<.01&&(d.on=!d.on)})}function p(){let d=r.width;if(t.length>0){let c=t[t.length-1];d=Math.max(d,c.x+c.width)}for(;d-s<=r.width;){let c=r.random(r.width*.05,r.width*.1),h=r.random(r.height*.15,r.height*.7),f=r.random()<.2,g=new l(d,c,h,f);t.push(g),d+=c+(f?50:0)}}r.setup=()=>{let d=document.getElementById(i);if(d){let f=d.getBoundingClientRect();f.width>0&&f.height>0?r.createCanvas(f.width,f.height):(console.warn(`Container with id ${i} has zero size. Using fallback size.`),r.createCanvas(r.windowWidth,r.windowHeight))}else console.warn(`Div with id ${i} not found. Using fallback size.`),r.createCanvas(r.windowWidth,r.windowHeight);r.canvas.parentElement,t=[];let c=0;for(;c<r.width;){let f=r.width*.05,g=r.width*.1,y=r.random(f,g),m=r.height*.15,b=r.height*.7,v=r.random(m,b);t.push(new l(c,y,v)),c+=y}let h=Math.min(...t.map(f=>f.height));r.loadPixels();for(let f=0;f<1e3;f++){let g=r.random(r.width),y=r.random(r.height-h),m=y/(r.height-h);r.random()<m&&r.set(g,y,r.color(50))}r.updatePixels(),o=[];for(let f=0;f<1e3;f++){let g=r.random(r.width),y=r.random(r.height-h),m={x:g,y,on:!1};o.push(m)}t.forEach(f=>f.draw()),r.updatePixels(),setInterval(u,100)},r.draw=()=>{r.background(0),r.loadPixels(),t.forEach(d=>{d.pan(s),d.draw()}),t=t.filter(d=>d.x+d.width<0?(d.x+=r.width+Math.max(...t.map(c=>c.width)),!0):d.x<r.width),p(),o.forEach(d=>{if(d.x-=a,d.on){let c=r.map(d.y,0,r.height,255,50);r.set(d.x,d.y,r.color(c))}}),o.forEach(d=>{d.x<0&&(d.x+=r.width)}),r.updatePixels()},r.windowResized=()=>{let d=document.getElementById(i);if(d){let f=d.getBoundingClientRect();f.width>0&&f.height>0&&r.resizeCanvas(f.width,f.height)}else r.resizeCanvas(r.windowWidth,r.windowHeight);t=[];let c=0;for(;c<r.width;){let f=r.width*.05,g=r.width*.01,y=r.random(f,g),m=r.height*.15,b=r.height*.4,v=r.random(m,b);t.push(new l(c,y,v)),c+=y}r.loadPixels(),t.forEach(f=>{f.draw()}),r.background(0);let h=Math.min(...t.map(f=>f.height));for(let f=0;f<1e3;f++){let g=r.random(r.width),y=r.random(r.height-h),m=1-y/(r.height-h);if(r.random()<m){let b=r.map(y,0,r.height-h,255,150);r.set(g,y,r.color(b))}}r.updatePixels(),n=new Array(r.width);for(let f=0;f<r.width;f++)n[f]=r.height-r.random(50,100);for(let f=0;f<r.width;f++)for(let g=n[f];g<r.height;g++)r.random()<.05?r.set(f,g,r.random()<.5?r.color(255,255,0):r.color(255)):r.set(f,g,r.color(0));r.updatePixels()}})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Dp="160",vo={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Zo={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s2=0,Hm=1,o2=2,Av=1,a2=2,yo=3,Bo=0,Ti=1,wo=2,oa=0,$l=1,Gm=2,Vm=3,zm=4,l2=5,Ua=100,A2=101,c2=102,Wm=103,Km=104,u2=200,h2=201,d2=202,f2=203,Of=204,Nf=205,p2=206,m2=207,g2=208,y2=209,v2=210,b2=211,w2=212,_2=213,x2=214,S2=0,B2=1,E2=2,Ah=3,C2=4,M2=5,T2=6,L2=7,Op=0,F2=1,U2=2,aa=0,I2=1,P2=2,j2=3,R2=4,D2=5,O2=6,cv=300,lA=301,AA=302,kf=303,Qf=304,Th=306,Hf=1e3,ws=1001,Gf=1002,mi=1003,qm=1004,pd=1005,is=1006,N2=1007,nc=1008,la=1009,k2=1010,Q2=1011,Np=1012,uv=1013,ea=1014,ta=1015,ic=1016,hv=1017,dv=1018,Oa=1020,H2=1021,_s=1023,G2=1024,V2=1025,Na=1026,cA=1027,z2=1028,fv=1029,W2=1030,pv=1031,mv=1033,md=33776,gd=33777,yd=33778,vd=33779,Xm=35840,Ym=35841,Jm=35842,Zm=35843,gv=36196,$m=37492,eg=37496,tg=37808,rg=37809,ng=37810,ig=37811,sg=37812,og=37813,ag=37814,lg=37815,Ag=37816,cg=37817,ug=37818,hg=37819,dg=37820,fg=37821,bd=36492,pg=36494,mg=36495,K2=36283,gg=36284,yg=36285,vg=36286,yv=3e3,ka=3001,q2=3200,X2=3201,kp=0,Y2=1,as="",Jn="srgb",Eo="srgb-linear",Qp="display-p3",Lh="display-p3-linear",ch="linear",rn="srgb",uh="rec709",hh="p3",pl=7680,bg=519,J2=512,Z2=513,$2=514,vv=515,ew=516,tw=517,rw=518,nw=519,wg=35044,_g="300 es",Vf=1035,_o=2e3,dh=2001;class qa{addEventListener(r,n){this._listeners===void 0&&(this._listeners={});const t=this._listeners;t[r]===void 0&&(t[r]=[]),t[r].indexOf(n)===-1&&t[r].push(n)}hasEventListener(r,n){if(this._listeners===void 0)return!1;const t=this._listeners;return t[r]!==void 0&&t[r].indexOf(n)!==-1}removeEventListener(r,n){if(this._listeners===void 0)return;const o=this._listeners[r];if(o!==void 0){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}dispatchEvent(r){if(this._listeners===void 0)return;const t=this._listeners[r.type];if(t!==void 0){r.target=this;const o=t.slice(0);for(let s=0,a=o.length;s<a;s++)o[s].call(this,r);r.target=null}}}const ti=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let xg=1234567;const VA=Math.PI/180,sc=180/Math.PI;function Xa(){const i=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0,t=Math.random()*4294967295|0;return(ti[i&255]+ti[i>>8&255]+ti[i>>16&255]+ti[i>>24&255]+"-"+ti[r&255]+ti[r>>8&255]+"-"+ti[r>>16&15|64]+ti[r>>24&255]+"-"+ti[n&63|128]+ti[n>>8&255]+"-"+ti[n>>16&255]+ti[n>>24&255]+ti[t&255]+ti[t>>8&255]+ti[t>>16&255]+ti[t>>24&255]).toLowerCase()}function Un(i,r,n){return Math.max(r,Math.min(n,i))}function Hp(i,r){return(i%r+r)%r}function iw(i,r,n,t,o){return t+(i-r)*(o-t)/(n-r)}function sw(i,r,n){return i!==r?(n-i)/(r-i):0}function zA(i,r,n){return(1-n)*i+n*r}function ow(i,r,n,t){return zA(i,r,1-Math.exp(-n*t))}function aw(i,r=1){return r-Math.abs(Hp(i,r*2)-r)}function lw(i,r,n){return i<=r?0:i>=n?1:(i=(i-r)/(n-r),i*i*(3-2*i))}function Aw(i,r,n){return i<=r?0:i>=n?1:(i=(i-r)/(n-r),i*i*i*(i*(i*6-15)+10))}function cw(i,r){return i+Math.floor(Math.random()*(r-i+1))}function uw(i,r){return i+Math.random()*(r-i)}function hw(i){return i*(.5-Math.random())}function dw(i){i!==void 0&&(xg=i);let r=xg+=1831565813;return r=Math.imul(r^r>>>15,r|1),r^=r+Math.imul(r^r>>>7,r|61),((r^r>>>14)>>>0)/4294967296}function fw(i){return i*VA}function pw(i){return i*sc}function zf(i){return(i&i-1)===0&&i!==0}function mw(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function fh(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function gw(i,r,n,t,o){const s=Math.cos,a=Math.sin,A=s(n/2),l=a(n/2),u=s((r+t)/2),p=a((r+t)/2),d=s((r-t)/2),c=a((r-t)/2),h=s((t-r)/2),f=a((t-r)/2);switch(o){case"XYX":i.set(A*p,l*d,l*c,A*u);break;case"YZY":i.set(l*c,A*p,l*d,A*u);break;case"ZXZ":i.set(l*d,l*c,A*p,A*u);break;case"XZX":i.set(A*p,l*f,l*h,A*u);break;case"YXY":i.set(l*h,A*p,l*f,A*u);break;case"ZYZ":i.set(l*f,l*h,A*p,A*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function Ql(i,r){switch(r.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function di(i,r){switch(r.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const bv={DEG2RAD:VA,RAD2DEG:sc,generateUUID:Xa,clamp:Un,euclideanModulo:Hp,mapLinear:iw,inverseLerp:sw,lerp:zA,damp:ow,pingpong:aw,smoothstep:lw,smootherstep:Aw,randInt:cw,randFloat:uw,randFloatSpread:hw,seededRandom:dw,degToRad:fw,radToDeg:pw,isPowerOfTwo:zf,ceilPowerOfTwo:mw,floorPowerOfTwo:fh,setQuaternionFromProperEuler:gw,normalize:di,denormalize:Ql};class jt{constructor(r=0,n=0){jt.prototype.isVector2=!0,this.x=r,this.y=n}get width(){return this.x}set width(r){this.x=r}get height(){return this.y}set height(r){this.y=r}set(r,n){return this.x=r,this.y=n,this}setScalar(r){return this.x=r,this.y=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setComponent(r,n){switch(r){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y)}copy(r){return this.x=r.x,this.y=r.y,this}add(r){return this.x+=r.x,this.y+=r.y,this}addScalar(r){return this.x+=r,this.y+=r,this}addVectors(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this}addScaledVector(r,n){return this.x+=r.x*n,this.y+=r.y*n,this}sub(r){return this.x-=r.x,this.y-=r.y,this}subScalar(r){return this.x-=r,this.y-=r,this}subVectors(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this}multiply(r){return this.x*=r.x,this.y*=r.y,this}multiplyScalar(r){return this.x*=r,this.y*=r,this}divide(r){return this.x/=r.x,this.y/=r.y,this}divideScalar(r){return this.multiplyScalar(1/r)}applyMatrix3(r){const n=this.x,t=this.y,o=r.elements;return this.x=o[0]*n+o[3]*t+o[6],this.y=o[1]*n+o[4]*t+o[7],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this}clamp(r,n){return this.x=Math.max(r.x,Math.min(n.x,this.x)),this.y=Math.max(r.y,Math.min(n.y,this.y)),this}clampScalar(r,n){return this.x=Math.max(r,Math.min(n,this.x)),this.y=Math.max(r,Math.min(n,this.y)),this}clampLength(r,n){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(r,Math.min(n,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(r){return this.x*r.x+this.y*r.y}cross(r){return this.x*r.y-this.y*r.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(r){const n=Math.sqrt(this.lengthSq()*r.lengthSq());if(n===0)return Math.PI/2;const t=this.dot(r)/n;return Math.acos(Un(t,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const n=this.x-r.x,t=this.y-r.y;return n*n+t*t}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,n){return this.x+=(r.x-this.x)*n,this.y+=(r.y-this.y)*n,this}lerpVectors(r,n,t){return this.x=r.x+(n.x-r.x)*t,this.y=r.y+(n.y-r.y)*t,this}equals(r){return r.x===this.x&&r.y===this.y}fromArray(r,n=0){return this.x=r[n],this.y=r[n+1],this}toArray(r=[],n=0){return r[n]=this.x,r[n+1]=this.y,r}fromBufferAttribute(r,n){return this.x=r.getX(n),this.y=r.getY(n),this}rotateAround(r,n){const t=Math.cos(n),o=Math.sin(n),s=this.x-r.x,a=this.y-r.y;return this.x=s*t-a*o+r.x,this.y=s*o+a*t+r.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Br{constructor(r,n,t,o,s,a,A,l,u){Br.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],r!==void 0&&this.set(r,n,t,o,s,a,A,l,u)}set(r,n,t,o,s,a,A,l,u){const p=this.elements;return p[0]=r,p[1]=o,p[2]=A,p[3]=n,p[4]=s,p[5]=l,p[6]=t,p[7]=a,p[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(r){const n=this.elements,t=r.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],this}extractBasis(r,n,t){return r.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),t.setFromMatrix3Column(this,2),this}setFromMatrix4(r){const n=r.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,n){const t=r.elements,o=n.elements,s=this.elements,a=t[0],A=t[3],l=t[6],u=t[1],p=t[4],d=t[7],c=t[2],h=t[5],f=t[8],g=o[0],y=o[3],m=o[6],b=o[1],v=o[4],w=o[7],_=o[2],M=o[5],x=o[8];return s[0]=a*g+A*b+l*_,s[3]=a*y+A*v+l*M,s[6]=a*m+A*w+l*x,s[1]=u*g+p*b+d*_,s[4]=u*y+p*v+d*M,s[7]=u*m+p*w+d*x,s[2]=c*g+h*b+f*_,s[5]=c*y+h*v+f*M,s[8]=c*m+h*w+f*x,this}multiplyScalar(r){const n=this.elements;return n[0]*=r,n[3]*=r,n[6]*=r,n[1]*=r,n[4]*=r,n[7]*=r,n[2]*=r,n[5]*=r,n[8]*=r,this}determinant(){const r=this.elements,n=r[0],t=r[1],o=r[2],s=r[3],a=r[4],A=r[5],l=r[6],u=r[7],p=r[8];return n*a*p-n*A*u-t*s*p+t*A*l+o*s*u-o*a*l}invert(){const r=this.elements,n=r[0],t=r[1],o=r[2],s=r[3],a=r[4],A=r[5],l=r[6],u=r[7],p=r[8],d=p*a-A*u,c=A*l-p*s,h=u*s-a*l,f=n*d+t*c+o*h;if(f===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/f;return r[0]=d*g,r[1]=(o*u-p*t)*g,r[2]=(A*t-o*a)*g,r[3]=c*g,r[4]=(p*n-o*l)*g,r[5]=(o*s-A*n)*g,r[6]=h*g,r[7]=(t*l-u*n)*g,r[8]=(a*n-t*s)*g,this}transpose(){let r;const n=this.elements;return r=n[1],n[1]=n[3],n[3]=r,r=n[2],n[2]=n[6],n[6]=r,r=n[5],n[5]=n[7],n[7]=r,this}getNormalMatrix(r){return this.setFromMatrix4(r).invert().transpose()}transposeIntoArray(r){const n=this.elements;return r[0]=n[0],r[1]=n[3],r[2]=n[6],r[3]=n[1],r[4]=n[4],r[5]=n[7],r[6]=n[2],r[7]=n[5],r[8]=n[8],this}setUvTransform(r,n,t,o,s,a,A){const l=Math.cos(s),u=Math.sin(s);return this.set(t*l,t*u,-t*(l*a+u*A)+a+r,-o*u,o*l,-o*(-u*a+l*A)+A+n,0,0,1),this}scale(r,n){return this.premultiply(wd.makeScale(r,n)),this}rotate(r){return this.premultiply(wd.makeRotation(-r)),this}translate(r,n){return this.premultiply(wd.makeTranslation(r,n)),this}makeTranslation(r,n){return r.isVector2?this.set(1,0,r.x,0,1,r.y,0,0,1):this.set(1,0,r,0,1,n,0,0,1),this}makeRotation(r){const n=Math.cos(r),t=Math.sin(r);return this.set(n,-t,0,t,n,0,0,0,1),this}makeScale(r,n){return this.set(r,0,0,0,n,0,0,0,1),this}equals(r){const n=this.elements,t=r.elements;for(let o=0;o<9;o++)if(n[o]!==t[o])return!1;return!0}fromArray(r,n=0){for(let t=0;t<9;t++)this.elements[t]=r[t+n];return this}toArray(r=[],n=0){const t=this.elements;return r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2],r[n+3]=t[3],r[n+4]=t[4],r[n+5]=t[5],r[n+6]=t[6],r[n+7]=t[7],r[n+8]=t[8],r}clone(){return new this.constructor().fromArray(this.elements)}}const wd=new Br;function wv(i){for(let r=i.length-1;r>=0;--r)if(i[r]>=65535)return!0;return!1}function ph(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function yw(){const i=ph("canvas");return i.style.display="block",i}const Sg={};function WA(i){i in Sg||(Sg[i]=!0,console.warn(i))}const Bg=new Br().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Eg=new Br().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Gc={[Eo]:{transfer:ch,primaries:uh,toReference:i=>i,fromReference:i=>i},[Jn]:{transfer:rn,primaries:uh,toReference:i=>i.convertSRGBToLinear(),fromReference:i=>i.convertLinearToSRGB()},[Lh]:{transfer:ch,primaries:hh,toReference:i=>i.applyMatrix3(Eg),fromReference:i=>i.applyMatrix3(Bg)},[Qp]:{transfer:rn,primaries:hh,toReference:i=>i.convertSRGBToLinear().applyMatrix3(Eg),fromReference:i=>i.applyMatrix3(Bg).convertLinearToSRGB()}},vw=new Set([Eo,Lh]),Wr={enabled:!0,_workingColorSpace:Eo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(i){if(!vw.has(i))throw new Error(`Unsupported working color space, "${i}".`);this._workingColorSpace=i},convert:function(i,r,n){if(this.enabled===!1||r===n||!r||!n)return i;const t=Gc[r].toReference,o=Gc[n].fromReference;return o(t(i))},fromWorkingColorSpace:function(i,r){return this.convert(i,this._workingColorSpace,r)},toWorkingColorSpace:function(i,r){return this.convert(i,r,this._workingColorSpace)},getPrimaries:function(i){return Gc[i].primaries},getTransfer:function(i){return i===as?ch:Gc[i].transfer}};function eA(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function _d(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let ml;class _v{static getDataURL(r){if(/^data:/i.test(r.src)||typeof HTMLCanvasElement>"u")return r.src;let n;if(r instanceof HTMLCanvasElement)n=r;else{ml===void 0&&(ml=ph("canvas")),ml.width=r.width,ml.height=r.height;const t=ml.getContext("2d");r instanceof ImageData?t.putImageData(r,0,0):t.drawImage(r,0,0,r.width,r.height),n=ml}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",r),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(r){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const n=ph("canvas");n.width=r.width,n.height=r.height;const t=n.getContext("2d");t.drawImage(r,0,0,r.width,r.height);const o=t.getImageData(0,0,r.width,r.height),s=o.data;for(let a=0;a<s.length;a++)s[a]=eA(s[a]/255)*255;return t.putImageData(o,0,0),n}else if(r.data){const n=r.data.slice(0);for(let t=0;t<n.length;t++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[t]=Math.floor(eA(n[t]/255)*255):n[t]=eA(n[t]);return{data:n,width:r.width,height:r.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),r}}let bw=0;class xv{constructor(r=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bw++}),this.uuid=Xa(),this.data=r,this.version=0}set needsUpdate(r){r===!0&&this.version++}toJSON(r){const n=r===void 0||typeof r=="string";if(!n&&r.images[this.uuid]!==void 0)return r.images[this.uuid];const t={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let a=0,A=o.length;a<A;a++)o[a].isDataTexture?s.push(xd(o[a].image)):s.push(xd(o[a]))}else s=xd(o);t.url=s}return n||(r.images[this.uuid]=t),t}}function xd(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?_v.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ww=0;class Hi extends qa{constructor(r=Hi.DEFAULT_IMAGE,n=Hi.DEFAULT_MAPPING,t=ws,o=ws,s=is,a=nc,A=_s,l=la,u=Hi.DEFAULT_ANISOTROPY,p=as){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ww++}),this.uuid=Xa(),this.name="",this.source=new xv(r),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=t,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=A,this.internalFormat=null,this.type=l,this.offset=new jt(0,0),this.repeat=new jt(1,1),this.center=new jt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Br,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof p=="string"?this.colorSpace=p:(WA("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=p===ka?Jn:as),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(r=null){this.source.data=r}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(r){return this.name=r.name,this.source=r.source,this.mipmaps=r.mipmaps.slice(0),this.mapping=r.mapping,this.channel=r.channel,this.wrapS=r.wrapS,this.wrapT=r.wrapT,this.magFilter=r.magFilter,this.minFilter=r.minFilter,this.anisotropy=r.anisotropy,this.format=r.format,this.internalFormat=r.internalFormat,this.type=r.type,this.offset.copy(r.offset),this.repeat.copy(r.repeat),this.center.copy(r.center),this.rotation=r.rotation,this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrix.copy(r.matrix),this.generateMipmaps=r.generateMipmaps,this.premultiplyAlpha=r.premultiplyAlpha,this.flipY=r.flipY,this.unpackAlignment=r.unpackAlignment,this.colorSpace=r.colorSpace,this.userData=JSON.parse(JSON.stringify(r.userData)),this.needsUpdate=!0,this}toJSON(r){const n=r===void 0||typeof r=="string";if(!n&&r.textures[this.uuid]!==void 0)return r.textures[this.uuid];const t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(r).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(t.userData=this.userData),n||(r.textures[this.uuid]=t),t}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(r){if(this.mapping!==cv)return r;if(r.applyMatrix3(this.matrix),r.x<0||r.x>1)switch(this.wrapS){case Hf:r.x=r.x-Math.floor(r.x);break;case ws:r.x=r.x<0?0:1;break;case Gf:Math.abs(Math.floor(r.x)%2)===1?r.x=Math.ceil(r.x)-r.x:r.x=r.x-Math.floor(r.x);break}if(r.y<0||r.y>1)switch(this.wrapT){case Hf:r.y=r.y-Math.floor(r.y);break;case ws:r.y=r.y<0?0:1;break;case Gf:Math.abs(Math.floor(r.y)%2)===1?r.y=Math.ceil(r.y)-r.y:r.y=r.y-Math.floor(r.y);break}return this.flipY&&(r.y=1-r.y),r}set needsUpdate(r){r===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return WA("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Jn?ka:yv}set encoding(r){WA("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=r===ka?Jn:as}}Hi.DEFAULT_IMAGE=null;Hi.DEFAULT_MAPPING=cv;Hi.DEFAULT_ANISOTROPY=1;class cn{constructor(r=0,n=0,t=0,o=1){cn.prototype.isVector4=!0,this.x=r,this.y=n,this.z=t,this.w=o}get width(){return this.z}set width(r){this.z=r}get height(){return this.w}set height(r){this.w=r}set(r,n,t,o){return this.x=r,this.y=n,this.z=t,this.w=o,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this.w=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setW(r){return this.w=r,this}setComponent(r,n){switch(r){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this.w=r.w!==void 0?r.w:1,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this.w+=r.w,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this.w+=r,this}addVectors(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this.z=r.z+n.z,this.w=r.w+n.w,this}addScaledVector(r,n){return this.x+=r.x*n,this.y+=r.y*n,this.z+=r.z*n,this.w+=r.w*n,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this.w-=r.w,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this.w-=r,this}subVectors(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this.z=r.z-n.z,this.w=r.w-n.w,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this.w*=r.w,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this}applyMatrix4(r){const n=this.x,t=this.y,o=this.z,s=this.w,a=r.elements;return this.x=a[0]*n+a[4]*t+a[8]*o+a[12]*s,this.y=a[1]*n+a[5]*t+a[9]*o+a[13]*s,this.z=a[2]*n+a[6]*t+a[10]*o+a[14]*s,this.w=a[3]*n+a[7]*t+a[11]*o+a[15]*s,this}divideScalar(r){return this.multiplyScalar(1/r)}setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const n=Math.sqrt(1-r.w*r.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=r.x/n,this.y=r.y/n,this.z=r.z/n),this}setAxisAngleFromRotationMatrix(r){let n,t,o,s;const l=r.elements,u=l[0],p=l[4],d=l[8],c=l[1],h=l[5],f=l[9],g=l[2],y=l[6],m=l[10];if(Math.abs(p-c)<.01&&Math.abs(d-g)<.01&&Math.abs(f-y)<.01){if(Math.abs(p+c)<.1&&Math.abs(d+g)<.1&&Math.abs(f+y)<.1&&Math.abs(u+h+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const v=(u+1)/2,w=(h+1)/2,_=(m+1)/2,M=(p+c)/4,x=(d+g)/4,E=(f+y)/4;return v>w&&v>_?v<.01?(t=0,o=.707106781,s=.707106781):(t=Math.sqrt(v),o=M/t,s=x/t):w>_?w<.01?(t=.707106781,o=0,s=.707106781):(o=Math.sqrt(w),t=M/o,s=E/o):_<.01?(t=.707106781,o=.707106781,s=0):(s=Math.sqrt(_),t=x/s,o=E/s),this.set(t,o,s,n),this}let b=Math.sqrt((y-f)*(y-f)+(d-g)*(d-g)+(c-p)*(c-p));return Math.abs(b)<.001&&(b=1),this.x=(y-f)/b,this.y=(d-g)/b,this.z=(c-p)/b,this.w=Math.acos((u+h+m-1)/2),this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this.w=Math.min(this.w,r.w),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this.w=Math.max(this.w,r.w),this}clamp(r,n){return this.x=Math.max(r.x,Math.min(n.x,this.x)),this.y=Math.max(r.y,Math.min(n.y,this.y)),this.z=Math.max(r.z,Math.min(n.z,this.z)),this.w=Math.max(r.w,Math.min(n.w,this.w)),this}clampScalar(r,n){return this.x=Math.max(r,Math.min(n,this.x)),this.y=Math.max(r,Math.min(n,this.y)),this.z=Math.max(r,Math.min(n,this.z)),this.w=Math.max(r,Math.min(n,this.w)),this}clampLength(r,n){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(r,Math.min(n,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,n){return this.x+=(r.x-this.x)*n,this.y+=(r.y-this.y)*n,this.z+=(r.z-this.z)*n,this.w+=(r.w-this.w)*n,this}lerpVectors(r,n,t){return this.x=r.x+(n.x-r.x)*t,this.y=r.y+(n.y-r.y)*t,this.z=r.z+(n.z-r.z)*t,this.w=r.w+(n.w-r.w)*t,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w}fromArray(r,n=0){return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this.w=r[n+3],this}toArray(r=[],n=0){return r[n]=this.x,r[n+1]=this.y,r[n+2]=this.z,r[n+3]=this.w,r}fromBufferAttribute(r,n){return this.x=r.getX(n),this.y=r.getY(n),this.z=r.getZ(n),this.w=r.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _w extends qa{constructor(r=1,n=1,t={}){super(),this.isRenderTarget=!0,this.width=r,this.height=n,this.depth=1,this.scissor=new cn(0,0,r,n),this.scissorTest=!1,this.viewport=new cn(0,0,r,n);const o={width:r,height:n,depth:1};t.encoding!==void 0&&(WA("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===ka?Jn:as),t=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:is,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},t),this.texture=new Hi(o,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=t.generateMipmaps,this.texture.internalFormat=t.internalFormat,this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.samples=t.samples}setSize(r,n,t=1){(this.width!==r||this.height!==n||this.depth!==t)&&(this.width=r,this.height=n,this.depth=t,this.texture.image.width=r,this.texture.image.height=n,this.texture.image.depth=t,this.dispose()),this.viewport.set(0,0,r,n),this.scissor.set(0,0,r,n)}clone(){return new this.constructor().copy(this)}copy(r){this.width=r.width,this.height=r.height,this.depth=r.depth,this.scissor.copy(r.scissor),this.scissorTest=r.scissorTest,this.viewport.copy(r.viewport),this.texture=r.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},r.texture.image);return this.texture.source=new xv(n),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,r.depthTexture!==null&&(this.depthTexture=r.depthTexture.clone()),this.samples=r.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Va extends _w{constructor(r=1,n=1,t={}){super(r,n,t),this.isWebGLRenderTarget=!0}}class Sv extends Hi{constructor(r=null,n=1,t=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:r,width:n,height:t,depth:o},this.magFilter=mi,this.minFilter=mi,this.wrapR=ws,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xw extends Hi{constructor(r=null,n=1,t=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:r,width:n,height:t,depth:o},this.magFilter=mi,this.minFilter=mi,this.wrapR=ws,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class za{constructor(r=0,n=0,t=0,o=1){this.isQuaternion=!0,this._x=r,this._y=n,this._z=t,this._w=o}static slerpFlat(r,n,t,o,s,a,A){let l=t[o+0],u=t[o+1],p=t[o+2],d=t[o+3];const c=s[a+0],h=s[a+1],f=s[a+2],g=s[a+3];if(A===0){r[n+0]=l,r[n+1]=u,r[n+2]=p,r[n+3]=d;return}if(A===1){r[n+0]=c,r[n+1]=h,r[n+2]=f,r[n+3]=g;return}if(d!==g||l!==c||u!==h||p!==f){let y=1-A;const m=l*c+u*h+p*f+d*g,b=m>=0?1:-1,v=1-m*m;if(v>Number.EPSILON){const _=Math.sqrt(v),M=Math.atan2(_,m*b);y=Math.sin(y*M)/_,A=Math.sin(A*M)/_}const w=A*b;if(l=l*y+c*w,u=u*y+h*w,p=p*y+f*w,d=d*y+g*w,y===1-A){const _=1/Math.sqrt(l*l+u*u+p*p+d*d);l*=_,u*=_,p*=_,d*=_}}r[n]=l,r[n+1]=u,r[n+2]=p,r[n+3]=d}static multiplyQuaternionsFlat(r,n,t,o,s,a){const A=t[o],l=t[o+1],u=t[o+2],p=t[o+3],d=s[a],c=s[a+1],h=s[a+2],f=s[a+3];return r[n]=A*f+p*d+l*h-u*c,r[n+1]=l*f+p*c+u*d-A*h,r[n+2]=u*f+p*h+A*c-l*d,r[n+3]=p*f-A*d-l*c-u*h,r}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get w(){return this._w}set w(r){this._w=r,this._onChangeCallback()}set(r,n,t,o){return this._x=r,this._y=n,this._z=t,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(r){return this._x=r.x,this._y=r.y,this._z=r.z,this._w=r.w,this._onChangeCallback(),this}setFromEuler(r,n=!0){const t=r._x,o=r._y,s=r._z,a=r._order,A=Math.cos,l=Math.sin,u=A(t/2),p=A(o/2),d=A(s/2),c=l(t/2),h=l(o/2),f=l(s/2);switch(a){case"XYZ":this._x=c*p*d+u*h*f,this._y=u*h*d-c*p*f,this._z=u*p*f+c*h*d,this._w=u*p*d-c*h*f;break;case"YXZ":this._x=c*p*d+u*h*f,this._y=u*h*d-c*p*f,this._z=u*p*f-c*h*d,this._w=u*p*d+c*h*f;break;case"ZXY":this._x=c*p*d-u*h*f,this._y=u*h*d+c*p*f,this._z=u*p*f+c*h*d,this._w=u*p*d-c*h*f;break;case"ZYX":this._x=c*p*d-u*h*f,this._y=u*h*d+c*p*f,this._z=u*p*f-c*h*d,this._w=u*p*d+c*h*f;break;case"YZX":this._x=c*p*d+u*h*f,this._y=u*h*d+c*p*f,this._z=u*p*f-c*h*d,this._w=u*p*d-c*h*f;break;case"XZY":this._x=c*p*d-u*h*f,this._y=u*h*d-c*p*f,this._z=u*p*f+c*h*d,this._w=u*p*d+c*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(r,n){const t=n/2,o=Math.sin(t);return this._x=r.x*o,this._y=r.y*o,this._z=r.z*o,this._w=Math.cos(t),this._onChangeCallback(),this}setFromRotationMatrix(r){const n=r.elements,t=n[0],o=n[4],s=n[8],a=n[1],A=n[5],l=n[9],u=n[2],p=n[6],d=n[10],c=t+A+d;if(c>0){const h=.5/Math.sqrt(c+1);this._w=.25/h,this._x=(p-l)*h,this._y=(s-u)*h,this._z=(a-o)*h}else if(t>A&&t>d){const h=2*Math.sqrt(1+t-A-d);this._w=(p-l)/h,this._x=.25*h,this._y=(o+a)/h,this._z=(s+u)/h}else if(A>d){const h=2*Math.sqrt(1+A-t-d);this._w=(s-u)/h,this._x=(o+a)/h,this._y=.25*h,this._z=(l+p)/h}else{const h=2*Math.sqrt(1+d-t-A);this._w=(a-o)/h,this._x=(s+u)/h,this._y=(l+p)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(r,n){let t=r.dot(n)+1;return t<Number.EPSILON?(t=0,Math.abs(r.x)>Math.abs(r.z)?(this._x=-r.y,this._y=r.x,this._z=0,this._w=t):(this._x=0,this._y=-r.z,this._z=r.y,this._w=t)):(this._x=r.y*n.z-r.z*n.y,this._y=r.z*n.x-r.x*n.z,this._z=r.x*n.y-r.y*n.x,this._w=t),this.normalize()}angleTo(r){return 2*Math.acos(Math.abs(Un(this.dot(r),-1,1)))}rotateTowards(r,n){const t=this.angleTo(r);if(t===0)return this;const o=Math.min(1,n/t);return this.slerp(r,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(r){return this._x*r._x+this._y*r._y+this._z*r._z+this._w*r._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let r=this.length();return r===0?(this._x=0,this._y=0,this._z=0,this._w=1):(r=1/r,this._x=this._x*r,this._y=this._y*r,this._z=this._z*r,this._w=this._w*r),this._onChangeCallback(),this}multiply(r){return this.multiplyQuaternions(this,r)}premultiply(r){return this.multiplyQuaternions(r,this)}multiplyQuaternions(r,n){const t=r._x,o=r._y,s=r._z,a=r._w,A=n._x,l=n._y,u=n._z,p=n._w;return this._x=t*p+a*A+o*u-s*l,this._y=o*p+a*l+s*A-t*u,this._z=s*p+a*u+t*l-o*A,this._w=a*p-t*A-o*l-s*u,this._onChangeCallback(),this}slerp(r,n){if(n===0)return this;if(n===1)return this.copy(r);const t=this._x,o=this._y,s=this._z,a=this._w;let A=a*r._w+t*r._x+o*r._y+s*r._z;if(A<0?(this._w=-r._w,this._x=-r._x,this._y=-r._y,this._z=-r._z,A=-A):this.copy(r),A>=1)return this._w=a,this._x=t,this._y=o,this._z=s,this;const l=1-A*A;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*t+n*this._x,this._y=h*o+n*this._y,this._z=h*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),p=Math.atan2(u,A),d=Math.sin((1-n)*p)/u,c=Math.sin(n*p)/u;return this._w=a*d+this._w*c,this._x=t*d+this._x*c,this._y=o*d+this._y*c,this._z=s*d+this._z*c,this._onChangeCallback(),this}slerpQuaternions(r,n,t){return this.copy(r).slerp(n,t)}random(){const r=Math.random(),n=Math.sqrt(1-r),t=Math.sqrt(r),o=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(o),t*Math.sin(s),t*Math.cos(s),n*Math.sin(o))}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._w===this._w}fromArray(r,n=0){return this._x=r[n],this._y=r[n+1],this._z=r[n+2],this._w=r[n+3],this._onChangeCallback(),this}toArray(r=[],n=0){return r[n]=this._x,r[n+1]=this._y,r[n+2]=this._z,r[n+3]=this._w,r}fromBufferAttribute(r,n){return this._x=r.getX(n),this._y=r.getY(n),this._z=r.getZ(n),this._w=r.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class He{constructor(r=0,n=0,t=0){He.prototype.isVector3=!0,this.x=r,this.y=n,this.z=t}set(r,n,t){return t===void 0&&(t=this.z),this.x=r,this.y=n,this.z=t,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setComponent(r,n){switch(r){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this}addVectors(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this.z=r.z+n.z,this}addScaledVector(r,n){return this.x+=r.x*n,this.y+=r.y*n,this.z+=r.z*n,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this}subVectors(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this.z=r.z-n.z,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this}multiplyVectors(r,n){return this.x=r.x*n.x,this.y=r.y*n.y,this.z=r.z*n.z,this}applyEuler(r){return this.applyQuaternion(Cg.setFromEuler(r))}applyAxisAngle(r,n){return this.applyQuaternion(Cg.setFromAxisAngle(r,n))}applyMatrix3(r){const n=this.x,t=this.y,o=this.z,s=r.elements;return this.x=s[0]*n+s[3]*t+s[6]*o,this.y=s[1]*n+s[4]*t+s[7]*o,this.z=s[2]*n+s[5]*t+s[8]*o,this}applyNormalMatrix(r){return this.applyMatrix3(r).normalize()}applyMatrix4(r){const n=this.x,t=this.y,o=this.z,s=r.elements,a=1/(s[3]*n+s[7]*t+s[11]*o+s[15]);return this.x=(s[0]*n+s[4]*t+s[8]*o+s[12])*a,this.y=(s[1]*n+s[5]*t+s[9]*o+s[13])*a,this.z=(s[2]*n+s[6]*t+s[10]*o+s[14])*a,this}applyQuaternion(r){const n=this.x,t=this.y,o=this.z,s=r.x,a=r.y,A=r.z,l=r.w,u=2*(a*o-A*t),p=2*(A*n-s*o),d=2*(s*t-a*n);return this.x=n+l*u+a*d-A*p,this.y=t+l*p+A*u-s*d,this.z=o+l*d+s*p-a*u,this}project(r){return this.applyMatrix4(r.matrixWorldInverse).applyMatrix4(r.projectionMatrix)}unproject(r){return this.applyMatrix4(r.projectionMatrixInverse).applyMatrix4(r.matrixWorld)}transformDirection(r){const n=this.x,t=this.y,o=this.z,s=r.elements;return this.x=s[0]*n+s[4]*t+s[8]*o,this.y=s[1]*n+s[5]*t+s[9]*o,this.z=s[2]*n+s[6]*t+s[10]*o,this.normalize()}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this}divideScalar(r){return this.multiplyScalar(1/r)}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this}clamp(r,n){return this.x=Math.max(r.x,Math.min(n.x,this.x)),this.y=Math.max(r.y,Math.min(n.y,this.y)),this.z=Math.max(r.z,Math.min(n.z,this.z)),this}clampScalar(r,n){return this.x=Math.max(r,Math.min(n,this.x)),this.y=Math.max(r,Math.min(n,this.y)),this.z=Math.max(r,Math.min(n,this.z)),this}clampLength(r,n){const t=this.length();return this.divideScalar(t||1).multiplyScalar(Math.max(r,Math.min(n,t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,n){return this.x+=(r.x-this.x)*n,this.y+=(r.y-this.y)*n,this.z+=(r.z-this.z)*n,this}lerpVectors(r,n,t){return this.x=r.x+(n.x-r.x)*t,this.y=r.y+(n.y-r.y)*t,this.z=r.z+(n.z-r.z)*t,this}cross(r){return this.crossVectors(this,r)}crossVectors(r,n){const t=r.x,o=r.y,s=r.z,a=n.x,A=n.y,l=n.z;return this.x=o*l-s*A,this.y=s*a-t*l,this.z=t*A-o*a,this}projectOnVector(r){const n=r.lengthSq();if(n===0)return this.set(0,0,0);const t=r.dot(this)/n;return this.copy(r).multiplyScalar(t)}projectOnPlane(r){return Sd.copy(this).projectOnVector(r),this.sub(Sd)}reflect(r){return this.sub(Sd.copy(r).multiplyScalar(2*this.dot(r)))}angleTo(r){const n=Math.sqrt(this.lengthSq()*r.lengthSq());if(n===0)return Math.PI/2;const t=this.dot(r)/n;return Math.acos(Un(t,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const n=this.x-r.x,t=this.y-r.y,o=this.z-r.z;return n*n+t*t+o*o}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)+Math.abs(this.z-r.z)}setFromSpherical(r){return this.setFromSphericalCoords(r.radius,r.phi,r.theta)}setFromSphericalCoords(r,n,t){const o=Math.sin(n)*r;return this.x=o*Math.sin(t),this.y=Math.cos(n)*r,this.z=o*Math.cos(t),this}setFromCylindrical(r){return this.setFromCylindricalCoords(r.radius,r.theta,r.y)}setFromCylindricalCoords(r,n,t){return this.x=r*Math.sin(n),this.y=t,this.z=r*Math.cos(n),this}setFromMatrixPosition(r){const n=r.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(r){const n=this.setFromMatrixColumn(r,0).length(),t=this.setFromMatrixColumn(r,1).length(),o=this.setFromMatrixColumn(r,2).length();return this.x=n,this.y=t,this.z=o,this}setFromMatrixColumn(r,n){return this.fromArray(r.elements,n*4)}setFromMatrix3Column(r,n){return this.fromArray(r.elements,n*3)}setFromEuler(r){return this.x=r._x,this.y=r._y,this.z=r._z,this}setFromColor(r){return this.x=r.r,this.y=r.g,this.z=r.b,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z}fromArray(r,n=0){return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this}toArray(r=[],n=0){return r[n]=this.x,r[n+1]=this.y,r[n+2]=this.z,r}fromBufferAttribute(r,n){return this.x=r.getX(n),this.y=r.getY(n),this.z=r.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const r=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,t=Math.sqrt(1-r**2);return this.x=t*Math.cos(n),this.y=t*Math.sin(n),this.z=r,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sd=new He,Cg=new za;class Ya{constructor(r=new He(1/0,1/0,1/0),n=new He(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=r,this.max=n}set(r,n){return this.min.copy(r),this.max.copy(n),this}setFromArray(r){this.makeEmpty();for(let n=0,t=r.length;n<t;n+=3)this.expandByPoint(fs.fromArray(r,n));return this}setFromBufferAttribute(r){this.makeEmpty();for(let n=0,t=r.count;n<t;n++)this.expandByPoint(fs.fromBufferAttribute(r,n));return this}setFromPoints(r){this.makeEmpty();for(let n=0,t=r.length;n<t;n++)this.expandByPoint(r[n]);return this}setFromCenterAndSize(r,n){const t=fs.copy(n).multiplyScalar(.5);return this.min.copy(r).sub(t),this.max.copy(r).add(t),this}setFromObject(r,n=!1){return this.makeEmpty(),this.expandByObject(r,n)}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(r){return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}expandByObject(r,n=!1){r.updateWorldMatrix(!1,!1);const t=r.geometry;if(t!==void 0){const s=t.getAttribute("position");if(n===!0&&s!==void 0&&r.isInstancedMesh!==!0)for(let a=0,A=s.count;a<A;a++)r.isMesh===!0?r.getVertexPosition(a,fs):fs.fromBufferAttribute(s,a),fs.applyMatrix4(r.matrixWorld),this.expandByPoint(fs);else r.boundingBox!==void 0?(r.boundingBox===null&&r.computeBoundingBox(),Vc.copy(r.boundingBox)):(t.boundingBox===null&&t.computeBoundingBox(),Vc.copy(t.boundingBox)),Vc.applyMatrix4(r.matrixWorld),this.union(Vc)}const o=r.children;for(let s=0,a=o.length;s<a;s++)this.expandByObject(o[s],n);return this}containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y||r.z<this.min.z||r.z>this.max.z)}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y&&this.min.z<=r.min.z&&r.max.z<=this.max.z}getParameter(r,n){return n.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y),(r.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y||r.max.z<this.min.z||r.min.z>this.max.z)}intersectsSphere(r){return this.clampPoint(r.center,fs),fs.distanceToSquared(r.center)<=r.radius*r.radius}intersectsPlane(r){let n,t;return r.normal.x>0?(n=r.normal.x*this.min.x,t=r.normal.x*this.max.x):(n=r.normal.x*this.max.x,t=r.normal.x*this.min.x),r.normal.y>0?(n+=r.normal.y*this.min.y,t+=r.normal.y*this.max.y):(n+=r.normal.y*this.max.y,t+=r.normal.y*this.min.y),r.normal.z>0?(n+=r.normal.z*this.min.z,t+=r.normal.z*this.max.z):(n+=r.normal.z*this.max.z,t+=r.normal.z*this.min.z),n<=-r.constant&&t>=-r.constant}intersectsTriangle(r){if(this.isEmpty())return!1;this.getCenter(BA),zc.subVectors(this.max,BA),gl.subVectors(r.a,BA),yl.subVectors(r.b,BA),vl.subVectors(r.c,BA),Go.subVectors(yl,gl),Vo.subVectors(vl,yl),Ba.subVectors(gl,vl);let n=[0,-Go.z,Go.y,0,-Vo.z,Vo.y,0,-Ba.z,Ba.y,Go.z,0,-Go.x,Vo.z,0,-Vo.x,Ba.z,0,-Ba.x,-Go.y,Go.x,0,-Vo.y,Vo.x,0,-Ba.y,Ba.x,0];return!Bd(n,gl,yl,vl,zc)||(n=[1,0,0,0,1,0,0,0,1],!Bd(n,gl,yl,vl,zc))?!1:(Wc.crossVectors(Go,Vo),n=[Wc.x,Wc.y,Wc.z],Bd(n,gl,yl,vl,zc))}clampPoint(r,n){return n.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,fs).distanceTo(r)}getBoundingSphere(r){return this.isEmpty()?r.makeEmpty():(this.getCenter(r.center),r.radius=this.getSize(fs).length()*.5),r}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}applyMatrix4(r){return this.isEmpty()?this:(lo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),lo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),lo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),lo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),lo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),lo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),lo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),lo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(lo),this)}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}}const lo=[new He,new He,new He,new He,new He,new He,new He,new He],fs=new He,Vc=new Ya,gl=new He,yl=new He,vl=new He,Go=new He,Vo=new He,Ba=new He,BA=new He,zc=new He,Wc=new He,Ea=new He;function Bd(i,r,n,t,o){for(let s=0,a=i.length-3;s<=a;s+=3){Ea.fromArray(i,s);const A=o.x*Math.abs(Ea.x)+o.y*Math.abs(Ea.y)+o.z*Math.abs(Ea.z),l=r.dot(Ea),u=n.dot(Ea),p=t.dot(Ea);if(Math.max(-Math.max(l,u,p),Math.min(l,u,p))>A)return!1}return!0}const Sw=new Ya,EA=new He,Ed=new He;class mc{constructor(r=new He,n=-1){this.isSphere=!0,this.center=r,this.radius=n}set(r,n){return this.center.copy(r),this.radius=n,this}setFromPoints(r,n){const t=this.center;n!==void 0?t.copy(n):Sw.setFromPoints(r).getCenter(t);let o=0;for(let s=0,a=r.length;s<a;s++)o=Math.max(o,t.distanceToSquared(r[s]));return this.radius=Math.sqrt(o),this}copy(r){return this.center.copy(r.center),this.radius=r.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(r){return r.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(r){return r.distanceTo(this.center)-this.radius}intersectsSphere(r){const n=this.radius+r.radius;return r.center.distanceToSquared(this.center)<=n*n}intersectsBox(r){return r.intersectsSphere(this)}intersectsPlane(r){return Math.abs(r.distanceToPoint(this.center))<=this.radius}clampPoint(r,n){const t=this.center.distanceToSquared(r);return n.copy(r),t>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(r){return this.isEmpty()?(r.makeEmpty(),r):(r.set(this.center,this.center),r.expandByScalar(this.radius),r)}applyMatrix4(r){return this.center.applyMatrix4(r),this.radius=this.radius*r.getMaxScaleOnAxis(),this}translate(r){return this.center.add(r),this}expandByPoint(r){if(this.isEmpty())return this.center.copy(r),this.radius=0,this;EA.subVectors(r,this.center);const n=EA.lengthSq();if(n>this.radius*this.radius){const t=Math.sqrt(n),o=(t-this.radius)*.5;this.center.addScaledVector(EA,o/t),this.radius+=o}return this}union(r){return r.isEmpty()?this:this.isEmpty()?(this.copy(r),this):(this.center.equals(r.center)===!0?this.radius=Math.max(this.radius,r.radius):(Ed.subVectors(r.center,this.center).setLength(r.radius),this.expandByPoint(EA.copy(r.center).add(Ed)),this.expandByPoint(EA.copy(r.center).sub(Ed))),this)}equals(r){return r.center.equals(this.center)&&r.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ao=new He,Cd=new He,Kc=new He,zo=new He,Md=new He,qc=new He,Td=new He;class Fh{constructor(r=new He,n=new He(0,0,-1)){this.origin=r,this.direction=n}set(r,n){return this.origin.copy(r),this.direction.copy(n),this}copy(r){return this.origin.copy(r.origin),this.direction.copy(r.direction),this}at(r,n){return n.copy(this.origin).addScaledVector(this.direction,r)}lookAt(r){return this.direction.copy(r).sub(this.origin).normalize(),this}recast(r){return this.origin.copy(this.at(r,Ao)),this}closestPointToPoint(r,n){n.subVectors(r,this.origin);const t=n.dot(this.direction);return t<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,t)}distanceToPoint(r){return Math.sqrt(this.distanceSqToPoint(r))}distanceSqToPoint(r){const n=Ao.subVectors(r,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(r):(Ao.copy(this.origin).addScaledVector(this.direction,n),Ao.distanceToSquared(r))}distanceSqToSegment(r,n,t,o){Cd.copy(r).add(n).multiplyScalar(.5),Kc.copy(n).sub(r).normalize(),zo.copy(this.origin).sub(Cd);const s=r.distanceTo(n)*.5,a=-this.direction.dot(Kc),A=zo.dot(this.direction),l=-zo.dot(Kc),u=zo.lengthSq(),p=Math.abs(1-a*a);let d,c,h,f;if(p>0)if(d=a*l-A,c=a*A-l,f=s*p,d>=0)if(c>=-f)if(c<=f){const g=1/p;d*=g,c*=g,h=d*(d+a*c+2*A)+c*(a*d+c+2*l)+u}else c=s,d=Math.max(0,-(a*c+A)),h=-d*d+c*(c+2*l)+u;else c=-s,d=Math.max(0,-(a*c+A)),h=-d*d+c*(c+2*l)+u;else c<=-f?(d=Math.max(0,-(-a*s+A)),c=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+c*(c+2*l)+u):c<=f?(d=0,c=Math.min(Math.max(-s,-l),s),h=c*(c+2*l)+u):(d=Math.max(0,-(a*s+A)),c=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+c*(c+2*l)+u);else c=a>0?-s:s,d=Math.max(0,-(a*c+A)),h=-d*d+c*(c+2*l)+u;return t&&t.copy(this.origin).addScaledVector(this.direction,d),o&&o.copy(Cd).addScaledVector(Kc,c),h}intersectSphere(r,n){Ao.subVectors(r.center,this.origin);const t=Ao.dot(this.direction),o=Ao.dot(Ao)-t*t,s=r.radius*r.radius;if(o>s)return null;const a=Math.sqrt(s-o),A=t-a,l=t+a;return l<0?null:A<0?this.at(l,n):this.at(A,n)}intersectsSphere(r){return this.distanceSqToPoint(r.center)<=r.radius*r.radius}distanceToPlane(r){const n=r.normal.dot(this.direction);if(n===0)return r.distanceToPoint(this.origin)===0?0:null;const t=-(this.origin.dot(r.normal)+r.constant)/n;return t>=0?t:null}intersectPlane(r,n){const t=this.distanceToPlane(r);return t===null?null:this.at(t,n)}intersectsPlane(r){const n=r.distanceToPoint(this.origin);return n===0||r.normal.dot(this.direction)*n<0}intersectBox(r,n){let t,o,s,a,A,l;const u=1/this.direction.x,p=1/this.direction.y,d=1/this.direction.z,c=this.origin;return u>=0?(t=(r.min.x-c.x)*u,o=(r.max.x-c.x)*u):(t=(r.max.x-c.x)*u,o=(r.min.x-c.x)*u),p>=0?(s=(r.min.y-c.y)*p,a=(r.max.y-c.y)*p):(s=(r.max.y-c.y)*p,a=(r.min.y-c.y)*p),t>a||s>o||((s>t||isNaN(t))&&(t=s),(a<o||isNaN(o))&&(o=a),d>=0?(A=(r.min.z-c.z)*d,l=(r.max.z-c.z)*d):(A=(r.max.z-c.z)*d,l=(r.min.z-c.z)*d),t>l||A>o)||((A>t||t!==t)&&(t=A),(l<o||o!==o)&&(o=l),o<0)?null:this.at(t>=0?t:o,n)}intersectsBox(r){return this.intersectBox(r,Ao)!==null}intersectTriangle(r,n,t,o,s){Md.subVectors(n,r),qc.subVectors(t,r),Td.crossVectors(Md,qc);let a=this.direction.dot(Td),A;if(a>0){if(o)return null;A=1}else if(a<0)A=-1,a=-a;else return null;zo.subVectors(this.origin,r);const l=A*this.direction.dot(qc.crossVectors(zo,qc));if(l<0)return null;const u=A*this.direction.dot(Md.cross(zo));if(u<0||l+u>a)return null;const p=-A*zo.dot(Td);return p<0?null:this.at(p/a,s)}applyMatrix4(r){return this.origin.applyMatrix4(r),this.direction.transformDirection(r),this}equals(r){return r.origin.equals(this.origin)&&r.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class fn{constructor(r,n,t,o,s,a,A,l,u,p,d,c,h,f,g,y){fn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r!==void 0&&this.set(r,n,t,o,s,a,A,l,u,p,d,c,h,f,g,y)}set(r,n,t,o,s,a,A,l,u,p,d,c,h,f,g,y){const m=this.elements;return m[0]=r,m[4]=n,m[8]=t,m[12]=o,m[1]=s,m[5]=a,m[9]=A,m[13]=l,m[2]=u,m[6]=p,m[10]=d,m[14]=c,m[3]=h,m[7]=f,m[11]=g,m[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new fn().fromArray(this.elements)}copy(r){const n=this.elements,t=r.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],this}copyPosition(r){const n=this.elements,t=r.elements;return n[12]=t[12],n[13]=t[13],n[14]=t[14],this}setFromMatrix3(r){const n=r.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(r,n,t){return r.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),t.setFromMatrixColumn(this,2),this}makeBasis(r,n,t){return this.set(r.x,n.x,t.x,0,r.y,n.y,t.y,0,r.z,n.z,t.z,0,0,0,0,1),this}extractRotation(r){const n=this.elements,t=r.elements,o=1/bl.setFromMatrixColumn(r,0).length(),s=1/bl.setFromMatrixColumn(r,1).length(),a=1/bl.setFromMatrixColumn(r,2).length();return n[0]=t[0]*o,n[1]=t[1]*o,n[2]=t[2]*o,n[3]=0,n[4]=t[4]*s,n[5]=t[5]*s,n[6]=t[6]*s,n[7]=0,n[8]=t[8]*a,n[9]=t[9]*a,n[10]=t[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(r){const n=this.elements,t=r.x,o=r.y,s=r.z,a=Math.cos(t),A=Math.sin(t),l=Math.cos(o),u=Math.sin(o),p=Math.cos(s),d=Math.sin(s);if(r.order==="XYZ"){const c=a*p,h=a*d,f=A*p,g=A*d;n[0]=l*p,n[4]=-l*d,n[8]=u,n[1]=h+f*u,n[5]=c-g*u,n[9]=-A*l,n[2]=g-c*u,n[6]=f+h*u,n[10]=a*l}else if(r.order==="YXZ"){const c=l*p,h=l*d,f=u*p,g=u*d;n[0]=c+g*A,n[4]=f*A-h,n[8]=a*u,n[1]=a*d,n[5]=a*p,n[9]=-A,n[2]=h*A-f,n[6]=g+c*A,n[10]=a*l}else if(r.order==="ZXY"){const c=l*p,h=l*d,f=u*p,g=u*d;n[0]=c-g*A,n[4]=-a*d,n[8]=f+h*A,n[1]=h+f*A,n[5]=a*p,n[9]=g-c*A,n[2]=-a*u,n[6]=A,n[10]=a*l}else if(r.order==="ZYX"){const c=a*p,h=a*d,f=A*p,g=A*d;n[0]=l*p,n[4]=f*u-h,n[8]=c*u+g,n[1]=l*d,n[5]=g*u+c,n[9]=h*u-f,n[2]=-u,n[6]=A*l,n[10]=a*l}else if(r.order==="YZX"){const c=a*l,h=a*u,f=A*l,g=A*u;n[0]=l*p,n[4]=g-c*d,n[8]=f*d+h,n[1]=d,n[5]=a*p,n[9]=-A*p,n[2]=-u*p,n[6]=h*d+f,n[10]=c-g*d}else if(r.order==="XZY"){const c=a*l,h=a*u,f=A*l,g=A*u;n[0]=l*p,n[4]=-d,n[8]=u*p,n[1]=c*d+g,n[5]=a*p,n[9]=h*d-f,n[2]=f*d-h,n[6]=A*p,n[10]=g*d+c}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(r){return this.compose(Bw,r,Ew)}lookAt(r,n,t){const o=this.elements;return Ni.subVectors(r,n),Ni.lengthSq()===0&&(Ni.z=1),Ni.normalize(),Wo.crossVectors(t,Ni),Wo.lengthSq()===0&&(Math.abs(t.z)===1?Ni.x+=1e-4:Ni.z+=1e-4,Ni.normalize(),Wo.crossVectors(t,Ni)),Wo.normalize(),Xc.crossVectors(Ni,Wo),o[0]=Wo.x,o[4]=Xc.x,o[8]=Ni.x,o[1]=Wo.y,o[5]=Xc.y,o[9]=Ni.y,o[2]=Wo.z,o[6]=Xc.z,o[10]=Ni.z,this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,n){const t=r.elements,o=n.elements,s=this.elements,a=t[0],A=t[4],l=t[8],u=t[12],p=t[1],d=t[5],c=t[9],h=t[13],f=t[2],g=t[6],y=t[10],m=t[14],b=t[3],v=t[7],w=t[11],_=t[15],M=o[0],x=o[4],E=o[8],C=o[12],T=o[1],B=o[5],P=o[9],F=o[13],j=o[2],O=o[6],Q=o[10],z=o[14],k=o[3],W=o[7],Y=o[11],te=o[15];return s[0]=a*M+A*T+l*j+u*k,s[4]=a*x+A*B+l*O+u*W,s[8]=a*E+A*P+l*Q+u*Y,s[12]=a*C+A*F+l*z+u*te,s[1]=p*M+d*T+c*j+h*k,s[5]=p*x+d*B+c*O+h*W,s[9]=p*E+d*P+c*Q+h*Y,s[13]=p*C+d*F+c*z+h*te,s[2]=f*M+g*T+y*j+m*k,s[6]=f*x+g*B+y*O+m*W,s[10]=f*E+g*P+y*Q+m*Y,s[14]=f*C+g*F+y*z+m*te,s[3]=b*M+v*T+w*j+_*k,s[7]=b*x+v*B+w*O+_*W,s[11]=b*E+v*P+w*Q+_*Y,s[15]=b*C+v*F+w*z+_*te,this}multiplyScalar(r){const n=this.elements;return n[0]*=r,n[4]*=r,n[8]*=r,n[12]*=r,n[1]*=r,n[5]*=r,n[9]*=r,n[13]*=r,n[2]*=r,n[6]*=r,n[10]*=r,n[14]*=r,n[3]*=r,n[7]*=r,n[11]*=r,n[15]*=r,this}determinant(){const r=this.elements,n=r[0],t=r[4],o=r[8],s=r[12],a=r[1],A=r[5],l=r[9],u=r[13],p=r[2],d=r[6],c=r[10],h=r[14],f=r[3],g=r[7],y=r[11],m=r[15];return f*(+s*l*d-o*u*d-s*A*c+t*u*c+o*A*h-t*l*h)+g*(+n*l*h-n*u*c+s*a*c-o*a*h+o*u*p-s*l*p)+y*(+n*u*d-n*A*h-s*a*d+t*a*h+s*A*p-t*u*p)+m*(-o*A*p-n*l*d+n*A*c+o*a*d-t*a*c+t*l*p)}transpose(){const r=this.elements;let n;return n=r[1],r[1]=r[4],r[4]=n,n=r[2],r[2]=r[8],r[8]=n,n=r[6],r[6]=r[9],r[9]=n,n=r[3],r[3]=r[12],r[12]=n,n=r[7],r[7]=r[13],r[13]=n,n=r[11],r[11]=r[14],r[14]=n,this}setPosition(r,n,t){const o=this.elements;return r.isVector3?(o[12]=r.x,o[13]=r.y,o[14]=r.z):(o[12]=r,o[13]=n,o[14]=t),this}invert(){const r=this.elements,n=r[0],t=r[1],o=r[2],s=r[3],a=r[4],A=r[5],l=r[6],u=r[7],p=r[8],d=r[9],c=r[10],h=r[11],f=r[12],g=r[13],y=r[14],m=r[15],b=d*y*u-g*c*u+g*l*h-A*y*h-d*l*m+A*c*m,v=f*c*u-p*y*u-f*l*h+a*y*h+p*l*m-a*c*m,w=p*g*u-f*d*u+f*A*h-a*g*h-p*A*m+a*d*m,_=f*d*l-p*g*l-f*A*c+a*g*c+p*A*y-a*d*y,M=n*b+t*v+o*w+s*_;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/M;return r[0]=b*x,r[1]=(g*c*s-d*y*s-g*o*h+t*y*h+d*o*m-t*c*m)*x,r[2]=(A*y*s-g*l*s+g*o*u-t*y*u-A*o*m+t*l*m)*x,r[3]=(d*l*s-A*c*s-d*o*u+t*c*u+A*o*h-t*l*h)*x,r[4]=v*x,r[5]=(p*y*s-f*c*s+f*o*h-n*y*h-p*o*m+n*c*m)*x,r[6]=(f*l*s-a*y*s-f*o*u+n*y*u+a*o*m-n*l*m)*x,r[7]=(a*c*s-p*l*s+p*o*u-n*c*u-a*o*h+n*l*h)*x,r[8]=w*x,r[9]=(f*d*s-p*g*s-f*t*h+n*g*h+p*t*m-n*d*m)*x,r[10]=(a*g*s-f*A*s+f*t*u-n*g*u-a*t*m+n*A*m)*x,r[11]=(p*A*s-a*d*s-p*t*u+n*d*u+a*t*h-n*A*h)*x,r[12]=_*x,r[13]=(p*g*o-f*d*o+f*t*c-n*g*c-p*t*y+n*d*y)*x,r[14]=(f*A*o-a*g*o-f*t*l+n*g*l+a*t*y-n*A*y)*x,r[15]=(a*d*o-p*A*o+p*t*l-n*d*l-a*t*c+n*A*c)*x,this}scale(r){const n=this.elements,t=r.x,o=r.y,s=r.z;return n[0]*=t,n[4]*=o,n[8]*=s,n[1]*=t,n[5]*=o,n[9]*=s,n[2]*=t,n[6]*=o,n[10]*=s,n[3]*=t,n[7]*=o,n[11]*=s,this}getMaxScaleOnAxis(){const r=this.elements,n=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],t=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],o=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return Math.sqrt(Math.max(n,t,o))}makeTranslation(r,n,t){return r.isVector3?this.set(1,0,0,r.x,0,1,0,r.y,0,0,1,r.z,0,0,0,1):this.set(1,0,0,r,0,1,0,n,0,0,1,t,0,0,0,1),this}makeRotationX(r){const n=Math.cos(r),t=Math.sin(r);return this.set(1,0,0,0,0,n,-t,0,0,t,n,0,0,0,0,1),this}makeRotationY(r){const n=Math.cos(r),t=Math.sin(r);return this.set(n,0,t,0,0,1,0,0,-t,0,n,0,0,0,0,1),this}makeRotationZ(r){const n=Math.cos(r),t=Math.sin(r);return this.set(n,-t,0,0,t,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(r,n){const t=Math.cos(n),o=Math.sin(n),s=1-t,a=r.x,A=r.y,l=r.z,u=s*a,p=s*A;return this.set(u*a+t,u*A-o*l,u*l+o*A,0,u*A+o*l,p*A+t,p*l-o*a,0,u*l-o*A,p*l+o*a,s*l*l+t,0,0,0,0,1),this}makeScale(r,n,t){return this.set(r,0,0,0,0,n,0,0,0,0,t,0,0,0,0,1),this}makeShear(r,n,t,o,s,a){return this.set(1,t,s,0,r,1,a,0,n,o,1,0,0,0,0,1),this}compose(r,n,t){const o=this.elements,s=n._x,a=n._y,A=n._z,l=n._w,u=s+s,p=a+a,d=A+A,c=s*u,h=s*p,f=s*d,g=a*p,y=a*d,m=A*d,b=l*u,v=l*p,w=l*d,_=t.x,M=t.y,x=t.z;return o[0]=(1-(g+m))*_,o[1]=(h+w)*_,o[2]=(f-v)*_,o[3]=0,o[4]=(h-w)*M,o[5]=(1-(c+m))*M,o[6]=(y+b)*M,o[7]=0,o[8]=(f+v)*x,o[9]=(y-b)*x,o[10]=(1-(c+g))*x,o[11]=0,o[12]=r.x,o[13]=r.y,o[14]=r.z,o[15]=1,this}decompose(r,n,t){const o=this.elements;let s=bl.set(o[0],o[1],o[2]).length();const a=bl.set(o[4],o[5],o[6]).length(),A=bl.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),r.x=o[12],r.y=o[13],r.z=o[14],ps.copy(this);const u=1/s,p=1/a,d=1/A;return ps.elements[0]*=u,ps.elements[1]*=u,ps.elements[2]*=u,ps.elements[4]*=p,ps.elements[5]*=p,ps.elements[6]*=p,ps.elements[8]*=d,ps.elements[9]*=d,ps.elements[10]*=d,n.setFromRotationMatrix(ps),t.x=s,t.y=a,t.z=A,this}makePerspective(r,n,t,o,s,a,A=_o){const l=this.elements,u=2*s/(n-r),p=2*s/(t-o),d=(n+r)/(n-r),c=(t+o)/(t-o);let h,f;if(A===_o)h=-(a+s)/(a-s),f=-2*a*s/(a-s);else if(A===dh)h=-a/(a-s),f=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+A);return l[0]=u,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=p,l[9]=c,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=f,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(r,n,t,o,s,a,A=_o){const l=this.elements,u=1/(n-r),p=1/(t-o),d=1/(a-s),c=(n+r)*u,h=(t+o)*p;let f,g;if(A===_o)f=(a+s)*d,g=-2*d;else if(A===dh)f=s*d,g=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+A);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-c,l[1]=0,l[5]=2*p,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=g,l[14]=-f,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(r){const n=this.elements,t=r.elements;for(let o=0;o<16;o++)if(n[o]!==t[o])return!1;return!0}fromArray(r,n=0){for(let t=0;t<16;t++)this.elements[t]=r[t+n];return this}toArray(r=[],n=0){const t=this.elements;return r[n]=t[0],r[n+1]=t[1],r[n+2]=t[2],r[n+3]=t[3],r[n+4]=t[4],r[n+5]=t[5],r[n+6]=t[6],r[n+7]=t[7],r[n+8]=t[8],r[n+9]=t[9],r[n+10]=t[10],r[n+11]=t[11],r[n+12]=t[12],r[n+13]=t[13],r[n+14]=t[14],r[n+15]=t[15],r}}const bl=new He,ps=new fn,Bw=new He(0,0,0),Ew=new He(1,1,1),Wo=new He,Xc=new He,Ni=new He,Mg=new fn,Tg=new za;class Uh{constructor(r=0,n=0,t=0,o=Uh.DEFAULT_ORDER){this.isEuler=!0,this._x=r,this._y=n,this._z=t,this._order=o}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get order(){return this._order}set order(r){this._order=r,this._onChangeCallback()}set(r,n,t,o=this._order){return this._x=r,this._y=n,this._z=t,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(r){return this._x=r._x,this._y=r._y,this._z=r._z,this._order=r._order,this._onChangeCallback(),this}setFromRotationMatrix(r,n=this._order,t=!0){const o=r.elements,s=o[0],a=o[4],A=o[8],l=o[1],u=o[5],p=o[9],d=o[2],c=o[6],h=o[10];switch(n){case"XYZ":this._y=Math.asin(Un(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-p,h),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(c,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Un(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(A,h),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Un(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Un(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(c,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Un(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,u),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(A,h));break;case"XZY":this._z=Math.asin(-Un(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(c,u),this._y=Math.atan2(A,s)):(this._x=Math.atan2(-p,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,t===!0&&this._onChangeCallback(),this}setFromQuaternion(r,n,t){return Mg.makeRotationFromQuaternion(r),this.setFromRotationMatrix(Mg,n,t)}setFromVector3(r,n=this._order){return this.set(r.x,r.y,r.z,n)}reorder(r){return Tg.setFromEuler(this),this.setFromQuaternion(Tg,r)}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._order===this._order}fromArray(r){return this._x=r[0],this._y=r[1],this._z=r[2],r[3]!==void 0&&(this._order=r[3]),this._onChangeCallback(),this}toArray(r=[],n=0){return r[n]=this._x,r[n+1]=this._y,r[n+2]=this._z,r[n+3]=this._order,r}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Uh.DEFAULT_ORDER="XYZ";class Bv{constructor(){this.mask=1}set(r){this.mask=(1<<r|0)>>>0}enable(r){this.mask|=1<<r|0}enableAll(){this.mask=-1}toggle(r){this.mask^=1<<r|0}disable(r){this.mask&=~(1<<r|0)}disableAll(){this.mask=0}test(r){return(this.mask&r.mask)!==0}isEnabled(r){return(this.mask&(1<<r|0))!==0}}let Cw=0;const Lg=new He,wl=new za,co=new fn,Yc=new He,CA=new He,Mw=new He,Tw=new za,Fg=new He(1,0,0),Ug=new He(0,1,0),Ig=new He(0,0,1),Lw={type:"added"},Fw={type:"removed"};class Pn extends qa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Cw++}),this.uuid=Xa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pn.DEFAULT_UP.clone();const r=new He,n=new Uh,t=new za,o=new He(1,1,1);function s(){t.setFromEuler(n,!1)}function a(){n.setFromQuaternion(t,void 0,!1)}n._onChange(s),t._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:t},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new fn},normalMatrix:{value:new Br}}),this.matrix=new fn,this.matrixWorld=new fn,this.matrixAutoUpdate=Pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Bv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(r){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(r),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(r){return this.quaternion.premultiply(r),this}setRotationFromAxisAngle(r,n){this.quaternion.setFromAxisAngle(r,n)}setRotationFromEuler(r){this.quaternion.setFromEuler(r,!0)}setRotationFromMatrix(r){this.quaternion.setFromRotationMatrix(r)}setRotationFromQuaternion(r){this.quaternion.copy(r)}rotateOnAxis(r,n){return wl.setFromAxisAngle(r,n),this.quaternion.multiply(wl),this}rotateOnWorldAxis(r,n){return wl.setFromAxisAngle(r,n),this.quaternion.premultiply(wl),this}rotateX(r){return this.rotateOnAxis(Fg,r)}rotateY(r){return this.rotateOnAxis(Ug,r)}rotateZ(r){return this.rotateOnAxis(Ig,r)}translateOnAxis(r,n){return Lg.copy(r).applyQuaternion(this.quaternion),this.position.add(Lg.multiplyScalar(n)),this}translateX(r){return this.translateOnAxis(Fg,r)}translateY(r){return this.translateOnAxis(Ug,r)}translateZ(r){return this.translateOnAxis(Ig,r)}localToWorld(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(this.matrixWorld)}worldToLocal(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(co.copy(this.matrixWorld).invert())}lookAt(r,n,t){r.isVector3?Yc.copy(r):Yc.set(r,n,t);const o=this.parent;this.updateWorldMatrix(!0,!1),CA.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?co.lookAt(CA,Yc,this.up):co.lookAt(Yc,CA,this.up),this.quaternion.setFromRotationMatrix(co),o&&(co.extractRotation(o.matrixWorld),wl.setFromRotationMatrix(co),this.quaternion.premultiply(wl.invert()))}add(r){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return r===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",r),this):(r&&r.isObject3D?(r.parent!==null&&r.parent.remove(r),r.parent=this,this.children.push(r),r.dispatchEvent(Lw)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",r),this)}remove(r){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const n=this.children.indexOf(r);return n!==-1&&(r.parent=null,this.children.splice(n,1),r.dispatchEvent(Fw)),this}removeFromParent(){const r=this.parent;return r!==null&&r.remove(this),this}clear(){return this.remove(...this.children)}attach(r){return this.updateWorldMatrix(!0,!1),co.copy(this.matrixWorld).invert(),r.parent!==null&&(r.parent.updateWorldMatrix(!0,!1),co.multiply(r.parent.matrixWorld)),r.applyMatrix4(co),this.add(r),r.updateWorldMatrix(!1,!0),this}getObjectById(r){return this.getObjectByProperty("id",r)}getObjectByName(r){return this.getObjectByProperty("name",r)}getObjectByProperty(r,n){if(this[r]===n)return this;for(let t=0,o=this.children.length;t<o;t++){const a=this.children[t].getObjectByProperty(r,n);if(a!==void 0)return a}}getObjectsByProperty(r,n,t=[]){this[r]===n&&t.push(this);const o=this.children;for(let s=0,a=o.length;s<a;s++)o[s].getObjectsByProperty(r,n,t);return t}getWorldPosition(r){return this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(CA,r,Mw),r}getWorldScale(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(CA,Tw,r),r}getWorldDirection(r){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return r.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(r){r(this);const n=this.children;for(let t=0,o=n.length;t<o;t++)n[t].traverse(r)}traverseVisible(r){if(this.visible===!1)return;r(this);const n=this.children;for(let t=0,o=n.length;t<o;t++)n[t].traverseVisible(r)}traverseAncestors(r){const n=this.parent;n!==null&&(r(n),n.traverseAncestors(r))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,r=!0);const n=this.children;for(let t=0,o=n.length;t<o;t++){const s=n[t];(s.matrixWorldAutoUpdate===!0||r===!0)&&s.updateMatrixWorld(r)}}updateWorldMatrix(r,n){const t=this.parent;if(r===!0&&t!==null&&t.matrixWorldAutoUpdate===!0&&t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const o=this.children;for(let s=0,a=o.length;s<a;s++){const A=o[s];A.matrixWorldAutoUpdate===!0&&A.updateWorldMatrix(!1,!0)}}}toJSON(r){const n=r===void 0||typeof r=="string",t={};n&&(r={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},t.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(A=>({boxInitialized:A.boxInitialized,boxMin:A.box.min.toArray(),boxMax:A.box.max.toArray(),sphereInitialized:A.sphereInitialized,sphereRadius:A.sphere.radius,sphereCenter:A.sphere.center.toArray()})),o.maxGeometryCount=this._maxGeometryCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(r),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function s(A,l){return A[l.uuid]===void 0&&(A[l.uuid]=l.toJSON(r)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(r).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(r).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(r.geometries,this.geometry);const A=this.geometry.parameters;if(A!==void 0&&A.shapes!==void 0){const l=A.shapes;if(Array.isArray(l))for(let u=0,p=l.length;u<p;u++){const d=l[u];s(r.shapes,d)}else s(r.shapes,l)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(r.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const A=[];for(let l=0,u=this.material.length;l<u;l++)A.push(s(r.materials,this.material[l]));o.material=A}else o.material=s(r.materials,this.material);if(this.children.length>0){o.children=[];for(let A=0;A<this.children.length;A++)o.children.push(this.children[A].toJSON(r).object)}if(this.animations.length>0){o.animations=[];for(let A=0;A<this.animations.length;A++){const l=this.animations[A];o.animations.push(s(r.animations,l))}}if(n){const A=a(r.geometries),l=a(r.materials),u=a(r.textures),p=a(r.images),d=a(r.shapes),c=a(r.skeletons),h=a(r.animations),f=a(r.nodes);A.length>0&&(t.geometries=A),l.length>0&&(t.materials=l),u.length>0&&(t.textures=u),p.length>0&&(t.images=p),d.length>0&&(t.shapes=d),c.length>0&&(t.skeletons=c),h.length>0&&(t.animations=h),f.length>0&&(t.nodes=f)}return t.object=o,t;function a(A){const l=[];for(const u in A){const p=A[u];delete p.metadata,l.push(p)}return l}}clone(r){return new this.constructor().copy(this,r)}copy(r,n=!0){if(this.name=r.name,this.up.copy(r.up),this.position.copy(r.position),this.rotation.order=r.rotation.order,this.quaternion.copy(r.quaternion),this.scale.copy(r.scale),this.matrix.copy(r.matrix),this.matrixWorld.copy(r.matrixWorld),this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrixWorldAutoUpdate=r.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=r.matrixWorldNeedsUpdate,this.layers.mask=r.layers.mask,this.visible=r.visible,this.castShadow=r.castShadow,this.receiveShadow=r.receiveShadow,this.frustumCulled=r.frustumCulled,this.renderOrder=r.renderOrder,this.animations=r.animations.slice(),this.userData=JSON.parse(JSON.stringify(r.userData)),n===!0)for(let t=0;t<r.children.length;t++){const o=r.children[t];this.add(o.clone())}return this}}Pn.DEFAULT_UP=new He(0,1,0);Pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ms=new He,uo=new He,Ld=new He,ho=new He,_l=new He,xl=new He,Pg=new He,Fd=new He,Ud=new He,Id=new He;let Jc=!1;class ss{constructor(r=new He,n=new He,t=new He){this.a=r,this.b=n,this.c=t}static getNormal(r,n,t,o){o.subVectors(t,n),ms.subVectors(r,n),o.cross(ms);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(r,n,t,o,s){ms.subVectors(o,n),uo.subVectors(t,n),Ld.subVectors(r,n);const a=ms.dot(ms),A=ms.dot(uo),l=ms.dot(Ld),u=uo.dot(uo),p=uo.dot(Ld),d=a*u-A*A;if(d===0)return s.set(0,0,0),null;const c=1/d,h=(u*l-A*p)*c,f=(a*p-A*l)*c;return s.set(1-h-f,f,h)}static containsPoint(r,n,t,o){return this.getBarycoord(r,n,t,o,ho)===null?!1:ho.x>=0&&ho.y>=0&&ho.x+ho.y<=1}static getUV(r,n,t,o,s,a,A,l){return Jc===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Jc=!0),this.getInterpolation(r,n,t,o,s,a,A,l)}static getInterpolation(r,n,t,o,s,a,A,l){return this.getBarycoord(r,n,t,o,ho)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ho.x),l.addScaledVector(a,ho.y),l.addScaledVector(A,ho.z),l)}static isFrontFacing(r,n,t,o){return ms.subVectors(t,n),uo.subVectors(r,n),ms.cross(uo).dot(o)<0}set(r,n,t){return this.a.copy(r),this.b.copy(n),this.c.copy(t),this}setFromPointsAndIndices(r,n,t,o){return this.a.copy(r[n]),this.b.copy(r[t]),this.c.copy(r[o]),this}setFromAttributeAndIndices(r,n,t,o){return this.a.fromBufferAttribute(r,n),this.b.fromBufferAttribute(r,t),this.c.fromBufferAttribute(r,o),this}clone(){return new this.constructor().copy(this)}copy(r){return this.a.copy(r.a),this.b.copy(r.b),this.c.copy(r.c),this}getArea(){return ms.subVectors(this.c,this.b),uo.subVectors(this.a,this.b),ms.cross(uo).length()*.5}getMidpoint(r){return r.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(r){return ss.getNormal(this.a,this.b,this.c,r)}getPlane(r){return r.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(r,n){return ss.getBarycoord(r,this.a,this.b,this.c,n)}getUV(r,n,t,o,s){return Jc===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Jc=!0),ss.getInterpolation(r,this.a,this.b,this.c,n,t,o,s)}getInterpolation(r,n,t,o,s){return ss.getInterpolation(r,this.a,this.b,this.c,n,t,o,s)}containsPoint(r){return ss.containsPoint(r,this.a,this.b,this.c)}isFrontFacing(r){return ss.isFrontFacing(this.a,this.b,this.c,r)}intersectsBox(r){return r.intersectsTriangle(this)}closestPointToPoint(r,n){const t=this.a,o=this.b,s=this.c;let a,A;_l.subVectors(o,t),xl.subVectors(s,t),Fd.subVectors(r,t);const l=_l.dot(Fd),u=xl.dot(Fd);if(l<=0&&u<=0)return n.copy(t);Ud.subVectors(r,o);const p=_l.dot(Ud),d=xl.dot(Ud);if(p>=0&&d<=p)return n.copy(o);const c=l*d-p*u;if(c<=0&&l>=0&&p<=0)return a=l/(l-p),n.copy(t).addScaledVector(_l,a);Id.subVectors(r,s);const h=_l.dot(Id),f=xl.dot(Id);if(f>=0&&h<=f)return n.copy(s);const g=h*u-l*f;if(g<=0&&u>=0&&f<=0)return A=u/(u-f),n.copy(t).addScaledVector(xl,A);const y=p*f-h*d;if(y<=0&&d-p>=0&&h-f>=0)return Pg.subVectors(s,o),A=(d-p)/(d-p+(h-f)),n.copy(o).addScaledVector(Pg,A);const m=1/(y+g+c);return a=g*m,A=c*m,n.copy(t).addScaledVector(_l,a).addScaledVector(xl,A)}equals(r){return r.a.equals(this.a)&&r.b.equals(this.b)&&r.c.equals(this.c)}}const Ev={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ko={h:0,s:0,l:0},Zc={h:0,s:0,l:0};function Pd(i,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+(r-i)*6*n:n<1/2?r:n<2/3?i+(r-i)*6*(2/3-n):i}class mr{constructor(r,n,t){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(r,n,t)}set(r,n,t){if(n===void 0&&t===void 0){const o=r;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(r,n,t);return this}setScalar(r){return this.r=r,this.g=r,this.b=r,this}setHex(r,n=Jn){return r=Math.floor(r),this.r=(r>>16&255)/255,this.g=(r>>8&255)/255,this.b=(r&255)/255,Wr.toWorkingColorSpace(this,n),this}setRGB(r,n,t,o=Wr.workingColorSpace){return this.r=r,this.g=n,this.b=t,Wr.toWorkingColorSpace(this,o),this}setHSL(r,n,t,o=Wr.workingColorSpace){if(r=Hp(r,1),n=Un(n,0,1),t=Un(t,0,1),n===0)this.r=this.g=this.b=t;else{const s=t<=.5?t*(1+n):t+n-t*n,a=2*t-s;this.r=Pd(a,s,r+1/3),this.g=Pd(a,s,r),this.b=Pd(a,s,r-1/3)}return Wr.toWorkingColorSpace(this,o),this}setStyle(r,n=Jn){function t(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+r+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(r)){let s;const a=o[1],A=o[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return t(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return t(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return t(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+r)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(r)){const s=o[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+r)}else if(r&&r.length>0)return this.setColorName(r,n);return this}setColorName(r,n=Jn){const t=Ev[r.toLowerCase()];return t!==void 0?this.setHex(t,n):console.warn("THREE.Color: Unknown color "+r),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(r){return this.r=r.r,this.g=r.g,this.b=r.b,this}copySRGBToLinear(r){return this.r=eA(r.r),this.g=eA(r.g),this.b=eA(r.b),this}copyLinearToSRGB(r){return this.r=_d(r.r),this.g=_d(r.g),this.b=_d(r.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(r=Jn){return Wr.fromWorkingColorSpace(ri.copy(this),r),Math.round(Un(ri.r*255,0,255))*65536+Math.round(Un(ri.g*255,0,255))*256+Math.round(Un(ri.b*255,0,255))}getHexString(r=Jn){return("000000"+this.getHex(r).toString(16)).slice(-6)}getHSL(r,n=Wr.workingColorSpace){Wr.fromWorkingColorSpace(ri.copy(this),n);const t=ri.r,o=ri.g,s=ri.b,a=Math.max(t,o,s),A=Math.min(t,o,s);let l,u;const p=(A+a)/2;if(A===a)l=0,u=0;else{const d=a-A;switch(u=p<=.5?d/(a+A):d/(2-a-A),a){case t:l=(o-s)/d+(o<s?6:0);break;case o:l=(s-t)/d+2;break;case s:l=(t-o)/d+4;break}l/=6}return r.h=l,r.s=u,r.l=p,r}getRGB(r,n=Wr.workingColorSpace){return Wr.fromWorkingColorSpace(ri.copy(this),n),r.r=ri.r,r.g=ri.g,r.b=ri.b,r}getStyle(r=Jn){Wr.fromWorkingColorSpace(ri.copy(this),r);const n=ri.r,t=ri.g,o=ri.b;return r!==Jn?`color(${r} ${n.toFixed(3)} ${t.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(t*255)},${Math.round(o*255)})`}offsetHSL(r,n,t){return this.getHSL(Ko),this.setHSL(Ko.h+r,Ko.s+n,Ko.l+t)}add(r){return this.r+=r.r,this.g+=r.g,this.b+=r.b,this}addColors(r,n){return this.r=r.r+n.r,this.g=r.g+n.g,this.b=r.b+n.b,this}addScalar(r){return this.r+=r,this.g+=r,this.b+=r,this}sub(r){return this.r=Math.max(0,this.r-r.r),this.g=Math.max(0,this.g-r.g),this.b=Math.max(0,this.b-r.b),this}multiply(r){return this.r*=r.r,this.g*=r.g,this.b*=r.b,this}multiplyScalar(r){return this.r*=r,this.g*=r,this.b*=r,this}lerp(r,n){return this.r+=(r.r-this.r)*n,this.g+=(r.g-this.g)*n,this.b+=(r.b-this.b)*n,this}lerpColors(r,n,t){return this.r=r.r+(n.r-r.r)*t,this.g=r.g+(n.g-r.g)*t,this.b=r.b+(n.b-r.b)*t,this}lerpHSL(r,n){this.getHSL(Ko),r.getHSL(Zc);const t=zA(Ko.h,Zc.h,n),o=zA(Ko.s,Zc.s,n),s=zA(Ko.l,Zc.l,n);return this.setHSL(t,o,s),this}setFromVector3(r){return this.r=r.x,this.g=r.y,this.b=r.z,this}applyMatrix3(r){const n=this.r,t=this.g,o=this.b,s=r.elements;return this.r=s[0]*n+s[3]*t+s[6]*o,this.g=s[1]*n+s[4]*t+s[7]*o,this.b=s[2]*n+s[5]*t+s[8]*o,this}equals(r){return r.r===this.r&&r.g===this.g&&r.b===this.b}fromArray(r,n=0){return this.r=r[n],this.g=r[n+1],this.b=r[n+2],this}toArray(r=[],n=0){return r[n]=this.r,r[n+1]=this.g,r[n+2]=this.b,r}fromBufferAttribute(r,n){return this.r=r.getX(n),this.g=r.getY(n),this.b=r.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ri=new mr;mr.NAMES=Ev;let Uw=0;class Gs extends qa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Uw++}),this.uuid=Xa(),this.name="",this.type="Material",this.blending=$l,this.side=Bo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Of,this.blendDst=Nf,this.blendEquation=Ua,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new mr(0,0,0),this.blendAlpha=0,this.depthFunc=Ah,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bg,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=pl,this.stencilZFail=pl,this.stencilZPass=pl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(r){this._alphaTest>0!=r>0&&this.version++,this._alphaTest=r}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(r){if(r!==void 0)for(const n in r){const t=r[n];if(t===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const o=this[n];if(o===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(t):o&&o.isVector3&&t&&t.isVector3?o.copy(t):this[n]=t}}toJSON(r){const n=r===void 0||typeof r=="string";n&&(r={textures:{},images:{}});const t={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),this.color&&this.color.isColor&&(t.color=this.color.getHex()),this.roughness!==void 0&&(t.roughness=this.roughness),this.metalness!==void 0&&(t.metalness=this.metalness),this.sheen!==void 0&&(t.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(t.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(t.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(t.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(t.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(t.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(t.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(t.shininess=this.shininess),this.clearcoat!==void 0&&(t.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(t.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(t.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(t.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(t.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(t.iridescenceMap=this.iridescenceMap.toJSON(r).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(t.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(r).uuid),this.anisotropy!==void 0&&(t.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(t.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(t.anisotropyMap=this.anisotropyMap.toJSON(r).uuid),this.map&&this.map.isTexture&&(t.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(t.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(t.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(t.lightMap=this.lightMap.toJSON(r).uuid,t.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(t.aoMap=this.aoMap.toJSON(r).uuid,t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(t.bumpMap=this.bumpMap.toJSON(r).uuid,t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(t.normalMap=this.normalMap.toJSON(r).uuid,t.normalMapType=this.normalMapType,t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(t.displacementMap=this.displacementMap.toJSON(r).uuid,t.displacementScale=this.displacementScale,t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(t.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(t.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(t.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(t.specularMap=this.specularMap.toJSON(r).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(t.specularIntensityMap=this.specularIntensityMap.toJSON(r).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(t.specularColorMap=this.specularColorMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(t.envMap=this.envMap.toJSON(r).uuid,this.combine!==void 0&&(t.combine=this.combine)),this.envMapIntensity!==void 0&&(t.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(t.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(t.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(t.gradientMap=this.gradientMap.toJSON(r).uuid),this.transmission!==void 0&&(t.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(t.transmissionMap=this.transmissionMap.toJSON(r).uuid),this.thickness!==void 0&&(t.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(t.thicknessMap=this.thicknessMap.toJSON(r).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(t.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(t.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(t.size=this.size),this.shadowSide!==null&&(t.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(t.sizeAttenuation=this.sizeAttenuation),this.blending!==$l&&(t.blending=this.blending),this.side!==Bo&&(t.side=this.side),this.vertexColors===!0&&(t.vertexColors=!0),this.opacity<1&&(t.opacity=this.opacity),this.transparent===!0&&(t.transparent=!0),this.blendSrc!==Of&&(t.blendSrc=this.blendSrc),this.blendDst!==Nf&&(t.blendDst=this.blendDst),this.blendEquation!==Ua&&(t.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(t.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(t.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(t.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(t.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(t.blendAlpha=this.blendAlpha),this.depthFunc!==Ah&&(t.depthFunc=this.depthFunc),this.depthTest===!1&&(t.depthTest=this.depthTest),this.depthWrite===!1&&(t.depthWrite=this.depthWrite),this.colorWrite===!1&&(t.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(t.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bg&&(t.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(t.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(t.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==pl&&(t.stencilFail=this.stencilFail),this.stencilZFail!==pl&&(t.stencilZFail=this.stencilZFail),this.stencilZPass!==pl&&(t.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(t.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(t.rotation=this.rotation),this.polygonOffset===!0&&(t.polygonOffset=!0),this.polygonOffsetFactor!==0&&(t.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(t.linewidth=this.linewidth),this.dashSize!==void 0&&(t.dashSize=this.dashSize),this.gapSize!==void 0&&(t.gapSize=this.gapSize),this.scale!==void 0&&(t.scale=this.scale),this.dithering===!0&&(t.dithering=!0),this.alphaTest>0&&(t.alphaTest=this.alphaTest),this.alphaHash===!0&&(t.alphaHash=!0),this.alphaToCoverage===!0&&(t.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(t.premultipliedAlpha=!0),this.forceSinglePass===!0&&(t.forceSinglePass=!0),this.wireframe===!0&&(t.wireframe=!0),this.wireframeLinewidth>1&&(t.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(t.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(t.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(t.flatShading=!0),this.visible===!1&&(t.visible=!1),this.toneMapped===!1&&(t.toneMapped=!1),this.fog===!1&&(t.fog=!1),Object.keys(this.userData).length>0&&(t.userData=this.userData);function o(s){const a=[];for(const A in s){const l=s[A];delete l.metadata,a.push(l)}return a}if(n){const s=o(r.textures),a=o(r.images);s.length>0&&(t.textures=s),a.length>0&&(t.images=a)}return t}clone(){return new this.constructor().copy(this)}copy(r){this.name=r.name,this.blending=r.blending,this.side=r.side,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.blendColor.copy(r.blendColor),this.blendAlpha=r.blendAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const n=r.clippingPlanes;let t=null;if(n!==null){const o=n.length;t=new Array(o);for(let s=0;s!==o;++s)t[s]=n[s].clone()}return this.clippingPlanes=t,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.alphaHash=r.alphaHash,this.alphaToCoverage=r.alphaToCoverage,this.premultipliedAlpha=r.premultipliedAlpha,this.forceSinglePass=r.forceSinglePass,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(r){r===!0&&this.version++}}class Mi extends Gs{constructor(r){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new mr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Op,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}const Cn=new He,$c=new jt;class Qs{constructor(r,n,t=!1){if(Array.isArray(r))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=r,this.itemSize=n,this.count=r!==void 0?r.length/n:0,this.normalized=t,this.usage=wg,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ta,this.version=0}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(r){return this.usage=r,this}addUpdateRange(r,n){this.updateRanges.push({start:r,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.name=r.name,this.array=new r.array.constructor(r.array),this.itemSize=r.itemSize,this.count=r.count,this.normalized=r.normalized,this.usage=r.usage,this.gpuType=r.gpuType,this}copyAt(r,n,t){r*=this.itemSize,t*=n.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[r+o]=n.array[t+o];return this}copyArray(r){return this.array.set(r),this}applyMatrix3(r){if(this.itemSize===2)for(let n=0,t=this.count;n<t;n++)$c.fromBufferAttribute(this,n),$c.applyMatrix3(r),this.setXY(n,$c.x,$c.y);else if(this.itemSize===3)for(let n=0,t=this.count;n<t;n++)Cn.fromBufferAttribute(this,n),Cn.applyMatrix3(r),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}applyMatrix4(r){for(let n=0,t=this.count;n<t;n++)Cn.fromBufferAttribute(this,n),Cn.applyMatrix4(r),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(r){for(let n=0,t=this.count;n<t;n++)Cn.fromBufferAttribute(this,n),Cn.applyNormalMatrix(r),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}transformDirection(r){for(let n=0,t=this.count;n<t;n++)Cn.fromBufferAttribute(this,n),Cn.transformDirection(r),this.setXYZ(n,Cn.x,Cn.y,Cn.z);return this}set(r,n=0){return this.array.set(r,n),this}getComponent(r,n){let t=this.array[r*this.itemSize+n];return this.normalized&&(t=Ql(t,this.array)),t}setComponent(r,n,t){return this.normalized&&(t=di(t,this.array)),this.array[r*this.itemSize+n]=t,this}getX(r){let n=this.array[r*this.itemSize];return this.normalized&&(n=Ql(n,this.array)),n}setX(r,n){return this.normalized&&(n=di(n,this.array)),this.array[r*this.itemSize]=n,this}getY(r){let n=this.array[r*this.itemSize+1];return this.normalized&&(n=Ql(n,this.array)),n}setY(r,n){return this.normalized&&(n=di(n,this.array)),this.array[r*this.itemSize+1]=n,this}getZ(r){let n=this.array[r*this.itemSize+2];return this.normalized&&(n=Ql(n,this.array)),n}setZ(r,n){return this.normalized&&(n=di(n,this.array)),this.array[r*this.itemSize+2]=n,this}getW(r){let n=this.array[r*this.itemSize+3];return this.normalized&&(n=Ql(n,this.array)),n}setW(r,n){return this.normalized&&(n=di(n,this.array)),this.array[r*this.itemSize+3]=n,this}setXY(r,n,t){return r*=this.itemSize,this.normalized&&(n=di(n,this.array),t=di(t,this.array)),this.array[r+0]=n,this.array[r+1]=t,this}setXYZ(r,n,t,o){return r*=this.itemSize,this.normalized&&(n=di(n,this.array),t=di(t,this.array),o=di(o,this.array)),this.array[r+0]=n,this.array[r+1]=t,this.array[r+2]=o,this}setXYZW(r,n,t,o,s){return r*=this.itemSize,this.normalized&&(n=di(n,this.array),t=di(t,this.array),o=di(o,this.array),s=di(s,this.array)),this.array[r+0]=n,this.array[r+1]=t,this.array[r+2]=o,this.array[r+3]=s,this}onUpload(r){return this.onUploadCallback=r,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const r={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(r.name=this.name),this.usage!==wg&&(r.usage=this.usage),r}}class Cv extends Qs{constructor(r,n,t){super(new Uint16Array(r),n,t)}}class Mv extends Qs{constructor(r,n,t){super(new Uint32Array(r),n,t)}}class Yr extends Qs{constructor(r,n,t){super(new Float32Array(r),n,t)}}let Iw=0;const ts=new fn,jd=new Pn,Sl=new He,ki=new Ya,MA=new Ya,Vn=new He;class Kn extends qa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Iw++}),this.uuid=Xa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(r){return Array.isArray(r)?this.index=new(wv(r)?Mv:Cv)(r,1):this.index=r,this}getAttribute(r){return this.attributes[r]}setAttribute(r,n){return this.attributes[r]=n,this}deleteAttribute(r){return delete this.attributes[r],this}hasAttribute(r){return this.attributes[r]!==void 0}addGroup(r,n,t=0){this.groups.push({start:r,count:n,materialIndex:t})}clearGroups(){this.groups=[]}setDrawRange(r,n){this.drawRange.start=r,this.drawRange.count=n}applyMatrix4(r){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(r),n.needsUpdate=!0);const t=this.attributes.normal;if(t!==void 0){const s=new Br().getNormalMatrix(r);t.applyNormalMatrix(s),t.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(r),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(r){return ts.makeRotationFromQuaternion(r),this.applyMatrix4(ts),this}rotateX(r){return ts.makeRotationX(r),this.applyMatrix4(ts),this}rotateY(r){return ts.makeRotationY(r),this.applyMatrix4(ts),this}rotateZ(r){return ts.makeRotationZ(r),this.applyMatrix4(ts),this}translate(r,n,t){return ts.makeTranslation(r,n,t),this.applyMatrix4(ts),this}scale(r,n,t){return ts.makeScale(r,n,t),this.applyMatrix4(ts),this}lookAt(r){return jd.lookAt(r),jd.updateMatrix(),this.applyMatrix4(jd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sl).negate(),this.translate(Sl.x,Sl.y,Sl.z),this}setFromPoints(r){const n=[];for(let t=0,o=r.length;t<o;t++){const s=r[t];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Yr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ya);const r=this.attributes.position,n=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new He(-1/0,-1/0,-1/0),new He(1/0,1/0,1/0));return}if(r!==void 0){if(this.boundingBox.setFromBufferAttribute(r),n)for(let t=0,o=n.length;t<o;t++){const s=n[t];ki.setFromBufferAttribute(s),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,ki.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,ki.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(ki.min),this.boundingBox.expandByPoint(ki.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mc);const r=this.attributes.position,n=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new He,1/0);return}if(r){const t=this.boundingSphere.center;if(ki.setFromBufferAttribute(r),n)for(let s=0,a=n.length;s<a;s++){const A=n[s];MA.setFromBufferAttribute(A),this.morphTargetsRelative?(Vn.addVectors(ki.min,MA.min),ki.expandByPoint(Vn),Vn.addVectors(ki.max,MA.max),ki.expandByPoint(Vn)):(ki.expandByPoint(MA.min),ki.expandByPoint(MA.max))}ki.getCenter(t);let o=0;for(let s=0,a=r.count;s<a;s++)Vn.fromBufferAttribute(r,s),o=Math.max(o,t.distanceToSquared(Vn));if(n)for(let s=0,a=n.length;s<a;s++){const A=n[s],l=this.morphTargetsRelative;for(let u=0,p=A.count;u<p;u++)Vn.fromBufferAttribute(A,u),l&&(Sl.fromBufferAttribute(r,u),Vn.add(Sl)),o=Math.max(o,t.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const r=this.index,n=this.attributes;if(r===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const t=r.array,o=n.position.array,s=n.normal.array,a=n.uv.array,A=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qs(new Float32Array(4*A),4));const l=this.getAttribute("tangent").array,u=[],p=[];for(let T=0;T<A;T++)u[T]=new He,p[T]=new He;const d=new He,c=new He,h=new He,f=new jt,g=new jt,y=new jt,m=new He,b=new He;function v(T,B,P){d.fromArray(o,T*3),c.fromArray(o,B*3),h.fromArray(o,P*3),f.fromArray(a,T*2),g.fromArray(a,B*2),y.fromArray(a,P*2),c.sub(d),h.sub(d),g.sub(f),y.sub(f);const F=1/(g.x*y.y-y.x*g.y);isFinite(F)&&(m.copy(c).multiplyScalar(y.y).addScaledVector(h,-g.y).multiplyScalar(F),b.copy(h).multiplyScalar(g.x).addScaledVector(c,-y.x).multiplyScalar(F),u[T].add(m),u[B].add(m),u[P].add(m),p[T].add(b),p[B].add(b),p[P].add(b))}let w=this.groups;w.length===0&&(w=[{start:0,count:t.length}]);for(let T=0,B=w.length;T<B;++T){const P=w[T],F=P.start,j=P.count;for(let O=F,Q=F+j;O<Q;O+=3)v(t[O+0],t[O+1],t[O+2])}const _=new He,M=new He,x=new He,E=new He;function C(T){x.fromArray(s,T*3),E.copy(x);const B=u[T];_.copy(B),_.sub(x.multiplyScalar(x.dot(B))).normalize(),M.crossVectors(E,B);const F=M.dot(p[T])<0?-1:1;l[T*4]=_.x,l[T*4+1]=_.y,l[T*4+2]=_.z,l[T*4+3]=F}for(let T=0,B=w.length;T<B;++T){const P=w[T],F=P.start,j=P.count;for(let O=F,Q=F+j;O<Q;O+=3)C(t[O+0]),C(t[O+1]),C(t[O+2])}}computeVertexNormals(){const r=this.index,n=this.getAttribute("position");if(n!==void 0){let t=this.getAttribute("normal");if(t===void 0)t=new Qs(new Float32Array(n.count*3),3),this.setAttribute("normal",t);else for(let c=0,h=t.count;c<h;c++)t.setXYZ(c,0,0,0);const o=new He,s=new He,a=new He,A=new He,l=new He,u=new He,p=new He,d=new He;if(r)for(let c=0,h=r.count;c<h;c+=3){const f=r.getX(c+0),g=r.getX(c+1),y=r.getX(c+2);o.fromBufferAttribute(n,f),s.fromBufferAttribute(n,g),a.fromBufferAttribute(n,y),p.subVectors(a,s),d.subVectors(o,s),p.cross(d),A.fromBufferAttribute(t,f),l.fromBufferAttribute(t,g),u.fromBufferAttribute(t,y),A.add(p),l.add(p),u.add(p),t.setXYZ(f,A.x,A.y,A.z),t.setXYZ(g,l.x,l.y,l.z),t.setXYZ(y,u.x,u.y,u.z)}else for(let c=0,h=n.count;c<h;c+=3)o.fromBufferAttribute(n,c+0),s.fromBufferAttribute(n,c+1),a.fromBufferAttribute(n,c+2),p.subVectors(a,s),d.subVectors(o,s),p.cross(d),t.setXYZ(c+0,p.x,p.y,p.z),t.setXYZ(c+1,p.x,p.y,p.z),t.setXYZ(c+2,p.x,p.y,p.z);this.normalizeNormals(),t.needsUpdate=!0}}normalizeNormals(){const r=this.attributes.normal;for(let n=0,t=r.count;n<t;n++)Vn.fromBufferAttribute(r,n),Vn.normalize(),r.setXYZ(n,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function r(A,l){const u=A.array,p=A.itemSize,d=A.normalized,c=new u.constructor(l.length*p);let h=0,f=0;for(let g=0,y=l.length;g<y;g++){A.isInterleavedBufferAttribute?h=l[g]*A.data.stride+A.offset:h=l[g]*p;for(let m=0;m<p;m++)c[f++]=u[h++]}return new Qs(c,p,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Kn,t=this.index.array,o=this.attributes;for(const A in o){const l=o[A],u=r(l,t);n.setAttribute(A,u)}const s=this.morphAttributes;for(const A in s){const l=[],u=s[A];for(let p=0,d=u.length;p<d;p++){const c=u[p],h=r(c,t);l.push(h)}n.morphAttributes[A]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let A=0,l=a.length;A<l;A++){const u=a[A];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const r={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),Object.keys(this.userData).length>0&&(r.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(r[u]=l[u]);return r}r.data={attributes:{}};const n=this.index;n!==null&&(r.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const t=this.attributes;for(const l in t){const u=t[l];r.data.attributes[l]=u.toJSON(r.data)}const o={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],p=[];for(let d=0,c=u.length;d<c;d++){const h=u[d];p.push(h.toJSON(r.data))}p.length>0&&(o[l]=p,s=!0)}s&&(r.data.morphAttributes=o,r.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(r.data.groups=JSON.parse(JSON.stringify(a)));const A=this.boundingSphere;return A!==null&&(r.data.boundingSphere={center:A.center.toArray(),radius:A.radius}),r}clone(){return new this.constructor().copy(this)}copy(r){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=r.name;const t=r.index;t!==null&&this.setIndex(t.clone(n));const o=r.attributes;for(const u in o){const p=o[u];this.setAttribute(u,p.clone(n))}const s=r.morphAttributes;for(const u in s){const p=[],d=s[u];for(let c=0,h=d.length;c<h;c++)p.push(d[c].clone(n));this.morphAttributes[u]=p}this.morphTargetsRelative=r.morphTargetsRelative;const a=r.groups;for(let u=0,p=a.length;u<p;u++){const d=a[u];this.addGroup(d.start,d.count,d.materialIndex)}const A=r.boundingBox;A!==null&&(this.boundingBox=A.clone());const l=r.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=r.drawRange.start,this.drawRange.count=r.drawRange.count,this.userData=r.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const jg=new fn,Ca=new Fh,eu=new mc,Rg=new He,Bl=new He,El=new He,Cl=new He,Rd=new He,tu=new He,ru=new jt,nu=new jt,iu=new jt,Dg=new He,Og=new He,Ng=new He,su=new He,ou=new He;class nn extends Pn{constructor(r=new Kn,n=new Mi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=r,this.material=n,this.updateMorphTargets()}copy(r,n){return super.copy(r,n),r.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=r.morphTargetInfluences.slice()),r.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},r.morphTargetDictionary)),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,t=Object.keys(n);if(t.length>0){const o=n[t[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const A=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=s}}}}getVertexPosition(r,n){const t=this.geometry,o=t.attributes.position,s=t.morphAttributes.position,a=t.morphTargetsRelative;n.fromBufferAttribute(o,r);const A=this.morphTargetInfluences;if(s&&A){tu.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const p=A[l],d=s[l];p!==0&&(Rd.fromBufferAttribute(d,r),a?tu.addScaledVector(Rd,p):tu.addScaledVector(Rd.sub(n),p))}n.add(tu)}return n}raycast(r,n){const t=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(t.boundingSphere===null&&t.computeBoundingSphere(),eu.copy(t.boundingSphere),eu.applyMatrix4(s),Ca.copy(r.ray).recast(r.near),!(eu.containsPoint(Ca.origin)===!1&&(Ca.intersectSphere(eu,Rg)===null||Ca.origin.distanceToSquared(Rg)>(r.far-r.near)**2))&&(jg.copy(s).invert(),Ca.copy(r.ray).applyMatrix4(jg),!(t.boundingBox!==null&&Ca.intersectsBox(t.boundingBox)===!1)&&this._computeIntersections(r,n,Ca)))}_computeIntersections(r,n,t){let o;const s=this.geometry,a=this.material,A=s.index,l=s.attributes.position,u=s.attributes.uv,p=s.attributes.uv1,d=s.attributes.normal,c=s.groups,h=s.drawRange;if(A!==null)if(Array.isArray(a))for(let f=0,g=c.length;f<g;f++){const y=c[f],m=a[y.materialIndex],b=Math.max(y.start,h.start),v=Math.min(A.count,Math.min(y.start+y.count,h.start+h.count));for(let w=b,_=v;w<_;w+=3){const M=A.getX(w),x=A.getX(w+1),E=A.getX(w+2);o=au(this,m,r,t,u,p,d,M,x,E),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const f=Math.max(0,h.start),g=Math.min(A.count,h.start+h.count);for(let y=f,m=g;y<m;y+=3){const b=A.getX(y),v=A.getX(y+1),w=A.getX(y+2);o=au(this,a,r,t,u,p,d,b,v,w),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(a))for(let f=0,g=c.length;f<g;f++){const y=c[f],m=a[y.materialIndex],b=Math.max(y.start,h.start),v=Math.min(l.count,Math.min(y.start+y.count,h.start+h.count));for(let w=b,_=v;w<_;w+=3){const M=w,x=w+1,E=w+2;o=au(this,m,r,t,u,p,d,M,x,E),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=y.materialIndex,n.push(o))}}else{const f=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);for(let y=f,m=g;y<m;y+=3){const b=y,v=y+1,w=y+2;o=au(this,a,r,t,u,p,d,b,v,w),o&&(o.faceIndex=Math.floor(y/3),n.push(o))}}}}function Pw(i,r,n,t,o,s,a,A){let l;if(r.side===Ti?l=t.intersectTriangle(a,s,o,!0,A):l=t.intersectTriangle(o,s,a,r.side===Bo,A),l===null)return null;ou.copy(A),ou.applyMatrix4(i.matrixWorld);const u=n.ray.origin.distanceTo(ou);return u<n.near||u>n.far?null:{distance:u,point:ou.clone(),object:i}}function au(i,r,n,t,o,s,a,A,l,u){i.getVertexPosition(A,Bl),i.getVertexPosition(l,El),i.getVertexPosition(u,Cl);const p=Pw(i,r,n,t,Bl,El,Cl,su);if(p){o&&(ru.fromBufferAttribute(o,A),nu.fromBufferAttribute(o,l),iu.fromBufferAttribute(o,u),p.uv=ss.getInterpolation(su,Bl,El,Cl,ru,nu,iu,new jt)),s&&(ru.fromBufferAttribute(s,A),nu.fromBufferAttribute(s,l),iu.fromBufferAttribute(s,u),p.uv1=ss.getInterpolation(su,Bl,El,Cl,ru,nu,iu,new jt),p.uv2=p.uv1),a&&(Dg.fromBufferAttribute(a,A),Og.fromBufferAttribute(a,l),Ng.fromBufferAttribute(a,u),p.normal=ss.getInterpolation(su,Bl,El,Cl,Dg,Og,Ng,new He),p.normal.dot(t.direction)>0&&p.normal.multiplyScalar(-1));const d={a:A,b:l,c:u,normal:new He,materialIndex:0};ss.getNormal(Bl,El,Cl,d.normal),p.face=d}return p}class Ja extends Kn{constructor(r=1,n=1,t=1,o=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:r,height:n,depth:t,widthSegments:o,heightSegments:s,depthSegments:a};const A=this;o=Math.floor(o),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],p=[],d=[];let c=0,h=0;f("z","y","x",-1,-1,t,n,r,a,s,0),f("z","y","x",1,-1,t,n,-r,a,s,1),f("x","z","y",1,1,r,t,n,o,a,2),f("x","z","y",1,-1,r,t,-n,o,a,3),f("x","y","z",1,-1,r,n,t,o,s,4),f("x","y","z",-1,-1,r,n,-t,o,s,5),this.setIndex(l),this.setAttribute("position",new Yr(u,3)),this.setAttribute("normal",new Yr(p,3)),this.setAttribute("uv",new Yr(d,2));function f(g,y,m,b,v,w,_,M,x,E,C){const T=w/x,B=_/E,P=w/2,F=_/2,j=M/2,O=x+1,Q=E+1;let z=0,k=0;const W=new He;for(let Y=0;Y<Q;Y++){const te=Y*B-F;for(let R=0;R<O;R++){const L=R*T-P;W[g]=L*b,W[y]=te*v,W[m]=j,u.push(W.x,W.y,W.z),W[g]=0,W[y]=0,W[m]=M>0?1:-1,p.push(W.x,W.y,W.z),d.push(R/x),d.push(1-Y/E),z+=1}}for(let Y=0;Y<E;Y++)for(let te=0;te<x;te++){const R=c+te+O*Y,L=c+te+O*(Y+1),D=c+(te+1)+O*(Y+1),V=c+(te+1)+O*Y;l.push(R,L,V),l.push(L,D,V),k+=6}A.addGroup(h,k,C),h+=k,c+=z}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Ja(r.width,r.height,r.depth,r.widthSegments,r.heightSegments,r.depthSegments)}}function uA(i){const r={};for(const n in i){r[n]={};for(const t in i[n]){const o=i[n][t];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),r[n][t]=null):r[n][t]=o.clone():Array.isArray(o)?r[n][t]=o.slice():r[n][t]=o}}return r}function fi(i){const r={};for(let n=0;n<i.length;n++){const t=uA(i[n]);for(const o in t)r[o]=t[o]}return r}function jw(i){const r=[];for(let n=0;n<i.length;n++)r.push(i[n].clone());return r}function Tv(i){return i.getRenderTarget()===null?i.outputColorSpace:Wr.workingColorSpace}const Rw={clone:uA,merge:fi};var Dw=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ow=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Wa extends Gs{constructor(r){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Dw,this.fragmentShader=Ow,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,r!==void 0&&this.setValues(r)}copy(r){return super.copy(r),this.fragmentShader=r.fragmentShader,this.vertexShader=r.vertexShader,this.uniforms=uA(r.uniforms),this.uniformsGroups=jw(r.uniformsGroups),this.defines=Object.assign({},r.defines),this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.fog=r.fog,this.lights=r.lights,this.clipping=r.clipping,this.extensions=Object.assign({},r.extensions),this.glslVersion=r.glslVersion,this}toJSON(r){const n=super.toJSON(r);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const a=this.uniforms[o].value;a&&a.isTexture?n.uniforms[o]={type:"t",value:a.toJSON(r).uuid}:a&&a.isColor?n.uniforms[o]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[o]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[o]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[o]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[o]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[o]={type:"m4",value:a.toArray()}:n.uniforms[o]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const t={};for(const o in this.extensions)this.extensions[o]===!0&&(t[o]=!0);return Object.keys(t).length>0&&(n.extensions=t),n}}class Lv extends Pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new fn,this.projectionMatrix=new fn,this.projectionMatrixInverse=new fn,this.coordinateSystem=_o}copy(r,n){return super.copy(r,n),this.matrixWorldInverse.copy(r.matrixWorldInverse),this.projectionMatrix.copy(r.projectionMatrix),this.projectionMatrixInverse.copy(r.projectionMatrixInverse),this.coordinateSystem=r.coordinateSystem,this}getWorldDirection(r){return super.getWorldDirection(r).negate()}updateMatrixWorld(r){super.updateMatrixWorld(r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(r,n){super.updateWorldMatrix(r,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class gi extends Lv{constructor(r=50,n=1,t=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=r,this.zoom=1,this.near=t,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(r,n){return super.copy(r,n),this.fov=r.fov,this.zoom=r.zoom,this.near=r.near,this.far=r.far,this.focus=r.focus,this.aspect=r.aspect,this.view=r.view===null?null:Object.assign({},r.view),this.filmGauge=r.filmGauge,this.filmOffset=r.filmOffset,this}setFocalLength(r){const n=.5*this.getFilmHeight()/r;this.fov=sc*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const r=Math.tan(VA*.5*this.fov);return .5*this.getFilmHeight()/r}getEffectiveFOV(){return sc*2*Math.atan(Math.tan(VA*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(r,n,t,o,s,a){this.aspect=r/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=t,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=this.near;let n=r*Math.tan(VA*.5*this.fov)/this.zoom,t=2*n,o=this.aspect*t,s=-.5*o;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*o/l,n-=a.offsetY*t/u,o*=a.width/l,t*=a.height/u}const A=this.filmOffset;A!==0&&(s+=r*A/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,n,n-t,r,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const n=super.toJSON(r);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ml=-90,Tl=1;class Nw extends Pn{constructor(r,n,t){super(),this.type="CubeCamera",this.renderTarget=t,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new gi(Ml,Tl,r,n);o.layers=this.layers,this.add(o);const s=new gi(Ml,Tl,r,n);s.layers=this.layers,this.add(s);const a=new gi(Ml,Tl,r,n);a.layers=this.layers,this.add(a);const A=new gi(Ml,Tl,r,n);A.layers=this.layers,this.add(A);const l=new gi(Ml,Tl,r,n);l.layers=this.layers,this.add(l);const u=new gi(Ml,Tl,r,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const r=this.coordinateSystem,n=this.children.concat(),[t,o,s,a,A,l]=n;for(const u of n)this.remove(u);if(r===_o)t.up.set(0,1,0),t.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),A.up.set(0,1,0),A.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(r===dh)t.up.set(0,-1,0),t.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),A.up.set(0,-1,0),A.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+r);for(const u of n)this.add(u),u.updateMatrixWorld()}update(r,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:t,activeMipmapLevel:o}=this;this.coordinateSystem!==r.coordinateSystem&&(this.coordinateSystem=r.coordinateSystem,this.updateCoordinateSystem());const[s,a,A,l,u,p]=this.children,d=r.getRenderTarget(),c=r.getActiveCubeFace(),h=r.getActiveMipmapLevel(),f=r.xr.enabled;r.xr.enabled=!1;const g=t.texture.generateMipmaps;t.texture.generateMipmaps=!1,r.setRenderTarget(t,0,o),r.render(n,s),r.setRenderTarget(t,1,o),r.render(n,a),r.setRenderTarget(t,2,o),r.render(n,A),r.setRenderTarget(t,3,o),r.render(n,l),r.setRenderTarget(t,4,o),r.render(n,u),t.texture.generateMipmaps=g,r.setRenderTarget(t,5,o),r.render(n,p),r.setRenderTarget(d,c,h),r.xr.enabled=f,t.texture.needsPMREMUpdate=!0}}class Fv extends Hi{constructor(r,n,t,o,s,a,A,l,u,p){r=r!==void 0?r:[],n=n!==void 0?n:lA,super(r,n,t,o,s,a,A,l,u,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(r){this.image=r}}class kw extends Va{constructor(r=1,n={}){super(r,r,n),this.isWebGLCubeRenderTarget=!0;const t={width:r,height:r,depth:1},o=[t,t,t,t,t,t];n.encoding!==void 0&&(WA("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===ka?Jn:as),this.texture=new Fv(o,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:is}fromEquirectangularTexture(r,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const t={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Ja(5,5,5),s=new Wa({name:"CubemapFromEquirect",uniforms:uA(t.uniforms),vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,side:Ti,blending:oa});s.uniforms.tEquirect.value=n;const a=new nn(o,s),A=n.minFilter;return n.minFilter===nc&&(n.minFilter=is),new Nw(1,10,this).update(r,a),n.minFilter=A,a.geometry.dispose(),a.material.dispose(),this}clear(r,n,t,o){const s=r.getRenderTarget();for(let a=0;a<6;a++)r.setRenderTarget(this,a),r.clear(n,t,o);r.setRenderTarget(s)}}const Dd=new He,Qw=new He,Hw=new Br;class bo{constructor(r=new He(1,0,0),n=0){this.isPlane=!0,this.normal=r,this.constant=n}set(r,n){return this.normal.copy(r),this.constant=n,this}setComponents(r,n,t,o){return this.normal.set(r,n,t),this.constant=o,this}setFromNormalAndCoplanarPoint(r,n){return this.normal.copy(r),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(r,n,t){const o=Dd.subVectors(t,n).cross(Qw.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}copy(r){return this.normal.copy(r.normal),this.constant=r.constant,this}normalize(){const r=1/this.normal.length();return this.normal.multiplyScalar(r),this.constant*=r,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(r){return this.normal.dot(r)+this.constant}distanceToSphere(r){return this.distanceToPoint(r.center)-r.radius}projectPoint(r,n){return n.copy(r).addScaledVector(this.normal,-this.distanceToPoint(r))}intersectLine(r,n){const t=r.delta(Dd),o=this.normal.dot(t);if(o===0)return this.distanceToPoint(r.start)===0?n.copy(r.start):null;const s=-(r.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:n.copy(r.start).addScaledVector(t,s)}intersectsLine(r){const n=this.distanceToPoint(r.start),t=this.distanceToPoint(r.end);return n<0&&t>0||t<0&&n>0}intersectsBox(r){return r.intersectsPlane(this)}intersectsSphere(r){return r.intersectsPlane(this)}coplanarPoint(r){return r.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(r,n){const t=n||Hw.getNormalMatrix(r),o=this.coplanarPoint(Dd).applyMatrix4(r),s=this.normal.applyMatrix3(t).normalize();return this.constant=-o.dot(s),this}translate(r){return this.constant-=r.dot(this.normal),this}equals(r){return r.normal.equals(this.normal)&&r.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ma=new mc,lu=new He;class Gp{constructor(r=new bo,n=new bo,t=new bo,o=new bo,s=new bo,a=new bo){this.planes=[r,n,t,o,s,a]}set(r,n,t,o,s,a){const A=this.planes;return A[0].copy(r),A[1].copy(n),A[2].copy(t),A[3].copy(o),A[4].copy(s),A[5].copy(a),this}copy(r){const n=this.planes;for(let t=0;t<6;t++)n[t].copy(r.planes[t]);return this}setFromProjectionMatrix(r,n=_o){const t=this.planes,o=r.elements,s=o[0],a=o[1],A=o[2],l=o[3],u=o[4],p=o[5],d=o[6],c=o[7],h=o[8],f=o[9],g=o[10],y=o[11],m=o[12],b=o[13],v=o[14],w=o[15];if(t[0].setComponents(l-s,c-u,y-h,w-m).normalize(),t[1].setComponents(l+s,c+u,y+h,w+m).normalize(),t[2].setComponents(l+a,c+p,y+f,w+b).normalize(),t[3].setComponents(l-a,c-p,y-f,w-b).normalize(),t[4].setComponents(l-A,c-d,y-g,w-v).normalize(),n===_o)t[5].setComponents(l+A,c+d,y+g,w+v).normalize();else if(n===dh)t[5].setComponents(A,d,g,v).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(r){if(r.boundingSphere!==void 0)r.boundingSphere===null&&r.computeBoundingSphere(),Ma.copy(r.boundingSphere).applyMatrix4(r.matrixWorld);else{const n=r.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ma.copy(n.boundingSphere).applyMatrix4(r.matrixWorld)}return this.intersectsSphere(Ma)}intersectsSprite(r){return Ma.center.set(0,0,0),Ma.radius=.7071067811865476,Ma.applyMatrix4(r.matrixWorld),this.intersectsSphere(Ma)}intersectsSphere(r){const n=this.planes,t=r.center,o=-r.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(t)<o)return!1;return!0}intersectsBox(r){const n=this.planes;for(let t=0;t<6;t++){const o=n[t];if(lu.x=o.normal.x>0?r.max.x:r.min.x,lu.y=o.normal.y>0?r.max.y:r.min.y,lu.z=o.normal.z>0?r.max.z:r.min.z,o.distanceToPoint(lu)<0)return!1}return!0}containsPoint(r){const n=this.planes;for(let t=0;t<6;t++)if(n[t].distanceToPoint(r)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Uv(){let i=null,r=!1,n=null,t=null;function o(s,a){n(s,a),t=i.requestAnimationFrame(o)}return{start:function(){r!==!0&&n!==null&&(t=i.requestAnimationFrame(o),r=!0)},stop:function(){i.cancelAnimationFrame(t),r=!1},setAnimationLoop:function(s){n=s},setContext:function(s){i=s}}}function Gw(i,r){const n=r.isWebGL2,t=new WeakMap;function o(u,p){const d=u.array,c=u.usage,h=d.byteLength,f=i.createBuffer();i.bindBuffer(p,f),i.bufferData(p,d,c),u.onUploadCallback();let g;if(d instanceof Float32Array)g=i.FLOAT;else if(d instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=i.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=i.UNSIGNED_SHORT;else if(d instanceof Int16Array)g=i.SHORT;else if(d instanceof Uint32Array)g=i.UNSIGNED_INT;else if(d instanceof Int32Array)g=i.INT;else if(d instanceof Int8Array)g=i.BYTE;else if(d instanceof Uint8Array)g=i.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)g=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:f,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:u.version,size:h}}function s(u,p,d){const c=p.array,h=p._updateRange,f=p.updateRanges;if(i.bindBuffer(d,u),h.count===-1&&f.length===0&&i.bufferSubData(d,0,c),f.length!==0){for(let g=0,y=f.length;g<y;g++){const m=f[g];n?i.bufferSubData(d,m.start*c.BYTES_PER_ELEMENT,c,m.start,m.count):i.bufferSubData(d,m.start*c.BYTES_PER_ELEMENT,c.subarray(m.start,m.start+m.count))}p.clearUpdateRanges()}h.count!==-1&&(n?i.bufferSubData(d,h.offset*c.BYTES_PER_ELEMENT,c,h.offset,h.count):i.bufferSubData(d,h.offset*c.BYTES_PER_ELEMENT,c.subarray(h.offset,h.offset+h.count)),h.count=-1),p.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),t.get(u)}function A(u){u.isInterleavedBufferAttribute&&(u=u.data);const p=t.get(u);p&&(i.deleteBuffer(p.buffer),t.delete(u))}function l(u,p){if(u.isGLBufferAttribute){const c=t.get(u);(!c||c.version<u.version)&&t.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const d=t.get(u);if(d===void 0)t.set(u,o(u,p));else if(d.version<u.version){if(d.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(d.buffer,u,p),d.version=u.version}}return{get:a,remove:A,update:l}}class Vp extends Kn{constructor(r=1,n=1,t=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:r,height:n,widthSegments:t,heightSegments:o};const s=r/2,a=n/2,A=Math.floor(t),l=Math.floor(o),u=A+1,p=l+1,d=r/A,c=n/l,h=[],f=[],g=[],y=[];for(let m=0;m<p;m++){const b=m*c-a;for(let v=0;v<u;v++){const w=v*d-s;f.push(w,-b,0),g.push(0,0,1),y.push(v/A),y.push(1-m/l)}}for(let m=0;m<l;m++)for(let b=0;b<A;b++){const v=b+u*m,w=b+u*(m+1),_=b+1+u*(m+1),M=b+1+u*m;h.push(v,w,M),h.push(w,_,M)}this.setIndex(h),this.setAttribute("position",new Yr(f,3)),this.setAttribute("normal",new Yr(g,3)),this.setAttribute("uv",new Yr(y,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Vp(r.width,r.height,r.widthSegments,r.heightSegments)}}var Vw=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,zw=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ww=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Kw=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qw=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Xw=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yw=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Jw=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Zw=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$w=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,e_=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,t_=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,r_=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,n_=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,i_=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,s_=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,o_=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,a_=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,l_=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,A_=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,c_=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,u_=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,h_=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,d_=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,f_=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,p_=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,m_=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,g_=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,y_=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,v_=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,b_="gl_FragColor = linearToOutputTexel( gl_FragColor );",w_=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,__=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,x_=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,S_=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,B_=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,E_=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,C_=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,M_=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,T_=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,L_=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,F_=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,U_=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,I_=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,P_=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,j_=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,R_=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,D_=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,O_=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,N_=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,k_=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Q_=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,H_=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,G_=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,V_=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,z_=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,W_=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,K_=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,q_=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,X_=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Y_=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,J_=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Z_=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,$_=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ex=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tx=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,rx=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nx=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ix=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,sx=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ox=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ax=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,lx=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ax=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cx=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ux=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hx=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,dx=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,fx=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,px=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mx=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gx=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yx=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,vx=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,bx=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,wx=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,_x=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xx=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Sx=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Bx=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Cx=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Mx=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Tx=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Lx=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Fx=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Ux=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ix=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Px=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jx=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Rx=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Dx=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Ox=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Nx=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,kx=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Qx=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Hx=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Gx=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Vx=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zx=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Wx=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Kx=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qx=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Xx=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Yx=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Jx=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Zx=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$x=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,eS=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tS=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rS=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nS=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,iS=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sS=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oS=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aS=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,lS=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AS=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cS=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uS=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hS=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dS=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fS=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pS=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mS=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gS=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yS=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vS=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bS=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wS=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_S=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vr={alphahash_fragment:Vw,alphahash_pars_fragment:zw,alphamap_fragment:Ww,alphamap_pars_fragment:Kw,alphatest_fragment:qw,alphatest_pars_fragment:Xw,aomap_fragment:Yw,aomap_pars_fragment:Jw,batching_pars_vertex:Zw,batching_vertex:$w,begin_vertex:e_,beginnormal_vertex:t_,bsdfs:r_,iridescence_fragment:n_,bumpmap_pars_fragment:i_,clipping_planes_fragment:s_,clipping_planes_pars_fragment:o_,clipping_planes_pars_vertex:a_,clipping_planes_vertex:l_,color_fragment:A_,color_pars_fragment:c_,color_pars_vertex:u_,color_vertex:h_,common:d_,cube_uv_reflection_fragment:f_,defaultnormal_vertex:p_,displacementmap_pars_vertex:m_,displacementmap_vertex:g_,emissivemap_fragment:y_,emissivemap_pars_fragment:v_,colorspace_fragment:b_,colorspace_pars_fragment:w_,envmap_fragment:__,envmap_common_pars_fragment:x_,envmap_pars_fragment:S_,envmap_pars_vertex:B_,envmap_physical_pars_fragment:D_,envmap_vertex:E_,fog_vertex:C_,fog_pars_vertex:M_,fog_fragment:T_,fog_pars_fragment:L_,gradientmap_pars_fragment:F_,lightmap_fragment:U_,lightmap_pars_fragment:I_,lights_lambert_fragment:P_,lights_lambert_pars_fragment:j_,lights_pars_begin:R_,lights_toon_fragment:O_,lights_toon_pars_fragment:N_,lights_phong_fragment:k_,lights_phong_pars_fragment:Q_,lights_physical_fragment:H_,lights_physical_pars_fragment:G_,lights_fragment_begin:V_,lights_fragment_maps:z_,lights_fragment_end:W_,logdepthbuf_fragment:K_,logdepthbuf_pars_fragment:q_,logdepthbuf_pars_vertex:X_,logdepthbuf_vertex:Y_,map_fragment:J_,map_pars_fragment:Z_,map_particle_fragment:$_,map_particle_pars_fragment:ex,metalnessmap_fragment:tx,metalnessmap_pars_fragment:rx,morphcolor_vertex:nx,morphnormal_vertex:ix,morphtarget_pars_vertex:sx,morphtarget_vertex:ox,normal_fragment_begin:ax,normal_fragment_maps:lx,normal_pars_fragment:Ax,normal_pars_vertex:cx,normal_vertex:ux,normalmap_pars_fragment:hx,clearcoat_normal_fragment_begin:dx,clearcoat_normal_fragment_maps:fx,clearcoat_pars_fragment:px,iridescence_pars_fragment:mx,opaque_fragment:gx,packing:yx,premultiplied_alpha_fragment:vx,project_vertex:bx,dithering_fragment:wx,dithering_pars_fragment:_x,roughnessmap_fragment:xx,roughnessmap_pars_fragment:Sx,shadowmap_pars_fragment:Bx,shadowmap_pars_vertex:Ex,shadowmap_vertex:Cx,shadowmask_pars_fragment:Mx,skinbase_vertex:Tx,skinning_pars_vertex:Lx,skinning_vertex:Fx,skinnormal_vertex:Ux,specularmap_fragment:Ix,specularmap_pars_fragment:Px,tonemapping_fragment:jx,tonemapping_pars_fragment:Rx,transmission_fragment:Dx,transmission_pars_fragment:Ox,uv_pars_fragment:Nx,uv_pars_vertex:kx,uv_vertex:Qx,worldpos_vertex:Hx,background_vert:Gx,background_frag:Vx,backgroundCube_vert:zx,backgroundCube_frag:Wx,cube_vert:Kx,cube_frag:qx,depth_vert:Xx,depth_frag:Yx,distanceRGBA_vert:Jx,distanceRGBA_frag:Zx,equirect_vert:$x,equirect_frag:eS,linedashed_vert:tS,linedashed_frag:rS,meshbasic_vert:nS,meshbasic_frag:iS,meshlambert_vert:sS,meshlambert_frag:oS,meshmatcap_vert:aS,meshmatcap_frag:lS,meshnormal_vert:AS,meshnormal_frag:cS,meshphong_vert:uS,meshphong_frag:hS,meshphysical_vert:dS,meshphysical_frag:fS,meshtoon_vert:pS,meshtoon_frag:mS,points_vert:gS,points_frag:yS,shadow_vert:vS,shadow_frag:bS,sprite_vert:wS,sprite_frag:_S},Dt={common:{diffuse:{value:new mr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Br},alphaMap:{value:null},alphaMapTransform:{value:new Br},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Br}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Br}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Br}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Br},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Br},normalScale:{value:new jt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Br},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Br}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Br}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Br}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new mr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new mr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Br},alphaTest:{value:0},uvTransform:{value:new Br}},sprite:{diffuse:{value:new mr(16777215)},opacity:{value:1},center:{value:new jt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Br},alphaMap:{value:null},alphaMapTransform:{value:new Br},alphaTest:{value:0}}},Ns={basic:{uniforms:fi([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.fog]),vertexShader:vr.meshbasic_vert,fragmentShader:vr.meshbasic_frag},lambert:{uniforms:fi([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new mr(0)}}]),vertexShader:vr.meshlambert_vert,fragmentShader:vr.meshlambert_frag},phong:{uniforms:fi([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new mr(0)},specular:{value:new mr(1118481)},shininess:{value:30}}]),vertexShader:vr.meshphong_vert,fragmentShader:vr.meshphong_frag},standard:{uniforms:fi([Dt.common,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.roughnessmap,Dt.metalnessmap,Dt.fog,Dt.lights,{emissive:{value:new mr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:vr.meshphysical_vert,fragmentShader:vr.meshphysical_frag},toon:{uniforms:fi([Dt.common,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.gradientmap,Dt.fog,Dt.lights,{emissive:{value:new mr(0)}}]),vertexShader:vr.meshtoon_vert,fragmentShader:vr.meshtoon_frag},matcap:{uniforms:fi([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,{matcap:{value:null}}]),vertexShader:vr.meshmatcap_vert,fragmentShader:vr.meshmatcap_frag},points:{uniforms:fi([Dt.points,Dt.fog]),vertexShader:vr.points_vert,fragmentShader:vr.points_frag},dashed:{uniforms:fi([Dt.common,Dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vr.linedashed_vert,fragmentShader:vr.linedashed_frag},depth:{uniforms:fi([Dt.common,Dt.displacementmap]),vertexShader:vr.depth_vert,fragmentShader:vr.depth_frag},normal:{uniforms:fi([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,{opacity:{value:1}}]),vertexShader:vr.meshnormal_vert,fragmentShader:vr.meshnormal_frag},sprite:{uniforms:fi([Dt.sprite,Dt.fog]),vertexShader:vr.sprite_vert,fragmentShader:vr.sprite_frag},background:{uniforms:{uvTransform:{value:new Br},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:vr.background_vert,fragmentShader:vr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:vr.backgroundCube_vert,fragmentShader:vr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vr.cube_vert,fragmentShader:vr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vr.equirect_vert,fragmentShader:vr.equirect_frag},distanceRGBA:{uniforms:fi([Dt.common,Dt.displacementmap,{referencePosition:{value:new He},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vr.distanceRGBA_vert,fragmentShader:vr.distanceRGBA_frag},shadow:{uniforms:fi([Dt.lights,Dt.fog,{color:{value:new mr(0)},opacity:{value:1}}]),vertexShader:vr.shadow_vert,fragmentShader:vr.shadow_frag}};Ns.physical={uniforms:fi([Ns.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Br},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Br},clearcoatNormalScale:{value:new jt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Br},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Br},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Br},sheen:{value:0},sheenColor:{value:new mr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Br},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Br},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Br},transmissionSamplerSize:{value:new jt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Br},attenuationDistance:{value:0},attenuationColor:{value:new mr(0)},specularColor:{value:new mr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Br},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Br},anisotropyVector:{value:new jt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Br}}]),vertexShader:vr.meshphysical_vert,fragmentShader:vr.meshphysical_frag};const Au={r:0,b:0,g:0};function xS(i,r,n,t,o,s,a){const A=new mr(0);let l=s===!0?0:1,u,p,d=null,c=0,h=null;function f(y,m){let b=!1,v=m.isScene===!0?m.background:null;v&&v.isTexture&&(v=(m.backgroundBlurriness>0?n:r).get(v)),v===null?g(A,l):v&&v.isColor&&(g(v,1),b=!0);const w=i.xr.getEnvironmentBlendMode();w==="additive"?t.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&t.buffers.color.setClear(0,0,0,0,a),(i.autoClear||b)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),v&&(v.isCubeTexture||v.mapping===Th)?(p===void 0&&(p=new nn(new Ja(1,1,1),new Wa({name:"BackgroundCubeMaterial",uniforms:uA(Ns.backgroundCube.uniforms),vertexShader:Ns.backgroundCube.vertexShader,fragmentShader:Ns.backgroundCube.fragmentShader,side:Ti,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(_,M,x){this.matrixWorld.copyPosition(x.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(p)),p.material.uniforms.envMap.value=v,p.material.uniforms.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,p.material.toneMapped=Wr.getTransfer(v.colorSpace)!==rn,(d!==v||c!==v.version||h!==i.toneMapping)&&(p.material.needsUpdate=!0,d=v,c=v.version,h=i.toneMapping),p.layers.enableAll(),y.unshift(p,p.geometry,p.material,0,0,null)):v&&v.isTexture&&(u===void 0&&(u=new nn(new Vp(2,2),new Wa({name:"BackgroundMaterial",uniforms:uA(Ns.background.uniforms),vertexShader:Ns.background.vertexShader,fragmentShader:Ns.background.fragmentShader,side:Bo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(u)),u.material.uniforms.t2D.value=v,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=Wr.getTransfer(v.colorSpace)!==rn,v.matrixAutoUpdate===!0&&v.updateMatrix(),u.material.uniforms.uvTransform.value.copy(v.matrix),(d!==v||c!==v.version||h!==i.toneMapping)&&(u.material.needsUpdate=!0,d=v,c=v.version,h=i.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function g(y,m){y.getRGB(Au,Tv(i)),t.buffers.color.setClear(Au.r,Au.g,Au.b,m,a)}return{getClearColor:function(){return A},setClearColor:function(y,m=1){A.set(y),l=m,g(A,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,g(A,l)},render:f}}function SS(i,r,n,t){const o=i.getParameter(i.MAX_VERTEX_ATTRIBS),s=t.isWebGL2?null:r.get("OES_vertex_array_object"),a=t.isWebGL2||s!==null,A={},l=y(null);let u=l,p=!1;function d(j,O,Q,z,k){let W=!1;if(a){const Y=g(z,Q,O);u!==Y&&(u=Y,h(u.object)),W=m(j,z,Q,k),W&&b(j,z,Q,k)}else{const Y=O.wireframe===!0;(u.geometry!==z.id||u.program!==Q.id||u.wireframe!==Y)&&(u.geometry=z.id,u.program=Q.id,u.wireframe=Y,W=!0)}k!==null&&n.update(k,i.ELEMENT_ARRAY_BUFFER),(W||p)&&(p=!1,E(j,O,Q,z),k!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,n.get(k).buffer))}function c(){return t.isWebGL2?i.createVertexArray():s.createVertexArrayOES()}function h(j){return t.isWebGL2?i.bindVertexArray(j):s.bindVertexArrayOES(j)}function f(j){return t.isWebGL2?i.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function g(j,O,Q){const z=Q.wireframe===!0;let k=A[j.id];k===void 0&&(k={},A[j.id]=k);let W=k[O.id];W===void 0&&(W={},k[O.id]=W);let Y=W[z];return Y===void 0&&(Y=y(c()),W[z]=Y),Y}function y(j){const O=[],Q=[],z=[];for(let k=0;k<o;k++)O[k]=0,Q[k]=0,z[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:Q,attributeDivisors:z,object:j,attributes:{},index:null}}function m(j,O,Q,z){const k=u.attributes,W=O.attributes;let Y=0;const te=Q.getAttributes();for(const R in te)if(te[R].location>=0){const D=k[R];let V=W[R];if(V===void 0&&(R==="instanceMatrix"&&j.instanceMatrix&&(V=j.instanceMatrix),R==="instanceColor"&&j.instanceColor&&(V=j.instanceColor)),D===void 0||D.attribute!==V||V&&D.data!==V.data)return!0;Y++}return u.attributesNum!==Y||u.index!==z}function b(j,O,Q,z){const k={},W=O.attributes;let Y=0;const te=Q.getAttributes();for(const R in te)if(te[R].location>=0){let D=W[R];D===void 0&&(R==="instanceMatrix"&&j.instanceMatrix&&(D=j.instanceMatrix),R==="instanceColor"&&j.instanceColor&&(D=j.instanceColor));const V={};V.attribute=D,D&&D.data&&(V.data=D.data),k[R]=V,Y++}u.attributes=k,u.attributesNum=Y,u.index=z}function v(){const j=u.newAttributes;for(let O=0,Q=j.length;O<Q;O++)j[O]=0}function w(j){_(j,0)}function _(j,O){const Q=u.newAttributes,z=u.enabledAttributes,k=u.attributeDivisors;Q[j]=1,z[j]===0&&(i.enableVertexAttribArray(j),z[j]=1),k[j]!==O&&((t.isWebGL2?i:r.get("ANGLE_instanced_arrays"))[t.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,O),k[j]=O)}function M(){const j=u.newAttributes,O=u.enabledAttributes;for(let Q=0,z=O.length;Q<z;Q++)O[Q]!==j[Q]&&(i.disableVertexAttribArray(Q),O[Q]=0)}function x(j,O,Q,z,k,W,Y){Y===!0?i.vertexAttribIPointer(j,O,Q,k,W):i.vertexAttribPointer(j,O,Q,z,k,W)}function E(j,O,Q,z){if(t.isWebGL2===!1&&(j.isInstancedMesh||z.isInstancedBufferGeometry)&&r.get("ANGLE_instanced_arrays")===null)return;v();const k=z.attributes,W=Q.getAttributes(),Y=O.defaultAttributeValues;for(const te in W){const R=W[te];if(R.location>=0){let L=k[te];if(L===void 0&&(te==="instanceMatrix"&&j.instanceMatrix&&(L=j.instanceMatrix),te==="instanceColor"&&j.instanceColor&&(L=j.instanceColor)),L!==void 0){const D=L.normalized,V=L.itemSize,q=n.get(L);if(q===void 0)continue;const Z=q.buffer,se=q.type,fe=q.bytesPerElement,be=t.isWebGL2===!0&&(se===i.INT||se===i.UNSIGNED_INT||L.gpuType===uv);if(L.isInterleavedBufferAttribute){const pe=L.data,Ae=pe.stride,ge=L.offset;if(pe.isInstancedInterleavedBuffer){for(let ce=0;ce<R.locationSize;ce++)_(R.location+ce,pe.meshPerAttribute);j.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let ce=0;ce<R.locationSize;ce++)w(R.location+ce);i.bindBuffer(i.ARRAY_BUFFER,Z);for(let ce=0;ce<R.locationSize;ce++)x(R.location+ce,V/R.locationSize,se,D,Ae*fe,(ge+V/R.locationSize*ce)*fe,be)}else{if(L.isInstancedBufferAttribute){for(let pe=0;pe<R.locationSize;pe++)_(R.location+pe,L.meshPerAttribute);j.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=L.meshPerAttribute*L.count)}else for(let pe=0;pe<R.locationSize;pe++)w(R.location+pe);i.bindBuffer(i.ARRAY_BUFFER,Z);for(let pe=0;pe<R.locationSize;pe++)x(R.location+pe,V/R.locationSize,se,D,V*fe,V/R.locationSize*pe*fe,be)}}else if(Y!==void 0){const D=Y[te];if(D!==void 0)switch(D.length){case 2:i.vertexAttrib2fv(R.location,D);break;case 3:i.vertexAttrib3fv(R.location,D);break;case 4:i.vertexAttrib4fv(R.location,D);break;default:i.vertexAttrib1fv(R.location,D)}}}}M()}function C(){P();for(const j in A){const O=A[j];for(const Q in O){const z=O[Q];for(const k in z)f(z[k].object),delete z[k];delete O[Q]}delete A[j]}}function T(j){if(A[j.id]===void 0)return;const O=A[j.id];for(const Q in O){const z=O[Q];for(const k in z)f(z[k].object),delete z[k];delete O[Q]}delete A[j.id]}function B(j){for(const O in A){const Q=A[O];if(Q[j.id]===void 0)continue;const z=Q[j.id];for(const k in z)f(z[k].object),delete z[k];delete Q[j.id]}}function P(){F(),p=!0,u!==l&&(u=l,h(u.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:P,resetDefaultState:F,dispose:C,releaseStatesOfGeometry:T,releaseStatesOfProgram:B,initAttributes:v,enableAttribute:w,disableUnusedAttributes:M}}function BS(i,r,n,t){const o=t.isWebGL2;let s;function a(p){s=p}function A(p,d){i.drawArrays(s,p,d),n.update(d,s,1)}function l(p,d,c){if(c===0)return;let h,f;if(o)h=i,f="drawArraysInstanced";else if(h=r.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](s,p,d,c),n.update(d,s,c)}function u(p,d,c){if(c===0)return;const h=r.get("WEBGL_multi_draw");if(h===null)for(let f=0;f<c;f++)this.render(p[f],d[f]);else{h.multiDrawArraysWEBGL(s,p,0,d,0,c);let f=0;for(let g=0;g<c;g++)f+=d[g];n.update(f,s,1)}}this.setMode=a,this.render=A,this.renderInstances=l,this.renderMultiDraw=u}function ES(i,r,n){let t;function o(){if(t!==void 0)return t;if(r.has("EXT_texture_filter_anisotropic")===!0){const x=r.get("EXT_texture_filter_anisotropic");t=i.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else t=0;return t}function s(x){if(x==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";x="mediump"}return x==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&i.constructor.name==="WebGL2RenderingContext";let A=n.precision!==void 0?n.precision:"highp";const l=s(A);l!==A&&(console.warn("THREE.WebGLRenderer:",A,"not supported, using",l,"instead."),A=l);const u=a||r.has("WEBGL_draw_buffers"),p=n.logarithmicDepthBuffer===!0,d=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),c=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=i.getParameter(i.MAX_TEXTURE_SIZE),f=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),g=i.getParameter(i.MAX_VERTEX_ATTRIBS),y=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),m=i.getParameter(i.MAX_VARYING_VECTORS),b=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),v=c>0,w=a||r.has("OES_texture_float"),_=v&&w,M=a?i.getParameter(i.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:o,getMaxPrecision:s,precision:A,logarithmicDepthBuffer:p,maxTextures:d,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:f,maxAttributes:g,maxVertexUniforms:y,maxVaryings:m,maxFragmentUniforms:b,vertexTextures:v,floatFragmentTextures:w,floatVertexTextures:_,maxSamples:M}}function CS(i){const r=this;let n=null,t=0,o=!1,s=!1;const a=new bo,A=new Br,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,c){const h=d.length!==0||c||t!==0||o;return o=c,t=d.length,h},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,c){n=p(d,c,0)},this.setState=function(d,c,h){const f=d.clippingPlanes,g=d.clipIntersection,y=d.clipShadows,m=i.get(d);if(!o||f===null||f.length===0||s&&!y)s?p(null):u();else{const b=s?0:t,v=b*4;let w=m.clippingState||null;l.value=w,w=p(f,c,v,h);for(let _=0;_!==v;++_)w[_]=n[_];m.clippingState=w,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=t>0),r.numPlanes=t,r.numIntersection=0}function p(d,c,h,f){const g=d!==null?d.length:0;let y=null;if(g!==0){if(y=l.value,f!==!0||y===null){const m=h+g*4,b=c.matrixWorldInverse;A.getNormalMatrix(b),(y===null||y.length<m)&&(y=new Float32Array(m));for(let v=0,w=h;v!==g;++v,w+=4)a.copy(d[v]).applyMatrix4(b,A),a.normal.toArray(y,w),y[w+3]=a.constant}l.value=y,l.needsUpdate=!0}return r.numPlanes=g,r.numIntersection=0,y}}function MS(i){let r=new WeakMap;function n(a,A){return A===kf?a.mapping=lA:A===Qf&&(a.mapping=AA),a}function t(a){if(a&&a.isTexture){const A=a.mapping;if(A===kf||A===Qf)if(r.has(a)){const l=r.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new kw(l.height/2);return u.fromEquirectangularTexture(i,a),r.set(a,u),a.addEventListener("dispose",o),n(u.texture,a.mapping)}else return null}}return a}function o(a){const A=a.target;A.removeEventListener("dispose",o);const l=r.get(A);l!==void 0&&(r.delete(A),l.dispose())}function s(){r=new WeakMap}return{get:t,dispose:s}}class zp extends Lv{constructor(r=-1,n=1,t=1,o=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=r,this.right=n,this.top=t,this.bottom=o,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(r,n){return super.copy(r,n),this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,this.near=r.near,this.far=r.far,this.zoom=r.zoom,this.view=r.view===null?null:Object.assign({},r.view),this}setViewOffset(r,n,t,o,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=t,this.view.offsetY=o,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),t=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=t-r,a=t+r,A=o+n,l=o-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,A-=p*this.view.offsetY,l=A-p*this.view.height}this.projectionMatrix.makeOrthographic(s,a,A,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const n=super.toJSON(r);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Wl=4,kg=[.125,.215,.35,.446,.526,.582],Ia=20,Od=new zp,Qg=new mr;let Nd=null,kd=0,Qd=0;const La=(1+Math.sqrt(5))/2,Ll=1/La,Hg=[new He(1,1,1),new He(-1,1,1),new He(1,1,-1),new He(-1,1,-1),new He(0,La,Ll),new He(0,La,-Ll),new He(Ll,0,La),new He(-Ll,0,La),new He(La,Ll,0),new He(-La,Ll,0)];class Gg{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(r,n=0,t=.1,o=100){Nd=this._renderer.getRenderTarget(),kd=this._renderer.getActiveCubeFace(),Qd=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(r,t,o,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(r,n=null){return this._fromTexture(r,n)}fromCubemap(r,n=null){return this._fromTexture(r,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Wg(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zg(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodPlanes.length;r++)this._lodPlanes[r].dispose()}_cleanup(r){this._renderer.setRenderTarget(Nd,kd,Qd),r.scissorTest=!1,cu(r,0,0,r.width,r.height)}_fromTexture(r,n){r.mapping===lA||r.mapping===AA?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4),Nd=this._renderer.getRenderTarget(),kd=this._renderer.getActiveCubeFace(),Qd=this._renderer.getActiveMipmapLevel();const t=n||this._allocateTargets();return this._textureToCubeUV(r,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(){const r=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,t={magFilter:is,minFilter:is,generateMipmaps:!1,type:ic,format:_s,colorSpace:Eo,depthBuffer:!1},o=Vg(r,n,t);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Vg(r,n,t);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=TS(s)),this._blurMaterial=LS(s,r,n)}return o}_compileMaterial(r){const n=new nn(this._lodPlanes[0],r);this._renderer.compile(n,Od)}_sceneToCubeUV(r,n,t,o){const A=new gi(90,1,n,t),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],p=this._renderer,d=p.autoClear,c=p.toneMapping;p.getClearColor(Qg),p.toneMapping=aa,p.autoClear=!1;const h=new Mi({name:"PMREM.Background",side:Ti,depthWrite:!1,depthTest:!1}),f=new nn(new Ja,h);let g=!1;const y=r.background;y?y.isColor&&(h.color.copy(y),r.background=null,g=!0):(h.color.copy(Qg),g=!0);for(let m=0;m<6;m++){const b=m%3;b===0?(A.up.set(0,l[m],0),A.lookAt(u[m],0,0)):b===1?(A.up.set(0,0,l[m]),A.lookAt(0,u[m],0)):(A.up.set(0,l[m],0),A.lookAt(0,0,u[m]));const v=this._cubeSize;cu(o,b*v,m>2?v:0,v,v),p.setRenderTarget(o),g&&p.render(f,A),p.render(r,A)}f.geometry.dispose(),f.material.dispose(),p.toneMapping=c,p.autoClear=d,r.background=y}_textureToCubeUV(r,n){const t=this._renderer,o=r.mapping===lA||r.mapping===AA;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=Wg()),this._cubemapMaterial.uniforms.flipEnvMap.value=r.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zg());const s=o?this._cubemapMaterial:this._equirectMaterial,a=new nn(this._lodPlanes[0],s),A=s.uniforms;A.envMap.value=r;const l=this._cubeSize;cu(n,0,0,3*l,2*l),t.setRenderTarget(n),t.render(a,Od)}_applyPMREM(r){const n=this._renderer,t=n.autoClear;n.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=Hg[(o-1)%Hg.length];this._blur(r,o-1,o,s,a)}n.autoClear=t}_blur(r,n,t,o,s){const a=this._pingPongRenderTarget;this._halfBlur(r,a,n,t,o,"latitudinal",s),this._halfBlur(a,r,t,t,o,"longitudinal",s)}_halfBlur(r,n,t,o,s,a,A){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,d=new nn(this._lodPlanes[o],u),c=u.uniforms,h=this._sizeLods[t]-1,f=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*Ia-1),g=s/f,y=isFinite(s)?1+Math.floor(p*g):Ia;y>Ia&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Ia}`);const m=[];let b=0;for(let x=0;x<Ia;++x){const E=x/g,C=Math.exp(-E*E/2);m.push(C),x===0?b+=C:x<y&&(b+=2*C)}for(let x=0;x<m.length;x++)m[x]=m[x]/b;c.envMap.value=r.texture,c.samples.value=y,c.weights.value=m,c.latitudinal.value=a==="latitudinal",A&&(c.poleAxis.value=A);const{_lodMax:v}=this;c.dTheta.value=f,c.mipInt.value=v-t;const w=this._sizeLods[o],_=3*w*(o>v-Wl?o-v+Wl:0),M=4*(this._cubeSize-w);cu(n,_,M,3*w,2*w),l.setRenderTarget(n),l.render(d,Od)}}function TS(i){const r=[],n=[],t=[];let o=i;const s=i-Wl+1+kg.length;for(let a=0;a<s;a++){const A=Math.pow(2,o);n.push(A);let l=1/A;a>i-Wl?l=kg[a-i+Wl-1]:a===0&&(l=0),t.push(l);const u=1/(A-2),p=-u,d=1+u,c=[p,p,d,p,d,d,p,p,d,d,p,d],h=6,f=6,g=3,y=2,m=1,b=new Float32Array(g*f*h),v=new Float32Array(y*f*h),w=new Float32Array(m*f*h);for(let M=0;M<h;M++){const x=M%3*2/3-1,E=M>2?0:-1,C=[x,E,0,x+2/3,E,0,x+2/3,E+1,0,x,E,0,x+2/3,E+1,0,x,E+1,0];b.set(C,g*f*M),v.set(c,y*f*M);const T=[M,M,M,M,M,M];w.set(T,m*f*M)}const _=new Kn;_.setAttribute("position",new Qs(b,g)),_.setAttribute("uv",new Qs(v,y)),_.setAttribute("faceIndex",new Qs(w,m)),r.push(_),o>Wl&&o--}return{lodPlanes:r,sizeLods:n,sigmas:t}}function Vg(i,r,n){const t=new Va(i,r,n);return t.texture.mapping=Th,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function cu(i,r,n,t,o){i.viewport.set(r,n,t,o),i.scissor.set(r,n,t,o)}function LS(i,r,n){const t=new Float32Array(Ia),o=new He(0,1,0);return new Wa({name:"SphericalGaussianBlur",defines:{n:Ia,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:Wp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:oa,depthTest:!1,depthWrite:!1})}function zg(){return new Wa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Wp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:oa,depthTest:!1,depthWrite:!1})}function Wg(){return new Wa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Wp(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:oa,depthTest:!1,depthWrite:!1})}function Wp(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function FS(i){let r=new WeakMap,n=null;function t(A){if(A&&A.isTexture){const l=A.mapping,u=l===kf||l===Qf,p=l===lA||l===AA;if(u||p)if(A.isRenderTargetTexture&&A.needsPMREMUpdate===!0){A.needsPMREMUpdate=!1;let d=r.get(A);return n===null&&(n=new Gg(i)),d=u?n.fromEquirectangular(A,d):n.fromCubemap(A,d),r.set(A,d),d.texture}else{if(r.has(A))return r.get(A).texture;{const d=A.image;if(u&&d&&d.height>0||p&&d&&o(d)){n===null&&(n=new Gg(i));const c=u?n.fromEquirectangular(A):n.fromCubemap(A);return r.set(A,c),A.addEventListener("dispose",s),c.texture}else return null}}}return A}function o(A){let l=0;const u=6;for(let p=0;p<u;p++)A[p]!==void 0&&l++;return l===u}function s(A){const l=A.target;l.removeEventListener("dispose",s);const u=r.get(l);u!==void 0&&(r.delete(l),u.dispose())}function a(){r=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:t,dispose:a}}function US(i){const r={};function n(t){if(r[t]!==void 0)return r[t];let o;switch(t){case"WEBGL_depth_texture":o=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=i.getExtension(t)}return r[t]=o,o}return{has:function(t){return n(t)!==null},init:function(t){t.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){const o=n(t);return o===null&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),o}}}function IS(i,r,n,t){const o={},s=new WeakMap;function a(d){const c=d.target;c.index!==null&&r.remove(c.index);for(const f in c.attributes)r.remove(c.attributes[f]);for(const f in c.morphAttributes){const g=c.morphAttributes[f];for(let y=0,m=g.length;y<m;y++)r.remove(g[y])}c.removeEventListener("dispose",a),delete o[c.id];const h=s.get(c);h&&(r.remove(h),s.delete(c)),t.releaseStatesOfGeometry(c),c.isInstancedBufferGeometry===!0&&delete c._maxInstanceCount,n.memory.geometries--}function A(d,c){return o[c.id]===!0||(c.addEventListener("dispose",a),o[c.id]=!0,n.memory.geometries++),c}function l(d){const c=d.attributes;for(const f in c)r.update(c[f],i.ARRAY_BUFFER);const h=d.morphAttributes;for(const f in h){const g=h[f];for(let y=0,m=g.length;y<m;y++)r.update(g[y],i.ARRAY_BUFFER)}}function u(d){const c=[],h=d.index,f=d.attributes.position;let g=0;if(h!==null){const b=h.array;g=h.version;for(let v=0,w=b.length;v<w;v+=3){const _=b[v+0],M=b[v+1],x=b[v+2];c.push(_,M,M,x,x,_)}}else if(f!==void 0){const b=f.array;g=f.version;for(let v=0,w=b.length/3-1;v<w;v+=3){const _=v+0,M=v+1,x=v+2;c.push(_,M,M,x,x,_)}}else return;const y=new(wv(c)?Mv:Cv)(c,1);y.version=g;const m=s.get(d);m&&r.remove(m),s.set(d,y)}function p(d){const c=s.get(d);if(c){const h=d.index;h!==null&&c.version<h.version&&u(d)}else u(d);return s.get(d)}return{get:A,update:l,getWireframeAttribute:p}}function PS(i,r,n,t){const o=t.isWebGL2;let s;function a(h){s=h}let A,l;function u(h){A=h.type,l=h.bytesPerElement}function p(h,f){i.drawElements(s,f,A,h*l),n.update(f,s,1)}function d(h,f,g){if(g===0)return;let y,m;if(o)y=i,m="drawElementsInstanced";else if(y=r.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[m](s,f,A,h*l,g),n.update(f,s,g)}function c(h,f,g){if(g===0)return;const y=r.get("WEBGL_multi_draw");if(y===null)for(let m=0;m<g;m++)this.render(h[m]/l,f[m]);else{y.multiDrawElementsWEBGL(s,f,0,A,h,0,g);let m=0;for(let b=0;b<g;b++)m+=f[b];n.update(m,s,1)}}this.setMode=a,this.setIndex=u,this.render=p,this.renderInstances=d,this.renderMultiDraw=c}function jS(i){const r={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function t(s,a,A){switch(n.calls++,a){case i.TRIANGLES:n.triangles+=A*(s/3);break;case i.LINES:n.lines+=A*(s/2);break;case i.LINE_STRIP:n.lines+=A*(s-1);break;case i.LINE_LOOP:n.lines+=A*s;break;case i.POINTS:n.points+=A*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function o(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:r,render:n,programs:null,autoReset:!0,reset:o,update:t}}function RS(i,r){return i[0]-r[0]}function DS(i,r){return Math.abs(r[1])-Math.abs(i[1])}function OS(i,r,n){const t={},o=new Float32Array(8),s=new WeakMap,a=new cn,A=[];for(let u=0;u<8;u++)A[u]=[u,0];function l(u,p,d){const c=u.morphTargetInfluences;if(r.isWebGL2===!0){const h=p.morphAttributes.position||p.morphAttributes.normal||p.morphAttributes.color,f=h!==void 0?h.length:0;let g=s.get(p);if(g===void 0||g.count!==f){let j=function(){P.dispose(),s.delete(p),p.removeEventListener("dispose",j)};g!==void 0&&g.texture.dispose();const b=p.morphAttributes.position!==void 0,v=p.morphAttributes.normal!==void 0,w=p.morphAttributes.color!==void 0,_=p.morphAttributes.position||[],M=p.morphAttributes.normal||[],x=p.morphAttributes.color||[];let E=0;b===!0&&(E=1),v===!0&&(E=2),w===!0&&(E=3);let C=p.attributes.position.count*E,T=1;C>r.maxTextureSize&&(T=Math.ceil(C/r.maxTextureSize),C=r.maxTextureSize);const B=new Float32Array(C*T*4*f),P=new Sv(B,C,T,f);P.type=ta,P.needsUpdate=!0;const F=E*4;for(let O=0;O<f;O++){const Q=_[O],z=M[O],k=x[O],W=C*T*4*O;for(let Y=0;Y<Q.count;Y++){const te=Y*F;b===!0&&(a.fromBufferAttribute(Q,Y),B[W+te+0]=a.x,B[W+te+1]=a.y,B[W+te+2]=a.z,B[W+te+3]=0),v===!0&&(a.fromBufferAttribute(z,Y),B[W+te+4]=a.x,B[W+te+5]=a.y,B[W+te+6]=a.z,B[W+te+7]=0),w===!0&&(a.fromBufferAttribute(k,Y),B[W+te+8]=a.x,B[W+te+9]=a.y,B[W+te+10]=a.z,B[W+te+11]=k.itemSize===4?a.w:1)}}g={count:f,texture:P,size:new jt(C,T)},s.set(p,g),p.addEventListener("dispose",j)}let y=0;for(let b=0;b<c.length;b++)y+=c[b];const m=p.morphTargetsRelative?1:1-y;d.getUniforms().setValue(i,"morphTargetBaseInfluence",m),d.getUniforms().setValue(i,"morphTargetInfluences",c),d.getUniforms().setValue(i,"morphTargetsTexture",g.texture,n),d.getUniforms().setValue(i,"morphTargetsTextureSize",g.size)}else{const h=c===void 0?0:c.length;let f=t[p.id];if(f===void 0||f.length!==h){f=[];for(let v=0;v<h;v++)f[v]=[v,0];t[p.id]=f}for(let v=0;v<h;v++){const w=f[v];w[0]=v,w[1]=c[v]}f.sort(DS);for(let v=0;v<8;v++)v<h&&f[v][1]?(A[v][0]=f[v][0],A[v][1]=f[v][1]):(A[v][0]=Number.MAX_SAFE_INTEGER,A[v][1]=0);A.sort(RS);const g=p.morphAttributes.position,y=p.morphAttributes.normal;let m=0;for(let v=0;v<8;v++){const w=A[v],_=w[0],M=w[1];_!==Number.MAX_SAFE_INTEGER&&M?(g&&p.getAttribute("morphTarget"+v)!==g[_]&&p.setAttribute("morphTarget"+v,g[_]),y&&p.getAttribute("morphNormal"+v)!==y[_]&&p.setAttribute("morphNormal"+v,y[_]),o[v]=M,m+=M):(g&&p.hasAttribute("morphTarget"+v)===!0&&p.deleteAttribute("morphTarget"+v),y&&p.hasAttribute("morphNormal"+v)===!0&&p.deleteAttribute("morphNormal"+v),o[v]=0)}const b=p.morphTargetsRelative?1:1-m;d.getUniforms().setValue(i,"morphTargetBaseInfluence",b),d.getUniforms().setValue(i,"morphTargetInfluences",o)}}return{update:l}}function NS(i,r,n,t){let o=new WeakMap;function s(l){const u=t.render.frame,p=l.geometry,d=r.get(l,p);if(o.get(d)!==u&&(r.update(d),o.set(d,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",A)===!1&&l.addEventListener("dispose",A),o.get(l)!==u&&(n.update(l.instanceMatrix,i.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,i.ARRAY_BUFFER),o.set(l,u))),l.isSkinnedMesh){const c=l.skeleton;o.get(c)!==u&&(c.update(),o.set(c,u))}return d}function a(){o=new WeakMap}function A(l){const u=l.target;u.removeEventListener("dispose",A),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}class Iv extends Hi{constructor(r,n,t,o,s,a,A,l,u,p){if(p=p!==void 0?p:Na,p!==Na&&p!==cA)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");t===void 0&&p===Na&&(t=ea),t===void 0&&p===cA&&(t=Oa),super(null,o,s,a,A,l,p,t,u),this.isDepthTexture=!0,this.image={width:r,height:n},this.magFilter=A!==void 0?A:mi,this.minFilter=l!==void 0?l:mi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(r){return super.copy(r),this.compareFunction=r.compareFunction,this}toJSON(r){const n=super.toJSON(r);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const Pv=new Hi,jv=new Iv(1,1);jv.compareFunction=vv;const Rv=new Sv,Dv=new xw,Ov=new Fv,Kg=[],qg=[],Xg=new Float32Array(16),Yg=new Float32Array(9),Jg=new Float32Array(4);function dA(i,r,n){const t=i[0];if(t<=0||t>0)return i;const o=r*n;let s=Kg[o];if(s===void 0&&(s=new Float32Array(o),Kg[o]=s),r!==0){t.toArray(s,0);for(let a=1,A=0;a!==r;++a)A+=n,i[a].toArray(s,A)}return s}function jn(i,r){if(i.length!==r.length)return!1;for(let n=0,t=i.length;n<t;n++)if(i[n]!==r[n])return!1;return!0}function Rn(i,r){for(let n=0,t=r.length;n<t;n++)i[n]=r[n]}function Ih(i,r){let n=qg[r];n===void 0&&(n=new Int32Array(r),qg[r]=n);for(let t=0;t!==r;++t)n[t]=i.allocateTextureUnit();return n}function kS(i,r){const n=this.cache;n[0]!==r&&(i.uniform1f(this.addr,r),n[0]=r)}function QS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y)&&(i.uniform2f(this.addr,r.x,r.y),n[0]=r.x,n[1]=r.y);else{if(jn(n,r))return;i.uniform2fv(this.addr,r),Rn(n,r)}}function HS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y||n[2]!==r.z)&&(i.uniform3f(this.addr,r.x,r.y,r.z),n[0]=r.x,n[1]=r.y,n[2]=r.z);else if(r.r!==void 0)(n[0]!==r.r||n[1]!==r.g||n[2]!==r.b)&&(i.uniform3f(this.addr,r.r,r.g,r.b),n[0]=r.r,n[1]=r.g,n[2]=r.b);else{if(jn(n,r))return;i.uniform3fv(this.addr,r),Rn(n,r)}}function GS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y||n[2]!==r.z||n[3]!==r.w)&&(i.uniform4f(this.addr,r.x,r.y,r.z,r.w),n[0]=r.x,n[1]=r.y,n[2]=r.z,n[3]=r.w);else{if(jn(n,r))return;i.uniform4fv(this.addr,r),Rn(n,r)}}function VS(i,r){const n=this.cache,t=r.elements;if(t===void 0){if(jn(n,r))return;i.uniformMatrix2fv(this.addr,!1,r),Rn(n,r)}else{if(jn(n,t))return;Jg.set(t),i.uniformMatrix2fv(this.addr,!1,Jg),Rn(n,t)}}function zS(i,r){const n=this.cache,t=r.elements;if(t===void 0){if(jn(n,r))return;i.uniformMatrix3fv(this.addr,!1,r),Rn(n,r)}else{if(jn(n,t))return;Yg.set(t),i.uniformMatrix3fv(this.addr,!1,Yg),Rn(n,t)}}function WS(i,r){const n=this.cache,t=r.elements;if(t===void 0){if(jn(n,r))return;i.uniformMatrix4fv(this.addr,!1,r),Rn(n,r)}else{if(jn(n,t))return;Xg.set(t),i.uniformMatrix4fv(this.addr,!1,Xg),Rn(n,t)}}function KS(i,r){const n=this.cache;n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r)}function qS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y)&&(i.uniform2i(this.addr,r.x,r.y),n[0]=r.x,n[1]=r.y);else{if(jn(n,r))return;i.uniform2iv(this.addr,r),Rn(n,r)}}function XS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y||n[2]!==r.z)&&(i.uniform3i(this.addr,r.x,r.y,r.z),n[0]=r.x,n[1]=r.y,n[2]=r.z);else{if(jn(n,r))return;i.uniform3iv(this.addr,r),Rn(n,r)}}function YS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y||n[2]!==r.z||n[3]!==r.w)&&(i.uniform4i(this.addr,r.x,r.y,r.z,r.w),n[0]=r.x,n[1]=r.y,n[2]=r.z,n[3]=r.w);else{if(jn(n,r))return;i.uniform4iv(this.addr,r),Rn(n,r)}}function JS(i,r){const n=this.cache;n[0]!==r&&(i.uniform1ui(this.addr,r),n[0]=r)}function ZS(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y)&&(i.uniform2ui(this.addr,r.x,r.y),n[0]=r.x,n[1]=r.y);else{if(jn(n,r))return;i.uniform2uiv(this.addr,r),Rn(n,r)}}function $S(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y||n[2]!==r.z)&&(i.uniform3ui(this.addr,r.x,r.y,r.z),n[0]=r.x,n[1]=r.y,n[2]=r.z);else{if(jn(n,r))return;i.uniform3uiv(this.addr,r),Rn(n,r)}}function eB(i,r){const n=this.cache;if(r.x!==void 0)(n[0]!==r.x||n[1]!==r.y||n[2]!==r.z||n[3]!==r.w)&&(i.uniform4ui(this.addr,r.x,r.y,r.z,r.w),n[0]=r.x,n[1]=r.y,n[2]=r.z,n[3]=r.w);else{if(jn(n,r))return;i.uniform4uiv(this.addr,r),Rn(n,r)}}function tB(i,r,n){const t=this.cache,o=n.allocateTextureUnit();t[0]!==o&&(i.uniform1i(this.addr,o),t[0]=o);const s=this.type===i.SAMPLER_2D_SHADOW?jv:Pv;n.setTexture2D(r||s,o)}function rB(i,r,n){const t=this.cache,o=n.allocateTextureUnit();t[0]!==o&&(i.uniform1i(this.addr,o),t[0]=o),n.setTexture3D(r||Dv,o)}function nB(i,r,n){const t=this.cache,o=n.allocateTextureUnit();t[0]!==o&&(i.uniform1i(this.addr,o),t[0]=o),n.setTextureCube(r||Ov,o)}function iB(i,r,n){const t=this.cache,o=n.allocateTextureUnit();t[0]!==o&&(i.uniform1i(this.addr,o),t[0]=o),n.setTexture2DArray(r||Rv,o)}function sB(i){switch(i){case 5126:return kS;case 35664:return QS;case 35665:return HS;case 35666:return GS;case 35674:return VS;case 35675:return zS;case 35676:return WS;case 5124:case 35670:return KS;case 35667:case 35671:return qS;case 35668:case 35672:return XS;case 35669:case 35673:return YS;case 5125:return JS;case 36294:return ZS;case 36295:return $S;case 36296:return eB;case 35678:case 36198:case 36298:case 36306:case 35682:return tB;case 35679:case 36299:case 36307:return rB;case 35680:case 36300:case 36308:case 36293:return nB;case 36289:case 36303:case 36311:case 36292:return iB}}function oB(i,r){i.uniform1fv(this.addr,r)}function aB(i,r){const n=dA(r,this.size,2);i.uniform2fv(this.addr,n)}function lB(i,r){const n=dA(r,this.size,3);i.uniform3fv(this.addr,n)}function AB(i,r){const n=dA(r,this.size,4);i.uniform4fv(this.addr,n)}function cB(i,r){const n=dA(r,this.size,4);i.uniformMatrix2fv(this.addr,!1,n)}function uB(i,r){const n=dA(r,this.size,9);i.uniformMatrix3fv(this.addr,!1,n)}function hB(i,r){const n=dA(r,this.size,16);i.uniformMatrix4fv(this.addr,!1,n)}function dB(i,r){i.uniform1iv(this.addr,r)}function fB(i,r){i.uniform2iv(this.addr,r)}function pB(i,r){i.uniform3iv(this.addr,r)}function mB(i,r){i.uniform4iv(this.addr,r)}function gB(i,r){i.uniform1uiv(this.addr,r)}function yB(i,r){i.uniform2uiv(this.addr,r)}function vB(i,r){i.uniform3uiv(this.addr,r)}function bB(i,r){i.uniform4uiv(this.addr,r)}function wB(i,r,n){const t=this.cache,o=r.length,s=Ih(n,o);jn(t,s)||(i.uniform1iv(this.addr,s),Rn(t,s));for(let a=0;a!==o;++a)n.setTexture2D(r[a]||Pv,s[a])}function _B(i,r,n){const t=this.cache,o=r.length,s=Ih(n,o);jn(t,s)||(i.uniform1iv(this.addr,s),Rn(t,s));for(let a=0;a!==o;++a)n.setTexture3D(r[a]||Dv,s[a])}function xB(i,r,n){const t=this.cache,o=r.length,s=Ih(n,o);jn(t,s)||(i.uniform1iv(this.addr,s),Rn(t,s));for(let a=0;a!==o;++a)n.setTextureCube(r[a]||Ov,s[a])}function SB(i,r,n){const t=this.cache,o=r.length,s=Ih(n,o);jn(t,s)||(i.uniform1iv(this.addr,s),Rn(t,s));for(let a=0;a!==o;++a)n.setTexture2DArray(r[a]||Rv,s[a])}function BB(i){switch(i){case 5126:return oB;case 35664:return aB;case 35665:return lB;case 35666:return AB;case 35674:return cB;case 35675:return uB;case 35676:return hB;case 5124:case 35670:return dB;case 35667:case 35671:return fB;case 35668:case 35672:return pB;case 35669:case 35673:return mB;case 5125:return gB;case 36294:return yB;case 36295:return vB;case 36296:return bB;case 35678:case 36198:case 36298:case 36306:case 35682:return wB;case 35679:case 36299:case 36307:return _B;case 35680:case 36300:case 36308:case 36293:return xB;case 36289:case 36303:case 36311:case 36292:return SB}}class EB{constructor(r,n,t){this.id=r,this.addr=t,this.cache=[],this.type=n.type,this.setValue=sB(n.type)}}class CB{constructor(r,n,t){this.id=r,this.addr=t,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=BB(n.type)}}class MB{constructor(r){this.id=r,this.seq=[],this.map={}}setValue(r,n,t){const o=this.seq;for(let s=0,a=o.length;s!==a;++s){const A=o[s];A.setValue(r,n[A.id],t)}}}const Hd=/(\w+)(\])?(\[|\.)?/g;function Zg(i,r){i.seq.push(r),i.map[r.id]=r}function TB(i,r,n){const t=i.name,o=t.length;for(Hd.lastIndex=0;;){const s=Hd.exec(t),a=Hd.lastIndex;let A=s[1];const l=s[2]==="]",u=s[3];if(l&&(A=A|0),u===void 0||u==="["&&a+2===o){Zg(n,u===void 0?new EB(A,i,r):new CB(A,i,r));break}else{let d=n.map[A];d===void 0&&(d=new MB(A),Zg(n,d)),n=d}}}class Yu{constructor(r,n){this.seq=[],this.map={};const t=r.getProgramParameter(n,r.ACTIVE_UNIFORMS);for(let o=0;o<t;++o){const s=r.getActiveUniform(n,o),a=r.getUniformLocation(n,s.name);TB(s,a,this)}}setValue(r,n,t,o){const s=this.map[n];s!==void 0&&s.setValue(r,t,o)}setOptional(r,n,t){const o=n[t];o!==void 0&&this.setValue(r,t,o)}static upload(r,n,t,o){for(let s=0,a=n.length;s!==a;++s){const A=n[s],l=t[A.id];l.needsUpdate!==!1&&A.setValue(r,l.value,o)}}static seqWithValue(r,n){const t=[];for(let o=0,s=r.length;o!==s;++o){const a=r[o];a.id in n&&t.push(a)}return t}}function $g(i,r,n){const t=i.createShader(r);return i.shaderSource(t,n),i.compileShader(t),t}const LB=37297;let FB=0;function UB(i,r){const n=i.split(`
`),t=[],o=Math.max(r-6,0),s=Math.min(r+6,n.length);for(let a=o;a<s;a++){const A=a+1;t.push(`${A===r?">":" "} ${A}: ${n[a]}`)}return t.join(`
`)}function IB(i){const r=Wr.getPrimaries(Wr.workingColorSpace),n=Wr.getPrimaries(i);let t;switch(r===n?t="":r===hh&&n===uh?t="LinearDisplayP3ToLinearSRGB":r===uh&&n===hh&&(t="LinearSRGBToLinearDisplayP3"),i){case Eo:case Lh:return[t,"LinearTransferOETF"];case Jn:case Qp:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",i),[t,"LinearTransferOETF"]}}function e0(i,r,n){const t=i.getShaderParameter(r,i.COMPILE_STATUS),o=i.getShaderInfoLog(r).trim();if(t&&o==="")return"";const s=/ERROR: 0:(\d+)/.exec(o);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+o+`

`+UB(i.getShaderSource(r),a)}else return o}function PB(i,r){const n=IB(r);return`vec4 ${i}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function jB(i,r){let n;switch(r){case I2:n="Linear";break;case P2:n="Reinhard";break;case j2:n="OptimizedCineon";break;case R2:n="ACESFilmic";break;case O2:n="AgX";break;case D2:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",r),n="Linear"}return"vec3 "+i+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function RB(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.normalMapTangentSpace||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Kl).join(`
`)}function DB(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Kl).join(`
`)}function OB(i){const r=[];for(const n in i){const t=i[n];t!==!1&&r.push("#define "+n+" "+t)}return r.join(`
`)}function NB(i,r){const n={},t=i.getProgramParameter(r,i.ACTIVE_ATTRIBUTES);for(let o=0;o<t;o++){const s=i.getActiveAttrib(r,o),a=s.name;let A=1;s.type===i.FLOAT_MAT2&&(A=2),s.type===i.FLOAT_MAT3&&(A=3),s.type===i.FLOAT_MAT4&&(A=4),n[a]={type:s.type,location:i.getAttribLocation(r,a),locationSize:A}}return n}function Kl(i){return i!==""}function t0(i,r){const n=r.numSpotLightShadows+r.numSpotLightMaps-r.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,r.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,r.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function r0(i,r){return i.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}const kB=/^[ \t]*#include +<([\w\d./]+)>/gm;function Wf(i){return i.replace(kB,HB)}const QB=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function HB(i,r){let n=vr[r];if(n===void 0){const t=QB.get(r);if(t!==void 0)n=vr[t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',r,t);else throw new Error("Can not resolve #include <"+r+">")}return Wf(n)}const GB=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function n0(i){return i.replace(GB,VB)}function VB(i,r,n,t){let o="";for(let s=parseInt(r);s<parseInt(n);s++)o+=t.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function i0(i){let r="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?r+=`
#define HIGH_PRECISION`:i.precision==="mediump"?r+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(r+=`
#define LOW_PRECISION`),r}function zB(i){let r="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===Av?r="SHADOWMAP_TYPE_PCF":i.shadowMapType===a2?r="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===yo&&(r="SHADOWMAP_TYPE_VSM"),r}function WB(i){let r="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case lA:case AA:r="ENVMAP_TYPE_CUBE";break;case Th:r="ENVMAP_TYPE_CUBE_UV";break}return r}function KB(i){let r="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case AA:r="ENVMAP_MODE_REFRACTION";break}return r}function qB(i){let r="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Op:r="ENVMAP_BLENDING_MULTIPLY";break;case F2:r="ENVMAP_BLENDING_MIX";break;case U2:r="ENVMAP_BLENDING_ADD";break}return r}function XB(i){const r=i.envMapCubeUVHeight;if(r===null)return null;const n=Math.log2(r)-2,t=1/r;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:t,maxMip:n}}function YB(i,r,n,t){const o=i.getContext(),s=n.defines;let a=n.vertexShader,A=n.fragmentShader;const l=zB(n),u=WB(n),p=KB(n),d=qB(n),c=XB(n),h=n.isWebGL2?"":RB(n),f=DB(n),g=OB(s),y=o.createProgram();let m,b,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Kl).join(`
`),m.length>0&&(m+=`
`),b=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Kl).join(`
`),b.length>0&&(b+=`
`)):(m=[i0(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Kl).join(`
`),b=[h,i0(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+p:"",n.envMap?"#define "+d:"",c?"#define CUBEUV_TEXEL_WIDTH "+c.texelWidth:"",c?"#define CUBEUV_TEXEL_HEIGHT "+c.texelHeight:"",c?"#define CUBEUV_MAX_MIP "+c.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==aa?"#define TONE_MAPPING":"",n.toneMapping!==aa?vr.tonemapping_pars_fragment:"",n.toneMapping!==aa?jB("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",vr.colorspace_pars_fragment,PB("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Kl).join(`
`)),a=Wf(a),a=t0(a,n),a=r0(a,n),A=Wf(A),A=t0(A,n),A=r0(A,n),a=n0(a),A=n0(A),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,m=[f,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,b=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===_g?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===_g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const w=v+m+a,_=v+b+A,M=$g(o,o.VERTEX_SHADER,w),x=$g(o,o.FRAGMENT_SHADER,_);o.attachShader(y,M),o.attachShader(y,x),n.index0AttributeName!==void 0?o.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&o.bindAttribLocation(y,0,"position"),o.linkProgram(y);function E(P){if(i.debug.checkShaderErrors){const F=o.getProgramInfoLog(y).trim(),j=o.getShaderInfoLog(M).trim(),O=o.getShaderInfoLog(x).trim();let Q=!0,z=!0;if(o.getProgramParameter(y,o.LINK_STATUS)===!1)if(Q=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(o,y,M,x);else{const k=e0(o,M,"vertex"),W=e0(o,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(y,o.VALIDATE_STATUS)+`

Program Info Log: `+F+`
`+k+`
`+W)}else F!==""?console.warn("THREE.WebGLProgram: Program Info Log:",F):(j===""||O==="")&&(z=!1);z&&(P.diagnostics={runnable:Q,programLog:F,vertexShader:{log:j,prefix:m},fragmentShader:{log:O,prefix:b}})}o.deleteShader(M),o.deleteShader(x),C=new Yu(o,y),T=NB(o,y)}let C;this.getUniforms=function(){return C===void 0&&E(this),C};let T;this.getAttributes=function(){return T===void 0&&E(this),T};let B=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=o.getProgramParameter(y,LB)),B},this.destroy=function(){t.releaseStatesOfProgram(this),o.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=FB++,this.cacheKey=r,this.usedTimes=1,this.program=y,this.vertexShader=M,this.fragmentShader=x,this}let JB=0;class ZB{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(r){const n=r.vertexShader,t=r.fragmentShader,o=this._getShaderStage(n),s=this._getShaderStage(t),a=this._getShaderCacheForMaterial(r);return a.has(o)===!1&&(a.add(o),o.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(r){const n=this.materialCache.get(r);for(const t of n)t.usedTimes--,t.usedTimes===0&&this.shaderCache.delete(t.code);return this.materialCache.delete(r),this}getVertexShaderID(r){return this._getShaderStage(r.vertexShader).id}getFragmentShaderID(r){return this._getShaderStage(r.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(r){const n=this.materialCache;let t=n.get(r);return t===void 0&&(t=new Set,n.set(r,t)),t}_getShaderStage(r){const n=this.shaderCache;let t=n.get(r);return t===void 0&&(t=new $B(r),n.set(r,t)),t}}class $B{constructor(r){this.id=JB++,this.code=r,this.usedTimes=0}}function e5(i,r,n,t,o,s,a){const A=new Bv,l=new ZB,u=[],p=o.isWebGL2,d=o.logarithmicDepthBuffer,c=o.vertexTextures;let h=o.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(C){return C===0?"uv":`uv${C}`}function y(C,T,B,P,F){const j=P.fog,O=F.geometry,Q=C.isMeshStandardMaterial?P.environment:null,z=(C.isMeshStandardMaterial?n:r).get(C.envMap||Q),k=z&&z.mapping===Th?z.image.height:null,W=f[C.type];C.precision!==null&&(h=o.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const Y=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,te=Y!==void 0?Y.length:0;let R=0;O.morphAttributes.position!==void 0&&(R=1),O.morphAttributes.normal!==void 0&&(R=2),O.morphAttributes.color!==void 0&&(R=3);let L,D,V,q;if(W){const Ar=Ns[W];L=Ar.vertexShader,D=Ar.fragmentShader}else L=C.vertexShader,D=C.fragmentShader,l.update(C),V=l.getVertexShaderID(C),q=l.getFragmentShaderID(C);const Z=i.getRenderTarget(),se=F.isInstancedMesh===!0,fe=F.isBatchedMesh===!0,be=!!C.map,pe=!!C.matcap,Ae=!!z,ge=!!C.aoMap,ce=!!C.lightMap,de=!!C.bumpMap,oe=!!C.normalMap,je=!!C.displacementMap,Se=!!C.emissiveMap,re=!!C.metalnessMap,ie=!!C.roughnessMap,Ce=C.anisotropy>0,Me=C.clearcoat>0,ze=C.iridescence>0,Ge=C.sheen>0,nt=C.transmission>0,et=Ce&&!!C.anisotropyMap,st=Me&&!!C.clearcoatMap,Re=Me&&!!C.clearcoatNormalMap,Ke=Me&&!!C.clearcoatRoughnessMap,Le=ze&&!!C.iridescenceMap,he=ze&&!!C.iridescenceThicknessMap,$=Ge&&!!C.sheenColorMap,ee=Ge&&!!C.sheenRoughnessMap,me=!!C.specularMap,Ee=!!C.specularColorMap,Ne=!!C.specularIntensityMap,Je=nt&&!!C.transmissionMap,ht=nt&&!!C.thicknessMap,vt=!!C.gradientMap,$e=!!C.alphaMap,Ie=C.alphaTest>0,yt=!!C.alphaHash,dt=!!C.extensions,ft=!!O.attributes.uv1,bt=!!O.attributes.uv2,It=!!O.attributes.uv3;let Ot=aa;return C.toneMapped&&(Z===null||Z.isXRRenderTarget===!0)&&(Ot=i.toneMapping),{isWebGL2:p,shaderID:W,shaderType:C.type,shaderName:C.name,vertexShader:L,fragmentShader:D,defines:C.defines,customVertexShaderID:V,customFragmentShaderID:q,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,batching:fe,instancing:se,instancingColor:se&&F.instanceColor!==null,supportsVertexTextures:c,outputColorSpace:Z===null?i.outputColorSpace:Z.isXRRenderTarget===!0?Z.texture.colorSpace:Eo,map:be,matcap:pe,envMap:Ae,envMapMode:Ae&&z.mapping,envMapCubeUVHeight:k,aoMap:ge,lightMap:ce,bumpMap:de,normalMap:oe,displacementMap:c&&je,emissiveMap:Se,normalMapObjectSpace:oe&&C.normalMapType===Y2,normalMapTangentSpace:oe&&C.normalMapType===kp,metalnessMap:re,roughnessMap:ie,anisotropy:Ce,anisotropyMap:et,clearcoat:Me,clearcoatMap:st,clearcoatNormalMap:Re,clearcoatRoughnessMap:Ke,iridescence:ze,iridescenceMap:Le,iridescenceThicknessMap:he,sheen:Ge,sheenColorMap:$,sheenRoughnessMap:ee,specularMap:me,specularColorMap:Ee,specularIntensityMap:Ne,transmission:nt,transmissionMap:Je,thicknessMap:ht,gradientMap:vt,opaque:C.transparent===!1&&C.blending===$l,alphaMap:$e,alphaTest:Ie,alphaHash:yt,combine:C.combine,mapUv:be&&g(C.map.channel),aoMapUv:ge&&g(C.aoMap.channel),lightMapUv:ce&&g(C.lightMap.channel),bumpMapUv:de&&g(C.bumpMap.channel),normalMapUv:oe&&g(C.normalMap.channel),displacementMapUv:je&&g(C.displacementMap.channel),emissiveMapUv:Se&&g(C.emissiveMap.channel),metalnessMapUv:re&&g(C.metalnessMap.channel),roughnessMapUv:ie&&g(C.roughnessMap.channel),anisotropyMapUv:et&&g(C.anisotropyMap.channel),clearcoatMapUv:st&&g(C.clearcoatMap.channel),clearcoatNormalMapUv:Re&&g(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ke&&g(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Le&&g(C.iridescenceMap.channel),iridescenceThicknessMapUv:he&&g(C.iridescenceThicknessMap.channel),sheenColorMapUv:$&&g(C.sheenColorMap.channel),sheenRoughnessMapUv:ee&&g(C.sheenRoughnessMap.channel),specularMapUv:me&&g(C.specularMap.channel),specularColorMapUv:Ee&&g(C.specularColorMap.channel),specularIntensityMapUv:Ne&&g(C.specularIntensityMap.channel),transmissionMapUv:Je&&g(C.transmissionMap.channel),thicknessMapUv:ht&&g(C.thicknessMap.channel),alphaMapUv:$e&&g(C.alphaMap.channel),vertexTangents:!!O.attributes.tangent&&(oe||Ce),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,vertexUv1s:ft,vertexUv2s:bt,vertexUv3s:It,pointsUvs:F.isPoints===!0&&!!O.attributes.uv&&(be||$e),fog:!!j,useFog:C.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:F.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:R,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:C.dithering,shadowMapEnabled:i.shadowMap.enabled&&B.length>0,shadowMapType:i.shadowMap.type,toneMapping:Ot,useLegacyLights:i._useLegacyLights,decodeVideoTexture:be&&C.map.isVideoTexture===!0&&Wr.getTransfer(C.map.colorSpace)===rn,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===wo,flipSided:C.side===Ti,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:dt&&C.extensions.derivatives===!0,extensionFragDepth:dt&&C.extensions.fragDepth===!0,extensionDrawBuffers:dt&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:dt&&C.extensions.shaderTextureLOD===!0,extensionClipCullDistance:dt&&C.extensions.clipCullDistance&&t.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:p||t.has("EXT_frag_depth"),rendererExtensionDrawBuffers:p||t.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:p||t.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:t.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()}}function m(C){const T=[];if(C.shaderID?T.push(C.shaderID):(T.push(C.customVertexShaderID),T.push(C.customFragmentShaderID)),C.defines!==void 0)for(const B in C.defines)T.push(B),T.push(C.defines[B]);return C.isRawShaderMaterial===!1&&(b(T,C),v(T,C),T.push(i.outputColorSpace)),T.push(C.customProgramCacheKey),T.join()}function b(C,T){C.push(T.precision),C.push(T.outputColorSpace),C.push(T.envMapMode),C.push(T.envMapCubeUVHeight),C.push(T.mapUv),C.push(T.alphaMapUv),C.push(T.lightMapUv),C.push(T.aoMapUv),C.push(T.bumpMapUv),C.push(T.normalMapUv),C.push(T.displacementMapUv),C.push(T.emissiveMapUv),C.push(T.metalnessMapUv),C.push(T.roughnessMapUv),C.push(T.anisotropyMapUv),C.push(T.clearcoatMapUv),C.push(T.clearcoatNormalMapUv),C.push(T.clearcoatRoughnessMapUv),C.push(T.iridescenceMapUv),C.push(T.iridescenceThicknessMapUv),C.push(T.sheenColorMapUv),C.push(T.sheenRoughnessMapUv),C.push(T.specularMapUv),C.push(T.specularColorMapUv),C.push(T.specularIntensityMapUv),C.push(T.transmissionMapUv),C.push(T.thicknessMapUv),C.push(T.combine),C.push(T.fogExp2),C.push(T.sizeAttenuation),C.push(T.morphTargetsCount),C.push(T.morphAttributeCount),C.push(T.numDirLights),C.push(T.numPointLights),C.push(T.numSpotLights),C.push(T.numSpotLightMaps),C.push(T.numHemiLights),C.push(T.numRectAreaLights),C.push(T.numDirLightShadows),C.push(T.numPointLightShadows),C.push(T.numSpotLightShadows),C.push(T.numSpotLightShadowsWithMaps),C.push(T.numLightProbes),C.push(T.shadowMapType),C.push(T.toneMapping),C.push(T.numClippingPlanes),C.push(T.numClipIntersection),C.push(T.depthPacking)}function v(C,T){A.disableAll(),T.isWebGL2&&A.enable(0),T.supportsVertexTextures&&A.enable(1),T.instancing&&A.enable(2),T.instancingColor&&A.enable(3),T.matcap&&A.enable(4),T.envMap&&A.enable(5),T.normalMapObjectSpace&&A.enable(6),T.normalMapTangentSpace&&A.enable(7),T.clearcoat&&A.enable(8),T.iridescence&&A.enable(9),T.alphaTest&&A.enable(10),T.vertexColors&&A.enable(11),T.vertexAlphas&&A.enable(12),T.vertexUv1s&&A.enable(13),T.vertexUv2s&&A.enable(14),T.vertexUv3s&&A.enable(15),T.vertexTangents&&A.enable(16),T.anisotropy&&A.enable(17),T.alphaHash&&A.enable(18),T.batching&&A.enable(19),C.push(A.mask),A.disableAll(),T.fog&&A.enable(0),T.useFog&&A.enable(1),T.flatShading&&A.enable(2),T.logarithmicDepthBuffer&&A.enable(3),T.skinning&&A.enable(4),T.morphTargets&&A.enable(5),T.morphNormals&&A.enable(6),T.morphColors&&A.enable(7),T.premultipliedAlpha&&A.enable(8),T.shadowMapEnabled&&A.enable(9),T.useLegacyLights&&A.enable(10),T.doubleSided&&A.enable(11),T.flipSided&&A.enable(12),T.useDepthPacking&&A.enable(13),T.dithering&&A.enable(14),T.transmission&&A.enable(15),T.sheen&&A.enable(16),T.opaque&&A.enable(17),T.pointsUvs&&A.enable(18),T.decodeVideoTexture&&A.enable(19),C.push(A.mask)}function w(C){const T=f[C.type];let B;if(T){const P=Ns[T];B=Rw.clone(P.uniforms)}else B=C.uniforms;return B}function _(C,T){let B;for(let P=0,F=u.length;P<F;P++){const j=u[P];if(j.cacheKey===T){B=j,++B.usedTimes;break}}return B===void 0&&(B=new YB(i,T,C,s),u.push(B)),B}function M(C){if(--C.usedTimes===0){const T=u.indexOf(C);u[T]=u[u.length-1],u.pop(),C.destroy()}}function x(C){l.remove(C)}function E(){l.dispose()}return{getParameters:y,getProgramCacheKey:m,getUniforms:w,acquireProgram:_,releaseProgram:M,releaseShaderCache:x,programs:u,dispose:E}}function t5(){let i=new WeakMap;function r(s){let a=i.get(s);return a===void 0&&(a={},i.set(s,a)),a}function n(s){i.delete(s)}function t(s,a,A){i.get(s)[a]=A}function o(){i=new WeakMap}return{get:r,remove:n,update:t,dispose:o}}function r5(i,r){return i.groupOrder!==r.groupOrder?i.groupOrder-r.groupOrder:i.renderOrder!==r.renderOrder?i.renderOrder-r.renderOrder:i.material.id!==r.material.id?i.material.id-r.material.id:i.z!==r.z?i.z-r.z:i.id-r.id}function s0(i,r){return i.groupOrder!==r.groupOrder?i.groupOrder-r.groupOrder:i.renderOrder!==r.renderOrder?i.renderOrder-r.renderOrder:i.z!==r.z?r.z-i.z:i.id-r.id}function o0(){const i=[];let r=0;const n=[],t=[],o=[];function s(){r=0,n.length=0,t.length=0,o.length=0}function a(d,c,h,f,g,y){let m=i[r];return m===void 0?(m={id:d.id,object:d,geometry:c,material:h,groupOrder:f,renderOrder:d.renderOrder,z:g,group:y},i[r]=m):(m.id=d.id,m.object=d,m.geometry=c,m.material=h,m.groupOrder=f,m.renderOrder=d.renderOrder,m.z=g,m.group=y),r++,m}function A(d,c,h,f,g,y){const m=a(d,c,h,f,g,y);h.transmission>0?t.push(m):h.transparent===!0?o.push(m):n.push(m)}function l(d,c,h,f,g,y){const m=a(d,c,h,f,g,y);h.transmission>0?t.unshift(m):h.transparent===!0?o.unshift(m):n.unshift(m)}function u(d,c){n.length>1&&n.sort(d||r5),t.length>1&&t.sort(c||s0),o.length>1&&o.sort(c||s0)}function p(){for(let d=r,c=i.length;d<c;d++){const h=i[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:t,transparent:o,init:s,push:A,unshift:l,finish:p,sort:u}}function n5(){let i=new WeakMap;function r(t,o){const s=i.get(t);let a;return s===void 0?(a=new o0,i.set(t,[a])):o>=s.length?(a=new o0,s.push(a)):a=s[o],a}function n(){i=new WeakMap}return{get:r,dispose:n}}function i5(){const i={};return{get:function(r){if(i[r.id]!==void 0)return i[r.id];let n;switch(r.type){case"DirectionalLight":n={direction:new He,color:new mr};break;case"SpotLight":n={position:new He,direction:new He,color:new mr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new He,color:new mr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new He,skyColor:new mr,groundColor:new mr};break;case"RectAreaLight":n={color:new mr,position:new He,halfWidth:new He,halfHeight:new He};break}return i[r.id]=n,n}}}function s5(){const i={};return{get:function(r){if(i[r.id]!==void 0)return i[r.id];let n;switch(r.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new jt,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[r.id]=n,n}}}let o5=0;function a5(i,r){return(r.castShadow?2:0)-(i.castShadow?2:0)+(r.map?1:0)-(i.map?1:0)}function l5(i,r){const n=new i5,t=s5(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)o.probe.push(new He);const s=new He,a=new fn,A=new fn;function l(p,d){let c=0,h=0,f=0;for(let P=0;P<9;P++)o.probe[P].set(0,0,0);let g=0,y=0,m=0,b=0,v=0,w=0,_=0,M=0,x=0,E=0,C=0;p.sort(a5);const T=d===!0?Math.PI:1;for(let P=0,F=p.length;P<F;P++){const j=p[P],O=j.color,Q=j.intensity,z=j.distance,k=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)c+=O.r*Q*T,h+=O.g*Q*T,f+=O.b*Q*T;else if(j.isLightProbe){for(let W=0;W<9;W++)o.probe[W].addScaledVector(j.sh.coefficients[W],Q);C++}else if(j.isDirectionalLight){const W=n.get(j);if(W.color.copy(j.color).multiplyScalar(j.intensity*T),j.castShadow){const Y=j.shadow,te=t.get(j);te.shadowBias=Y.bias,te.shadowNormalBias=Y.normalBias,te.shadowRadius=Y.radius,te.shadowMapSize=Y.mapSize,o.directionalShadow[g]=te,o.directionalShadowMap[g]=k,o.directionalShadowMatrix[g]=j.shadow.matrix,w++}o.directional[g]=W,g++}else if(j.isSpotLight){const W=n.get(j);W.position.setFromMatrixPosition(j.matrixWorld),W.color.copy(O).multiplyScalar(Q*T),W.distance=z,W.coneCos=Math.cos(j.angle),W.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),W.decay=j.decay,o.spot[m]=W;const Y=j.shadow;if(j.map&&(o.spotLightMap[x]=j.map,x++,Y.updateMatrices(j),j.castShadow&&E++),o.spotLightMatrix[m]=Y.matrix,j.castShadow){const te=t.get(j);te.shadowBias=Y.bias,te.shadowNormalBias=Y.normalBias,te.shadowRadius=Y.radius,te.shadowMapSize=Y.mapSize,o.spotShadow[m]=te,o.spotShadowMap[m]=k,M++}m++}else if(j.isRectAreaLight){const W=n.get(j);W.color.copy(O).multiplyScalar(Q),W.halfWidth.set(j.width*.5,0,0),W.halfHeight.set(0,j.height*.5,0),o.rectArea[b]=W,b++}else if(j.isPointLight){const W=n.get(j);if(W.color.copy(j.color).multiplyScalar(j.intensity*T),W.distance=j.distance,W.decay=j.decay,j.castShadow){const Y=j.shadow,te=t.get(j);te.shadowBias=Y.bias,te.shadowNormalBias=Y.normalBias,te.shadowRadius=Y.radius,te.shadowMapSize=Y.mapSize,te.shadowCameraNear=Y.camera.near,te.shadowCameraFar=Y.camera.far,o.pointShadow[y]=te,o.pointShadowMap[y]=k,o.pointShadowMatrix[y]=j.shadow.matrix,_++}o.point[y]=W,y++}else if(j.isHemisphereLight){const W=n.get(j);W.skyColor.copy(j.color).multiplyScalar(Q*T),W.groundColor.copy(j.groundColor).multiplyScalar(Q*T),o.hemi[v]=W,v++}}b>0&&(r.isWebGL2?i.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=Dt.LTC_FLOAT_1,o.rectAreaLTC2=Dt.LTC_FLOAT_2):(o.rectAreaLTC1=Dt.LTC_HALF_1,o.rectAreaLTC2=Dt.LTC_HALF_2):i.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=Dt.LTC_FLOAT_1,o.rectAreaLTC2=Dt.LTC_FLOAT_2):i.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=Dt.LTC_HALF_1,o.rectAreaLTC2=Dt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=c,o.ambient[1]=h,o.ambient[2]=f;const B=o.hash;(B.directionalLength!==g||B.pointLength!==y||B.spotLength!==m||B.rectAreaLength!==b||B.hemiLength!==v||B.numDirectionalShadows!==w||B.numPointShadows!==_||B.numSpotShadows!==M||B.numSpotMaps!==x||B.numLightProbes!==C)&&(o.directional.length=g,o.spot.length=m,o.rectArea.length=b,o.point.length=y,o.hemi.length=v,o.directionalShadow.length=w,o.directionalShadowMap.length=w,o.pointShadow.length=_,o.pointShadowMap.length=_,o.spotShadow.length=M,o.spotShadowMap.length=M,o.directionalShadowMatrix.length=w,o.pointShadowMatrix.length=_,o.spotLightMatrix.length=M+x-E,o.spotLightMap.length=x,o.numSpotLightShadowsWithMaps=E,o.numLightProbes=C,B.directionalLength=g,B.pointLength=y,B.spotLength=m,B.rectAreaLength=b,B.hemiLength=v,B.numDirectionalShadows=w,B.numPointShadows=_,B.numSpotShadows=M,B.numSpotMaps=x,B.numLightProbes=C,o.version=o5++)}function u(p,d){let c=0,h=0,f=0,g=0,y=0;const m=d.matrixWorldInverse;for(let b=0,v=p.length;b<v;b++){const w=p[b];if(w.isDirectionalLight){const _=o.directional[c];_.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(m),c++}else if(w.isSpotLight){const _=o.spot[f];_.position.setFromMatrixPosition(w.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),_.direction.sub(s),_.direction.transformDirection(m),f++}else if(w.isRectAreaLight){const _=o.rectArea[g];_.position.setFromMatrixPosition(w.matrixWorld),_.position.applyMatrix4(m),A.identity(),a.copy(w.matrixWorld),a.premultiply(m),A.extractRotation(a),_.halfWidth.set(w.width*.5,0,0),_.halfHeight.set(0,w.height*.5,0),_.halfWidth.applyMatrix4(A),_.halfHeight.applyMatrix4(A),g++}else if(w.isPointLight){const _=o.point[h];_.position.setFromMatrixPosition(w.matrixWorld),_.position.applyMatrix4(m),h++}else if(w.isHemisphereLight){const _=o.hemi[y];_.direction.setFromMatrixPosition(w.matrixWorld),_.direction.transformDirection(m),y++}}}return{setup:l,setupView:u,state:o}}function a0(i,r){const n=new l5(i,r),t=[],o=[];function s(){t.length=0,o.length=0}function a(d){t.push(d)}function A(d){o.push(d)}function l(d){n.setup(t,d)}function u(d){n.setupView(t,d)}return{init:s,state:{lightsArray:t,shadowsArray:o,lights:n},setupLights:l,setupLightsView:u,pushLight:a,pushShadow:A}}function A5(i,r){let n=new WeakMap;function t(s,a=0){const A=n.get(s);let l;return A===void 0?(l=new a0(i,r),n.set(s,[l])):a>=A.length?(l=new a0(i,r),A.push(l)):l=A[a],l}function o(){n=new WeakMap}return{get:t,dispose:o}}class c5 extends Gs{constructor(r){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=q2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(r)}copy(r){return super.copy(r),this.depthPacking=r.depthPacking,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this}}class u5 extends Gs{constructor(r){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(r)}copy(r){return super.copy(r),this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this}}const h5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,d5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function f5(i,r,n){let t=new Gp;const o=new jt,s=new jt,a=new cn,A=new c5({depthPacking:X2}),l=new u5,u={},p=n.maxTextureSize,d={[Bo]:Ti,[Ti]:Bo,[wo]:wo},c=new Wa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new jt},radius:{value:4}},vertexShader:h5,fragmentShader:d5}),h=c.clone();h.defines.HORIZONTAL_PASS=1;const f=new Kn;f.setAttribute("position",new Qs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new nn(f,c),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Av;let m=this.type;this.render=function(M,x,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||M.length===0)return;const C=i.getRenderTarget(),T=i.getActiveCubeFace(),B=i.getActiveMipmapLevel(),P=i.state;P.setBlending(oa),P.buffers.color.setClear(1,1,1,1),P.buffers.depth.setTest(!0),P.setScissorTest(!1);const F=m!==yo&&this.type===yo,j=m===yo&&this.type!==yo;for(let O=0,Q=M.length;O<Q;O++){const z=M[O],k=z.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;o.copy(k.mapSize);const W=k.getFrameExtents();if(o.multiply(W),s.copy(k.mapSize),(o.x>p||o.y>p)&&(o.x>p&&(s.x=Math.floor(p/W.x),o.x=s.x*W.x,k.mapSize.x=s.x),o.y>p&&(s.y=Math.floor(p/W.y),o.y=s.y*W.y,k.mapSize.y=s.y)),k.map===null||F===!0||j===!0){const te=this.type!==yo?{minFilter:mi,magFilter:mi}:{};k.map!==null&&k.map.dispose(),k.map=new Va(o.x,o.y,te),k.map.texture.name=z.name+".shadowMap",k.camera.updateProjectionMatrix()}i.setRenderTarget(k.map),i.clear();const Y=k.getViewportCount();for(let te=0;te<Y;te++){const R=k.getViewport(te);a.set(s.x*R.x,s.y*R.y,s.x*R.z,s.y*R.w),P.viewport(a),k.updateMatrices(z,te),t=k.getFrustum(),w(x,E,k.camera,z,this.type)}k.isPointLightShadow!==!0&&this.type===yo&&b(k,E),k.needsUpdate=!1}m=this.type,y.needsUpdate=!1,i.setRenderTarget(C,T,B)};function b(M,x){const E=r.update(g);c.defines.VSM_SAMPLES!==M.blurSamples&&(c.defines.VSM_SAMPLES=M.blurSamples,h.defines.VSM_SAMPLES=M.blurSamples,c.needsUpdate=!0,h.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Va(o.x,o.y)),c.uniforms.shadow_pass.value=M.map.texture,c.uniforms.resolution.value=M.mapSize,c.uniforms.radius.value=M.radius,i.setRenderTarget(M.mapPass),i.clear(),i.renderBufferDirect(x,null,E,c,g,null),h.uniforms.shadow_pass.value=M.mapPass.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,i.setRenderTarget(M.map),i.clear(),i.renderBufferDirect(x,null,E,h,g,null)}function v(M,x,E,C){let T=null;const B=E.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(B!==void 0)T=B;else if(T=E.isPointLight===!0?l:A,i.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0||x.map&&x.alphaTest>0){const P=T.uuid,F=x.uuid;let j=u[P];j===void 0&&(j={},u[P]=j);let O=j[F];O===void 0&&(O=T.clone(),j[F]=O,x.addEventListener("dispose",_)),T=O}if(T.visible=x.visible,T.wireframe=x.wireframe,C===yo?T.side=x.shadowSide!==null?x.shadowSide:x.side:T.side=x.shadowSide!==null?x.shadowSide:d[x.side],T.alphaMap=x.alphaMap,T.alphaTest=x.alphaTest,T.map=x.map,T.clipShadows=x.clipShadows,T.clippingPlanes=x.clippingPlanes,T.clipIntersection=x.clipIntersection,T.displacementMap=x.displacementMap,T.displacementScale=x.displacementScale,T.displacementBias=x.displacementBias,T.wireframeLinewidth=x.wireframeLinewidth,T.linewidth=x.linewidth,E.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const P=i.properties.get(T);P.light=E}return T}function w(M,x,E,C,T){if(M.visible===!1)return;if(M.layers.test(x.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&T===yo)&&(!M.frustumCulled||t.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,M.matrixWorld);const F=r.update(M),j=M.material;if(Array.isArray(j)){const O=F.groups;for(let Q=0,z=O.length;Q<z;Q++){const k=O[Q],W=j[k.materialIndex];if(W&&W.visible){const Y=v(M,W,C,T);M.onBeforeShadow(i,M,x,E,F,Y,k),i.renderBufferDirect(E,null,F,Y,M,k),M.onAfterShadow(i,M,x,E,F,Y,k)}}}else if(j.visible){const O=v(M,j,C,T);M.onBeforeShadow(i,M,x,E,F,O,null),i.renderBufferDirect(E,null,F,O,M,null),M.onAfterShadow(i,M,x,E,F,O,null)}}const P=M.children;for(let F=0,j=P.length;F<j;F++)w(P[F],x,E,C,T)}function _(M){M.target.removeEventListener("dispose",_);for(const E in u){const C=u[E],T=M.target.uuid;T in C&&(C[T].dispose(),delete C[T])}}}function p5(i,r,n){const t=n.isWebGL2;function o(){let Ie=!1;const yt=new cn;let dt=null;const ft=new cn(0,0,0,0);return{setMask:function(bt){dt!==bt&&!Ie&&(i.colorMask(bt,bt,bt,bt),dt=bt)},setLocked:function(bt){Ie=bt},setClear:function(bt,It,Ot,ur,Ar){Ar===!0&&(bt*=ur,It*=ur,Ot*=ur),yt.set(bt,It,Ot,ur),ft.equals(yt)===!1&&(i.clearColor(bt,It,Ot,ur),ft.copy(yt))},reset:function(){Ie=!1,dt=null,ft.set(-1,0,0,0)}}}function s(){let Ie=!1,yt=null,dt=null,ft=null;return{setTest:function(bt){bt?fe(i.DEPTH_TEST):be(i.DEPTH_TEST)},setMask:function(bt){yt!==bt&&!Ie&&(i.depthMask(bt),yt=bt)},setFunc:function(bt){if(dt!==bt){switch(bt){case S2:i.depthFunc(i.NEVER);break;case B2:i.depthFunc(i.ALWAYS);break;case E2:i.depthFunc(i.LESS);break;case Ah:i.depthFunc(i.LEQUAL);break;case C2:i.depthFunc(i.EQUAL);break;case M2:i.depthFunc(i.GEQUAL);break;case T2:i.depthFunc(i.GREATER);break;case L2:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}dt=bt}},setLocked:function(bt){Ie=bt},setClear:function(bt){ft!==bt&&(i.clearDepth(bt),ft=bt)},reset:function(){Ie=!1,yt=null,dt=null,ft=null}}}function a(){let Ie=!1,yt=null,dt=null,ft=null,bt=null,It=null,Ot=null,ur=null,Ar=null;return{setTest:function(Tt){Ie||(Tt?fe(i.STENCIL_TEST):be(i.STENCIL_TEST))},setMask:function(Tt){yt!==Tt&&!Ie&&(i.stencilMask(Tt),yt=Tt)},setFunc:function(Tt,ir,rr){(dt!==Tt||ft!==ir||bt!==rr)&&(i.stencilFunc(Tt,ir,rr),dt=Tt,ft=ir,bt=rr)},setOp:function(Tt,ir,rr){(It!==Tt||Ot!==ir||ur!==rr)&&(i.stencilOp(Tt,ir,rr),It=Tt,Ot=ir,ur=rr)},setLocked:function(Tt){Ie=Tt},setClear:function(Tt){Ar!==Tt&&(i.clearStencil(Tt),Ar=Tt)},reset:function(){Ie=!1,yt=null,dt=null,ft=null,bt=null,It=null,Ot=null,ur=null,Ar=null}}}const A=new o,l=new s,u=new a,p=new WeakMap,d=new WeakMap;let c={},h={},f=new WeakMap,g=[],y=null,m=!1,b=null,v=null,w=null,_=null,M=null,x=null,E=null,C=new mr(0,0,0),T=0,B=!1,P=null,F=null,j=null,O=null,Q=null;const z=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,W=0;const Y=i.getParameter(i.VERSION);Y.indexOf("WebGL")!==-1?(W=parseFloat(/^WebGL (\d)/.exec(Y)[1]),k=W>=1):Y.indexOf("OpenGL ES")!==-1&&(W=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),k=W>=2);let te=null,R={};const L=i.getParameter(i.SCISSOR_BOX),D=i.getParameter(i.VIEWPORT),V=new cn().fromArray(L),q=new cn().fromArray(D);function Z(Ie,yt,dt,ft){const bt=new Uint8Array(4),It=i.createTexture();i.bindTexture(Ie,It),i.texParameteri(Ie,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(Ie,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Ot=0;Ot<dt;Ot++)t&&(Ie===i.TEXTURE_3D||Ie===i.TEXTURE_2D_ARRAY)?i.texImage3D(yt,0,i.RGBA,1,1,ft,0,i.RGBA,i.UNSIGNED_BYTE,bt):i.texImage2D(yt+Ot,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,bt);return It}const se={};se[i.TEXTURE_2D]=Z(i.TEXTURE_2D,i.TEXTURE_2D,1),se[i.TEXTURE_CUBE_MAP]=Z(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),t&&(se[i.TEXTURE_2D_ARRAY]=Z(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),se[i.TEXTURE_3D]=Z(i.TEXTURE_3D,i.TEXTURE_3D,1,1)),A.setClear(0,0,0,1),l.setClear(1),u.setClear(0),fe(i.DEPTH_TEST),l.setFunc(Ah),Se(!1),re(Hm),fe(i.CULL_FACE),oe(oa);function fe(Ie){c[Ie]!==!0&&(i.enable(Ie),c[Ie]=!0)}function be(Ie){c[Ie]!==!1&&(i.disable(Ie),c[Ie]=!1)}function pe(Ie,yt){return h[Ie]!==yt?(i.bindFramebuffer(Ie,yt),h[Ie]=yt,t&&(Ie===i.DRAW_FRAMEBUFFER&&(h[i.FRAMEBUFFER]=yt),Ie===i.FRAMEBUFFER&&(h[i.DRAW_FRAMEBUFFER]=yt)),!0):!1}function Ae(Ie,yt){let dt=g,ft=!1;if(Ie)if(dt=f.get(yt),dt===void 0&&(dt=[],f.set(yt,dt)),Ie.isWebGLMultipleRenderTargets){const bt=Ie.texture;if(dt.length!==bt.length||dt[0]!==i.COLOR_ATTACHMENT0){for(let It=0,Ot=bt.length;It<Ot;It++)dt[It]=i.COLOR_ATTACHMENT0+It;dt.length=bt.length,ft=!0}}else dt[0]!==i.COLOR_ATTACHMENT0&&(dt[0]=i.COLOR_ATTACHMENT0,ft=!0);else dt[0]!==i.BACK&&(dt[0]=i.BACK,ft=!0);ft&&(n.isWebGL2?i.drawBuffers(dt):r.get("WEBGL_draw_buffers").drawBuffersWEBGL(dt))}function ge(Ie){return y!==Ie?(i.useProgram(Ie),y=Ie,!0):!1}const ce={[Ua]:i.FUNC_ADD,[A2]:i.FUNC_SUBTRACT,[c2]:i.FUNC_REVERSE_SUBTRACT};if(t)ce[Wm]=i.MIN,ce[Km]=i.MAX;else{const Ie=r.get("EXT_blend_minmax");Ie!==null&&(ce[Wm]=Ie.MIN_EXT,ce[Km]=Ie.MAX_EXT)}const de={[u2]:i.ZERO,[h2]:i.ONE,[d2]:i.SRC_COLOR,[Of]:i.SRC_ALPHA,[v2]:i.SRC_ALPHA_SATURATE,[g2]:i.DST_COLOR,[p2]:i.DST_ALPHA,[f2]:i.ONE_MINUS_SRC_COLOR,[Nf]:i.ONE_MINUS_SRC_ALPHA,[y2]:i.ONE_MINUS_DST_COLOR,[m2]:i.ONE_MINUS_DST_ALPHA,[b2]:i.CONSTANT_COLOR,[w2]:i.ONE_MINUS_CONSTANT_COLOR,[_2]:i.CONSTANT_ALPHA,[x2]:i.ONE_MINUS_CONSTANT_ALPHA};function oe(Ie,yt,dt,ft,bt,It,Ot,ur,Ar,Tt){if(Ie===oa){m===!0&&(be(i.BLEND),m=!1);return}if(m===!1&&(fe(i.BLEND),m=!0),Ie!==l2){if(Ie!==b||Tt!==B){if((v!==Ua||M!==Ua)&&(i.blendEquation(i.FUNC_ADD),v=Ua,M=Ua),Tt)switch(Ie){case $l:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case Gm:i.blendFunc(i.ONE,i.ONE);break;case Vm:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case zm:i.blendFuncSeparate(i.ZERO,i.SRC_COLOR,i.ZERO,i.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ie);break}else switch(Ie){case $l:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case Gm:i.blendFunc(i.SRC_ALPHA,i.ONE);break;case Vm:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case zm:i.blendFunc(i.ZERO,i.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ie);break}w=null,_=null,x=null,E=null,C.set(0,0,0),T=0,b=Ie,B=Tt}return}bt=bt||yt,It=It||dt,Ot=Ot||ft,(yt!==v||bt!==M)&&(i.blendEquationSeparate(ce[yt],ce[bt]),v=yt,M=bt),(dt!==w||ft!==_||It!==x||Ot!==E)&&(i.blendFuncSeparate(de[dt],de[ft],de[It],de[Ot]),w=dt,_=ft,x=It,E=Ot),(ur.equals(C)===!1||Ar!==T)&&(i.blendColor(ur.r,ur.g,ur.b,Ar),C.copy(ur),T=Ar),b=Ie,B=!1}function je(Ie,yt){Ie.side===wo?be(i.CULL_FACE):fe(i.CULL_FACE);let dt=Ie.side===Ti;yt&&(dt=!dt),Se(dt),Ie.blending===$l&&Ie.transparent===!1?oe(oa):oe(Ie.blending,Ie.blendEquation,Ie.blendSrc,Ie.blendDst,Ie.blendEquationAlpha,Ie.blendSrcAlpha,Ie.blendDstAlpha,Ie.blendColor,Ie.blendAlpha,Ie.premultipliedAlpha),l.setFunc(Ie.depthFunc),l.setTest(Ie.depthTest),l.setMask(Ie.depthWrite),A.setMask(Ie.colorWrite);const ft=Ie.stencilWrite;u.setTest(ft),ft&&(u.setMask(Ie.stencilWriteMask),u.setFunc(Ie.stencilFunc,Ie.stencilRef,Ie.stencilFuncMask),u.setOp(Ie.stencilFail,Ie.stencilZFail,Ie.stencilZPass)),Ce(Ie.polygonOffset,Ie.polygonOffsetFactor,Ie.polygonOffsetUnits),Ie.alphaToCoverage===!0?fe(i.SAMPLE_ALPHA_TO_COVERAGE):be(i.SAMPLE_ALPHA_TO_COVERAGE)}function Se(Ie){P!==Ie&&(Ie?i.frontFace(i.CW):i.frontFace(i.CCW),P=Ie)}function re(Ie){Ie!==s2?(fe(i.CULL_FACE),Ie!==F&&(Ie===Hm?i.cullFace(i.BACK):Ie===o2?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):be(i.CULL_FACE),F=Ie}function ie(Ie){Ie!==j&&(k&&i.lineWidth(Ie),j=Ie)}function Ce(Ie,yt,dt){Ie?(fe(i.POLYGON_OFFSET_FILL),(O!==yt||Q!==dt)&&(i.polygonOffset(yt,dt),O=yt,Q=dt)):be(i.POLYGON_OFFSET_FILL)}function Me(Ie){Ie?fe(i.SCISSOR_TEST):be(i.SCISSOR_TEST)}function ze(Ie){Ie===void 0&&(Ie=i.TEXTURE0+z-1),te!==Ie&&(i.activeTexture(Ie),te=Ie)}function Ge(Ie,yt,dt){dt===void 0&&(te===null?dt=i.TEXTURE0+z-1:dt=te);let ft=R[dt];ft===void 0&&(ft={type:void 0,texture:void 0},R[dt]=ft),(ft.type!==Ie||ft.texture!==yt)&&(te!==dt&&(i.activeTexture(dt),te=dt),i.bindTexture(Ie,yt||se[Ie]),ft.type=Ie,ft.texture=yt)}function nt(){const Ie=R[te];Ie!==void 0&&Ie.type!==void 0&&(i.bindTexture(Ie.type,null),Ie.type=void 0,Ie.texture=void 0)}function et(){try{i.compressedTexImage2D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function st(){try{i.compressedTexImage3D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Re(){try{i.texSubImage2D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Ke(){try{i.texSubImage3D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Le(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function he(){try{i.compressedTexSubImage3D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function $(){try{i.texStorage2D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function ee(){try{i.texStorage3D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function me(){try{i.texImage2D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Ee(){try{i.texImage3D.apply(i,arguments)}catch(Ie){console.error("THREE.WebGLState:",Ie)}}function Ne(Ie){V.equals(Ie)===!1&&(i.scissor(Ie.x,Ie.y,Ie.z,Ie.w),V.copy(Ie))}function Je(Ie){q.equals(Ie)===!1&&(i.viewport(Ie.x,Ie.y,Ie.z,Ie.w),q.copy(Ie))}function ht(Ie,yt){let dt=d.get(yt);dt===void 0&&(dt=new WeakMap,d.set(yt,dt));let ft=dt.get(Ie);ft===void 0&&(ft=i.getUniformBlockIndex(yt,Ie.name),dt.set(Ie,ft))}function vt(Ie,yt){const ft=d.get(yt).get(Ie);p.get(yt)!==ft&&(i.uniformBlockBinding(yt,ft,Ie.__bindingPointIndex),p.set(yt,ft))}function $e(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),t===!0&&(i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),c={},te=null,R={},h={},f=new WeakMap,g=[],y=null,m=!1,b=null,v=null,w=null,_=null,M=null,x=null,E=null,C=new mr(0,0,0),T=0,B=!1,P=null,F=null,j=null,O=null,Q=null,V.set(0,0,i.canvas.width,i.canvas.height),q.set(0,0,i.canvas.width,i.canvas.height),A.reset(),l.reset(),u.reset()}return{buffers:{color:A,depth:l,stencil:u},enable:fe,disable:be,bindFramebuffer:pe,drawBuffers:Ae,useProgram:ge,setBlending:oe,setMaterial:je,setFlipSided:Se,setCullFace:re,setLineWidth:ie,setPolygonOffset:Ce,setScissorTest:Me,activeTexture:ze,bindTexture:Ge,unbindTexture:nt,compressedTexImage2D:et,compressedTexImage3D:st,texImage2D:me,texImage3D:Ee,updateUBOMapping:ht,uniformBlockBinding:vt,texStorage2D:$,texStorage3D:ee,texSubImage2D:Re,texSubImage3D:Ke,compressedTexSubImage2D:Le,compressedTexSubImage3D:he,scissor:Ne,viewport:Je,reset:$e}}function m5(i,r,n,t,o,s,a){const A=o.isWebGL2,l=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let d;const c=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function f(re,ie){return h?new OffscreenCanvas(re,ie):ph("canvas")}function g(re,ie,Ce,Me){let ze=1;if((re.width>Me||re.height>Me)&&(ze=Me/Math.max(re.width,re.height)),ze<1||ie===!0)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap){const Ge=ie?fh:Math.floor,nt=Ge(ze*re.width),et=Ge(ze*re.height);d===void 0&&(d=f(nt,et));const st=Ce?f(nt,et):d;return st.width=nt,st.height=et,st.getContext("2d").drawImage(re,0,0,nt,et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+re.width+"x"+re.height+") to ("+nt+"x"+et+")."),st}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+re.width+"x"+re.height+")."),re;return re}function y(re){return zf(re.width)&&zf(re.height)}function m(re){return A?!1:re.wrapS!==ws||re.wrapT!==ws||re.minFilter!==mi&&re.minFilter!==is}function b(re,ie){return re.generateMipmaps&&ie&&re.minFilter!==mi&&re.minFilter!==is}function v(re){i.generateMipmap(re)}function w(re,ie,Ce,Me,ze=!1){if(A===!1)return ie;if(re!==null){if(i[re]!==void 0)return i[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Ge=ie;if(ie===i.RED&&(Ce===i.FLOAT&&(Ge=i.R32F),Ce===i.HALF_FLOAT&&(Ge=i.R16F),Ce===i.UNSIGNED_BYTE&&(Ge=i.R8)),ie===i.RED_INTEGER&&(Ce===i.UNSIGNED_BYTE&&(Ge=i.R8UI),Ce===i.UNSIGNED_SHORT&&(Ge=i.R16UI),Ce===i.UNSIGNED_INT&&(Ge=i.R32UI),Ce===i.BYTE&&(Ge=i.R8I),Ce===i.SHORT&&(Ge=i.R16I),Ce===i.INT&&(Ge=i.R32I)),ie===i.RG&&(Ce===i.FLOAT&&(Ge=i.RG32F),Ce===i.HALF_FLOAT&&(Ge=i.RG16F),Ce===i.UNSIGNED_BYTE&&(Ge=i.RG8)),ie===i.RGBA){const nt=ze?ch:Wr.getTransfer(Me);Ce===i.FLOAT&&(Ge=i.RGBA32F),Ce===i.HALF_FLOAT&&(Ge=i.RGBA16F),Ce===i.UNSIGNED_BYTE&&(Ge=nt===rn?i.SRGB8_ALPHA8:i.RGBA8),Ce===i.UNSIGNED_SHORT_4_4_4_4&&(Ge=i.RGBA4),Ce===i.UNSIGNED_SHORT_5_5_5_1&&(Ge=i.RGB5_A1)}return(Ge===i.R16F||Ge===i.R32F||Ge===i.RG16F||Ge===i.RG32F||Ge===i.RGBA16F||Ge===i.RGBA32F)&&r.get("EXT_color_buffer_float"),Ge}function _(re,ie,Ce){return b(re,Ce)===!0||re.isFramebufferTexture&&re.minFilter!==mi&&re.minFilter!==is?Math.log2(Math.max(ie.width,ie.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?ie.mipmaps.length:1}function M(re){return re===mi||re===qm||re===pd?i.NEAREST:i.LINEAR}function x(re){const ie=re.target;ie.removeEventListener("dispose",x),C(ie),ie.isVideoTexture&&p.delete(ie)}function E(re){const ie=re.target;ie.removeEventListener("dispose",E),B(ie)}function C(re){const ie=t.get(re);if(ie.__webglInit===void 0)return;const Ce=re.source,Me=c.get(Ce);if(Me){const ze=Me[ie.__cacheKey];ze.usedTimes--,ze.usedTimes===0&&T(re),Object.keys(Me).length===0&&c.delete(Ce)}t.remove(re)}function T(re){const ie=t.get(re);i.deleteTexture(ie.__webglTexture);const Ce=re.source,Me=c.get(Ce);delete Me[ie.__cacheKey],a.memory.textures--}function B(re){const ie=re.texture,Ce=t.get(re),Me=t.get(ie);if(Me.__webglTexture!==void 0&&(i.deleteTexture(Me.__webglTexture),a.memory.textures--),re.depthTexture&&re.depthTexture.dispose(),re.isWebGLCubeRenderTarget)for(let ze=0;ze<6;ze++){if(Array.isArray(Ce.__webglFramebuffer[ze]))for(let Ge=0;Ge<Ce.__webglFramebuffer[ze].length;Ge++)i.deleteFramebuffer(Ce.__webglFramebuffer[ze][Ge]);else i.deleteFramebuffer(Ce.__webglFramebuffer[ze]);Ce.__webglDepthbuffer&&i.deleteRenderbuffer(Ce.__webglDepthbuffer[ze])}else{if(Array.isArray(Ce.__webglFramebuffer))for(let ze=0;ze<Ce.__webglFramebuffer.length;ze++)i.deleteFramebuffer(Ce.__webglFramebuffer[ze]);else i.deleteFramebuffer(Ce.__webglFramebuffer);if(Ce.__webglDepthbuffer&&i.deleteRenderbuffer(Ce.__webglDepthbuffer),Ce.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Ce.__webglMultisampledFramebuffer),Ce.__webglColorRenderbuffer)for(let ze=0;ze<Ce.__webglColorRenderbuffer.length;ze++)Ce.__webglColorRenderbuffer[ze]&&i.deleteRenderbuffer(Ce.__webglColorRenderbuffer[ze]);Ce.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Ce.__webglDepthRenderbuffer)}if(re.isWebGLMultipleRenderTargets)for(let ze=0,Ge=ie.length;ze<Ge;ze++){const nt=t.get(ie[ze]);nt.__webglTexture&&(i.deleteTexture(nt.__webglTexture),a.memory.textures--),t.remove(ie[ze])}t.remove(ie),t.remove(re)}let P=0;function F(){P=0}function j(){const re=P;return re>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+o.maxTextures),P+=1,re}function O(re){const ie=[];return ie.push(re.wrapS),ie.push(re.wrapT),ie.push(re.wrapR||0),ie.push(re.magFilter),ie.push(re.minFilter),ie.push(re.anisotropy),ie.push(re.internalFormat),ie.push(re.format),ie.push(re.type),ie.push(re.generateMipmaps),ie.push(re.premultiplyAlpha),ie.push(re.flipY),ie.push(re.unpackAlignment),ie.push(re.colorSpace),ie.join()}function Q(re,ie){const Ce=t.get(re);if(re.isVideoTexture&&je(re),re.isRenderTargetTexture===!1&&re.version>0&&Ce.__version!==re.version){const Me=re.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{V(Ce,re,ie);return}}n.bindTexture(i.TEXTURE_2D,Ce.__webglTexture,i.TEXTURE0+ie)}function z(re,ie){const Ce=t.get(re);if(re.version>0&&Ce.__version!==re.version){V(Ce,re,ie);return}n.bindTexture(i.TEXTURE_2D_ARRAY,Ce.__webglTexture,i.TEXTURE0+ie)}function k(re,ie){const Ce=t.get(re);if(re.version>0&&Ce.__version!==re.version){V(Ce,re,ie);return}n.bindTexture(i.TEXTURE_3D,Ce.__webglTexture,i.TEXTURE0+ie)}function W(re,ie){const Ce=t.get(re);if(re.version>0&&Ce.__version!==re.version){q(Ce,re,ie);return}n.bindTexture(i.TEXTURE_CUBE_MAP,Ce.__webglTexture,i.TEXTURE0+ie)}const Y={[Hf]:i.REPEAT,[ws]:i.CLAMP_TO_EDGE,[Gf]:i.MIRRORED_REPEAT},te={[mi]:i.NEAREST,[qm]:i.NEAREST_MIPMAP_NEAREST,[pd]:i.NEAREST_MIPMAP_LINEAR,[is]:i.LINEAR,[N2]:i.LINEAR_MIPMAP_NEAREST,[nc]:i.LINEAR_MIPMAP_LINEAR},R={[J2]:i.NEVER,[nw]:i.ALWAYS,[Z2]:i.LESS,[vv]:i.LEQUAL,[$2]:i.EQUAL,[rw]:i.GEQUAL,[ew]:i.GREATER,[tw]:i.NOTEQUAL};function L(re,ie,Ce){if(Ce?(i.texParameteri(re,i.TEXTURE_WRAP_S,Y[ie.wrapS]),i.texParameteri(re,i.TEXTURE_WRAP_T,Y[ie.wrapT]),(re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY)&&i.texParameteri(re,i.TEXTURE_WRAP_R,Y[ie.wrapR]),i.texParameteri(re,i.TEXTURE_MAG_FILTER,te[ie.magFilter]),i.texParameteri(re,i.TEXTURE_MIN_FILTER,te[ie.minFilter])):(i.texParameteri(re,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(re,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),(re===i.TEXTURE_3D||re===i.TEXTURE_2D_ARRAY)&&i.texParameteri(re,i.TEXTURE_WRAP_R,i.CLAMP_TO_EDGE),(ie.wrapS!==ws||ie.wrapT!==ws)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(re,i.TEXTURE_MAG_FILTER,M(ie.magFilter)),i.texParameteri(re,i.TEXTURE_MIN_FILTER,M(ie.minFilter)),ie.minFilter!==mi&&ie.minFilter!==is&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),ie.compareFunction&&(i.texParameteri(re,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(re,i.TEXTURE_COMPARE_FUNC,R[ie.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){const Me=r.get("EXT_texture_filter_anisotropic");if(ie.magFilter===mi||ie.minFilter!==pd&&ie.minFilter!==nc||ie.type===ta&&r.has("OES_texture_float_linear")===!1||A===!1&&ie.type===ic&&r.has("OES_texture_half_float_linear")===!1)return;(ie.anisotropy>1||t.get(ie).__currentAnisotropy)&&(i.texParameterf(re,Me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,o.getMaxAnisotropy())),t.get(ie).__currentAnisotropy=ie.anisotropy)}}function D(re,ie){let Ce=!1;re.__webglInit===void 0&&(re.__webglInit=!0,ie.addEventListener("dispose",x));const Me=ie.source;let ze=c.get(Me);ze===void 0&&(ze={},c.set(Me,ze));const Ge=O(ie);if(Ge!==re.__cacheKey){ze[Ge]===void 0&&(ze[Ge]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,Ce=!0),ze[Ge].usedTimes++;const nt=ze[re.__cacheKey];nt!==void 0&&(ze[re.__cacheKey].usedTimes--,nt.usedTimes===0&&T(ie)),re.__cacheKey=Ge,re.__webglTexture=ze[Ge].texture}return Ce}function V(re,ie,Ce){let Me=i.TEXTURE_2D;(ie.isDataArrayTexture||ie.isCompressedArrayTexture)&&(Me=i.TEXTURE_2D_ARRAY),ie.isData3DTexture&&(Me=i.TEXTURE_3D);const ze=D(re,ie),Ge=ie.source;n.bindTexture(Me,re.__webglTexture,i.TEXTURE0+Ce);const nt=t.get(Ge);if(Ge.version!==nt.__version||ze===!0){n.activeTexture(i.TEXTURE0+Ce);const et=Wr.getPrimaries(Wr.workingColorSpace),st=ie.colorSpace===as?null:Wr.getPrimaries(ie.colorSpace),Re=ie.colorSpace===as||et===st?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,ie.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,ie.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Re);const Ke=m(ie)&&y(ie.image)===!1;let Le=g(ie.image,Ke,!1,o.maxTextureSize);Le=Se(ie,Le);const he=y(Le)||A,$=s.convert(ie.format,ie.colorSpace);let ee=s.convert(ie.type),me=w(ie.internalFormat,$,ee,ie.colorSpace,ie.isVideoTexture);L(Me,ie,he);let Ee;const Ne=ie.mipmaps,Je=A&&ie.isVideoTexture!==!0&&me!==gv,ht=nt.__version===void 0||ze===!0,vt=_(ie,Le,he);if(ie.isDepthTexture)me=i.DEPTH_COMPONENT,A?ie.type===ta?me=i.DEPTH_COMPONENT32F:ie.type===ea?me=i.DEPTH_COMPONENT24:ie.type===Oa?me=i.DEPTH24_STENCIL8:me=i.DEPTH_COMPONENT16:ie.type===ta&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ie.format===Na&&me===i.DEPTH_COMPONENT&&ie.type!==Np&&ie.type!==ea&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ie.type=ea,ee=s.convert(ie.type)),ie.format===cA&&me===i.DEPTH_COMPONENT&&(me=i.DEPTH_STENCIL,ie.type!==Oa&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ie.type=Oa,ee=s.convert(ie.type))),ht&&(Je?n.texStorage2D(i.TEXTURE_2D,1,me,Le.width,Le.height):n.texImage2D(i.TEXTURE_2D,0,me,Le.width,Le.height,0,$,ee,null));else if(ie.isDataTexture)if(Ne.length>0&&he){Je&&ht&&n.texStorage2D(i.TEXTURE_2D,vt,me,Ne[0].width,Ne[0].height);for(let $e=0,Ie=Ne.length;$e<Ie;$e++)Ee=Ne[$e],Je?n.texSubImage2D(i.TEXTURE_2D,$e,0,0,Ee.width,Ee.height,$,ee,Ee.data):n.texImage2D(i.TEXTURE_2D,$e,me,Ee.width,Ee.height,0,$,ee,Ee.data);ie.generateMipmaps=!1}else Je?(ht&&n.texStorage2D(i.TEXTURE_2D,vt,me,Le.width,Le.height),n.texSubImage2D(i.TEXTURE_2D,0,0,0,Le.width,Le.height,$,ee,Le.data)):n.texImage2D(i.TEXTURE_2D,0,me,Le.width,Le.height,0,$,ee,Le.data);else if(ie.isCompressedTexture)if(ie.isCompressedArrayTexture){Je&&ht&&n.texStorage3D(i.TEXTURE_2D_ARRAY,vt,me,Ne[0].width,Ne[0].height,Le.depth);for(let $e=0,Ie=Ne.length;$e<Ie;$e++)Ee=Ne[$e],ie.format!==_s?$!==null?Je?n.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,$e,0,0,0,Ee.width,Ee.height,Le.depth,$,Ee.data,0,0):n.compressedTexImage3D(i.TEXTURE_2D_ARRAY,$e,me,Ee.width,Ee.height,Le.depth,0,Ee.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Je?n.texSubImage3D(i.TEXTURE_2D_ARRAY,$e,0,0,0,Ee.width,Ee.height,Le.depth,$,ee,Ee.data):n.texImage3D(i.TEXTURE_2D_ARRAY,$e,me,Ee.width,Ee.height,Le.depth,0,$,ee,Ee.data)}else{Je&&ht&&n.texStorage2D(i.TEXTURE_2D,vt,me,Ne[0].width,Ne[0].height);for(let $e=0,Ie=Ne.length;$e<Ie;$e++)Ee=Ne[$e],ie.format!==_s?$!==null?Je?n.compressedTexSubImage2D(i.TEXTURE_2D,$e,0,0,Ee.width,Ee.height,$,Ee.data):n.compressedTexImage2D(i.TEXTURE_2D,$e,me,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Je?n.texSubImage2D(i.TEXTURE_2D,$e,0,0,Ee.width,Ee.height,$,ee,Ee.data):n.texImage2D(i.TEXTURE_2D,$e,me,Ee.width,Ee.height,0,$,ee,Ee.data)}else if(ie.isDataArrayTexture)Je?(ht&&n.texStorage3D(i.TEXTURE_2D_ARRAY,vt,me,Le.width,Le.height,Le.depth),n.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Le.width,Le.height,Le.depth,$,ee,Le.data)):n.texImage3D(i.TEXTURE_2D_ARRAY,0,me,Le.width,Le.height,Le.depth,0,$,ee,Le.data);else if(ie.isData3DTexture)Je?(ht&&n.texStorage3D(i.TEXTURE_3D,vt,me,Le.width,Le.height,Le.depth),n.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Le.width,Le.height,Le.depth,$,ee,Le.data)):n.texImage3D(i.TEXTURE_3D,0,me,Le.width,Le.height,Le.depth,0,$,ee,Le.data);else if(ie.isFramebufferTexture){if(ht)if(Je)n.texStorage2D(i.TEXTURE_2D,vt,me,Le.width,Le.height);else{let $e=Le.width,Ie=Le.height;for(let yt=0;yt<vt;yt++)n.texImage2D(i.TEXTURE_2D,yt,me,$e,Ie,0,$,ee,null),$e>>=1,Ie>>=1}}else if(Ne.length>0&&he){Je&&ht&&n.texStorage2D(i.TEXTURE_2D,vt,me,Ne[0].width,Ne[0].height);for(let $e=0,Ie=Ne.length;$e<Ie;$e++)Ee=Ne[$e],Je?n.texSubImage2D(i.TEXTURE_2D,$e,0,0,$,ee,Ee):n.texImage2D(i.TEXTURE_2D,$e,me,$,ee,Ee);ie.generateMipmaps=!1}else Je?(ht&&n.texStorage2D(i.TEXTURE_2D,vt,me,Le.width,Le.height),n.texSubImage2D(i.TEXTURE_2D,0,0,0,$,ee,Le)):n.texImage2D(i.TEXTURE_2D,0,me,$,ee,Le);b(ie,he)&&v(Me),nt.__version=Ge.version,ie.onUpdate&&ie.onUpdate(ie)}re.__version=ie.version}function q(re,ie,Ce){if(ie.image.length!==6)return;const Me=D(re,ie),ze=ie.source;n.bindTexture(i.TEXTURE_CUBE_MAP,re.__webglTexture,i.TEXTURE0+Ce);const Ge=t.get(ze);if(ze.version!==Ge.__version||Me===!0){n.activeTexture(i.TEXTURE0+Ce);const nt=Wr.getPrimaries(Wr.workingColorSpace),et=ie.colorSpace===as?null:Wr.getPrimaries(ie.colorSpace),st=ie.colorSpace===as||nt===et?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,ie.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,ie.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const Re=ie.isCompressedTexture||ie.image[0].isCompressedTexture,Ke=ie.image[0]&&ie.image[0].isDataTexture,Le=[];for(let $e=0;$e<6;$e++)!Re&&!Ke?Le[$e]=g(ie.image[$e],!1,!0,o.maxCubemapSize):Le[$e]=Ke?ie.image[$e].image:ie.image[$e],Le[$e]=Se(ie,Le[$e]);const he=Le[0],$=y(he)||A,ee=s.convert(ie.format,ie.colorSpace),me=s.convert(ie.type),Ee=w(ie.internalFormat,ee,me,ie.colorSpace),Ne=A&&ie.isVideoTexture!==!0,Je=Ge.__version===void 0||Me===!0;let ht=_(ie,he,$);L(i.TEXTURE_CUBE_MAP,ie,$);let vt;if(Re){Ne&&Je&&n.texStorage2D(i.TEXTURE_CUBE_MAP,ht,Ee,he.width,he.height);for(let $e=0;$e<6;$e++){vt=Le[$e].mipmaps;for(let Ie=0;Ie<vt.length;Ie++){const yt=vt[Ie];ie.format!==_s?ee!==null?Ne?n.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie,0,0,yt.width,yt.height,ee,yt.data):n.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie,Ee,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ne?n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie,0,0,yt.width,yt.height,ee,me,yt.data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie,Ee,yt.width,yt.height,0,ee,me,yt.data)}}}else{vt=ie.mipmaps,Ne&&Je&&(vt.length>0&&ht++,n.texStorage2D(i.TEXTURE_CUBE_MAP,ht,Ee,Le[0].width,Le[0].height));for(let $e=0;$e<6;$e++)if(Ke){Ne?n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,0,0,Le[$e].width,Le[$e].height,ee,me,Le[$e].data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,Ee,Le[$e].width,Le[$e].height,0,ee,me,Le[$e].data);for(let Ie=0;Ie<vt.length;Ie++){const dt=vt[Ie].image[$e].image;Ne?n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie+1,0,0,dt.width,dt.height,ee,me,dt.data):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie+1,Ee,dt.width,dt.height,0,ee,me,dt.data)}}else{Ne?n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,0,0,ee,me,Le[$e]):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0,Ee,ee,me,Le[$e]);for(let Ie=0;Ie<vt.length;Ie++){const yt=vt[Ie];Ne?n.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie+1,0,0,ee,me,yt.image[$e]):n.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ie+1,Ee,ee,me,yt.image[$e])}}}b(ie,$)&&v(i.TEXTURE_CUBE_MAP),Ge.__version=ze.version,ie.onUpdate&&ie.onUpdate(ie)}re.__version=ie.version}function Z(re,ie,Ce,Me,ze,Ge){const nt=s.convert(Ce.format,Ce.colorSpace),et=s.convert(Ce.type),st=w(Ce.internalFormat,nt,et,Ce.colorSpace);if(!t.get(ie).__hasExternalTextures){const Ke=Math.max(1,ie.width>>Ge),Le=Math.max(1,ie.height>>Ge);ze===i.TEXTURE_3D||ze===i.TEXTURE_2D_ARRAY?n.texImage3D(ze,Ge,st,Ke,Le,ie.depth,0,nt,et,null):n.texImage2D(ze,Ge,st,Ke,Le,0,nt,et,null)}n.bindFramebuffer(i.FRAMEBUFFER,re),oe(ie)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Me,ze,t.get(Ce).__webglTexture,0,de(ie)):(ze===i.TEXTURE_2D||ze>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ze<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Me,ze,t.get(Ce).__webglTexture,Ge),n.bindFramebuffer(i.FRAMEBUFFER,null)}function se(re,ie,Ce){if(i.bindRenderbuffer(i.RENDERBUFFER,re),ie.depthBuffer&&!ie.stencilBuffer){let Me=A===!0?i.DEPTH_COMPONENT24:i.DEPTH_COMPONENT16;if(Ce||oe(ie)){const ze=ie.depthTexture;ze&&ze.isDepthTexture&&(ze.type===ta?Me=i.DEPTH_COMPONENT32F:ze.type===ea&&(Me=i.DEPTH_COMPONENT24));const Ge=de(ie);oe(ie)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Ge,Me,ie.width,ie.height):i.renderbufferStorageMultisample(i.RENDERBUFFER,Ge,Me,ie.width,ie.height)}else i.renderbufferStorage(i.RENDERBUFFER,Me,ie.width,ie.height);i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,re)}else if(ie.depthBuffer&&ie.stencilBuffer){const Me=de(ie);Ce&&oe(ie)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Me,i.DEPTH24_STENCIL8,ie.width,ie.height):oe(ie)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Me,i.DEPTH24_STENCIL8,ie.width,ie.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,ie.width,ie.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,re)}else{const Me=ie.isWebGLMultipleRenderTargets===!0?ie.texture:[ie.texture];for(let ze=0;ze<Me.length;ze++){const Ge=Me[ze],nt=s.convert(Ge.format,Ge.colorSpace),et=s.convert(Ge.type),st=w(Ge.internalFormat,nt,et,Ge.colorSpace),Re=de(ie);Ce&&oe(ie)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,Re,st,ie.width,ie.height):oe(ie)?l.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Re,st,ie.width,ie.height):i.renderbufferStorage(i.RENDERBUFFER,st,ie.width,ie.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function fe(re,ie){if(ie&&ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(i.FRAMEBUFFER,re),!(ie.depthTexture&&ie.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!t.get(ie.depthTexture).__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),Q(ie.depthTexture,0);const Me=t.get(ie.depthTexture).__webglTexture,ze=de(ie);if(ie.depthTexture.format===Na)oe(ie)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Me,0,ze):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Me,0);else if(ie.depthTexture.format===cA)oe(ie)?l.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Me,0,ze):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function be(re){const ie=t.get(re),Ce=re.isWebGLCubeRenderTarget===!0;if(re.depthTexture&&!ie.__autoAllocateDepthBuffer){if(Ce)throw new Error("target.depthTexture not supported in Cube render targets");fe(ie.__webglFramebuffer,re)}else if(Ce){ie.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)n.bindFramebuffer(i.FRAMEBUFFER,ie.__webglFramebuffer[Me]),ie.__webglDepthbuffer[Me]=i.createRenderbuffer(),se(ie.__webglDepthbuffer[Me],re,!1)}else n.bindFramebuffer(i.FRAMEBUFFER,ie.__webglFramebuffer),ie.__webglDepthbuffer=i.createRenderbuffer(),se(ie.__webglDepthbuffer,re,!1);n.bindFramebuffer(i.FRAMEBUFFER,null)}function pe(re,ie,Ce){const Me=t.get(re);ie!==void 0&&Z(Me.__webglFramebuffer,re,re.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),Ce!==void 0&&be(re)}function Ae(re){const ie=re.texture,Ce=t.get(re),Me=t.get(ie);re.addEventListener("dispose",E),re.isWebGLMultipleRenderTargets!==!0&&(Me.__webglTexture===void 0&&(Me.__webglTexture=i.createTexture()),Me.__version=ie.version,a.memory.textures++);const ze=re.isWebGLCubeRenderTarget===!0,Ge=re.isWebGLMultipleRenderTargets===!0,nt=y(re)||A;if(ze){Ce.__webglFramebuffer=[];for(let et=0;et<6;et++)if(A&&ie.mipmaps&&ie.mipmaps.length>0){Ce.__webglFramebuffer[et]=[];for(let st=0;st<ie.mipmaps.length;st++)Ce.__webglFramebuffer[et][st]=i.createFramebuffer()}else Ce.__webglFramebuffer[et]=i.createFramebuffer()}else{if(A&&ie.mipmaps&&ie.mipmaps.length>0){Ce.__webglFramebuffer=[];for(let et=0;et<ie.mipmaps.length;et++)Ce.__webglFramebuffer[et]=i.createFramebuffer()}else Ce.__webglFramebuffer=i.createFramebuffer();if(Ge)if(o.drawBuffers){const et=re.texture;for(let st=0,Re=et.length;st<Re;st++){const Ke=t.get(et[st]);Ke.__webglTexture===void 0&&(Ke.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(A&&re.samples>0&&oe(re)===!1){const et=Ge?ie:[ie];Ce.__webglMultisampledFramebuffer=i.createFramebuffer(),Ce.__webglColorRenderbuffer=[],n.bindFramebuffer(i.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer);for(let st=0;st<et.length;st++){const Re=et[st];Ce.__webglColorRenderbuffer[st]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Ce.__webglColorRenderbuffer[st]);const Ke=s.convert(Re.format,Re.colorSpace),Le=s.convert(Re.type),he=w(Re.internalFormat,Ke,Le,Re.colorSpace,re.isXRRenderTarget===!0),$=de(re);i.renderbufferStorageMultisample(i.RENDERBUFFER,$,he,re.width,re.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+st,i.RENDERBUFFER,Ce.__webglColorRenderbuffer[st])}i.bindRenderbuffer(i.RENDERBUFFER,null),re.depthBuffer&&(Ce.__webglDepthRenderbuffer=i.createRenderbuffer(),se(Ce.__webglDepthRenderbuffer,re,!0)),n.bindFramebuffer(i.FRAMEBUFFER,null)}}if(ze){n.bindTexture(i.TEXTURE_CUBE_MAP,Me.__webglTexture),L(i.TEXTURE_CUBE_MAP,ie,nt);for(let et=0;et<6;et++)if(A&&ie.mipmaps&&ie.mipmaps.length>0)for(let st=0;st<ie.mipmaps.length;st++)Z(Ce.__webglFramebuffer[et][st],re,ie,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+et,st);else Z(Ce.__webglFramebuffer[et],re,ie,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+et,0);b(ie,nt)&&v(i.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ge){const et=re.texture;for(let st=0,Re=et.length;st<Re;st++){const Ke=et[st],Le=t.get(Ke);n.bindTexture(i.TEXTURE_2D,Le.__webglTexture),L(i.TEXTURE_2D,Ke,nt),Z(Ce.__webglFramebuffer,re,Ke,i.COLOR_ATTACHMENT0+st,i.TEXTURE_2D,0),b(Ke,nt)&&v(i.TEXTURE_2D)}n.unbindTexture()}else{let et=i.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(A?et=re.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(et,Me.__webglTexture),L(et,ie,nt),A&&ie.mipmaps&&ie.mipmaps.length>0)for(let st=0;st<ie.mipmaps.length;st++)Z(Ce.__webglFramebuffer[st],re,ie,i.COLOR_ATTACHMENT0,et,st);else Z(Ce.__webglFramebuffer,re,ie,i.COLOR_ATTACHMENT0,et,0);b(ie,nt)&&v(et),n.unbindTexture()}re.depthBuffer&&be(re)}function ge(re){const ie=y(re)||A,Ce=re.isWebGLMultipleRenderTargets===!0?re.texture:[re.texture];for(let Me=0,ze=Ce.length;Me<ze;Me++){const Ge=Ce[Me];if(b(Ge,ie)){const nt=re.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:i.TEXTURE_2D,et=t.get(Ge).__webglTexture;n.bindTexture(nt,et),v(nt),n.unbindTexture()}}}function ce(re){if(A&&re.samples>0&&oe(re)===!1){const ie=re.isWebGLMultipleRenderTargets?re.texture:[re.texture],Ce=re.width,Me=re.height;let ze=i.COLOR_BUFFER_BIT;const Ge=[],nt=re.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,et=t.get(re),st=re.isWebGLMultipleRenderTargets===!0;if(st)for(let Re=0;Re<ie.length;Re++)n.bindFramebuffer(i.FRAMEBUFFER,et.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Re,i.RENDERBUFFER,null),n.bindFramebuffer(i.FRAMEBUFFER,et.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Re,i.TEXTURE_2D,null,0);n.bindFramebuffer(i.READ_FRAMEBUFFER,et.__webglMultisampledFramebuffer),n.bindFramebuffer(i.DRAW_FRAMEBUFFER,et.__webglFramebuffer);for(let Re=0;Re<ie.length;Re++){Ge.push(i.COLOR_ATTACHMENT0+Re),re.depthBuffer&&Ge.push(nt);const Ke=et.__ignoreDepthValues!==void 0?et.__ignoreDepthValues:!1;if(Ke===!1&&(re.depthBuffer&&(ze|=i.DEPTH_BUFFER_BIT),re.stencilBuffer&&(ze|=i.STENCIL_BUFFER_BIT)),st&&i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,et.__webglColorRenderbuffer[Re]),Ke===!0&&(i.invalidateFramebuffer(i.READ_FRAMEBUFFER,[nt]),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[nt])),st){const Le=t.get(ie[Re]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Le,0)}i.blitFramebuffer(0,0,Ce,Me,0,0,Ce,Me,ze,i.NEAREST),u&&i.invalidateFramebuffer(i.READ_FRAMEBUFFER,Ge)}if(n.bindFramebuffer(i.READ_FRAMEBUFFER,null),n.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),st)for(let Re=0;Re<ie.length;Re++){n.bindFramebuffer(i.FRAMEBUFFER,et.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Re,i.RENDERBUFFER,et.__webglColorRenderbuffer[Re]);const Ke=t.get(ie[Re]).__webglTexture;n.bindFramebuffer(i.FRAMEBUFFER,et.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+Re,i.TEXTURE_2D,Ke,0)}n.bindFramebuffer(i.DRAW_FRAMEBUFFER,et.__webglMultisampledFramebuffer)}}function de(re){return Math.min(o.maxSamples,re.samples)}function oe(re){const ie=t.get(re);return A&&re.samples>0&&r.has("WEBGL_multisampled_render_to_texture")===!0&&ie.__useRenderToTexture!==!1}function je(re){const ie=a.render.frame;p.get(re)!==ie&&(p.set(re,ie),re.update())}function Se(re,ie){const Ce=re.colorSpace,Me=re.format,ze=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||re.format===Vf||Ce!==Eo&&Ce!==as&&(Wr.getTransfer(Ce)===rn?A===!1?r.has("EXT_sRGB")===!0&&Me===_s?(re.format=Vf,re.minFilter=is,re.generateMipmaps=!1):ie=_v.sRGBToLinear(ie):(Me!==_s||ze!==la)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ce)),ie}this.allocateTextureUnit=j,this.resetTextureUnits=F,this.setTexture2D=Q,this.setTexture2DArray=z,this.setTexture3D=k,this.setTextureCube=W,this.rebindTextures=pe,this.setupRenderTarget=Ae,this.updateRenderTargetMipmap=ge,this.updateMultisampleRenderTarget=ce,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=Z,this.useMultisampledRTT=oe}function g5(i,r,n){const t=n.isWebGL2;function o(s,a=as){let A;const l=Wr.getTransfer(a);if(s===la)return i.UNSIGNED_BYTE;if(s===hv)return i.UNSIGNED_SHORT_4_4_4_4;if(s===dv)return i.UNSIGNED_SHORT_5_5_5_1;if(s===k2)return i.BYTE;if(s===Q2)return i.SHORT;if(s===Np)return i.UNSIGNED_SHORT;if(s===uv)return i.INT;if(s===ea)return i.UNSIGNED_INT;if(s===ta)return i.FLOAT;if(s===ic)return t?i.HALF_FLOAT:(A=r.get("OES_texture_half_float"),A!==null?A.HALF_FLOAT_OES:null);if(s===H2)return i.ALPHA;if(s===_s)return i.RGBA;if(s===G2)return i.LUMINANCE;if(s===V2)return i.LUMINANCE_ALPHA;if(s===Na)return i.DEPTH_COMPONENT;if(s===cA)return i.DEPTH_STENCIL;if(s===Vf)return A=r.get("EXT_sRGB"),A!==null?A.SRGB_ALPHA_EXT:null;if(s===z2)return i.RED;if(s===fv)return i.RED_INTEGER;if(s===W2)return i.RG;if(s===pv)return i.RG_INTEGER;if(s===mv)return i.RGBA_INTEGER;if(s===md||s===gd||s===yd||s===vd)if(l===rn)if(A=r.get("WEBGL_compressed_texture_s3tc_srgb"),A!==null){if(s===md)return A.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===gd)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===yd)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===vd)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(A=r.get("WEBGL_compressed_texture_s3tc"),A!==null){if(s===md)return A.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===gd)return A.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===yd)return A.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===vd)return A.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Xm||s===Ym||s===Jm||s===Zm)if(A=r.get("WEBGL_compressed_texture_pvrtc"),A!==null){if(s===Xm)return A.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Ym)return A.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Jm)return A.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Zm)return A.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===gv)return A=r.get("WEBGL_compressed_texture_etc1"),A!==null?A.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===$m||s===eg)if(A=r.get("WEBGL_compressed_texture_etc"),A!==null){if(s===$m)return l===rn?A.COMPRESSED_SRGB8_ETC2:A.COMPRESSED_RGB8_ETC2;if(s===eg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:A.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===tg||s===rg||s===ng||s===ig||s===sg||s===og||s===ag||s===lg||s===Ag||s===cg||s===ug||s===hg||s===dg||s===fg)if(A=r.get("WEBGL_compressed_texture_astc"),A!==null){if(s===tg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:A.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===rg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:A.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===ng)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:A.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ig)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:A.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===sg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:A.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===og)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:A.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===ag)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:A.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===lg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:A.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Ag)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:A.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===cg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:A.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===ug)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:A.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===hg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:A.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===dg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:A.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===fg)return l===rn?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:A.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===bd||s===pg||s===mg)if(A=r.get("EXT_texture_compression_bptc"),A!==null){if(s===bd)return l===rn?A.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:A.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===pg)return A.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===mg)return A.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===K2||s===gg||s===yg||s===vg)if(A=r.get("EXT_texture_compression_rgtc"),A!==null){if(s===bd)return A.COMPRESSED_RED_RGTC1_EXT;if(s===gg)return A.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===yg)return A.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===vg)return A.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Oa?t?i.UNSIGNED_INT_24_8:(A=r.get("WEBGL_depth_texture"),A!==null?A.UNSIGNED_INT_24_8_WEBGL:null):i[s]!==void 0?i[s]:null}return{convert:o}}class y5 extends gi{constructor(r=[]){super(),this.isArrayCamera=!0,this.cameras=r}}class xs extends Pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const v5={type:"move"};class Gd{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new He,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new He),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new He,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new He),this._grip}dispatchEvent(r){return this._targetRay!==null&&this._targetRay.dispatchEvent(r),this._grip!==null&&this._grip.dispatchEvent(r),this._hand!==null&&this._hand.dispatchEvent(r),this}connect(r){if(r&&r.hand){const n=this._hand;if(n)for(const t of r.hand.values())this._getHandJoint(n,t)}return this.dispatchEvent({type:"connected",data:r}),this}disconnect(r){return this.dispatchEvent({type:"disconnected",data:r}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(r,n,t){let o=null,s=null,a=null;const A=this._targetRay,l=this._grip,u=this._hand;if(r&&n.session.visibilityState!=="visible-blurred"){if(u&&r.hand){a=!0;for(const g of r.hand.values()){const y=n.getJointPose(g,t),m=this._getHandJoint(u,g);y!==null&&(m.matrix.fromArray(y.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=y.radius),m.visible=y!==null}const p=u.joints["index-finger-tip"],d=u.joints["thumb-tip"],c=p.position.distanceTo(d.position),h=.02,f=.005;u.inputState.pinching&&c>h+f?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:r.handedness,target:this})):!u.inputState.pinching&&c<=h-f&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:r.handedness,target:this}))}else l!==null&&r.gripSpace&&(s=n.getPose(r.gripSpace,t),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));A!==null&&(o=n.getPose(r.targetRaySpace,t),o===null&&s!==null&&(o=s),o!==null&&(A.matrix.fromArray(o.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,o.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(o.linearVelocity)):A.hasLinearVelocity=!1,o.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(o.angularVelocity)):A.hasAngularVelocity=!1,this.dispatchEvent(v5)))}return A!==null&&(A.visible=o!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(r,n){if(r.joints[n.jointName]===void 0){const t=new xs;t.matrixAutoUpdate=!1,t.visible=!1,r.joints[n.jointName]=t,r.add(t)}return r.joints[n.jointName]}}class b5 extends qa{constructor(r,n){super();const t=this;let o=null,s=1,a=null,A="local-floor",l=1,u=null,p=null,d=null,c=null,h=null,f=null;const g=n.getContextAttributes();let y=null,m=null;const b=[],v=[],w=new jt;let _=null;const M=new gi;M.layers.enable(1),M.viewport=new cn;const x=new gi;x.layers.enable(2),x.viewport=new cn;const E=[M,x],C=new y5;C.layers.enable(1),C.layers.enable(2);let T=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(L){let D=b[L];return D===void 0&&(D=new Gd,b[L]=D),D.getTargetRaySpace()},this.getControllerGrip=function(L){let D=b[L];return D===void 0&&(D=new Gd,b[L]=D),D.getGripSpace()},this.getHand=function(L){let D=b[L];return D===void 0&&(D=new Gd,b[L]=D),D.getHandSpace()};function P(L){const D=v.indexOf(L.inputSource);if(D===-1)return;const V=b[D];V!==void 0&&(V.update(L.inputSource,L.frame,u||a),V.dispatchEvent({type:L.type,data:L.inputSource}))}function F(){o.removeEventListener("select",P),o.removeEventListener("selectstart",P),o.removeEventListener("selectend",P),o.removeEventListener("squeeze",P),o.removeEventListener("squeezestart",P),o.removeEventListener("squeezeend",P),o.removeEventListener("end",F),o.removeEventListener("inputsourceschange",j);for(let L=0;L<b.length;L++){const D=v[L];D!==null&&(v[L]=null,b[L].disconnect(D))}T=null,B=null,r.setRenderTarget(y),h=null,c=null,d=null,o=null,m=null,R.stop(),t.isPresenting=!1,r.setPixelRatio(_),r.setSize(w.width,w.height,!1),t.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(L){s=L,t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(L){A=L,t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(L){u=L},this.getBaseLayer=function(){return c!==null?c:h},this.getBinding=function(){return d},this.getFrame=function(){return f},this.getSession=function(){return o},this.setSession=async function(L){if(o=L,o!==null){if(y=r.getRenderTarget(),o.addEventListener("select",P),o.addEventListener("selectstart",P),o.addEventListener("selectend",P),o.addEventListener("squeeze",P),o.addEventListener("squeezestart",P),o.addEventListener("squeezeend",P),o.addEventListener("end",F),o.addEventListener("inputsourceschange",j),g.xrCompatible!==!0&&await n.makeXRCompatible(),_=r.getPixelRatio(),r.getSize(w),o.renderState.layers===void 0||r.capabilities.isWebGL2===!1){const D={antialias:o.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(o,n,D),o.updateRenderState({baseLayer:h}),r.setPixelRatio(1),r.setSize(h.framebufferWidth,h.framebufferHeight,!1),m=new Va(h.framebufferWidth,h.framebufferHeight,{format:_s,type:la,colorSpace:r.outputColorSpace,stencilBuffer:g.stencil})}else{let D=null,V=null,q=null;g.depth&&(q=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,D=g.stencil?cA:Na,V=g.stencil?Oa:ea);const Z={colorFormat:n.RGBA8,depthFormat:q,scaleFactor:s};d=new XRWebGLBinding(o,n),c=d.createProjectionLayer(Z),o.updateRenderState({layers:[c]}),r.setPixelRatio(1),r.setSize(c.textureWidth,c.textureHeight,!1),m=new Va(c.textureWidth,c.textureHeight,{format:_s,type:la,depthTexture:new Iv(c.textureWidth,c.textureHeight,V,void 0,void 0,void 0,void 0,void 0,void 0,D),stencilBuffer:g.stencil,colorSpace:r.outputColorSpace,samples:g.antialias?4:0});const se=r.properties.get(m);se.__ignoreDepthValues=c.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await o.requestReferenceSpace(A),R.setContext(o),R.start(),t.isPresenting=!0,t.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function j(L){for(let D=0;D<L.removed.length;D++){const V=L.removed[D],q=v.indexOf(V);q>=0&&(v[q]=null,b[q].disconnect(V))}for(let D=0;D<L.added.length;D++){const V=L.added[D];let q=v.indexOf(V);if(q===-1){for(let se=0;se<b.length;se++)if(se>=v.length){v.push(V),q=se;break}else if(v[se]===null){v[se]=V,q=se;break}if(q===-1)break}const Z=b[q];Z&&Z.connect(V)}}const O=new He,Q=new He;function z(L,D,V){O.setFromMatrixPosition(D.matrixWorld),Q.setFromMatrixPosition(V.matrixWorld);const q=O.distanceTo(Q),Z=D.projectionMatrix.elements,se=V.projectionMatrix.elements,fe=Z[14]/(Z[10]-1),be=Z[14]/(Z[10]+1),pe=(Z[9]+1)/Z[5],Ae=(Z[9]-1)/Z[5],ge=(Z[8]-1)/Z[0],ce=(se[8]+1)/se[0],de=fe*ge,oe=fe*ce,je=q/(-ge+ce),Se=je*-ge;D.matrixWorld.decompose(L.position,L.quaternion,L.scale),L.translateX(Se),L.translateZ(je),L.matrixWorld.compose(L.position,L.quaternion,L.scale),L.matrixWorldInverse.copy(L.matrixWorld).invert();const re=fe+je,ie=be+je,Ce=de-Se,Me=oe+(q-Se),ze=pe*be/ie*re,Ge=Ae*be/ie*re;L.projectionMatrix.makePerspective(Ce,Me,ze,Ge,re,ie),L.projectionMatrixInverse.copy(L.projectionMatrix).invert()}function k(L,D){D===null?L.matrixWorld.copy(L.matrix):L.matrixWorld.multiplyMatrices(D.matrixWorld,L.matrix),L.matrixWorldInverse.copy(L.matrixWorld).invert()}this.updateCamera=function(L){if(o===null)return;C.near=x.near=M.near=L.near,C.far=x.far=M.far=L.far,(T!==C.near||B!==C.far)&&(o.updateRenderState({depthNear:C.near,depthFar:C.far}),T=C.near,B=C.far);const D=L.parent,V=C.cameras;k(C,D);for(let q=0;q<V.length;q++)k(V[q],D);V.length===2?z(C,M,x):C.projectionMatrix.copy(M.projectionMatrix),W(L,C,D)};function W(L,D,V){V===null?L.matrix.copy(D.matrixWorld):(L.matrix.copy(V.matrixWorld),L.matrix.invert(),L.matrix.multiply(D.matrixWorld)),L.matrix.decompose(L.position,L.quaternion,L.scale),L.updateMatrixWorld(!0),L.projectionMatrix.copy(D.projectionMatrix),L.projectionMatrixInverse.copy(D.projectionMatrixInverse),L.isPerspectiveCamera&&(L.fov=sc*2*Math.atan(1/L.projectionMatrix.elements[5]),L.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(c===null&&h===null))return l},this.setFoveation=function(L){l=L,c!==null&&(c.fixedFoveation=L),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=L)};let Y=null;function te(L,D){if(p=D.getViewerPose(u||a),f=D,p!==null){const V=p.views;h!==null&&(r.setRenderTargetFramebuffer(m,h.framebuffer),r.setRenderTarget(m));let q=!1;V.length!==C.cameras.length&&(C.cameras.length=0,q=!0);for(let Z=0;Z<V.length;Z++){const se=V[Z];let fe=null;if(h!==null)fe=h.getViewport(se);else{const pe=d.getViewSubImage(c,se);fe=pe.viewport,Z===0&&(r.setRenderTargetTextures(m,pe.colorTexture,c.ignoreDepthValues?void 0:pe.depthStencilTexture),r.setRenderTarget(m))}let be=E[Z];be===void 0&&(be=new gi,be.layers.enable(Z),be.viewport=new cn,E[Z]=be),be.matrix.fromArray(se.transform.matrix),be.matrix.decompose(be.position,be.quaternion,be.scale),be.projectionMatrix.fromArray(se.projectionMatrix),be.projectionMatrixInverse.copy(be.projectionMatrix).invert(),be.viewport.set(fe.x,fe.y,fe.width,fe.height),Z===0&&(C.matrix.copy(be.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),q===!0&&C.cameras.push(be)}}for(let V=0;V<b.length;V++){const q=v[V],Z=b[V];q!==null&&Z!==void 0&&Z.update(q,D,u||a)}Y&&Y(L,D),D.detectedPlanes&&t.dispatchEvent({type:"planesdetected",data:D}),f=null}const R=new Uv;R.setAnimationLoop(te),this.setAnimationLoop=function(L){Y=L},this.dispose=function(){}}}function w5(i,r){function n(y,m){y.matrixAutoUpdate===!0&&y.updateMatrix(),m.value.copy(y.matrix)}function t(y,m){m.color.getRGB(y.fogColor.value,Tv(i)),m.isFog?(y.fogNear.value=m.near,y.fogFar.value=m.far):m.isFogExp2&&(y.fogDensity.value=m.density)}function o(y,m,b,v,w){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(y,m):m.isMeshToonMaterial?(s(y,m),d(y,m)):m.isMeshPhongMaterial?(s(y,m),p(y,m)):m.isMeshStandardMaterial?(s(y,m),c(y,m),m.isMeshPhysicalMaterial&&h(y,m,w)):m.isMeshMatcapMaterial?(s(y,m),f(y,m)):m.isMeshDepthMaterial?s(y,m):m.isMeshDistanceMaterial?(s(y,m),g(y,m)):m.isMeshNormalMaterial?s(y,m):m.isLineBasicMaterial?(a(y,m),m.isLineDashedMaterial&&A(y,m)):m.isPointsMaterial?l(y,m,b,v):m.isSpriteMaterial?u(y,m):m.isShadowMaterial?(y.color.value.copy(m.color),y.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(y,m){y.opacity.value=m.opacity,m.color&&y.diffuse.value.copy(m.color),m.emissive&&y.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(y.map.value=m.map,n(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,n(m.alphaMap,y.alphaMapTransform)),m.bumpMap&&(y.bumpMap.value=m.bumpMap,n(m.bumpMap,y.bumpMapTransform),y.bumpScale.value=m.bumpScale,m.side===Ti&&(y.bumpScale.value*=-1)),m.normalMap&&(y.normalMap.value=m.normalMap,n(m.normalMap,y.normalMapTransform),y.normalScale.value.copy(m.normalScale),m.side===Ti&&y.normalScale.value.negate()),m.displacementMap&&(y.displacementMap.value=m.displacementMap,n(m.displacementMap,y.displacementMapTransform),y.displacementScale.value=m.displacementScale,y.displacementBias.value=m.displacementBias),m.emissiveMap&&(y.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,y.emissiveMapTransform)),m.specularMap&&(y.specularMap.value=m.specularMap,n(m.specularMap,y.specularMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest);const b=r.get(m).envMap;if(b&&(y.envMap.value=b,y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=m.reflectivity,y.ior.value=m.ior,y.refractionRatio.value=m.refractionRatio),m.lightMap){y.lightMap.value=m.lightMap;const v=i._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=m.lightMapIntensity*v,n(m.lightMap,y.lightMapTransform)}m.aoMap&&(y.aoMap.value=m.aoMap,y.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,y.aoMapTransform))}function a(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,m.map&&(y.map.value=m.map,n(m.map,y.mapTransform))}function A(y,m){y.dashSize.value=m.dashSize,y.totalSize.value=m.dashSize+m.gapSize,y.scale.value=m.scale}function l(y,m,b,v){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.size.value=m.size*b,y.scale.value=v*.5,m.map&&(y.map.value=m.map,n(m.map,y.uvTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,n(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function u(y,m){y.diffuse.value.copy(m.color),y.opacity.value=m.opacity,y.rotation.value=m.rotation,m.map&&(y.map.value=m.map,n(m.map,y.mapTransform)),m.alphaMap&&(y.alphaMap.value=m.alphaMap,n(m.alphaMap,y.alphaMapTransform)),m.alphaTest>0&&(y.alphaTest.value=m.alphaTest)}function p(y,m){y.specular.value.copy(m.specular),y.shininess.value=Math.max(m.shininess,1e-4)}function d(y,m){m.gradientMap&&(y.gradientMap.value=m.gradientMap)}function c(y,m){y.metalness.value=m.metalness,m.metalnessMap&&(y.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,y.metalnessMapTransform)),y.roughness.value=m.roughness,m.roughnessMap&&(y.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,y.roughnessMapTransform)),r.get(m).envMap&&(y.envMapIntensity.value=m.envMapIntensity)}function h(y,m,b){y.ior.value=m.ior,m.sheen>0&&(y.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),y.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(y.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,y.sheenColorMapTransform)),m.sheenRoughnessMap&&(y.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,y.sheenRoughnessMapTransform))),m.clearcoat>0&&(y.clearcoat.value=m.clearcoat,y.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(y.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,y.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(y.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Ti&&y.clearcoatNormalScale.value.negate())),m.iridescence>0&&(y.iridescence.value=m.iridescence,y.iridescenceIOR.value=m.iridescenceIOR,y.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(y.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,y.iridescenceMapTransform)),m.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),m.transmission>0&&(y.transmission.value=m.transmission,y.transmissionSamplerMap.value=b.texture,y.transmissionSamplerSize.value.set(b.width,b.height),m.transmissionMap&&(y.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,y.transmissionMapTransform)),y.thickness.value=m.thickness,m.thicknessMap&&(y.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=m.attenuationDistance,y.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(y.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(y.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=m.specularIntensity,y.specularColor.value.copy(m.specularColor),m.specularColorMap&&(y.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,y.specularColorMapTransform)),m.specularIntensityMap&&(y.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,y.specularIntensityMapTransform))}function f(y,m){m.matcap&&(y.matcap.value=m.matcap)}function g(y,m){const b=r.get(m).light;y.referencePosition.value.setFromMatrixPosition(b.matrixWorld),y.nearDistance.value=b.shadow.camera.near,y.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:t,refreshMaterialUniforms:o}}function _5(i,r,n,t){let o={},s={},a=[];const A=n.isWebGL2?i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(b,v){const w=v.program;t.uniformBlockBinding(b,w)}function u(b,v){let w=o[b.id];w===void 0&&(f(b),w=p(b),o[b.id]=w,b.addEventListener("dispose",y));const _=v.program;t.updateUBOMapping(b,_);const M=r.render.frame;s[b.id]!==M&&(c(b),s[b.id]=M)}function p(b){const v=d();b.__bindingPointIndex=v;const w=i.createBuffer(),_=b.__size,M=b.usage;return i.bindBuffer(i.UNIFORM_BUFFER,w),i.bufferData(i.UNIFORM_BUFFER,_,M),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,v,w),w}function d(){for(let b=0;b<A;b++)if(a.indexOf(b)===-1)return a.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function c(b){const v=o[b.id],w=b.uniforms,_=b.__cache;i.bindBuffer(i.UNIFORM_BUFFER,v);for(let M=0,x=w.length;M<x;M++){const E=Array.isArray(w[M])?w[M]:[w[M]];for(let C=0,T=E.length;C<T;C++){const B=E[C];if(h(B,M,C,_)===!0){const P=B.__offset,F=Array.isArray(B.value)?B.value:[B.value];let j=0;for(let O=0;O<F.length;O++){const Q=F[O],z=g(Q);typeof Q=="number"||typeof Q=="boolean"?(B.__data[0]=Q,i.bufferSubData(i.UNIFORM_BUFFER,P+j,B.__data)):Q.isMatrix3?(B.__data[0]=Q.elements[0],B.__data[1]=Q.elements[1],B.__data[2]=Q.elements[2],B.__data[3]=0,B.__data[4]=Q.elements[3],B.__data[5]=Q.elements[4],B.__data[6]=Q.elements[5],B.__data[7]=0,B.__data[8]=Q.elements[6],B.__data[9]=Q.elements[7],B.__data[10]=Q.elements[8],B.__data[11]=0):(Q.toArray(B.__data,j),j+=z.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,P,B.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function h(b,v,w,_){const M=b.value,x=v+"_"+w;if(_[x]===void 0)return typeof M=="number"||typeof M=="boolean"?_[x]=M:_[x]=M.clone(),!0;{const E=_[x];if(typeof M=="number"||typeof M=="boolean"){if(E!==M)return _[x]=M,!0}else if(E.equals(M)===!1)return E.copy(M),!0}return!1}function f(b){const v=b.uniforms;let w=0;const _=16;for(let x=0,E=v.length;x<E;x++){const C=Array.isArray(v[x])?v[x]:[v[x]];for(let T=0,B=C.length;T<B;T++){const P=C[T],F=Array.isArray(P.value)?P.value:[P.value];for(let j=0,O=F.length;j<O;j++){const Q=F[j],z=g(Q),k=w%_;k!==0&&_-k<z.boundary&&(w+=_-k),P.__data=new Float32Array(z.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=w,w+=z.storage}}}const M=w%_;return M>0&&(w+=_-M),b.__size=w,b.__cache={},this}function g(b){const v={boundary:0,storage:0};return typeof b=="number"||typeof b=="boolean"?(v.boundary=4,v.storage=4):b.isVector2?(v.boundary=8,v.storage=8):b.isVector3||b.isColor?(v.boundary=16,v.storage=12):b.isVector4?(v.boundary=16,v.storage=16):b.isMatrix3?(v.boundary=48,v.storage=48):b.isMatrix4?(v.boundary=64,v.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),v}function y(b){const v=b.target;v.removeEventListener("dispose",y);const w=a.indexOf(v.__bindingPointIndex);a.splice(w,1),i.deleteBuffer(o[v.id]),delete o[v.id],delete s[v.id]}function m(){for(const b in o)i.deleteBuffer(o[b]);a=[],o={},s={}}return{bind:l,update:u,dispose:m}}class gc{constructor(r={}){const{canvas:n=yw(),context:t=null,depth:o=!0,stencil:s=!0,alpha:a=!1,antialias:A=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:d=!1}=r;this.isWebGLRenderer=!0;let c;t!==null?c=t.getContextAttributes().alpha:c=a;const h=new Uint32Array(4),f=new Int32Array(4);let g=null,y=null;const m=[],b=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Jn,this._useLegacyLights=!1,this.toneMapping=aa,this.toneMappingExposure=1;const v=this;let w=!1,_=0,M=0,x=null,E=-1,C=null;const T=new cn,B=new cn;let P=null;const F=new mr(0);let j=0,O=n.width,Q=n.height,z=1,k=null,W=null;const Y=new cn(0,0,O,Q),te=new cn(0,0,O,Q);let R=!1;const L=new Gp;let D=!1,V=!1,q=null;const Z=new fn,se=new jt,fe=new He,be={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function pe(){return x===null?z:1}let Ae=t;function ge(le,De){for(let We=0;We<le.length;We++){const Qe=le[We],it=n.getContext(Qe,De);if(it!==null)return it}return null}try{const le={alpha:!0,depth:o,stencil:s,antialias:A,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:p,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Dp}`),n.addEventListener("webglcontextlost",$e,!1),n.addEventListener("webglcontextrestored",Ie,!1),n.addEventListener("webglcontextcreationerror",yt,!1),Ae===null){const De=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&De.shift(),Ae=ge(De,le),Ae===null)throw ge(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Ae instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Ae.getShaderPrecisionFormat===void 0&&(Ae.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(le){throw console.error("THREE.WebGLRenderer: "+le.message),le}let ce,de,oe,je,Se,re,ie,Ce,Me,ze,Ge,nt,et,st,Re,Ke,Le,he,$,ee,me,Ee,Ne,Je;function ht(){ce=new US(Ae),de=new ES(Ae,ce,r),ce.init(de),Ee=new g5(Ae,ce,de),oe=new p5(Ae,ce,de),je=new jS(Ae),Se=new t5,re=new m5(Ae,ce,oe,Se,de,Ee,je),ie=new MS(v),Ce=new FS(v),Me=new Gw(Ae,de),Ne=new SS(Ae,ce,Me,de),ze=new IS(Ae,Me,je,Ne),Ge=new NS(Ae,ze,Me,je),$=new OS(Ae,de,re),Ke=new CS(Se),nt=new e5(v,ie,Ce,ce,de,Ne,Ke),et=new w5(v,Se),st=new n5,Re=new A5(ce,de),he=new xS(v,ie,Ce,oe,Ge,c,l),Le=new f5(v,Ge,de),Je=new _5(Ae,je,de,oe),ee=new BS(Ae,ce,je,de),me=new PS(Ae,ce,je,de),je.programs=nt.programs,v.capabilities=de,v.extensions=ce,v.properties=Se,v.renderLists=st,v.shadowMap=Le,v.state=oe,v.info=je}ht();const vt=new b5(v,Ae);this.xr=vt,this.getContext=function(){return Ae},this.getContextAttributes=function(){return Ae.getContextAttributes()},this.forceContextLoss=function(){const le=ce.get("WEBGL_lose_context");le&&le.loseContext()},this.forceContextRestore=function(){const le=ce.get("WEBGL_lose_context");le&&le.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(le){le!==void 0&&(z=le,this.setSize(O,Q,!1))},this.getSize=function(le){return le.set(O,Q)},this.setSize=function(le,De,We=!0){if(vt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=le,Q=De,n.width=Math.floor(le*z),n.height=Math.floor(De*z),We===!0&&(n.style.width=le+"px",n.style.height=De+"px"),this.setViewport(0,0,le,De)},this.getDrawingBufferSize=function(le){return le.set(O*z,Q*z).floor()},this.setDrawingBufferSize=function(le,De,We){O=le,Q=De,z=We,n.width=Math.floor(le*We),n.height=Math.floor(De*We),this.setViewport(0,0,le,De)},this.getCurrentViewport=function(le){return le.copy(T)},this.getViewport=function(le){return le.copy(Y)},this.setViewport=function(le,De,We,Qe){le.isVector4?Y.set(le.x,le.y,le.z,le.w):Y.set(le,De,We,Qe),oe.viewport(T.copy(Y).multiplyScalar(z).floor())},this.getScissor=function(le){return le.copy(te)},this.setScissor=function(le,De,We,Qe){le.isVector4?te.set(le.x,le.y,le.z,le.w):te.set(le,De,We,Qe),oe.scissor(B.copy(te).multiplyScalar(z).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(le){oe.setScissorTest(R=le)},this.setOpaqueSort=function(le){k=le},this.setTransparentSort=function(le){W=le},this.getClearColor=function(le){return le.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor.apply(he,arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha.apply(he,arguments)},this.clear=function(le=!0,De=!0,We=!0){let Qe=0;if(le){let it=!1;if(x!==null){const tt=x.texture.format;it=tt===mv||tt===pv||tt===fv}if(it){const tt=x.texture.type,Ut=tt===la||tt===ea||tt===Np||tt===Oa||tt===hv||tt===dv,_t=he.getClearColor(),Pt=he.getClearAlpha(),Bt=_t.r,Ht=_t.g,Kt=_t.b;Ut?(h[0]=Bt,h[1]=Ht,h[2]=Kt,h[3]=Pt,Ae.clearBufferuiv(Ae.COLOR,0,h)):(f[0]=Bt,f[1]=Ht,f[2]=Kt,f[3]=Pt,Ae.clearBufferiv(Ae.COLOR,0,f))}else Qe|=Ae.COLOR_BUFFER_BIT}De&&(Qe|=Ae.DEPTH_BUFFER_BIT),We&&(Qe|=Ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ae.clear(Qe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",$e,!1),n.removeEventListener("webglcontextrestored",Ie,!1),n.removeEventListener("webglcontextcreationerror",yt,!1),st.dispose(),Re.dispose(),Se.dispose(),ie.dispose(),Ce.dispose(),Ge.dispose(),Ne.dispose(),Je.dispose(),nt.dispose(),vt.dispose(),vt.removeEventListener("sessionstart",Ar),vt.removeEventListener("sessionend",Tt),q&&(q.dispose(),q=null),ir.stop()};function $e(le){le.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const le=je.autoReset,De=Le.enabled,We=Le.autoUpdate,Qe=Le.needsUpdate,it=Le.type;ht(),je.autoReset=le,Le.enabled=De,Le.autoUpdate=We,Le.needsUpdate=Qe,Le.type=it}function yt(le){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",le.statusMessage)}function dt(le){const De=le.target;De.removeEventListener("dispose",dt),ft(De)}function ft(le){bt(le),Se.remove(le)}function bt(le){const De=Se.get(le).programs;De!==void 0&&(De.forEach(function(We){nt.releaseProgram(We)}),le.isShaderMaterial&&nt.releaseShaderCache(le))}this.renderBufferDirect=function(le,De,We,Qe,it,tt){De===null&&(De=be);const Ut=it.isMesh&&it.matrixWorld.determinant()<0,_t=On(le,De,We,Qe,it);oe.setMaterial(Qe,Ut);let Pt=We.index,Bt=1;if(Qe.wireframe===!0){if(Pt=ze.getWireframeAttribute(We),Pt===void 0)return;Bt=2}const Ht=We.drawRange,Kt=We.attributes.position;let lr=Ht.start*Bt,wr=(Ht.start+Ht.count)*Bt;tt!==null&&(lr=Math.max(lr,tt.start*Bt),wr=Math.min(wr,(tt.start+tt.count)*Bt)),Pt!==null?(lr=Math.max(lr,0),wr=Math.min(wr,Pt.count)):Kt!=null&&(lr=Math.max(lr,0),wr=Math.min(wr,Kt.count));const Fr=wr-lr;if(Fr<0||Fr===1/0)return;Ne.setup(it,Qe,_t,We,Pt);let Gr,_r=ee;if(Pt!==null&&(Gr=Me.get(Pt),_r=me,_r.setIndex(Gr)),it.isMesh)Qe.wireframe===!0?(oe.setLineWidth(Qe.wireframeLinewidth*pe()),_r.setMode(Ae.LINES)):_r.setMode(Ae.TRIANGLES);else if(it.isLine){let Xt=Qe.linewidth;Xt===void 0&&(Xt=1),oe.setLineWidth(Xt*pe()),it.isLineSegments?_r.setMode(Ae.LINES):it.isLineLoop?_r.setMode(Ae.LINE_LOOP):_r.setMode(Ae.LINE_STRIP)}else it.isPoints?_r.setMode(Ae.POINTS):it.isSprite&&_r.setMode(Ae.TRIANGLES);if(it.isBatchedMesh)_r.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else if(it.isInstancedMesh)_r.renderInstances(lr,Fr,it.count);else if(We.isInstancedBufferGeometry){const Xt=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,Cs=Math.min(We.instanceCount,Xt);_r.renderInstances(lr,Fr,Cs)}else _r.render(lr,Fr)};function It(le,De,We){le.transparent===!0&&le.side===wo&&le.forceSinglePass===!1?(le.side=Ti,le.needsUpdate=!0,qn(le,De,We),le.side=Bo,le.needsUpdate=!0,qn(le,De,We),le.side=wo):qn(le,De,We)}this.compile=function(le,De,We=null){We===null&&(We=le),y=Re.get(We),y.init(),b.push(y),We.traverseVisible(function(it){it.isLight&&it.layers.test(De.layers)&&(y.pushLight(it),it.castShadow&&y.pushShadow(it))}),le!==We&&le.traverseVisible(function(it){it.isLight&&it.layers.test(De.layers)&&(y.pushLight(it),it.castShadow&&y.pushShadow(it))}),y.setupLights(v._useLegacyLights);const Qe=new Set;return le.traverse(function(it){const tt=it.material;if(tt)if(Array.isArray(tt))for(let Ut=0;Ut<tt.length;Ut++){const _t=tt[Ut];It(_t,We,it),Qe.add(_t)}else It(tt,We,it),Qe.add(tt)}),b.pop(),y=null,Qe},this.compileAsync=function(le,De,We=null){const Qe=this.compile(le,De,We);return new Promise(it=>{function tt(){if(Qe.forEach(function(Ut){Se.get(Ut).currentProgram.isReady()&&Qe.delete(Ut)}),Qe.size===0){it(le);return}setTimeout(tt,10)}ce.get("KHR_parallel_shader_compile")!==null?tt():setTimeout(tt,10)})};let Ot=null;function ur(le){Ot&&Ot(le)}function Ar(){ir.stop()}function Tt(){ir.start()}const ir=new Uv;ir.setAnimationLoop(ur),typeof self<"u"&&ir.setContext(self),this.setAnimationLoop=function(le){Ot=le,vt.setAnimationLoop(le),le===null?ir.stop():ir.start()},vt.addEventListener("sessionstart",Ar),vt.addEventListener("sessionend",Tt),this.render=function(le,De){if(De!==void 0&&De.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),De.parent===null&&De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),vt.enabled===!0&&vt.isPresenting===!0&&(vt.cameraAutoUpdate===!0&&vt.updateCamera(De),De=vt.getCamera()),le.isScene===!0&&le.onBeforeRender(v,le,De,x),y=Re.get(le,b.length),y.init(),b.push(y),Z.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),L.setFromProjectionMatrix(Z),V=this.localClippingEnabled,D=Ke.init(this.clippingPlanes,V),g=st.get(le,m.length),g.init(),m.push(g),rr(le,De,0,v.sortObjects),g.finish(),v.sortObjects===!0&&g.sort(k,W),this.info.render.frame++,D===!0&&Ke.beginShadows();const We=y.state.shadowsArray;if(Le.render(We,le,De),D===!0&&Ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),he.render(g,le),y.setupLights(v._useLegacyLights),De.isArrayCamera){const Qe=De.cameras;for(let it=0,tt=Qe.length;it<tt;it++){const Ut=Qe[it];Mr(g,le,Ut,Ut.viewport)}}else Mr(g,le,De);x!==null&&(re.updateMultisampleRenderTarget(x),re.updateRenderTargetMipmap(x)),le.isScene===!0&&le.onAfterRender(v,le,De),Ne.resetDefaultState(),E=-1,C=null,b.pop(),b.length>0?y=b[b.length-1]:y=null,m.pop(),m.length>0?g=m[m.length-1]:g=null};function rr(le,De,We,Qe){if(le.visible===!1)return;if(le.layers.test(De.layers)){if(le.isGroup)We=le.renderOrder;else if(le.isLOD)le.autoUpdate===!0&&le.update(De);else if(le.isLight)y.pushLight(le),le.castShadow&&y.pushShadow(le);else if(le.isSprite){if(!le.frustumCulled||L.intersectsSprite(le)){Qe&&fe.setFromMatrixPosition(le.matrixWorld).applyMatrix4(Z);const Ut=Ge.update(le),_t=le.material;_t.visible&&g.push(le,Ut,_t,We,fe.z,null)}}else if((le.isMesh||le.isLine||le.isPoints)&&(!le.frustumCulled||L.intersectsObject(le))){const Ut=Ge.update(le),_t=le.material;if(Qe&&(le.boundingSphere!==void 0?(le.boundingSphere===null&&le.computeBoundingSphere(),fe.copy(le.boundingSphere.center)):(Ut.boundingSphere===null&&Ut.computeBoundingSphere(),fe.copy(Ut.boundingSphere.center)),fe.applyMatrix4(le.matrixWorld).applyMatrix4(Z)),Array.isArray(_t)){const Pt=Ut.groups;for(let Bt=0,Ht=Pt.length;Bt<Ht;Bt++){const Kt=Pt[Bt],lr=_t[Kt.materialIndex];lr&&lr.visible&&g.push(le,Ut,lr,We,fe.z,Kt)}}else _t.visible&&g.push(le,Ut,_t,We,fe.z,null)}}const tt=le.children;for(let Ut=0,_t=tt.length;Ut<_t;Ut++)rr(tt[Ut],De,We,Qe)}function Mr(le,De,We,Qe){const it=le.opaque,tt=le.transmissive,Ut=le.transparent;y.setupLightsView(We),D===!0&&Ke.setGlobalState(v.clippingPlanes,We),tt.length>0&&gr(it,tt,De,We),Qe&&oe.viewport(T.copy(Qe)),it.length>0&&nr(it,De,We),tt.length>0&&nr(tt,De,We),Ut.length>0&&nr(Ut,De,We),oe.buffers.depth.setTest(!0),oe.buffers.depth.setMask(!0),oe.buffers.color.setMask(!0),oe.setPolygonOffset(!1)}function gr(le,De,We,Qe){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;const tt=de.isWebGL2;q===null&&(q=new Va(1,1,{generateMipmaps:!0,type:ce.has("EXT_color_buffer_half_float")?ic:la,minFilter:nc,samples:tt?4:0})),v.getDrawingBufferSize(se),tt?q.setSize(se.x,se.y):q.setSize(fh(se.x),fh(se.y));const Ut=v.getRenderTarget();v.setRenderTarget(q),v.getClearColor(F),j=v.getClearAlpha(),j<1&&v.setClearColor(16777215,.5),v.clear();const _t=v.toneMapping;v.toneMapping=aa,nr(le,We,Qe),re.updateMultisampleRenderTarget(q),re.updateRenderTargetMipmap(q);let Pt=!1;for(let Bt=0,Ht=De.length;Bt<Ht;Bt++){const Kt=De[Bt],lr=Kt.object,wr=Kt.geometry,Fr=Kt.material,Gr=Kt.group;if(Fr.side===wo&&lr.layers.test(Qe.layers)){const _r=Fr.side;Fr.side=Ti,Fr.needsUpdate=!0,Tr(lr,We,Qe,wr,Fr,Gr),Fr.side=_r,Fr.needsUpdate=!0,Pt=!0}}Pt===!0&&(re.updateMultisampleRenderTarget(q),re.updateRenderTargetMipmap(q)),v.setRenderTarget(Ut),v.setClearColor(F,j),v.toneMapping=_t}function nr(le,De,We){const Qe=De.isScene===!0?De.overrideMaterial:null;for(let it=0,tt=le.length;it<tt;it++){const Ut=le[it],_t=Ut.object,Pt=Ut.geometry,Bt=Qe===null?Ut.material:Qe,Ht=Ut.group;_t.layers.test(We.layers)&&Tr(_t,De,We,Pt,Bt,Ht)}}function Tr(le,De,We,Qe,it,tt){le.onBeforeRender(v,De,We,Qe,it,tt),le.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,le.matrixWorld),le.normalMatrix.getNormalMatrix(le.modelViewMatrix),it.onBeforeRender(v,De,We,Qe,le,tt),it.transparent===!0&&it.side===wo&&it.forceSinglePass===!1?(it.side=Ti,it.needsUpdate=!0,v.renderBufferDirect(We,De,Qe,it,le,tt),it.side=Bo,it.needsUpdate=!0,v.renderBufferDirect(We,De,Qe,it,le,tt),it.side=wo):v.renderBufferDirect(We,De,Qe,it,le,tt),le.onAfterRender(v,De,We,Qe,it,tt)}function qn(le,De,We){De.isScene!==!0&&(De=be);const Qe=Se.get(le),it=y.state.lights,tt=y.state.shadowsArray,Ut=it.state.version,_t=nt.getParameters(le,it.state,tt,De,We),Pt=nt.getProgramCacheKey(_t);let Bt=Qe.programs;Qe.environment=le.isMeshStandardMaterial?De.environment:null,Qe.fog=De.fog,Qe.envMap=(le.isMeshStandardMaterial?Ce:ie).get(le.envMap||Qe.environment),Bt===void 0&&(le.addEventListener("dispose",dt),Bt=new Map,Qe.programs=Bt);let Ht=Bt.get(Pt);if(Ht!==void 0){if(Qe.currentProgram===Ht&&Qe.lightsStateVersion===Ut)return xn(le,_t),Ht}else _t.uniforms=nt.getUniforms(le),le.onBuild(We,_t,v),le.onBeforeCompile(_t,v),Ht=nt.acquireProgram(_t,Pt),Bt.set(Pt,Ht),Qe.uniforms=_t.uniforms;const Kt=Qe.uniforms;return(!le.isShaderMaterial&&!le.isRawShaderMaterial||le.clipping===!0)&&(Kt.clippingPlanes=Ke.uniform),xn(le,_t),Qe.needsLights=Nn(le),Qe.lightsStateVersion=Ut,Qe.needsLights&&(Kt.ambientLightColor.value=it.state.ambient,Kt.lightProbe.value=it.state.probe,Kt.directionalLights.value=it.state.directional,Kt.directionalLightShadows.value=it.state.directionalShadow,Kt.spotLights.value=it.state.spot,Kt.spotLightShadows.value=it.state.spotShadow,Kt.rectAreaLights.value=it.state.rectArea,Kt.ltc_1.value=it.state.rectAreaLTC1,Kt.ltc_2.value=it.state.rectAreaLTC2,Kt.pointLights.value=it.state.point,Kt.pointLightShadows.value=it.state.pointShadow,Kt.hemisphereLights.value=it.state.hemi,Kt.directionalShadowMap.value=it.state.directionalShadowMap,Kt.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Kt.spotShadowMap.value=it.state.spotShadowMap,Kt.spotLightMatrix.value=it.state.spotLightMatrix,Kt.spotLightMap.value=it.state.spotLightMap,Kt.pointShadowMap.value=it.state.pointShadowMap,Kt.pointShadowMatrix.value=it.state.pointShadowMatrix),Qe.currentProgram=Ht,Qe.uniformsList=null,Ht}function Dn(le){if(le.uniformsList===null){const De=le.currentProgram.getUniforms();le.uniformsList=Yu.seqWithValue(De.seq,le.uniforms)}return le.uniformsList}function xn(le,De){const We=Se.get(le);We.outputColorSpace=De.outputColorSpace,We.batching=De.batching,We.instancing=De.instancing,We.instancingColor=De.instancingColor,We.skinning=De.skinning,We.morphTargets=De.morphTargets,We.morphNormals=De.morphNormals,We.morphColors=De.morphColors,We.morphTargetsCount=De.morphTargetsCount,We.numClippingPlanes=De.numClippingPlanes,We.numIntersection=De.numClipIntersection,We.vertexAlphas=De.vertexAlphas,We.vertexTangents=De.vertexTangents,We.toneMapping=De.toneMapping}function On(le,De,We,Qe,it){De.isScene!==!0&&(De=be),re.resetTextureUnits();const tt=De.fog,Ut=Qe.isMeshStandardMaterial?De.environment:null,_t=x===null?v.outputColorSpace:x.isXRRenderTarget===!0?x.texture.colorSpace:Eo,Pt=(Qe.isMeshStandardMaterial?Ce:ie).get(Qe.envMap||Ut),Bt=Qe.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,Ht=!!We.attributes.tangent&&(!!Qe.normalMap||Qe.anisotropy>0),Kt=!!We.morphAttributes.position,lr=!!We.morphAttributes.normal,wr=!!We.morphAttributes.color;let Fr=aa;Qe.toneMapped&&(x===null||x.isXRRenderTarget===!0)&&(Fr=v.toneMapping);const Gr=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,_r=Gr!==void 0?Gr.length:0,Xt=Se.get(Qe),Cs=y.state.lights;if(D===!0&&(V===!0||le!==C)){const Rr=le===C&&Qe.id===E;Ke.setState(Qe,le,Rr)}let er=!1;Qe.version===Xt.__version?(Xt.needsLights&&Xt.lightsStateVersion!==Cs.state.version||Xt.outputColorSpace!==_t||it.isBatchedMesh&&Xt.batching===!1||!it.isBatchedMesh&&Xt.batching===!0||it.isInstancedMesh&&Xt.instancing===!1||!it.isInstancedMesh&&Xt.instancing===!0||it.isSkinnedMesh&&Xt.skinning===!1||!it.isSkinnedMesh&&Xt.skinning===!0||it.isInstancedMesh&&Xt.instancingColor===!0&&it.instanceColor===null||it.isInstancedMesh&&Xt.instancingColor===!1&&it.instanceColor!==null||Xt.envMap!==Pt||Qe.fog===!0&&Xt.fog!==tt||Xt.numClippingPlanes!==void 0&&(Xt.numClippingPlanes!==Ke.numPlanes||Xt.numIntersection!==Ke.numIntersection)||Xt.vertexAlphas!==Bt||Xt.vertexTangents!==Ht||Xt.morphTargets!==Kt||Xt.morphNormals!==lr||Xt.morphColors!==wr||Xt.toneMapping!==Fr||de.isWebGL2===!0&&Xt.morphTargetsCount!==_r)&&(er=!0):(er=!0,Xt.__version=Qe.version);let Ln=Xt.currentProgram;er===!0&&(Ln=qn(Qe,De,it));let Gi=!1,Fi=!1,Vi=!1;const un=Ln.getUniforms(),hn=Xt.uniforms;if(oe.useProgram(Ln.program)&&(Gi=!0,Fi=!0,Vi=!0),Qe.id!==E&&(E=Qe.id,Fi=!0),Gi||C!==le){un.setValue(Ae,"projectionMatrix",le.projectionMatrix),un.setValue(Ae,"viewMatrix",le.matrixWorldInverse);const Rr=un.map.cameraPosition;Rr!==void 0&&Rr.setValue(Ae,fe.setFromMatrixPosition(le.matrixWorld)),de.logarithmicDepthBuffer&&un.setValue(Ae,"logDepthBufFC",2/(Math.log(le.far+1)/Math.LN2)),(Qe.isMeshPhongMaterial||Qe.isMeshToonMaterial||Qe.isMeshLambertMaterial||Qe.isMeshBasicMaterial||Qe.isMeshStandardMaterial||Qe.isShaderMaterial)&&un.setValue(Ae,"isOrthographic",le.isOrthographicCamera===!0),C!==le&&(C=le,Fi=!0,Vi=!0)}if(it.isSkinnedMesh){un.setOptional(Ae,it,"bindMatrix"),un.setOptional(Ae,it,"bindMatrixInverse");const Rr=it.skeleton;Rr&&(de.floatVertexTextures?(Rr.boneTexture===null&&Rr.computeBoneTexture(),un.setValue(Ae,"boneTexture",Rr.boneTexture,re)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}it.isBatchedMesh&&(un.setOptional(Ae,it,"batchingTexture"),un.setValue(Ae,"batchingTexture",it._matricesTexture,re));const Ui=We.morphAttributes;if((Ui.position!==void 0||Ui.normal!==void 0||Ui.color!==void 0&&de.isWebGL2===!0)&&$.update(it,We,Ln),(Fi||Xt.receiveShadow!==it.receiveShadow)&&(Xt.receiveShadow=it.receiveShadow,un.setValue(Ae,"receiveShadow",it.receiveShadow)),Qe.isMeshGouraudMaterial&&Qe.envMap!==null&&(hn.envMap.value=Pt,hn.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),Fi&&(un.setValue(Ae,"toneMappingExposure",v.toneMappingExposure),Xt.needsLights&&Tn(hn,Vi),tt&&Qe.fog===!0&&et.refreshFogUniforms(hn,tt),et.refreshMaterialUniforms(hn,Qe,z,Q,q),Yu.upload(Ae,Dn(Xt),hn,re)),Qe.isShaderMaterial&&Qe.uniformsNeedUpdate===!0&&(Yu.upload(Ae,Dn(Xt),hn,re),Qe.uniformsNeedUpdate=!1),Qe.isSpriteMaterial&&un.setValue(Ae,"center",it.center),un.setValue(Ae,"modelViewMatrix",it.modelViewMatrix),un.setValue(Ae,"normalMatrix",it.normalMatrix),un.setValue(Ae,"modelMatrix",it.matrixWorld),Qe.isShaderMaterial||Qe.isRawShaderMaterial){const Rr=Qe.uniformsGroups;for(let zi=0,Mo=Rr.length;zi<Mo;zi++)if(de.isWebGL2){const Ms=Rr[zi];Je.update(Ms,Ln),Je.bind(Ms,Ln)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ln}function Tn(le,De){le.ambientLightColor.needsUpdate=De,le.lightProbe.needsUpdate=De,le.directionalLights.needsUpdate=De,le.directionalLightShadows.needsUpdate=De,le.pointLights.needsUpdate=De,le.pointLightShadows.needsUpdate=De,le.spotLights.needsUpdate=De,le.spotLightShadows.needsUpdate=De,le.rectAreaLights.needsUpdate=De,le.hemisphereLights.needsUpdate=De}function Nn(le){return le.isMeshLambertMaterial||le.isMeshToonMaterial||le.isMeshPhongMaterial||le.isMeshStandardMaterial||le.isShadowMaterial||le.isShaderMaterial&&le.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(le,De,We){Se.get(le.texture).__webglTexture=De,Se.get(le.depthTexture).__webglTexture=We;const Qe=Se.get(le);Qe.__hasExternalTextures=!0,Qe.__hasExternalTextures&&(Qe.__autoAllocateDepthBuffer=We===void 0,Qe.__autoAllocateDepthBuffer||ce.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Qe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(le,De){const We=Se.get(le);We.__webglFramebuffer=De,We.__useDefaultFramebuffer=De===void 0},this.setRenderTarget=function(le,De=0,We=0){x=le,_=De,M=We;let Qe=!0,it=null,tt=!1,Ut=!1;if(le){const Pt=Se.get(le);Pt.__useDefaultFramebuffer!==void 0?(oe.bindFramebuffer(Ae.FRAMEBUFFER,null),Qe=!1):Pt.__webglFramebuffer===void 0?re.setupRenderTarget(le):Pt.__hasExternalTextures&&re.rebindTextures(le,Se.get(le.texture).__webglTexture,Se.get(le.depthTexture).__webglTexture);const Bt=le.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(Ut=!0);const Ht=Se.get(le).__webglFramebuffer;le.isWebGLCubeRenderTarget?(Array.isArray(Ht[De])?it=Ht[De][We]:it=Ht[De],tt=!0):de.isWebGL2&&le.samples>0&&re.useMultisampledRTT(le)===!1?it=Se.get(le).__webglMultisampledFramebuffer:Array.isArray(Ht)?it=Ht[We]:it=Ht,T.copy(le.viewport),B.copy(le.scissor),P=le.scissorTest}else T.copy(Y).multiplyScalar(z).floor(),B.copy(te).multiplyScalar(z).floor(),P=R;if(oe.bindFramebuffer(Ae.FRAMEBUFFER,it)&&de.drawBuffers&&Qe&&oe.drawBuffers(le,it),oe.viewport(T),oe.scissor(B),oe.setScissorTest(P),tt){const Pt=Se.get(le.texture);Ae.framebufferTexture2D(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_CUBE_MAP_POSITIVE_X+De,Pt.__webglTexture,We)}else if(Ut){const Pt=Se.get(le.texture),Bt=De||0;Ae.framebufferTextureLayer(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Pt.__webglTexture,We||0,Bt)}E=-1},this.readRenderTargetPixels=function(le,De,We,Qe,it,tt,Ut){if(!(le&&le.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=Se.get(le).__webglFramebuffer;if(le.isWebGLCubeRenderTarget&&Ut!==void 0&&(_t=_t[Ut]),_t){oe.bindFramebuffer(Ae.FRAMEBUFFER,_t);try{const Pt=le.texture,Bt=Pt.format,Ht=Pt.type;if(Bt!==_s&&Ee.convert(Bt)!==Ae.getParameter(Ae.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Kt=Ht===ic&&(ce.has("EXT_color_buffer_half_float")||de.isWebGL2&&ce.has("EXT_color_buffer_float"));if(Ht!==la&&Ee.convert(Ht)!==Ae.getParameter(Ae.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ht===ta&&(de.isWebGL2||ce.has("OES_texture_float")||ce.has("WEBGL_color_buffer_float")))&&!Kt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}De>=0&&De<=le.width-Qe&&We>=0&&We<=le.height-it&&Ae.readPixels(De,We,Qe,it,Ee.convert(Bt),Ee.convert(Ht),tt)}finally{const Pt=x!==null?Se.get(x).__webglFramebuffer:null;oe.bindFramebuffer(Ae.FRAMEBUFFER,Pt)}}},this.copyFramebufferToTexture=function(le,De,We=0){const Qe=Math.pow(2,-We),it=Math.floor(De.image.width*Qe),tt=Math.floor(De.image.height*Qe);re.setTexture2D(De,0),Ae.copyTexSubImage2D(Ae.TEXTURE_2D,We,0,0,le.x,le.y,it,tt),oe.unbindTexture()},this.copyTextureToTexture=function(le,De,We,Qe=0){const it=De.image.width,tt=De.image.height,Ut=Ee.convert(We.format),_t=Ee.convert(We.type);re.setTexture2D(We,0),Ae.pixelStorei(Ae.UNPACK_FLIP_Y_WEBGL,We.flipY),Ae.pixelStorei(Ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,We.premultiplyAlpha),Ae.pixelStorei(Ae.UNPACK_ALIGNMENT,We.unpackAlignment),De.isDataTexture?Ae.texSubImage2D(Ae.TEXTURE_2D,Qe,le.x,le.y,it,tt,Ut,_t,De.image.data):De.isCompressedTexture?Ae.compressedTexSubImage2D(Ae.TEXTURE_2D,Qe,le.x,le.y,De.mipmaps[0].width,De.mipmaps[0].height,Ut,De.mipmaps[0].data):Ae.texSubImage2D(Ae.TEXTURE_2D,Qe,le.x,le.y,Ut,_t,De.image),Qe===0&&We.generateMipmaps&&Ae.generateMipmap(Ae.TEXTURE_2D),oe.unbindTexture()},this.copyTextureToTexture3D=function(le,De,We,Qe,it=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tt=le.max.x-le.min.x+1,Ut=le.max.y-le.min.y+1,_t=le.max.z-le.min.z+1,Pt=Ee.convert(Qe.format),Bt=Ee.convert(Qe.type);let Ht;if(Qe.isData3DTexture)re.setTexture3D(Qe,0),Ht=Ae.TEXTURE_3D;else if(Qe.isDataArrayTexture||Qe.isCompressedArrayTexture)re.setTexture2DArray(Qe,0),Ht=Ae.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ae.pixelStorei(Ae.UNPACK_FLIP_Y_WEBGL,Qe.flipY),Ae.pixelStorei(Ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Qe.premultiplyAlpha),Ae.pixelStorei(Ae.UNPACK_ALIGNMENT,Qe.unpackAlignment);const Kt=Ae.getParameter(Ae.UNPACK_ROW_LENGTH),lr=Ae.getParameter(Ae.UNPACK_IMAGE_HEIGHT),wr=Ae.getParameter(Ae.UNPACK_SKIP_PIXELS),Fr=Ae.getParameter(Ae.UNPACK_SKIP_ROWS),Gr=Ae.getParameter(Ae.UNPACK_SKIP_IMAGES),_r=We.isCompressedTexture?We.mipmaps[it]:We.image;Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,_r.width),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,_r.height),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,le.min.x),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,le.min.y),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,le.min.z),We.isDataTexture||We.isData3DTexture?Ae.texSubImage3D(Ht,it,De.x,De.y,De.z,tt,Ut,_t,Pt,Bt,_r.data):We.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ae.compressedTexSubImage3D(Ht,it,De.x,De.y,De.z,tt,Ut,_t,Pt,_r.data)):Ae.texSubImage3D(Ht,it,De.x,De.y,De.z,tt,Ut,_t,Pt,Bt,_r),Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,Kt),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,lr),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,wr),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,Fr),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,Gr),it===0&&Qe.generateMipmaps&&Ae.generateMipmap(Ht),oe.unbindTexture()},this.initTexture=function(le){le.isCubeTexture?re.setTextureCube(le,0):le.isData3DTexture?re.setTexture3D(le,0):le.isDataArrayTexture||le.isCompressedArrayTexture?re.setTexture2DArray(le,0):re.setTexture2D(le,0),oe.unbindTexture()},this.resetState=function(){_=0,M=0,x=null,oe.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return _o}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(r){this._outputColorSpace=r;const n=this.getContext();n.drawingBufferColorSpace=r===Qp?"display-p3":"srgb",n.unpackColorSpace=Wr.workingColorSpace===Lh?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Jn?ka:yv}set outputEncoding(r){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=r===ka?Jn:Eo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(r){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=r}}class x5 extends gc{}x5.prototype.isWebGL1Renderer=!0;class Ph extends Pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(r,n){return super.copy(r,n),r.background!==null&&(this.background=r.background.clone()),r.environment!==null&&(this.environment=r.environment.clone()),r.fog!==null&&(this.fog=r.fog.clone()),this.backgroundBlurriness=r.backgroundBlurriness,this.backgroundIntensity=r.backgroundIntensity,r.overrideMaterial!==null&&(this.overrideMaterial=r.overrideMaterial.clone()),this.matrixAutoUpdate=r.matrixAutoUpdate,this}toJSON(r){const n=super.toJSON(r);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class KA extends Gs{constructor(r){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new mr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.linewidth=r.linewidth,this.linecap=r.linecap,this.linejoin=r.linejoin,this.fog=r.fog,this}}const l0=new He,A0=new He,c0=new fn,Vd=new Fh,uu=new mc;class Nv extends Pn{constructor(r=new Kn,n=new KA){super(),this.isLine=!0,this.type="Line",this.geometry=r,this.material=n,this.updateMorphTargets()}copy(r,n){return super.copy(r,n),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}computeLineDistances(){const r=this.geometry;if(r.index===null){const n=r.attributes.position,t=[0];for(let o=1,s=n.count;o<s;o++)l0.fromBufferAttribute(n,o-1),A0.fromBufferAttribute(n,o),t[o]=t[o-1],t[o]+=l0.distanceTo(A0);r.setAttribute("lineDistance",new Yr(t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(r,n){const t=this.geometry,o=this.matrixWorld,s=r.params.Line.threshold,a=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),uu.copy(t.boundingSphere),uu.applyMatrix4(o),uu.radius+=s,r.ray.intersectsSphere(uu)===!1)return;c0.copy(o).invert(),Vd.copy(r.ray).applyMatrix4(c0);const A=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=A*A,u=new He,p=new He,d=new He,c=new He,h=this.isLineSegments?2:1,f=t.index,y=t.attributes.position;if(f!==null){const m=Math.max(0,a.start),b=Math.min(f.count,a.start+a.count);for(let v=m,w=b-1;v<w;v+=h){const _=f.getX(v),M=f.getX(v+1);if(u.fromBufferAttribute(y,_),p.fromBufferAttribute(y,M),Vd.distanceSqToSegment(u,p,c,d)>l)continue;c.applyMatrix4(this.matrixWorld);const E=r.ray.origin.distanceTo(c);E<r.near||E>r.far||n.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{const m=Math.max(0,a.start),b=Math.min(y.count,a.start+a.count);for(let v=m,w=b-1;v<w;v+=h){if(u.fromBufferAttribute(y,v),p.fromBufferAttribute(y,v+1),Vd.distanceSqToSegment(u,p,c,d)>l)continue;c.applyMatrix4(this.matrixWorld);const M=r.ray.origin.distanceTo(c);M<r.near||M>r.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,t=Object.keys(n);if(t.length>0){const o=n[t[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const A=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=s}}}}}const u0=new He,h0=new He;class d0 extends Nv{constructor(r,n){super(r,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const r=this.geometry;if(r.index===null){const n=r.attributes.position,t=[];for(let o=0,s=n.count;o<s;o+=2)u0.fromBufferAttribute(n,o),h0.fromBufferAttribute(n,o+1),t[o]=o===0?0:t[o-1],t[o+1]=t[o]+u0.distanceTo(h0);r.setAttribute("lineDistance",new Yr(t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class ql extends Gs{constructor(r){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new mr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.size=r.size,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}const f0=new fn,Kf=new Fh,hu=new mc,du=new He;class Ju extends Pn{constructor(r=new Kn,n=new ql){super(),this.isPoints=!0,this.type="Points",this.geometry=r,this.material=n,this.updateMorphTargets()}copy(r,n){return super.copy(r,n),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}raycast(r,n){const t=this.geometry,o=this.matrixWorld,s=r.params.Points.threshold,a=t.drawRange;if(t.boundingSphere===null&&t.computeBoundingSphere(),hu.copy(t.boundingSphere),hu.applyMatrix4(o),hu.radius+=s,r.ray.intersectsSphere(hu)===!1)return;f0.copy(o).invert(),Kf.copy(r.ray).applyMatrix4(f0);const A=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=A*A,u=t.index,d=t.attributes.position;if(u!==null){const c=Math.max(0,a.start),h=Math.min(u.count,a.start+a.count);for(let f=c,g=h;f<g;f++){const y=u.getX(f);du.fromBufferAttribute(d,y),p0(du,y,l,o,r,n,this)}}else{const c=Math.max(0,a.start),h=Math.min(d.count,a.start+a.count);for(let f=c,g=h;f<g;f++)du.fromBufferAttribute(d,f),p0(du,f,l,o,r,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,t=Object.keys(n);if(t.length>0){const o=n[t[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=o.length;s<a;s++){const A=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=s}}}}}function p0(i,r,n,t,o,s,a){const A=Kf.distanceSqToPoint(i);if(A<n){const l=new He;Kf.closestPointToPoint(i,l),l.applyMatrix4(t);const u=o.ray.origin.distanceTo(l);if(u<o.near||u>o.far)return;s.push({distance:u,distanceToRay:Math.sqrt(A),point:l,index:r,face:null,object:a})}}class Vs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(r,n){const t=this.getUtoTmapping(r);return this.getPoint(t,n)}getPoints(r=5){const n=[];for(let t=0;t<=r;t++)n.push(this.getPoint(t/r));return n}getSpacedPoints(r=5){const n=[];for(let t=0;t<=r;t++)n.push(this.getPointAt(t/r));return n}getLength(){const r=this.getLengths();return r[r.length-1]}getLengths(r=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let t,o=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=r;a++)t=this.getPoint(a/r),s+=t.distanceTo(o),n.push(s),o=t;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(r,n){const t=this.getLengths();let o=0;const s=t.length;let a;n?a=n:a=r*t[s-1];let A=0,l=s-1,u;for(;A<=l;)if(o=Math.floor(A+(l-A)/2),u=t[o]-a,u<0)A=o+1;else if(u>0)l=o-1;else{l=o;break}if(o=l,t[o]===a)return o/(s-1);const p=t[o],c=t[o+1]-p,h=(a-p)/c;return(o+h)/(s-1)}getTangent(r,n){let o=r-1e-4,s=r+1e-4;o<0&&(o=0),s>1&&(s=1);const a=this.getPoint(o),A=this.getPoint(s),l=n||(a.isVector2?new jt:new He);return l.copy(A).sub(a).normalize(),l}getTangentAt(r,n){const t=this.getUtoTmapping(r);return this.getTangent(t,n)}computeFrenetFrames(r,n){const t=new He,o=[],s=[],a=[],A=new He,l=new fn;for(let h=0;h<=r;h++){const f=h/r;o[h]=this.getTangentAt(f,new He)}s[0]=new He,a[0]=new He;let u=Number.MAX_VALUE;const p=Math.abs(o[0].x),d=Math.abs(o[0].y),c=Math.abs(o[0].z);p<=u&&(u=p,t.set(1,0,0)),d<=u&&(u=d,t.set(0,1,0)),c<=u&&t.set(0,0,1),A.crossVectors(o[0],t).normalize(),s[0].crossVectors(o[0],A),a[0].crossVectors(o[0],s[0]);for(let h=1;h<=r;h++){if(s[h]=s[h-1].clone(),a[h]=a[h-1].clone(),A.crossVectors(o[h-1],o[h]),A.length()>Number.EPSILON){A.normalize();const f=Math.acos(Un(o[h-1].dot(o[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(A,f))}a[h].crossVectors(o[h],s[h])}if(n===!0){let h=Math.acos(Un(s[0].dot(s[r]),-1,1));h/=r,o[0].dot(A.crossVectors(s[0],s[r]))>0&&(h=-h);for(let f=1;f<=r;f++)s[f].applyMatrix4(l.makeRotationAxis(o[f],h*f)),a[f].crossVectors(o[f],s[f])}return{tangents:o,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}toJSON(){const r={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return r.arcLengthDivisions=this.arcLengthDivisions,r.type=this.type,r}fromJSON(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}}class Kp extends Vs{constructor(r=0,n=0,t=1,o=1,s=0,a=Math.PI*2,A=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=r,this.aY=n,this.xRadius=t,this.yRadius=o,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=A,this.aRotation=l}getPoint(r,n){const t=n||new jt,o=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=o;for(;s>o;)s-=o;s<Number.EPSILON&&(a?s=0:s=o),this.aClockwise===!0&&!a&&(s===o?s=-o:s=s-o);const A=this.aStartAngle+r*s;let l=this.aX+this.xRadius*Math.cos(A),u=this.aY+this.yRadius*Math.sin(A);if(this.aRotation!==0){const p=Math.cos(this.aRotation),d=Math.sin(this.aRotation),c=l-this.aX,h=u-this.aY;l=c*p-h*d+this.aX,u=c*d+h*p+this.aY}return t.set(l,u)}copy(r){return super.copy(r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this}toJSON(){const r=super.toJSON();return r.aX=this.aX,r.aY=this.aY,r.xRadius=this.xRadius,r.yRadius=this.yRadius,r.aStartAngle=this.aStartAngle,r.aEndAngle=this.aEndAngle,r.aClockwise=this.aClockwise,r.aRotation=this.aRotation,r}fromJSON(r){return super.fromJSON(r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this}}class S5 extends Kp{constructor(r,n,t,o,s,a){super(r,n,t,t,o,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function qp(){let i=0,r=0,n=0,t=0;function o(s,a,A,l){i=s,r=A,n=-3*s+3*a-2*A-l,t=2*s-2*a+A+l}return{initCatmullRom:function(s,a,A,l,u){o(a,A,u*(A-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,A,l,u,p,d){let c=(a-s)/u-(A-s)/(u+p)+(A-a)/p,h=(A-a)/p-(l-a)/(p+d)+(l-A)/d;c*=p,h*=p,o(a,A,c,h)},calc:function(s){const a=s*s,A=a*s;return i+r*s+n*a+t*A}}}const fu=new He,zd=new qp,Wd=new qp,Kd=new qp;class B5 extends Vs{constructor(r=[],n=!1,t="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=r,this.closed=n,this.curveType=t,this.tension=o}getPoint(r,n=new He){const t=n,o=this.points,s=o.length,a=(s-(this.closed?0:1))*r;let A=Math.floor(a),l=a-A;this.closed?A+=A>0?0:(Math.floor(Math.abs(A)/s)+1)*s:l===0&&A===s-1&&(A=s-2,l=1);let u,p;this.closed||A>0?u=o[(A-1)%s]:(fu.subVectors(o[0],o[1]).add(o[0]),u=fu);const d=o[A%s],c=o[(A+1)%s];if(this.closed||A+2<s?p=o[(A+2)%s]:(fu.subVectors(o[s-1],o[s-2]).add(o[s-1]),p=fu),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let f=Math.pow(u.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(c),h),y=Math.pow(c.distanceToSquared(p),h);g<1e-4&&(g=1),f<1e-4&&(f=g),y<1e-4&&(y=g),zd.initNonuniformCatmullRom(u.x,d.x,c.x,p.x,f,g,y),Wd.initNonuniformCatmullRom(u.y,d.y,c.y,p.y,f,g,y),Kd.initNonuniformCatmullRom(u.z,d.z,c.z,p.z,f,g,y)}else this.curveType==="catmullrom"&&(zd.initCatmullRom(u.x,d.x,c.x,p.x,this.tension),Wd.initCatmullRom(u.y,d.y,c.y,p.y,this.tension),Kd.initCatmullRom(u.z,d.z,c.z,p.z,this.tension));return t.set(zd.calc(l),Wd.calc(l),Kd.calc(l)),t}copy(r){super.copy(r),this.points=[];for(let n=0,t=r.points.length;n<t;n++){const o=r.points[n];this.points.push(o.clone())}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}toJSON(){const r=super.toJSON();r.points=[];for(let n=0,t=this.points.length;n<t;n++){const o=this.points[n];r.points.push(o.toArray())}return r.closed=this.closed,r.curveType=this.curveType,r.tension=this.tension,r}fromJSON(r){super.fromJSON(r),this.points=[];for(let n=0,t=r.points.length;n<t;n++){const o=r.points[n];this.points.push(new He().fromArray(o))}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}}function m0(i,r,n,t,o){const s=(t-r)*.5,a=(o-n)*.5,A=i*i,l=i*A;return(2*n-2*t+s+a)*l+(-3*n+3*t-2*s-a)*A+s*i+n}function E5(i,r){const n=1-i;return n*n*r}function C5(i,r){return 2*(1-i)*i*r}function M5(i,r){return i*i*r}function qA(i,r,n,t){return E5(i,r)+C5(i,n)+M5(i,t)}function T5(i,r){const n=1-i;return n*n*n*r}function L5(i,r){const n=1-i;return 3*n*n*i*r}function F5(i,r){return 3*(1-i)*i*i*r}function U5(i,r){return i*i*i*r}function XA(i,r,n,t,o){return T5(i,r)+L5(i,n)+F5(i,t)+U5(i,o)}class kv extends Vs{constructor(r=new jt,n=new jt,t=new jt,o=new jt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=r,this.v1=n,this.v2=t,this.v3=o}getPoint(r,n=new jt){const t=n,o=this.v0,s=this.v1,a=this.v2,A=this.v3;return t.set(XA(r,o.x,s.x,a.x,A.x),XA(r,o.y,s.y,a.y,A.y)),t}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this}}class I5 extends Vs{constructor(r=new He,n=new He,t=new He,o=new He){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=r,this.v1=n,this.v2=t,this.v3=o}getPoint(r,n=new He){const t=n,o=this.v0,s=this.v1,a=this.v2,A=this.v3;return t.set(XA(r,o.x,s.x,a.x,A.x),XA(r,o.y,s.y,a.y,A.y),XA(r,o.z,s.z,a.z,A.z)),t}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this}}class Qv extends Vs{constructor(r=new jt,n=new jt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=r,this.v2=n}getPoint(r,n=new jt){const t=n;return r===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(r).add(this.v1)),t}getPointAt(r,n){return this.getPoint(r,n)}getTangent(r,n=new jt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(r,n){return this.getTangent(r,n)}copy(r){return super.copy(r),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class P5 extends Vs{constructor(r=new He,n=new He){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=r,this.v2=n}getPoint(r,n=new He){const t=n;return r===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(r).add(this.v1)),t}getPointAt(r,n){return this.getPoint(r,n)}getTangent(r,n=new He){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(r,n){return this.getTangent(r,n)}copy(r){return super.copy(r),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class Hv extends Vs{constructor(r=new jt,n=new jt,t=new jt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=r,this.v1=n,this.v2=t}getPoint(r,n=new jt){const t=n,o=this.v0,s=this.v1,a=this.v2;return t.set(qA(r,o.x,s.x,a.x),qA(r,o.y,s.y,a.y)),t}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class j5 extends Vs{constructor(r=new He,n=new He,t=new He){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=r,this.v1=n,this.v2=t}getPoint(r,n=new He){const t=n,o=this.v0,s=this.v1,a=this.v2;return t.set(qA(r,o.x,s.x,a.x),qA(r,o.y,s.y,a.y),qA(r,o.z,s.z,a.z)),t}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class Gv extends Vs{constructor(r=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=r}getPoint(r,n=new jt){const t=n,o=this.points,s=(o.length-1)*r,a=Math.floor(s),A=s-a,l=o[a===0?a:a-1],u=o[a],p=o[a>o.length-2?o.length-1:a+1],d=o[a>o.length-3?o.length-1:a+2];return t.set(m0(A,l.x,u.x,p.x,d.x),m0(A,l.y,u.y,p.y,d.y)),t}copy(r){super.copy(r),this.points=[];for(let n=0,t=r.points.length;n<t;n++){const o=r.points[n];this.points.push(o.clone())}return this}toJSON(){const r=super.toJSON();r.points=[];for(let n=0,t=this.points.length;n<t;n++){const o=this.points[n];r.points.push(o.toArray())}return r}fromJSON(r){super.fromJSON(r),this.points=[];for(let n=0,t=r.points.length;n<t;n++){const o=r.points[n];this.points.push(new jt().fromArray(o))}return this}}var qf=Object.freeze({__proto__:null,ArcCurve:S5,CatmullRomCurve3:B5,CubicBezierCurve:kv,CubicBezierCurve3:I5,EllipseCurve:Kp,LineCurve:Qv,LineCurve3:P5,QuadraticBezierCurve:Hv,QuadraticBezierCurve3:j5,SplineCurve:Gv});class R5 extends Vs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(r){this.curves.push(r)}closePath(){const r=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!r.equals(n)){const t=r.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new qf[t](n,r))}return this}getPoint(r,n){const t=r*this.getLength(),o=this.getCurveLengths();let s=0;for(;s<o.length;){if(o[s]>=t){const a=o[s]-t,A=this.curves[s],l=A.getLength(),u=l===0?0:1-a/l;return A.getPointAt(u,n)}s++}return null}getLength(){const r=this.getCurveLengths();return r[r.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const r=[];let n=0;for(let t=0,o=this.curves.length;t<o;t++)n+=this.curves[t].getLength(),r.push(n);return this.cacheLengths=r,r}getSpacedPoints(r=40){const n=[];for(let t=0;t<=r;t++)n.push(this.getPoint(t/r));return this.autoClose&&n.push(n[0]),n}getPoints(r=12){const n=[];let t;for(let o=0,s=this.curves;o<s.length;o++){const a=s[o],A=a.isEllipseCurve?r*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?r*a.points.length:r,l=a.getPoints(A);for(let u=0;u<l.length;u++){const p=l[u];t&&t.equals(p)||(n.push(p),t=p)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(r){super.copy(r),this.curves=[];for(let n=0,t=r.curves.length;n<t;n++){const o=r.curves[n];this.curves.push(o.clone())}return this.autoClose=r.autoClose,this}toJSON(){const r=super.toJSON();r.autoClose=this.autoClose,r.curves=[];for(let n=0,t=this.curves.length;n<t;n++){const o=this.curves[n];r.curves.push(o.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.autoClose=r.autoClose,this.curves=[];for(let n=0,t=r.curves.length;n<t;n++){const o=r.curves[n];this.curves.push(new qf[o.type]().fromJSON(o))}return this}}let Xf=class extends R5{constructor(r){super(),this.type="Path",this.currentPoint=new jt,r&&this.setFromPoints(r)}setFromPoints(r){this.moveTo(r[0].x,r[0].y);for(let n=1,t=r.length;n<t;n++)this.lineTo(r[n].x,r[n].y);return this}moveTo(r,n){return this.currentPoint.set(r,n),this}lineTo(r,n){const t=new Qv(this.currentPoint.clone(),new jt(r,n));return this.curves.push(t),this.currentPoint.set(r,n),this}quadraticCurveTo(r,n,t,o){const s=new Hv(this.currentPoint.clone(),new jt(r,n),new jt(t,o));return this.curves.push(s),this.currentPoint.set(t,o),this}bezierCurveTo(r,n,t,o,s,a){const A=new kv(this.currentPoint.clone(),new jt(r,n),new jt(t,o),new jt(s,a));return this.curves.push(A),this.currentPoint.set(s,a),this}splineThru(r){const n=[this.currentPoint.clone()].concat(r),t=new Gv(n);return this.curves.push(t),this.currentPoint.copy(r[r.length-1]),this}arc(r,n,t,o,s,a){const A=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(r+A,n+l,t,o,s,a),this}absarc(r,n,t,o,s,a){return this.absellipse(r,n,t,t,o,s,a),this}ellipse(r,n,t,o,s,a,A,l){const u=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(r+u,n+p,t,o,s,a,A,l),this}absellipse(r,n,t,o,s,a,A,l){const u=new Kp(r,n,t,o,s,a,A,l);if(this.curves.length>0){const d=u.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(u);const p=u.getPoint(1);return this.currentPoint.copy(p),this}copy(r){return super.copy(r),this.currentPoint.copy(r.currentPoint),this}toJSON(){const r=super.toJSON();return r.currentPoint=this.currentPoint.toArray(),r}fromJSON(r){return super.fromJSON(r),this.currentPoint.fromArray(r.currentPoint),this}};class tA extends Xf{constructor(r){super(r),this.uuid=Xa(),this.type="Shape",this.holes=[]}getPointsHoles(r){const n=[];for(let t=0,o=this.holes.length;t<o;t++)n[t]=this.holes[t].getPoints(r);return n}extractPoints(r){return{shape:this.getPoints(r),holes:this.getPointsHoles(r)}}copy(r){super.copy(r),this.holes=[];for(let n=0,t=r.holes.length;n<t;n++){const o=r.holes[n];this.holes.push(o.clone())}return this}toJSON(){const r=super.toJSON();r.uuid=this.uuid,r.holes=[];for(let n=0,t=this.holes.length;n<t;n++){const o=this.holes[n];r.holes.push(o.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.uuid=r.uuid,this.holes=[];for(let n=0,t=r.holes.length;n<t;n++){const o=r.holes[n];this.holes.push(new Xf().fromJSON(o))}return this}}const D5={triangulate:function(i,r,n=2){const t=r&&r.length,o=t?r[0]*n:i.length;let s=Vv(i,0,o,n,!0);const a=[];if(!s||s.next===s.prev)return a;let A,l,u,p,d,c,h;if(t&&(s=H5(i,r,s,n)),i.length>80*n){A=u=i[0],l=p=i[1];for(let f=n;f<o;f+=n)d=i[f],c=i[f+1],d<A&&(A=d),c<l&&(l=c),d>u&&(u=d),c>p&&(p=c);h=Math.max(u-A,p-l),h=h!==0?32767/h:0}return oc(s,a,n,A,l,h,0),a}};function Vv(i,r,n,t,o){let s,a;if(o===$5(i,r,n,t)>0)for(s=r;s<n;s+=t)a=g0(s,i[s],i[s+1],a);else for(s=n-t;s>=r;s-=t)a=g0(s,i[s],i[s+1],a);return a&&jh(a,a.next)&&(lc(a),a=a.next),a}function Ka(i,r){if(!i)return i;r||(r=i);let n=i,t;do if(t=!1,!n.steiner&&(jh(n,n.next)||dn(n.prev,n,n.next)===0)){if(lc(n),n=r=n.prev,n===n.next)break;t=!0}else n=n.next;while(t||n!==r);return r}function oc(i,r,n,t,o,s,a){if(!i)return;!a&&s&&K5(i,t,o,s);let A=i,l,u;for(;i.prev!==i.next;){if(l=i.prev,u=i.next,s?N5(i,t,o,s):O5(i)){r.push(l.i/n|0),r.push(i.i/n|0),r.push(u.i/n|0),lc(i),i=u.next,A=u.next;continue}if(i=u,i===A){a?a===1?(i=k5(Ka(i),r,n),oc(i,r,n,t,o,s,2)):a===2&&Q5(i,r,n,t,o,s):oc(Ka(i),r,n,t,o,s,1);break}}}function O5(i){const r=i.prev,n=i,t=i.next;if(dn(r,n,t)>=0)return!1;const o=r.x,s=n.x,a=t.x,A=r.y,l=n.y,u=t.y,p=o<s?o<a?o:a:s<a?s:a,d=A<l?A<u?A:u:l<u?l:u,c=o>s?o>a?o:a:s>a?s:a,h=A>l?A>u?A:u:l>u?l:u;let f=t.next;for(;f!==r;){if(f.x>=p&&f.x<=c&&f.y>=d&&f.y<=h&&Xl(o,A,s,l,a,u,f.x,f.y)&&dn(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function N5(i,r,n,t){const o=i.prev,s=i,a=i.next;if(dn(o,s,a)>=0)return!1;const A=o.x,l=s.x,u=a.x,p=o.y,d=s.y,c=a.y,h=A<l?A<u?A:u:l<u?l:u,f=p<d?p<c?p:c:d<c?d:c,g=A>l?A>u?A:u:l>u?l:u,y=p>d?p>c?p:c:d>c?d:c,m=Yf(h,f,r,n,t),b=Yf(g,y,r,n,t);let v=i.prevZ,w=i.nextZ;for(;v&&v.z>=m&&w&&w.z<=b;){if(v.x>=h&&v.x<=g&&v.y>=f&&v.y<=y&&v!==o&&v!==a&&Xl(A,p,l,d,u,c,v.x,v.y)&&dn(v.prev,v,v.next)>=0||(v=v.prevZ,w.x>=h&&w.x<=g&&w.y>=f&&w.y<=y&&w!==o&&w!==a&&Xl(A,p,l,d,u,c,w.x,w.y)&&dn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;v&&v.z>=m;){if(v.x>=h&&v.x<=g&&v.y>=f&&v.y<=y&&v!==o&&v!==a&&Xl(A,p,l,d,u,c,v.x,v.y)&&dn(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;w&&w.z<=b;){if(w.x>=h&&w.x<=g&&w.y>=f&&w.y<=y&&w!==o&&w!==a&&Xl(A,p,l,d,u,c,w.x,w.y)&&dn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function k5(i,r,n){let t=i;do{const o=t.prev,s=t.next.next;!jh(o,s)&&zv(o,t,t.next,s)&&ac(o,s)&&ac(s,o)&&(r.push(o.i/n|0),r.push(t.i/n|0),r.push(s.i/n|0),lc(t),lc(t.next),t=i=s),t=t.next}while(t!==i);return Ka(t)}function Q5(i,r,n,t,o,s){let a=i;do{let A=a.next.next;for(;A!==a.prev;){if(a.i!==A.i&&Y5(a,A)){let l=Wv(a,A);a=Ka(a,a.next),l=Ka(l,l.next),oc(a,r,n,t,o,s,0),oc(l,r,n,t,o,s,0);return}A=A.next}a=a.next}while(a!==i)}function H5(i,r,n,t){const o=[];let s,a,A,l,u;for(s=0,a=r.length;s<a;s++)A=r[s]*t,l=s<a-1?r[s+1]*t:i.length,u=Vv(i,A,l,t,!1),u===u.next&&(u.steiner=!0),o.push(X5(u));for(o.sort(G5),s=0;s<o.length;s++)n=V5(o[s],n);return n}function G5(i,r){return i.x-r.x}function V5(i,r){const n=z5(i,r);if(!n)return r;const t=Wv(n,i);return Ka(t,t.next),Ka(n,n.next)}function z5(i,r){let n=r,t=-1/0,o;const s=i.x,a=i.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const c=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(c<=s&&c>t&&(t=c,o=n.x<n.next.x?n:n.next,c===s))return o}n=n.next}while(n!==r);if(!o)return null;const A=o,l=o.x,u=o.y;let p=1/0,d;n=o;do s>=n.x&&n.x>=l&&s!==n.x&&Xl(a<u?s:t,a,l,u,a<u?t:s,a,n.x,n.y)&&(d=Math.abs(a-n.y)/(s-n.x),ac(n,i)&&(d<p||d===p&&(n.x>o.x||n.x===o.x&&W5(o,n)))&&(o=n,p=d)),n=n.next;while(n!==A);return o}function W5(i,r){return dn(i.prev,i,r.prev)<0&&dn(r.next,i,i.next)<0}function K5(i,r,n,t){let o=i;do o.z===0&&(o.z=Yf(o.x,o.y,r,n,t)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==i);o.prevZ.nextZ=null,o.prevZ=null,q5(o)}function q5(i){let r,n,t,o,s,a,A,l,u=1;do{for(n=i,i=null,s=null,a=0;n;){for(a++,t=n,A=0,r=0;r<u&&(A++,t=t.nextZ,!!t);r++);for(l=u;A>0||l>0&&t;)A!==0&&(l===0||!t||n.z<=t.z)?(o=n,n=n.nextZ,A--):(o=t,t=t.nextZ,l--),s?s.nextZ=o:i=o,o.prevZ=s,s=o;n=t}s.nextZ=null,u*=2}while(a>1);return i}function Yf(i,r,n,t,o){return i=(i-n)*o|0,r=(r-t)*o|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,i|r<<1}function X5(i){let r=i,n=i;do(r.x<n.x||r.x===n.x&&r.y<n.y)&&(n=r),r=r.next;while(r!==i);return n}function Xl(i,r,n,t,o,s,a,A){return(o-a)*(r-A)>=(i-a)*(s-A)&&(i-a)*(t-A)>=(n-a)*(r-A)&&(n-a)*(s-A)>=(o-a)*(t-A)}function Y5(i,r){return i.next.i!==r.i&&i.prev.i!==r.i&&!J5(i,r)&&(ac(i,r)&&ac(r,i)&&Z5(i,r)&&(dn(i.prev,i,r.prev)||dn(i,r.prev,r))||jh(i,r)&&dn(i.prev,i,i.next)>0&&dn(r.prev,r,r.next)>0)}function dn(i,r,n){return(r.y-i.y)*(n.x-r.x)-(r.x-i.x)*(n.y-r.y)}function jh(i,r){return i.x===r.x&&i.y===r.y}function zv(i,r,n,t){const o=mu(dn(i,r,n)),s=mu(dn(i,r,t)),a=mu(dn(n,t,i)),A=mu(dn(n,t,r));return!!(o!==s&&a!==A||o===0&&pu(i,n,r)||s===0&&pu(i,t,r)||a===0&&pu(n,i,t)||A===0&&pu(n,r,t))}function pu(i,r,n){return r.x<=Math.max(i.x,n.x)&&r.x>=Math.min(i.x,n.x)&&r.y<=Math.max(i.y,n.y)&&r.y>=Math.min(i.y,n.y)}function mu(i){return i>0?1:i<0?-1:0}function J5(i,r){let n=i;do{if(n.i!==i.i&&n.next.i!==i.i&&n.i!==r.i&&n.next.i!==r.i&&zv(n,n.next,i,r))return!0;n=n.next}while(n!==i);return!1}function ac(i,r){return dn(i.prev,i,i.next)<0?dn(i,r,i.next)>=0&&dn(i,i.prev,r)>=0:dn(i,r,i.prev)<0||dn(i,i.next,r)<0}function Z5(i,r){let n=i,t=!1;const o=(i.x+r.x)/2,s=(i.y+r.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&o<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(t=!t),n=n.next;while(n!==i);return t}function Wv(i,r){const n=new Jf(i.i,i.x,i.y),t=new Jf(r.i,r.x,r.y),o=i.next,s=r.prev;return i.next=r,r.prev=i,n.next=o,o.prev=n,t.next=n,n.prev=t,s.next=t,t.prev=s,t}function g0(i,r,n,t){const o=new Jf(i,r,n);return t?(o.next=t.next,o.prev=t,t.next.prev=o,t.next=o):(o.prev=o,o.next=o),o}function lc(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Jf(i,r,n){this.i=i,this.x=r,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $5(i,r,n,t){let o=0;for(let s=r,a=n-t;s<n;s+=t)o+=(i[a]-i[s])*(i[s+1]+i[a+1]),a=s;return o}class rA{static area(r){const n=r.length;let t=0;for(let o=n-1,s=0;s<n;o=s++)t+=r[o].x*r[s].y-r[s].x*r[o].y;return t*.5}static isClockWise(r){return rA.area(r)<0}static triangulateShape(r,n){const t=[],o=[],s=[];y0(r),v0(t,r);let a=r.length;n.forEach(y0);for(let l=0;l<n.length;l++)o.push(a),a+=n[l].length,v0(t,n[l]);const A=D5.triangulate(t,o);for(let l=0;l<A.length;l+=3)s.push(A.slice(l,l+3));return s}}function y0(i){const r=i.length;r>2&&i[r-1].equals(i[0])&&i.pop()}function v0(i,r){for(let n=0;n<r.length;n++)i.push(r[n].x),i.push(r[n].y)}class Ac extends Kn{constructor(r=new tA([new jt(.5,.5),new jt(-.5,.5),new jt(-.5,-.5),new jt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:r,options:n},r=Array.isArray(r)?r:[r];const t=this,o=[],s=[];for(let A=0,l=r.length;A<l;A++){const u=r[A];a(u)}this.setAttribute("position",new Yr(o,3)),this.setAttribute("uv",new Yr(s,2)),this.computeVertexNormals();function a(A){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,p=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let c=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,f=n.bevelSize!==void 0?n.bevelSize:h-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:eE;let v,w=!1,_,M,x,E;m&&(v=m.getSpacedPoints(p),w=!0,c=!1,_=m.computeFrenetFrames(p,!1),M=new He,x=new He,E=new He),c||(y=0,h=0,f=0,g=0);const C=A.extractPoints(u);let T=C.shape;const B=C.holes;if(!rA.isClockWise(T)){T=T.reverse();for(let Ae=0,ge=B.length;Ae<ge;Ae++){const ce=B[Ae];rA.isClockWise(ce)&&(B[Ae]=ce.reverse())}}const F=rA.triangulateShape(T,B),j=T;for(let Ae=0,ge=B.length;Ae<ge;Ae++){const ce=B[Ae];T=T.concat(ce)}function O(Ae,ge,ce){return ge||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ae.clone().addScaledVector(ge,ce)}const Q=T.length,z=F.length;function k(Ae,ge,ce){let de,oe,je;const Se=Ae.x-ge.x,re=Ae.y-ge.y,ie=ce.x-Ae.x,Ce=ce.y-Ae.y,Me=Se*Se+re*re,ze=Se*Ce-re*ie;if(Math.abs(ze)>Number.EPSILON){const Ge=Math.sqrt(Me),nt=Math.sqrt(ie*ie+Ce*Ce),et=ge.x-re/Ge,st=ge.y+Se/Ge,Re=ce.x-Ce/nt,Ke=ce.y+ie/nt,Le=((Re-et)*Ce-(Ke-st)*ie)/(Se*Ce-re*ie);de=et+Se*Le-Ae.x,oe=st+re*Le-Ae.y;const he=de*de+oe*oe;if(he<=2)return new jt(de,oe);je=Math.sqrt(he/2)}else{let Ge=!1;Se>Number.EPSILON?ie>Number.EPSILON&&(Ge=!0):Se<-Number.EPSILON?ie<-Number.EPSILON&&(Ge=!0):Math.sign(re)===Math.sign(Ce)&&(Ge=!0),Ge?(de=-re,oe=Se,je=Math.sqrt(Me)):(de=Se,oe=re,je=Math.sqrt(Me/2))}return new jt(de/je,oe/je)}const W=[];for(let Ae=0,ge=j.length,ce=ge-1,de=Ae+1;Ae<ge;Ae++,ce++,de++)ce===ge&&(ce=0),de===ge&&(de=0),W[Ae]=k(j[Ae],j[ce],j[de]);const Y=[];let te,R=W.concat();for(let Ae=0,ge=B.length;Ae<ge;Ae++){const ce=B[Ae];te=[];for(let de=0,oe=ce.length,je=oe-1,Se=de+1;de<oe;de++,je++,Se++)je===oe&&(je=0),Se===oe&&(Se=0),te[de]=k(ce[de],ce[je],ce[Se]);Y.push(te),R=R.concat(te)}for(let Ae=0;Ae<y;Ae++){const ge=Ae/y,ce=h*Math.cos(ge*Math.PI/2),de=f*Math.sin(ge*Math.PI/2)+g;for(let oe=0,je=j.length;oe<je;oe++){const Se=O(j[oe],W[oe],de);Z(Se.x,Se.y,-ce)}for(let oe=0,je=B.length;oe<je;oe++){const Se=B[oe];te=Y[oe];for(let re=0,ie=Se.length;re<ie;re++){const Ce=O(Se[re],te[re],de);Z(Ce.x,Ce.y,-ce)}}}const L=f+g;for(let Ae=0;Ae<Q;Ae++){const ge=c?O(T[Ae],R[Ae],L):T[Ae];w?(x.copy(_.normals[0]).multiplyScalar(ge.x),M.copy(_.binormals[0]).multiplyScalar(ge.y),E.copy(v[0]).add(x).add(M),Z(E.x,E.y,E.z)):Z(ge.x,ge.y,0)}for(let Ae=1;Ae<=p;Ae++)for(let ge=0;ge<Q;ge++){const ce=c?O(T[ge],R[ge],L):T[ge];w?(x.copy(_.normals[Ae]).multiplyScalar(ce.x),M.copy(_.binormals[Ae]).multiplyScalar(ce.y),E.copy(v[Ae]).add(x).add(M),Z(E.x,E.y,E.z)):Z(ce.x,ce.y,d/p*Ae)}for(let Ae=y-1;Ae>=0;Ae--){const ge=Ae/y,ce=h*Math.cos(ge*Math.PI/2),de=f*Math.sin(ge*Math.PI/2)+g;for(let oe=0,je=j.length;oe<je;oe++){const Se=O(j[oe],W[oe],de);Z(Se.x,Se.y,d+ce)}for(let oe=0,je=B.length;oe<je;oe++){const Se=B[oe];te=Y[oe];for(let re=0,ie=Se.length;re<ie;re++){const Ce=O(Se[re],te[re],de);w?Z(Ce.x,Ce.y+v[p-1].y,v[p-1].x+ce):Z(Ce.x,Ce.y,d+ce)}}}D(),V();function D(){const Ae=o.length/3;if(c){let ge=0,ce=Q*ge;for(let de=0;de<z;de++){const oe=F[de];se(oe[2]+ce,oe[1]+ce,oe[0]+ce)}ge=p+y*2,ce=Q*ge;for(let de=0;de<z;de++){const oe=F[de];se(oe[0]+ce,oe[1]+ce,oe[2]+ce)}}else{for(let ge=0;ge<z;ge++){const ce=F[ge];se(ce[2],ce[1],ce[0])}for(let ge=0;ge<z;ge++){const ce=F[ge];se(ce[0]+Q*p,ce[1]+Q*p,ce[2]+Q*p)}}t.addGroup(Ae,o.length/3-Ae,0)}function V(){const Ae=o.length/3;let ge=0;q(j,ge),ge+=j.length;for(let ce=0,de=B.length;ce<de;ce++){const oe=B[ce];q(oe,ge),ge+=oe.length}t.addGroup(Ae,o.length/3-Ae,1)}function q(Ae,ge){let ce=Ae.length;for(;--ce>=0;){const de=ce;let oe=ce-1;oe<0&&(oe=Ae.length-1);for(let je=0,Se=p+y*2;je<Se;je++){const re=Q*je,ie=Q*(je+1),Ce=ge+de+re,Me=ge+oe+re,ze=ge+oe+ie,Ge=ge+de+ie;fe(Ce,Me,ze,Ge)}}}function Z(Ae,ge,ce){l.push(Ae),l.push(ge),l.push(ce)}function se(Ae,ge,ce){be(Ae),be(ge),be(ce);const de=o.length/3,oe=b.generateTopUV(t,o,de-3,de-2,de-1);pe(oe[0]),pe(oe[1]),pe(oe[2])}function fe(Ae,ge,ce,de){be(Ae),be(ge),be(de),be(ge),be(ce),be(de);const oe=o.length/3,je=b.generateSideWallUV(t,o,oe-6,oe-3,oe-2,oe-1);pe(je[0]),pe(je[1]),pe(je[3]),pe(je[1]),pe(je[2]),pe(je[3])}function be(Ae){o.push(l[Ae*3+0]),o.push(l[Ae*3+1]),o.push(l[Ae*3+2])}function pe(Ae){s.push(Ae.x),s.push(Ae.y)}}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON(),n=this.parameters.shapes,t=this.parameters.options;return tE(n,t,r)}static fromJSON(r,n){const t=[];for(let s=0,a=r.shapes.length;s<a;s++){const A=n[r.shapes[s]];t.push(A)}const o=r.options.extrudePath;return o!==void 0&&(r.options.extrudePath=new qf[o.type]().fromJSON(o)),new Ac(t,r.options)}}const eE={generateTopUV:function(i,r,n,t,o){const s=r[n*3],a=r[n*3+1],A=r[t*3],l=r[t*3+1],u=r[o*3],p=r[o*3+1];return[new jt(s,a),new jt(A,l),new jt(u,p)]},generateSideWallUV:function(i,r,n,t,o,s){const a=r[n*3],A=r[n*3+1],l=r[n*3+2],u=r[t*3],p=r[t*3+1],d=r[t*3+2],c=r[o*3],h=r[o*3+1],f=r[o*3+2],g=r[s*3],y=r[s*3+1],m=r[s*3+2];return Math.abs(A-p)<Math.abs(a-u)?[new jt(a,1-l),new jt(u,1-d),new jt(c,1-f),new jt(g,1-m)]:[new jt(A,1-l),new jt(p,1-d),new jt(h,1-f),new jt(y,1-m)]}};function tE(i,r,n){if(n.shapes=[],Array.isArray(i))for(let t=0,o=i.length;t<o;t++){const s=i[t];n.shapes.push(s.uuid)}else n.shapes.push(i.uuid);return n.options=Object.assign({},r),r.extrudePath!==void 0&&(n.options.extrudePath=r.extrudePath.toJSON()),n}class Rh extends Kn{constructor(r=1,n=32,t=16,o=0,s=Math.PI*2,a=0,A=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:r,widthSegments:n,heightSegments:t,phiStart:o,phiLength:s,thetaStart:a,thetaLength:A},n=Math.max(3,Math.floor(n)),t=Math.max(2,Math.floor(t));const l=Math.min(a+A,Math.PI);let u=0;const p=[],d=new He,c=new He,h=[],f=[],g=[],y=[];for(let m=0;m<=t;m++){const b=[],v=m/t;let w=0;m===0&&a===0?w=.5/n:m===t&&l===Math.PI&&(w=-.5/n);for(let _=0;_<=n;_++){const M=_/n;d.x=-r*Math.cos(o+M*s)*Math.sin(a+v*A),d.y=r*Math.cos(a+v*A),d.z=r*Math.sin(o+M*s)*Math.sin(a+v*A),f.push(d.x,d.y,d.z),c.copy(d).normalize(),g.push(c.x,c.y,c.z),y.push(M+w,1-v),b.push(u++)}p.push(b)}for(let m=0;m<t;m++)for(let b=0;b<n;b++){const v=p[m][b+1],w=p[m][b],_=p[m+1][b],M=p[m+1][b+1];(m!==0||a>0)&&h.push(v,w,M),(m!==t-1||l<Math.PI)&&h.push(w,_,M)}this.setIndex(h),this.setAttribute("position",new Yr(f,3)),this.setAttribute("normal",new Yr(g,3)),this.setAttribute("uv",new Yr(y,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Rh(r.radius,r.widthSegments,r.heightSegments,r.phiStart,r.phiLength,r.thetaStart,r.thetaLength)}}class Xp extends Kn{constructor(r=1,n=.4,t=64,o=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:r,tube:n,tubularSegments:t,radialSegments:o,p:s,q:a},t=Math.floor(t),o=Math.floor(o);const A=[],l=[],u=[],p=[],d=new He,c=new He,h=new He,f=new He,g=new He,y=new He,m=new He;for(let v=0;v<=t;++v){const w=v/t*s*Math.PI*2;b(w,s,a,r,h),b(w+.01,s,a,r,f),y.subVectors(f,h),m.addVectors(f,h),g.crossVectors(y,m),m.crossVectors(g,y),g.normalize(),m.normalize();for(let _=0;_<=o;++_){const M=_/o*Math.PI*2,x=-n*Math.cos(M),E=n*Math.sin(M);d.x=h.x+(x*m.x+E*g.x),d.y=h.y+(x*m.y+E*g.y),d.z=h.z+(x*m.z+E*g.z),l.push(d.x,d.y,d.z),c.subVectors(d,h).normalize(),u.push(c.x,c.y,c.z),p.push(v/t),p.push(_/o)}}for(let v=1;v<=t;v++)for(let w=1;w<=o;w++){const _=(o+1)*(v-1)+(w-1),M=(o+1)*v+(w-1),x=(o+1)*v+w,E=(o+1)*(v-1)+w;A.push(_,M,E),A.push(M,x,E)}this.setIndex(A),this.setAttribute("position",new Yr(l,3)),this.setAttribute("normal",new Yr(u,3)),this.setAttribute("uv",new Yr(p,2));function b(v,w,_,M,x){const E=Math.cos(v),C=Math.sin(v),T=_/w*v,B=Math.cos(T);x.x=M*(2+B)*.5*E,x.y=M*(2+B)*C*.5,x.z=M*Math.sin(T)*.5}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Xp(r.radius,r.tube,r.tubularSegments,r.radialSegments,r.p,r.q)}}class qd extends Gs{constructor(r){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new mr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={STANDARD:""},this.color.copy(r.color),this.roughness=r.roughness,this.metalness=r.metalness,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.roughnessMap=r.roughnessMap,this.metalnessMap=r.metalnessMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapIntensity=r.envMapIntensity,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class Zf extends Gs{constructor(r){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new mr(16777215),this.specular=new mr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new mr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kp,this.normalScale=new jt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Op,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.specular.copy(r.specular),this.shininess=r.shininess,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}const b0={enabled:!1,files:{},add:function(i,r){this.enabled!==!1&&(this.files[i]=r)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class rE{constructor(r,n,t){const o=this;let s=!1,a=0,A=0,l;const u=[];this.onStart=void 0,this.onLoad=r,this.onProgress=n,this.onError=t,this.itemStart=function(p){A++,s===!1&&o.onStart!==void 0&&o.onStart(p,a,A),s=!0},this.itemEnd=function(p){a++,o.onProgress!==void 0&&o.onProgress(p,a,A),a===A&&(s=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(p){o.onError!==void 0&&o.onError(p)},this.resolveURL=function(p){return l?l(p):p},this.setURLModifier=function(p){return l=p,this},this.addHandler=function(p,d){return u.push(p,d),this},this.removeHandler=function(p){const d=u.indexOf(p);return d!==-1&&u.splice(d,2),this},this.getHandler=function(p){for(let d=0,c=u.length;d<c;d+=2){const h=u[d],f=u[d+1];if(h.global&&(h.lastIndex=0),h.test(p))return f}return null}}}const nE=new rE;class Dh{constructor(r){this.manager=r!==void 0?r:nE,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(r,n){const t=this;return new Promise(function(o,s){t.load(r,o,n,s)})}parse(){}setCrossOrigin(r){return this.crossOrigin=r,this}setWithCredentials(r){return this.withCredentials=r,this}setPath(r){return this.path=r,this}setResourcePath(r){return this.resourcePath=r,this}setRequestHeader(r){return this.requestHeader=r,this}}Dh.DEFAULT_MATERIAL_NAME="__DEFAULT";const fo={};class iE extends Error{constructor(r,n){super(r),this.response=n}}class Kv extends Dh{constructor(r){super(r)}load(r,n,t,o){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const s=b0.get(r);if(s!==void 0)return this.manager.itemStart(r),setTimeout(()=>{n&&n(s),this.manager.itemEnd(r)},0),s;if(fo[r]!==void 0){fo[r].push({onLoad:n,onProgress:t,onError:o});return}fo[r]=[],fo[r].push({onLoad:n,onProgress:t,onError:o});const a=new Request(r,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),A=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const p=fo[r],d=u.body.getReader(),c=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),h=c?parseInt(c):0,f=h!==0;let g=0;const y=new ReadableStream({start(m){b();function b(){d.read().then(({done:v,value:w})=>{if(v)m.close();else{g+=w.byteLength;const _=new ProgressEvent("progress",{lengthComputable:f,loaded:g,total:h});for(let M=0,x=p.length;M<x;M++){const E=p[M];E.onProgress&&E.onProgress(_)}m.enqueue(w),b()}})}}});return new Response(y)}else throw new iE(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(p=>new DOMParser().parseFromString(p,A));case"json":return u.json();default:if(A===void 0)return u.text();{const d=/charset="?([^;"\s]*)"?/i.exec(A),c=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(c);return u.arrayBuffer().then(f=>h.decode(f))}}}).then(u=>{b0.add(r,u);const p=fo[r];delete fo[r];for(let d=0,c=p.length;d<c;d++){const h=p[d];h.onLoad&&h.onLoad(u)}}).catch(u=>{const p=fo[r];if(p===void 0)throw this.manager.itemError(r),u;delete fo[r];for(let d=0,c=p.length;d<c;d++){const h=p[d];h.onError&&h.onError(u)}this.manager.itemError(r)}).finally(()=>{this.manager.itemEnd(r)}),this.manager.itemStart(r)}setResponseType(r){return this.responseType=r,this}setMimeType(r){return this.mimeType=r,this}}class Yp extends Pn{constructor(r,n=1){super(),this.isLight=!0,this.type="Light",this.color=new mr(r),this.intensity=n}dispose(){}copy(r,n){return super.copy(r,n),this.color.copy(r.color),this.intensity=r.intensity,this}toJSON(r){const n=super.toJSON(r);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Xd=new fn,w0=new He,_0=new He;class qv{constructor(r){this.camera=r,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new jt(512,512),this.map=null,this.mapPass=null,this.matrix=new fn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gp,this._frameExtents=new jt(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(r){const n=this.camera,t=this.matrix;w0.setFromMatrixPosition(r.matrixWorld),n.position.copy(w0),_0.setFromMatrixPosition(r.target.matrixWorld),n.lookAt(_0),n.updateMatrixWorld(),Xd.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Xd),t.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),t.multiply(Xd)}getViewport(r){return this._viewports[r]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(r){return this.camera=r.camera.clone(),this.bias=r.bias,this.radius=r.radius,this.mapSize.copy(r.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const r={};return this.bias!==0&&(r.bias=this.bias),this.normalBias!==0&&(r.normalBias=this.normalBias),this.radius!==1&&(r.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(r.mapSize=this.mapSize.toArray()),r.camera=this.camera.toJSON(!1).object,delete r.camera.matrix,r}}const x0=new fn,TA=new He,Yd=new He;class sE extends qv{constructor(){super(new gi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new jt(4,2),this._viewportCount=6,this._viewports=[new cn(2,1,1,1),new cn(0,1,1,1),new cn(3,1,1,1),new cn(1,1,1,1),new cn(3,0,1,1),new cn(1,0,1,1)],this._cubeDirections=[new He(1,0,0),new He(-1,0,0),new He(0,0,1),new He(0,0,-1),new He(0,1,0),new He(0,-1,0)],this._cubeUps=[new He(0,1,0),new He(0,1,0),new He(0,1,0),new He(0,1,0),new He(0,0,1),new He(0,0,-1)]}updateMatrices(r,n=0){const t=this.camera,o=this.matrix,s=r.distance||t.far;s!==t.far&&(t.far=s,t.updateProjectionMatrix()),TA.setFromMatrixPosition(r.matrixWorld),t.position.copy(TA),Yd.copy(t.position),Yd.add(this._cubeDirections[n]),t.up.copy(this._cubeUps[n]),t.lookAt(Yd),t.updateMatrixWorld(),o.makeTranslation(-TA.x,-TA.y,-TA.z),x0.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(x0)}}class S0 extends Yp{constructor(r,n,t=0,o=2){super(r,n),this.isPointLight=!0,this.type="PointLight",this.distance=t,this.decay=o,this.shadow=new sE}get power(){return this.intensity*4*Math.PI}set power(r){this.intensity=r/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(r,n){return super.copy(r,n),this.distance=r.distance,this.decay=r.decay,this.shadow=r.shadow.clone(),this}}class oE extends qv{constructor(){super(new zp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class aE extends Yp{constructor(r,n){super(r,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.shadow=new oE}dispose(){this.shadow.dispose()}copy(r){return super.copy(r),this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}class Xv extends Yp{constructor(r,n){super(r,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class B0{constructor(r=1,n=0,t=0){return this.radius=r,this.phi=n,this.theta=t,this}set(r,n,t){return this.radius=r,this.phi=n,this.theta=t,this}copy(r){return this.radius=r.radius,this.phi=r.phi,this.theta=r.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,n,t){return this.radius=Math.sqrt(r*r+n*n+t*t),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(r,t),this.phi=Math.acos(Un(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const E0=new He,gu=new He;class lE{constructor(r=new He,n=new He){this.start=r,this.end=n}set(r,n){return this.start.copy(r),this.end.copy(n),this}copy(r){return this.start.copy(r.start),this.end.copy(r.end),this}getCenter(r){return r.addVectors(this.start,this.end).multiplyScalar(.5)}delta(r){return r.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(r,n){return this.delta(n).multiplyScalar(r).add(this.start)}closestPointToPointParameter(r,n){E0.subVectors(r,this.start),gu.subVectors(this.end,this.start);const t=gu.dot(gu);let s=gu.dot(E0)/t;return n&&(s=Un(s,0,1)),s}closestPointToPoint(r,n,t){const o=this.closestPointToPointParameter(r,n);return this.delta(t).multiplyScalar(o).add(this.start)}applyMatrix4(r){return this.start.applyMatrix4(r),this.end.applyMatrix4(r),this}equals(r){return r.start.equals(this.start)&&r.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class AE{constructor(){this.type="ShapePath",this.color=new mr,this.subPaths=[],this.currentPath=null}moveTo(r,n){return this.currentPath=new Xf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(r,n),this}lineTo(r,n){return this.currentPath.lineTo(r,n),this}quadraticCurveTo(r,n,t,o){return this.currentPath.quadraticCurveTo(r,n,t,o),this}bezierCurveTo(r,n,t,o,s,a){return this.currentPath.bezierCurveTo(r,n,t,o,s,a),this}splineThru(r){return this.currentPath.splineThru(r),this}toShapes(r){function n(m){const b=[];for(let v=0,w=m.length;v<w;v++){const _=m[v],M=new tA;M.curves=_.curves,b.push(M)}return b}function t(m,b){const v=b.length;let w=!1;for(let _=v-1,M=0;M<v;_=M++){let x=b[_],E=b[M],C=E.x-x.x,T=E.y-x.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(x=b[M],C=-C,E=b[_],T=-T),m.y<x.y||m.y>E.y)continue;if(m.y===x.y){if(m.x===x.x)return!0}else{const B=T*(m.x-x.x)-C*(m.y-x.y);if(B===0)return!0;if(B<0)continue;w=!w}}else{if(m.y!==x.y)continue;if(E.x<=m.x&&m.x<=x.x||x.x<=m.x&&m.x<=E.x)return!0}}return w}const o=rA.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,A,l;const u=[];if(s.length===1)return A=s[0],l=new tA,l.curves=A.curves,u.push(l),u;let p=!o(s[0].getPoints());p=r?!p:p;const d=[],c=[];let h=[],f=0,g;c[f]=void 0,h[f]=[];for(let m=0,b=s.length;m<b;m++)A=s[m],g=A.getPoints(),a=o(g),a=r?!a:a,a?(!p&&c[f]&&f++,c[f]={s:new tA,p:g},c[f].s.curves=A.curves,p&&f++,h[f]=[]):h[f].push({h:A,p:g[0]});if(!c[0])return n(s);if(c.length>1){let m=!1,b=0;for(let v=0,w=c.length;v<w;v++)d[v]=[];for(let v=0,w=c.length;v<w;v++){const _=h[v];for(let M=0;M<_.length;M++){const x=_[M];let E=!0;for(let C=0;C<c.length;C++)t(x.p,c[C].p)&&(v!==C&&b++,E?(E=!1,d[C].push(x)):m=!0);E&&d[v].push(x)}}b>0&&m===!1&&(h=d)}let y;for(let m=0,b=c.length;m<b;m++){l=c[m].s,u.push(l),y=h[m];for(let v=0,w=y.length;v<w;v++)l.holes.push(y[v].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Dp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Dp);class Jp extends Dh{constructor(r){super(r)}load(r,n,t,o){const s=this,a=new Kv(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(r,function(A){const l=s.parse(JSON.parse(A));n&&n(l)},t,o)}parse(r){return new cE(r)}}class cE{constructor(r){this.isFont=!0,this.type="Font",this.data=r}generateShapes(r,n=100){const t=[],o=uE(r,n,this.data);for(let s=0,a=o.length;s<a;s++)t.push(...o[s].toShapes());return t}}function uE(i,r,n){const t=Array.from(i),o=r/n.resolution,s=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*o,a=[];let A=0,l=0;for(let u=0;u<t.length;u++){const p=t[u];if(p===`
`)A=0,l-=s;else{const d=hE(p,o,A,l,n);A+=d.offsetX,a.push(d.path)}}return a}function hE(i,r,n,t,o){const s=o.glyphs[i]||o.glyphs["?"];if(!s){console.error('THREE.Font: character "'+i+'" does not exists in font family '+o.familyName+".");return}const a=new AE;let A,l,u,p,d,c,h,f;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,m=g.length;y<m;)switch(g[y++]){case"m":A=g[y++]*r+n,l=g[y++]*r+t,a.moveTo(A,l);break;case"l":A=g[y++]*r+n,l=g[y++]*r+t,a.lineTo(A,l);break;case"q":u=g[y++]*r+n,p=g[y++]*r+t,d=g[y++]*r+n,c=g[y++]*r+t,a.quadraticCurveTo(d,c,u,p);break;case"b":u=g[y++]*r+n,p=g[y++]*r+t,d=g[y++]*r+n,c=g[y++]*r+t,h=g[y++]*r+n,f=g[y++]*r+t,a.bezierCurveTo(d,c,h,f,u,p);break}}return{offsetX:s.ha*r,path:a}}class cc extends Ac{constructor(r,n={}){const t=n.font;if(t===void 0)super();else{const o=t.generateShapes(r,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(o,n)}this.type="TextGeometry"}}const xo=11102230246251565e-32,ni=134217729,dE=(3+8*xo)*xo;function Jd(i,r,n,t,o){let s,a,A,l,u=r[0],p=t[0],d=0,c=0;p>u==p>-u?(s=u,u=r[++d]):(s=p,p=t[++c]);let h=0;if(d<i&&c<n)for(p>u==p>-u?(a=u+s,A=s-(a-u),u=r[++d]):(a=p+s,A=s-(a-p),p=t[++c]),s=a,A!==0&&(o[h++]=A);d<i&&c<n;)p>u==p>-u?(a=s+u,l=a-s,A=s-(a-l)+(u-l),u=r[++d]):(a=s+p,l=a-s,A=s-(a-l)+(p-l),p=t[++c]),s=a,A!==0&&(o[h++]=A);for(;d<i;)a=s+u,l=a-s,A=s-(a-l)+(u-l),u=r[++d],s=a,A!==0&&(o[h++]=A);for(;c<n;)a=s+p,l=a-s,A=s-(a-l)+(p-l),p=t[++c],s=a,A!==0&&(o[h++]=A);return(s!==0||h===0)&&(o[h++]=s),h}function fE(i,r){let n=r[0];for(let t=1;t<i;t++)n+=r[t];return n}function yc(i){return new Float64Array(i)}const pE=(3+16*xo)*xo,mE=(2+12*xo)*xo,gE=(9+64*xo)*xo*xo,Fl=yc(4),C0=yc(8),M0=yc(12),T0=yc(16),hi=yc(4);function yE(i,r,n,t,o,s,a){let A,l,u,p,d,c,h,f,g,y,m,b,v,w,_,M,x,E;const C=i-o,T=n-o,B=r-s,P=t-s;w=C*P,c=ni*C,h=c-(c-C),f=C-h,c=ni*P,g=c-(c-P),y=P-g,_=f*y-(w-h*g-f*g-h*y),M=B*T,c=ni*B,h=c-(c-B),f=B-h,c=ni*T,g=c-(c-T),y=T-g,x=f*y-(M-h*g-f*g-h*y),m=_-x,d=_-m,Fl[0]=_-(m+d)+(d-x),b=w+m,d=b-w,v=w-(b-d)+(m-d),m=v-M,d=v-m,Fl[1]=v-(m+d)+(d-M),E=b+m,d=E-b,Fl[2]=b-(E-d)+(m-d),Fl[3]=E;let F=fE(4,Fl),j=mE*a;if(F>=j||-F>=j||(d=i-C,A=i-(C+d)+(d-o),d=n-T,u=n-(T+d)+(d-o),d=r-B,l=r-(B+d)+(d-s),d=t-P,p=t-(P+d)+(d-s),A===0&&l===0&&u===0&&p===0)||(j=gE*a+dE*Math.abs(F),F+=C*p+P*A-(B*u+T*l),F>=j||-F>=j))return F;w=A*P,c=ni*A,h=c-(c-A),f=A-h,c=ni*P,g=c-(c-P),y=P-g,_=f*y-(w-h*g-f*g-h*y),M=l*T,c=ni*l,h=c-(c-l),f=l-h,c=ni*T,g=c-(c-T),y=T-g,x=f*y-(M-h*g-f*g-h*y),m=_-x,d=_-m,hi[0]=_-(m+d)+(d-x),b=w+m,d=b-w,v=w-(b-d)+(m-d),m=v-M,d=v-m,hi[1]=v-(m+d)+(d-M),E=b+m,d=E-b,hi[2]=b-(E-d)+(m-d),hi[3]=E;const O=Jd(4,Fl,4,hi,C0);w=C*p,c=ni*C,h=c-(c-C),f=C-h,c=ni*p,g=c-(c-p),y=p-g,_=f*y-(w-h*g-f*g-h*y),M=B*u,c=ni*B,h=c-(c-B),f=B-h,c=ni*u,g=c-(c-u),y=u-g,x=f*y-(M-h*g-f*g-h*y),m=_-x,d=_-m,hi[0]=_-(m+d)+(d-x),b=w+m,d=b-w,v=w-(b-d)+(m-d),m=v-M,d=v-m,hi[1]=v-(m+d)+(d-M),E=b+m,d=E-b,hi[2]=b-(E-d)+(m-d),hi[3]=E;const Q=Jd(O,C0,4,hi,M0);w=A*p,c=ni*A,h=c-(c-A),f=A-h,c=ni*p,g=c-(c-p),y=p-g,_=f*y-(w-h*g-f*g-h*y),M=l*u,c=ni*l,h=c-(c-l),f=l-h,c=ni*u,g=c-(c-u),y=u-g,x=f*y-(M-h*g-f*g-h*y),m=_-x,d=_-m,hi[0]=_-(m+d)+(d-x),b=w+m,d=b-w,v=w-(b-d)+(m-d),m=v-M,d=v-m,hi[1]=v-(m+d)+(d-M),E=b+m,d=E-b,hi[2]=b-(E-d)+(m-d),hi[3]=E;const z=Jd(Q,M0,4,hi,T0);return T0[z-1]}function yu(i,r,n,t,o,s){const a=(r-s)*(n-o),A=(i-o)*(t-s),l=a-A,u=Math.abs(a+A);return Math.abs(l)>=pE*u?l:-yE(i,r,n,t,o,s,u)}const L0=Math.pow(2,-52),vu=new Uint32Array(512);class mh{static from(r,n=xE,t=SE){const o=r.length,s=new Float64Array(o*2);for(let a=0;a<o;a++){const A=r[a];s[2*a]=n(A),s[2*a+1]=t(A)}return new mh(s)}constructor(r){const n=r.length>>1;if(n>0&&typeof r[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=r;const t=Math.max(2*n-5,0);this._triangles=new Uint32Array(t*3),this._halfedges=new Int32Array(t*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:r,_hullPrev:n,_hullNext:t,_hullTri:o,_hullHash:s}=this,a=r.length>>1;let A=1/0,l=1/0,u=-1/0,p=-1/0;for(let T=0;T<a;T++){const B=r[2*T],P=r[2*T+1];B<A&&(A=B),P<l&&(l=P),B>u&&(u=B),P>p&&(p=P),this._ids[T]=T}const d=(A+u)/2,c=(l+p)/2;let h=1/0,f,g,y;for(let T=0;T<a;T++){const B=Zd(d,c,r[2*T],r[2*T+1]);B<h&&(f=T,h=B)}const m=r[2*f],b=r[2*f+1];h=1/0;for(let T=0;T<a;T++){if(T===f)continue;const B=Zd(m,b,r[2*T],r[2*T+1]);B<h&&B>0&&(g=T,h=B)}let v=r[2*g],w=r[2*g+1],_=1/0;for(let T=0;T<a;T++){if(T===f||T===g)continue;const B=wE(m,b,v,w,r[2*T],r[2*T+1]);B<_&&(y=T,_=B)}let M=r[2*y],x=r[2*y+1];if(_===1/0){for(let P=0;P<a;P++)this._dists[P]=r[2*P]-r[0]||r[2*P+1]-r[1];Yl(this._ids,this._dists,0,a-1);const T=new Uint32Array(a);let B=0;for(let P=0,F=-1/0;P<a;P++){const j=this._ids[P];this._dists[j]>F&&(T[B++]=j,F=this._dists[j])}this.hull=T.subarray(0,B),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(yu(m,b,v,w,M,x)<0){const T=g,B=v,P=w;g=y,v=M,w=x,y=T,M=B,x=P}const E=_E(m,b,v,w,M,x);this._cx=E.x,this._cy=E.y;for(let T=0;T<a;T++)this._dists[T]=Zd(r[2*T],r[2*T+1],E.x,E.y);Yl(this._ids,this._dists,0,a-1),this._hullStart=f;let C=3;t[f]=n[y]=g,t[g]=n[f]=y,t[y]=n[g]=f,o[f]=0,o[g]=1,o[y]=2,s.fill(-1),s[this._hashKey(m,b)]=f,s[this._hashKey(v,w)]=g,s[this._hashKey(M,x)]=y,this.trianglesLen=0,this._addTriangle(f,g,y,-1,-1,-1);for(let T=0,B,P;T<this._ids.length;T++){const F=this._ids[T],j=r[2*F],O=r[2*F+1];if(T>0&&Math.abs(j-B)<=L0&&Math.abs(O-P)<=L0||(B=j,P=O,F===f||F===g||F===y))continue;let Q=0;for(let te=0,R=this._hashKey(j,O);te<this._hashSize&&(Q=s[(R+te)%this._hashSize],!(Q!==-1&&Q!==t[Q]));te++);Q=n[Q];let z=Q,k;for(;k=t[z],yu(j,O,r[2*z],r[2*z+1],r[2*k],r[2*k+1])>=0;)if(z=k,z===Q){z=-1;break}if(z===-1)continue;let W=this._addTriangle(z,F,t[z],-1,-1,o[z]);o[F]=this._legalize(W+2),o[z]=W,C++;let Y=t[z];for(;k=t[Y],yu(j,O,r[2*Y],r[2*Y+1],r[2*k],r[2*k+1])<0;)W=this._addTriangle(Y,F,k,o[F],-1,o[Y]),o[F]=this._legalize(W+2),t[Y]=Y,C--,Y=k;if(z===Q)for(;k=n[z],yu(j,O,r[2*k],r[2*k+1],r[2*z],r[2*z+1])<0;)W=this._addTriangle(k,F,z,-1,o[z],o[k]),this._legalize(W+2),o[k]=W,t[z]=z,C--,z=k;this._hullStart=n[F]=z,t[z]=n[Y]=F,t[F]=Y,s[this._hashKey(j,O)]=F,s[this._hashKey(r[2*z],r[2*z+1])]=z}this.hull=new Uint32Array(C);for(let T=0,B=this._hullStart;T<C;T++)this.hull[T]=B,B=t[B];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(r,n){return Math.floor(vE(r-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(r){const{_triangles:n,_halfedges:t,coords:o}=this;let s=0,a=0;for(;;){const A=t[r],l=r-r%3;if(a=l+(r+2)%3,A===-1){if(s===0)break;r=vu[--s];continue}const u=A-A%3,p=l+(r+1)%3,d=u+(A+2)%3,c=n[a],h=n[r],f=n[p],g=n[d];if(bE(o[2*c],o[2*c+1],o[2*h],o[2*h+1],o[2*f],o[2*f+1],o[2*g],o[2*g+1])){n[r]=g,n[A]=c;const m=t[d];if(m===-1){let v=this._hullStart;do{if(this._hullTri[v]===d){this._hullTri[v]=r;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(r,m),this._link(A,t[a]),this._link(a,d);const b=u+(A+1)%3;s<vu.length&&(vu[s++]=b)}else{if(s===0)break;r=vu[--s]}}return a}_link(r,n){this._halfedges[r]=n,n!==-1&&(this._halfedges[n]=r)}_addTriangle(r,n,t,o,s,a){const A=this.trianglesLen;return this._triangles[A]=r,this._triangles[A+1]=n,this._triangles[A+2]=t,this._link(A,o),this._link(A+1,s),this._link(A+2,a),this.trianglesLen+=3,A}}function vE(i,r){const n=i/(Math.abs(i)+Math.abs(r));return(r>0?3-n:1+n)/4}function Zd(i,r,n,t){const o=i-n,s=r-t;return o*o+s*s}function bE(i,r,n,t,o,s,a,A){const l=i-a,u=r-A,p=n-a,d=t-A,c=o-a,h=s-A,f=l*l+u*u,g=p*p+d*d,y=c*c+h*h;return l*(d*y-g*h)-u*(p*y-g*c)+f*(p*h-d*c)<0}function wE(i,r,n,t,o,s){const a=n-i,A=t-r,l=o-i,u=s-r,p=a*a+A*A,d=l*l+u*u,c=.5/(a*u-A*l),h=(u*p-A*d)*c,f=(a*d-l*p)*c;return h*h+f*f}function _E(i,r,n,t,o,s){const a=n-i,A=t-r,l=o-i,u=s-r,p=a*a+A*A,d=l*l+u*u,c=.5/(a*u-A*l),h=i+(u*p-A*d)*c,f=r+(a*d-l*p)*c;return{x:h,y:f}}function Yl(i,r,n,t){if(t-n<=20)for(let o=n+1;o<=t;o++){const s=i[o],a=r[s];let A=o-1;for(;A>=n&&r[i[A]]>a;)i[A+1]=i[A--];i[A+1]=s}else{const o=n+t>>1;let s=n+1,a=t;LA(i,o,s),r[i[n]]>r[i[t]]&&LA(i,n,t),r[i[s]]>r[i[t]]&&LA(i,s,t),r[i[n]]>r[i[s]]&&LA(i,n,s);const A=i[s],l=r[A];for(;;){do s++;while(r[i[s]]<l);do a--;while(r[i[a]]>l);if(a<s)break;LA(i,s,a)}i[n+1]=i[a],i[a]=A,t-s+1>=a-n?(Yl(i,r,s,t),Yl(i,r,n,a-1)):(Yl(i,r,n,a-1),Yl(i,r,s,t))}}function LA(i,r,n){const t=i[r];i[r]=i[n],i[n]=t}function xE(i){return i[0]}function SE(i){return i[1]}const F0=1e-6;class Ra{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(r,n){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(r,n){this._+=`L${this._x1=+r},${this._y1=+n}`}arc(r,n,t){r=+r,n=+n,t=+t;const o=r+t,s=n;if(t<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${s}`:(Math.abs(this._x1-o)>F0||Math.abs(this._y1-s)>F0)&&(this._+="L"+o+","+s),t&&(this._+=`A${t},${t},0,1,1,${r-t},${n}A${t},${t},0,1,1,${this._x1=o},${this._y1=s}`)}rect(r,n,t,o){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${+t}v${+o}h${-t}Z`}value(){return this._||null}}class $f{constructor(){this._=[]}moveTo(r,n){this._.push([r,n])}closePath(){this._.push(this._[0].slice())}lineTo(r,n){this._.push([r,n])}value(){return this._.length?this._:null}}class BE{constructor(r,[n,t,o,s]=[0,0,960,500]){if(!((o=+o)>=(n=+n))||!((s=+s)>=(t=+t)))throw new Error("invalid bounds");this.delaunay=r,this._circumcenters=new Float64Array(r.points.length*2),this.vectors=new Float64Array(r.points.length*2),this.xmax=o,this.xmin=n,this.ymax=s,this.ymin=t,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:r,hull:n,triangles:t},vectors:o}=this;let s,a;const A=this.circumcenters=this._circumcenters.subarray(0,t.length/3*2);for(let g=0,y=0,m=t.length,b,v;g<m;g+=3,y+=2){const w=t[g]*2,_=t[g+1]*2,M=t[g+2]*2,x=r[w],E=r[w+1],C=r[_],T=r[_+1],B=r[M],P=r[M+1],F=C-x,j=T-E,O=B-x,Q=P-E,z=(F*Q-j*O)*2;if(Math.abs(z)<1e-9){if(s===void 0){s=a=0;for(const W of n)s+=r[W*2],a+=r[W*2+1];s/=n.length,a/=n.length}const k=1e9*Math.sign((s-x)*Q-(a-E)*O);b=(x+B)/2-k*Q,v=(E+P)/2+k*O}else{const k=1/z,W=F*F+j*j,Y=O*O+Q*Q;b=x+(Q*W-j*Y)*k,v=E+(F*Y-O*W)*k}A[y]=b,A[y+1]=v}let l=n[n.length-1],u,p=l*4,d,c=r[2*l],h,f=r[2*l+1];o.fill(0);for(let g=0;g<n.length;++g)l=n[g],u=p,d=c,h=f,p=l*4,c=r[2*l],f=r[2*l+1],o[u+2]=o[p]=h-f,o[u+3]=o[p+1]=c-d}render(r){const n=r==null?r=new Ra:void 0,{delaunay:{halfedges:t,inedges:o,hull:s},circumcenters:a,vectors:A}=this;if(s.length<=1)return null;for(let p=0,d=t.length;p<d;++p){const c=t[p];if(c<p)continue;const h=Math.floor(p/3)*2,f=Math.floor(c/3)*2,g=a[h],y=a[h+1],m=a[f],b=a[f+1];this._renderSegment(g,y,m,b,r)}let l,u=s[s.length-1];for(let p=0;p<s.length;++p){l=u,u=s[p];const d=Math.floor(o[u]/3)*2,c=a[d],h=a[d+1],f=l*4,g=this._project(c,h,A[f+2],A[f+3]);g&&this._renderSegment(c,h,g[0],g[1],r)}return n&&n.value()}renderBounds(r){const n=r==null?r=new Ra:void 0;return r.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(r,n){const t=n==null?n=new Ra:void 0,o=this._clip(r);if(o===null||!o.length)return;n.moveTo(o[0],o[1]);let s=o.length;for(;o[0]===o[s-2]&&o[1]===o[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&n.lineTo(o[a],o[a+1]);return n.closePath(),t&&t.value()}*cellPolygons(){const{delaunay:{points:r}}=this;for(let n=0,t=r.length/2;n<t;++n){const o=this.cellPolygon(n);o&&(o.index=n,yield o)}}cellPolygon(r){const n=new $f;return this.renderCell(r,n),n.value()}_renderSegment(r,n,t,o,s){let a;const A=this._regioncode(r,n),l=this._regioncode(t,o);A===0&&l===0?(s.moveTo(r,n),s.lineTo(t,o)):(a=this._clipSegment(r,n,t,o,A,l))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(r,n,t){return n=+n,n!==n||(t=+t,t!==t)?!1:this.delaunay._step(r,n,t)===r}*neighbors(r){const n=this._clip(r);if(n)for(const t of this.delaunay.neighbors(r)){const o=this._clip(t);if(o){e:for(let s=0,a=n.length;s<a;s+=2)for(let A=0,l=o.length;A<l;A+=2)if(n[s]===o[A]&&n[s+1]===o[A+1]&&n[(s+2)%a]===o[(A+l-2)%l]&&n[(s+3)%a]===o[(A+l-1)%l]){yield t;break e}}}}_cell(r){const{circumcenters:n,delaunay:{inedges:t,halfedges:o,triangles:s}}=this,a=t[r];if(a===-1)return null;const A=[];let l=a;do{const u=Math.floor(l/3);if(A.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==r)break;l=o[l]}while(l!==a&&l!==-1);return A}_clip(r){if(r===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(r);if(n===null)return null;const{vectors:t}=this,o=r*4;return this._simplify(t[o]||t[o+1]?this._clipInfinite(r,n,t[o],t[o+1],t[o+2],t[o+3]):this._clipFinite(r,n))}_clipFinite(r,n){const t=n.length;let o=null,s,a,A=n[t-2],l=n[t-1],u,p=this._regioncode(A,l),d,c=0;for(let h=0;h<t;h+=2)if(s=A,a=l,A=n[h],l=n[h+1],u=p,p=this._regioncode(A,l),u===0&&p===0)d=c,c=0,o?o.push(A,l):o=[A,l];else{let f,g,y,m,b;if(u===0){if((f=this._clipSegment(s,a,A,l,u,p))===null)continue;[g,y,m,b]=f}else{if((f=this._clipSegment(A,l,s,a,p,u))===null)continue;[m,b,g,y]=f,d=c,c=this._edgecode(g,y),d&&c&&this._edge(r,d,c,o,o.length),o?o.push(g,y):o=[g,y]}d=c,c=this._edgecode(m,b),d&&c&&this._edge(r,d,c,o,o.length),o?o.push(m,b):o=[m,b]}if(o)d=c,c=this._edgecode(o[0],o[1]),d&&c&&this._edge(r,d,c,o,o.length);else if(this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(r,n,t,o,s,a){const A=s<a;for(A&&([r,n,t,o,s,a]=[t,o,r,n,a,s]);;){if(s===0&&a===0)return A?[t,o,r,n]:[r,n,t,o];if(s&a)return null;let l,u,p=s||a;p&8?(l=r+(t-r)*(this.ymax-n)/(o-n),u=this.ymax):p&4?(l=r+(t-r)*(this.ymin-n)/(o-n),u=this.ymin):p&2?(u=n+(o-n)*(this.xmax-r)/(t-r),l=this.xmax):(u=n+(o-n)*(this.xmin-r)/(t-r),l=this.xmin),s?(r=l,n=u,s=this._regioncode(r,n)):(t=l,o=u,a=this._regioncode(t,o))}}_clipInfinite(r,n,t,o,s,a){let A=Array.from(n),l;if((l=this._project(A[0],A[1],t,o))&&A.unshift(l[0],l[1]),(l=this._project(A[A.length-2],A[A.length-1],s,a))&&A.push(l[0],l[1]),A=this._clipFinite(r,A))for(let u=0,p=A.length,d,c=this._edgecode(A[p-2],A[p-1]);u<p;u+=2)d=c,c=this._edgecode(A[u],A[u+1]),d&&c&&(u=this._edge(r,d,c,A,u),p=A.length);else this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(A=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return A}_edge(r,n,t,o,s){for(;n!==t;){let a,A;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,A=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,A=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,A=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,A=this.ymin;break}(o[s]!==a||o[s+1]!==A)&&this.contains(r,a,A)&&(o.splice(s,0,a,A),s+=2)}return s}_project(r,n,t,o){let s=1/0,a,A,l;if(o<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/o)<s&&(l=this.ymin,A=r+(s=a)*t)}else if(o>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/o)<s&&(l=this.ymax,A=r+(s=a)*t)}if(t>0){if(r>=this.xmax)return null;(a=(this.xmax-r)/t)<s&&(A=this.xmax,l=n+(s=a)*o)}else if(t<0){if(r<=this.xmin)return null;(a=(this.xmin-r)/t)<s&&(A=this.xmin,l=n+(s=a)*o)}return[A,l]}_edgecode(r,n){return(r===this.xmin?1:r===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(r,n){return(r<this.xmin?1:r>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(r){if(r&&r.length>4){for(let n=0;n<r.length;n+=2){const t=(n+2)%r.length,o=(n+4)%r.length;(r[n]===r[t]&&r[t]===r[o]||r[n+1]===r[t+1]&&r[t+1]===r[o+1])&&(r.splice(t,2),n-=2)}r.length||(r=null)}return r}}const EE=2*Math.PI,Ul=Math.pow;function CE(i){return i[0]}function ME(i){return i[1]}function TE(i){const{triangles:r,coords:n}=i;for(let t=0;t<r.length;t+=3){const o=2*r[t],s=2*r[t+1],a=2*r[t+2];if((n[a]-n[o])*(n[s+1]-n[o+1])-(n[s]-n[o])*(n[a+1]-n[o+1])>1e-10)return!1}return!0}function LE(i,r,n){return[i+Math.sin(i+r)*n,r+Math.cos(i-r)*n]}class Zp{static from(r,n=CE,t=ME,o){return new Zp("length"in r?FE(r,n,t,o):Float64Array.from(UE(r,n,t,o)))}constructor(r){this._delaunator=new mh(r),this.inedges=new Int32Array(r.length/2),this._hullIndex=new Int32Array(r.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const r=this._delaunator,n=this.points;if(r.hull&&r.hull.length>2&&TE(r)){this.collinear=Int32Array.from({length:n.length/2},(c,h)=>h).sort((c,h)=>n[2*c]-n[2*h]||n[2*c+1]-n[2*h+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],p=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(p[3]-p[1],p[2]-p[0]);for(let c=0,h=n.length/2;c<h;++c){const f=LE(n[2*c],n[2*c+1],d);n[2*c]=f[0],n[2*c+1]=f[1]}this._delaunator=new mh(n)}else delete this.collinear;const t=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),A=this._hullIndex.fill(-1);for(let l=0,u=t.length;l<u;++l){const p=s[l%3===2?l-2:l+1];(t[l]===-1||a[p]===-1)&&(a[p]=l)}for(let l=0,u=o.length;l<u;++l)A[o[l]]=l;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,o.length===2&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(r){return new BE(this,r)}*neighbors(r){const{inedges:n,hull:t,_hullIndex:o,halfedges:s,triangles:a,collinear:A}=this;if(A){const d=A.indexOf(r);d>0&&(yield A[d-1]),d<A.length-1&&(yield A[d+1]);return}const l=n[r];if(l===-1)return;let u=l,p=-1;do{if(yield p=a[u],u=u%3===2?u-2:u+1,a[u]!==r)return;if(u=s[u],u===-1){const d=t[(o[r]+1)%t.length];d!==p&&(yield d);return}}while(u!==l)}find(r,n,t=0){if(r=+r,r!==r||(n=+n,n!==n))return-1;const o=t;let s;for(;(s=this._step(t,r,n))>=0&&s!==t&&s!==o;)t=s;return s}_step(r,n,t){const{inedges:o,hull:s,_hullIndex:a,halfedges:A,triangles:l,points:u}=this;if(o[r]===-1||!u.length)return(r+1)%(u.length>>1);let p=r,d=Ul(n-u[r*2],2)+Ul(t-u[r*2+1],2);const c=o[r];let h=c;do{let f=l[h];const g=Ul(n-u[f*2],2)+Ul(t-u[f*2+1],2);if(g<d&&(d=g,p=f),h=h%3===2?h-2:h+1,l[h]!==r)break;if(h=A[h],h===-1){if(h=s[(a[r]+1)%s.length],h!==f&&Ul(n-u[h*2],2)+Ul(t-u[h*2+1],2)<d)return h;break}}while(h!==c);return p}render(r){const n=r==null?r=new Ra:void 0,{points:t,halfedges:o,triangles:s}=this;for(let a=0,A=o.length;a<A;++a){const l=o[a];if(l<a)continue;const u=s[a]*2,p=s[l]*2;r.moveTo(t[u],t[u+1]),r.lineTo(t[p],t[p+1])}return this.renderHull(r),n&&n.value()}renderPoints(r,n){n===void 0&&(!r||typeof r.moveTo!="function")&&(n=r,r=null),n=n==null?2:+n;const t=r==null?r=new Ra:void 0,{points:o}=this;for(let s=0,a=o.length;s<a;s+=2){const A=o[s],l=o[s+1];r.moveTo(A+n,l),r.arc(A,l,n,0,EE)}return t&&t.value()}renderHull(r){const n=r==null?r=new Ra:void 0,{hull:t,points:o}=this,s=t[0]*2,a=t.length;r.moveTo(o[s],o[s+1]);for(let A=1;A<a;++A){const l=2*t[A];r.lineTo(o[l],o[l+1])}return r.closePath(),n&&n.value()}hullPolygon(){const r=new $f;return this.renderHull(r),r.value()}renderTriangle(r,n){const t=n==null?n=new Ra:void 0,{points:o,triangles:s}=this,a=s[r*=3]*2,A=s[r+1]*2,l=s[r+2]*2;return n.moveTo(o[a],o[a+1]),n.lineTo(o[A],o[A+1]),n.lineTo(o[l],o[l+1]),n.closePath(),t&&t.value()}*trianglePolygons(){const{triangles:r}=this;for(let n=0,t=r.length/3;n<t;++n)yield this.trianglePolygon(n)}trianglePolygon(r){const n=new $f;return this.renderTriangle(r,n),n.value()}}function FE(i,r,n,t){const o=i.length,s=new Float64Array(o*2);for(let a=0;a<o;++a){const A=i[a];s[a*2]=r.call(t,A,a,i),s[a*2+1]=n.call(t,A,a,i)}return s}function*UE(i,r,n,t){let o=0;for(const s of i)yield r.call(t,s,o,i),yield n.call(t,s,o,i),++o}const U0={type:"change"},$d={type:"start"},I0={type:"end"},bu=new Fh,P0=new bo,IE=Math.cos(70*bv.DEG2RAD);class Oh extends qa{constructor(r,n){super(),this.object=r,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new He,this.cursor=new He,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:vo.ROTATE,MIDDLE:vo.DOLLY,RIGHT:vo.PAN},this.touches={ONE:Zo.ROTATE,TWO:Zo.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return A.phi},this.getAzimuthalAngle=function(){return A.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function($){$.addEventListener("keydown",Ge),this._domElementKeyEvents=$},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Ge),this._domElementKeyEvents=null},this.saveState=function(){t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=function(){t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(U0),t.update(),s=o.NONE},this.update=function(){const $=new He,ee=new za().setFromUnitVectors(r.up,new He(0,1,0)),me=ee.clone().invert(),Ee=new He,Ne=new za,Je=new He,ht=2*Math.PI;return function($e=null){const Ie=t.object.position;$.copy(Ie).sub(t.target),$.applyQuaternion(ee),A.setFromVector3($),t.autoRotate&&s===o.NONE&&B(C($e)),t.enableDamping?(A.theta+=l.theta*t.dampingFactor,A.phi+=l.phi*t.dampingFactor):(A.theta+=l.theta,A.phi+=l.phi);let yt=t.minAzimuthAngle,dt=t.maxAzimuthAngle;isFinite(yt)&&isFinite(dt)&&(yt<-Math.PI?yt+=ht:yt>Math.PI&&(yt-=ht),dt<-Math.PI?dt+=ht:dt>Math.PI&&(dt-=ht),yt<=dt?A.theta=Math.max(yt,Math.min(dt,A.theta)):A.theta=A.theta>(yt+dt)/2?Math.max(yt,A.theta):Math.min(dt,A.theta)),A.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,A.phi)),A.makeSafe(),t.enableDamping===!0?t.target.addScaledVector(p,t.dampingFactor):t.target.add(p),t.target.sub(t.cursor),t.target.clampLength(t.minTargetRadius,t.maxTargetRadius),t.target.add(t.cursor),t.zoomToCursor&&M||t.object.isOrthographicCamera?A.radius=W(A.radius):A.radius=W(A.radius*u),$.setFromSpherical(A),$.applyQuaternion(me),Ie.copy(t.target).add($),t.object.lookAt(t.target),t.enableDamping===!0?(l.theta*=1-t.dampingFactor,l.phi*=1-t.dampingFactor,p.multiplyScalar(1-t.dampingFactor)):(l.set(0,0,0),p.set(0,0,0));let ft=!1;if(t.zoomToCursor&&M){let bt=null;if(t.object.isPerspectiveCamera){const It=$.length();bt=W(It*u);const Ot=It-bt;t.object.position.addScaledVector(w,Ot),t.object.updateMatrixWorld()}else if(t.object.isOrthographicCamera){const It=new He(_.x,_.y,0);It.unproject(t.object),t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/u)),t.object.updateProjectionMatrix(),ft=!0;const Ot=new He(_.x,_.y,0);Ot.unproject(t.object),t.object.position.sub(Ot).add(It),t.object.updateMatrixWorld(),bt=$.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),t.zoomToCursor=!1;bt!==null&&(this.screenSpacePanning?t.target.set(0,0,-1).transformDirection(t.object.matrix).multiplyScalar(bt).add(t.object.position):(bu.origin.copy(t.object.position),bu.direction.set(0,0,-1).transformDirection(t.object.matrix),Math.abs(t.object.up.dot(bu.direction))<IE?r.lookAt(t.target):(P0.setFromNormalAndCoplanarPoint(t.object.up,t.target),bu.intersectPlane(P0,t.target))))}else t.object.isOrthographicCamera&&(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/u)),t.object.updateProjectionMatrix(),ft=!0);return u=1,M=!1,ft||Ee.distanceToSquared(t.object.position)>a||8*(1-Ne.dot(t.object.quaternion))>a||Je.distanceToSquared(t.target)>0?(t.dispatchEvent(U0),Ee.copy(t.object.position),Ne.copy(t.object.quaternion),Je.copy(t.target),!0):!1}}(),this.dispose=function(){t.domElement.removeEventListener("contextmenu",st),t.domElement.removeEventListener("pointerdown",Se),t.domElement.removeEventListener("pointercancel",ie),t.domElement.removeEventListener("wheel",ze),t.domElement.removeEventListener("pointermove",re),t.domElement.removeEventListener("pointerup",ie),t._domElementKeyEvents!==null&&(t._domElementKeyEvents.removeEventListener("keydown",Ge),t._domElementKeyEvents=null)};const t=this,o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=o.NONE;const a=1e-6,A=new B0,l=new B0;let u=1;const p=new He,d=new jt,c=new jt,h=new jt,f=new jt,g=new jt,y=new jt,m=new jt,b=new jt,v=new jt,w=new He,_=new jt;let M=!1;const x=[],E={};function C($){return $!==null?2*Math.PI/60*t.autoRotateSpeed*$:2*Math.PI/60/60*t.autoRotateSpeed}function T($){const ee=Math.abs($)/(100*(window.devicePixelRatio|0));return Math.pow(.95,t.zoomSpeed*ee)}function B($){l.theta-=$}function P($){l.phi-=$}const F=function(){const $=new He;return function(me,Ee){$.setFromMatrixColumn(Ee,0),$.multiplyScalar(-me),p.add($)}}(),j=function(){const $=new He;return function(me,Ee){t.screenSpacePanning===!0?$.setFromMatrixColumn(Ee,1):($.setFromMatrixColumn(Ee,0),$.crossVectors(t.object.up,$)),$.multiplyScalar(me),p.add($)}}(),O=function(){const $=new He;return function(me,Ee){const Ne=t.domElement;if(t.object.isPerspectiveCamera){const Je=t.object.position;$.copy(Je).sub(t.target);let ht=$.length();ht*=Math.tan(t.object.fov/2*Math.PI/180),F(2*me*ht/Ne.clientHeight,t.object.matrix),j(2*Ee*ht/Ne.clientHeight,t.object.matrix)}else t.object.isOrthographicCamera?(F(me*(t.object.right-t.object.left)/t.object.zoom/Ne.clientWidth,t.object.matrix),j(Ee*(t.object.top-t.object.bottom)/t.object.zoom/Ne.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}}();function Q($){t.object.isPerspectiveCamera||t.object.isOrthographicCamera?u/=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function z($){t.object.isPerspectiveCamera||t.object.isOrthographicCamera?u*=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function k($,ee){if(!t.zoomToCursor)return;M=!0;const me=t.domElement.getBoundingClientRect(),Ee=$-me.left,Ne=ee-me.top,Je=me.width,ht=me.height;_.x=Ee/Je*2-1,_.y=-(Ne/ht)*2+1,w.set(_.x,_.y,1).unproject(t.object).sub(t.object.position).normalize()}function W($){return Math.max(t.minDistance,Math.min(t.maxDistance,$))}function Y($){d.set($.clientX,$.clientY)}function te($){k($.clientX,$.clientX),m.set($.clientX,$.clientY)}function R($){f.set($.clientX,$.clientY)}function L($){c.set($.clientX,$.clientY),h.subVectors(c,d).multiplyScalar(t.rotateSpeed);const ee=t.domElement;B(2*Math.PI*h.x/ee.clientHeight),P(2*Math.PI*h.y/ee.clientHeight),d.copy(c),t.update()}function D($){b.set($.clientX,$.clientY),v.subVectors(b,m),v.y>0?Q(T(v.y)):v.y<0&&z(T(v.y)),m.copy(b),t.update()}function V($){g.set($.clientX,$.clientY),y.subVectors(g,f).multiplyScalar(t.panSpeed),O(y.x,y.y),f.copy(g),t.update()}function q($){k($.clientX,$.clientY),$.deltaY<0?z(T($.deltaY)):$.deltaY>0&&Q(T($.deltaY)),t.update()}function Z($){let ee=!1;switch($.code){case t.keys.UP:$.ctrlKey||$.metaKey||$.shiftKey?P(2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):O(0,t.keyPanSpeed),ee=!0;break;case t.keys.BOTTOM:$.ctrlKey||$.metaKey||$.shiftKey?P(-2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):O(0,-t.keyPanSpeed),ee=!0;break;case t.keys.LEFT:$.ctrlKey||$.metaKey||$.shiftKey?B(2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):O(t.keyPanSpeed,0),ee=!0;break;case t.keys.RIGHT:$.ctrlKey||$.metaKey||$.shiftKey?B(-2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):O(-t.keyPanSpeed,0),ee=!0;break}ee&&($.preventDefault(),t.update())}function se($){if(x.length===1)d.set($.pageX,$.pageY);else{const ee=he($),me=.5*($.pageX+ee.x),Ee=.5*($.pageY+ee.y);d.set(me,Ee)}}function fe($){if(x.length===1)f.set($.pageX,$.pageY);else{const ee=he($),me=.5*($.pageX+ee.x),Ee=.5*($.pageY+ee.y);f.set(me,Ee)}}function be($){const ee=he($),me=$.pageX-ee.x,Ee=$.pageY-ee.y,Ne=Math.sqrt(me*me+Ee*Ee);m.set(0,Ne)}function pe($){t.enableZoom&&be($),t.enablePan&&fe($)}function Ae($){t.enableZoom&&be($),t.enableRotate&&se($)}function ge($){if(x.length==1)c.set($.pageX,$.pageY);else{const me=he($),Ee=.5*($.pageX+me.x),Ne=.5*($.pageY+me.y);c.set(Ee,Ne)}h.subVectors(c,d).multiplyScalar(t.rotateSpeed);const ee=t.domElement;B(2*Math.PI*h.x/ee.clientHeight),P(2*Math.PI*h.y/ee.clientHeight),d.copy(c)}function ce($){if(x.length===1)g.set($.pageX,$.pageY);else{const ee=he($),me=.5*($.pageX+ee.x),Ee=.5*($.pageY+ee.y);g.set(me,Ee)}y.subVectors(g,f).multiplyScalar(t.panSpeed),O(y.x,y.y),f.copy(g)}function de($){const ee=he($),me=$.pageX-ee.x,Ee=$.pageY-ee.y,Ne=Math.sqrt(me*me+Ee*Ee);b.set(0,Ne),v.set(0,Math.pow(b.y/m.y,t.zoomSpeed)),Q(v.y),m.copy(b);const Je=($.pageX+ee.x)*.5,ht=($.pageY+ee.y)*.5;k(Je,ht)}function oe($){t.enableZoom&&de($),t.enablePan&&ce($)}function je($){t.enableZoom&&de($),t.enableRotate&&ge($)}function Se($){t.enabled!==!1&&(x.length===0&&(t.domElement.setPointerCapture($.pointerId),t.domElement.addEventListener("pointermove",re),t.domElement.addEventListener("pointerup",ie)),Re($),$.pointerType==="touch"?nt($):Ce($))}function re($){t.enabled!==!1&&($.pointerType==="touch"?et($):Me($))}function ie($){Ke($),x.length===0&&(t.domElement.releasePointerCapture($.pointerId),t.domElement.removeEventListener("pointermove",re),t.domElement.removeEventListener("pointerup",ie)),t.dispatchEvent(I0),s=o.NONE}function Ce($){let ee;switch($.button){case 0:ee=t.mouseButtons.LEFT;break;case 1:ee=t.mouseButtons.MIDDLE;break;case 2:ee=t.mouseButtons.RIGHT;break;default:ee=-1}switch(ee){case vo.DOLLY:if(t.enableZoom===!1)return;te($),s=o.DOLLY;break;case vo.ROTATE:if($.ctrlKey||$.metaKey||$.shiftKey){if(t.enablePan===!1)return;R($),s=o.PAN}else{if(t.enableRotate===!1)return;Y($),s=o.ROTATE}break;case vo.PAN:if($.ctrlKey||$.metaKey||$.shiftKey){if(t.enableRotate===!1)return;Y($),s=o.ROTATE}else{if(t.enablePan===!1)return;R($),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&t.dispatchEvent($d)}function Me($){switch(s){case o.ROTATE:if(t.enableRotate===!1)return;L($);break;case o.DOLLY:if(t.enableZoom===!1)return;D($);break;case o.PAN:if(t.enablePan===!1)return;V($);break}}function ze($){t.enabled===!1||t.enableZoom===!1||s!==o.NONE||($.preventDefault(),t.dispatchEvent($d),q($),t.dispatchEvent(I0))}function Ge($){t.enabled===!1||t.enablePan===!1||Z($)}function nt($){switch(Le($),x.length){case 1:switch(t.touches.ONE){case Zo.ROTATE:if(t.enableRotate===!1)return;se($),s=o.TOUCH_ROTATE;break;case Zo.PAN:if(t.enablePan===!1)return;fe($),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(t.touches.TWO){case Zo.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;pe($),s=o.TOUCH_DOLLY_PAN;break;case Zo.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Ae($),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&t.dispatchEvent($d)}function et($){switch(Le($),s){case o.TOUCH_ROTATE:if(t.enableRotate===!1)return;ge($),t.update();break;case o.TOUCH_PAN:if(t.enablePan===!1)return;ce($),t.update();break;case o.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;oe($),t.update();break;case o.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;je($),t.update();break;default:s=o.NONE}}function st($){t.enabled!==!1&&$.preventDefault()}function Re($){x.push($.pointerId)}function Ke($){delete E[$.pointerId];for(let ee=0;ee<x.length;ee++)if(x[ee]==$.pointerId){x.splice(ee,1);return}}function Le($){let ee=E[$.pointerId];ee===void 0&&(ee=new jt,E[$.pointerId]=ee),ee.set($.pageX,$.pageY)}function he($){const ee=$.pointerId===x[0]?x[1]:x[0];return E[ee]}t.domElement.addEventListener("contextmenu",st),t.domElement.addEventListener("pointerdown",Se),t.domElement.addEventListener("pointercancel",ie),t.domElement.addEventListener("wheel",ze,{passive:!1}),this.update()}}class PE extends Oh{constructor(r,n){super(r,n),this.screenSpacePanning=!1,this.mouseButtons={LEFT:vo.PAN,MIDDLE:vo.DOLLY,RIGHT:vo.ROTATE},this.touches={ONE:Zo.PAN,TWO:Zo.DOLLY_ROTATE}}}class jE{constructor(r,n=" .:-=+*#%@",t={}){const o=t.resolution||.15,s=t.scale||1,a=t.color||!1,A=t.alpha||!1,l=t.block||!1,u=t.invert||!1,p=t.strResolution||"low";let d,c;const h=document.createElement("div");h.style.cursor="default";const f=document.createElement("table");h.appendChild(f);let g,y,m;this.setSize=function(j,O){d=j,c=O,r.setSize(j,O),b()},this.render=function(j,O){r.render(j,O),F(f)},this.domElement=h;function b(){g=Math.floor(d*o),y=Math.floor(c*o),x.width=g,x.height=y,m=r.domElement,m.style.backgroundColor&&(f.rows[0].cells[0].style.backgroundColor=m.style.backgroundColor,f.rows[0].cells[0].style.color=m.style.color),f.cellSpacing=0,f.cellPadding=0;const j=f.style;j.whiteSpace="pre",j.margin="0px",j.padding="0px",j.letterSpacing=P+"px",j.fontFamily=_,j.fontSize=T+"px",j.lineHeight=B+"px",j.textAlign="left",j.textDecoration="none"}const v=" .,:;i1tfLCG08@".split(""),w=" CGO08@".split(""),_="courier new, monospace",M=r.domElement,x=document.createElement("canvas");if(!x.getContext)return;const E=x.getContext("2d");if(!E.getImageData)return;let C=a?w:v;n&&(C=n);const T=2/o*s,B=2/o*s;let P=0;if(p=="low")switch(s){case 1:P=-1;break;case 2:case 3:P=-2.1;break;case 4:P=-3.1;break;case 5:P=-4.15;break}if(p=="medium")switch(s){case 1:P=0;break;case 2:P=-1;break;case 3:P=-1.04;break;case 4:case 5:P=-2.1;break}if(p=="high")switch(s){case 1:case 2:P=0;break;case 3:case 4:case 5:P=-1;break}function F(j){E.clearRect(0,0,g,y),E.drawImage(M,0,0,g,y);const O=E.getImageData(0,0,g,y).data;let Q="";for(let z=0;z<y;z+=2){for(let k=0;k<g;k++){const W=(z*g+k)*4,Y=O[W],te=O[W+1],R=O[W+2],L=O[W+3];let D,V;V=(.3*Y+.59*te+.11*R)/255,L==0&&(V=1),D=Math.floor((1-V)*(C.length-1)),u&&(D=C.length-D-1);let q=C[D];(q===void 0||q==" ")&&(q="&nbsp;"),a?Q+="<span style='color:rgb("+Y+","+te+","+R+");"+(l?"background-color:rgb("+Y+","+te+","+R+");":"")+(A?"opacity:"+L/255+";":"")+"'>"+q+"</span>":Q+=q}Q+="<br/>"}j.innerHTML=`<tr><td style="display:block;width:${d}px;height:${c}px;overflow:hidden">${Q}</td></tr>`}}}function ep(i){let r,n,t,o=[],s=.05,a,A={},l={},u={},p=[];class d{constructor(E,C,T,B,P){const F=new Ja(C,T,B);this.meshes=[],["front","back","left","right","top","bottom"].forEach(L=>{const D=this.createFacePoints(C,T,B,L),V=f(D);V.position.set(E,T/2,P),r.add(V),this.meshes.push(V)}),this.solidMesh=new nn(F,new Mi({color:0,transparent:!0,alphaHash:!0,opacity:.1})),this.solidMesh.position.set(E,T/2,P),r.add(this.solidMesh),this.wireframeMesh=new nn(F,new Mi({color:16777215,wireframe:!0,transparent:!0,opacity:0})),this.wireframeMesh.position.set(E,T/2,P),r.add(this.wireframeMesh),this.meshes.push(this.solidMesh,this.wireframeMesh);const j=this.createFacePoints(C,T,B,"front"),O=this.createFacePoints(C,T,B,"back"),Q=this.createFacePoints(C,T,B,"left"),z=this.createFacePoints(C,T,B,"right"),k=this.createFacePoints(C,T,B,"top"),W=this.createFacePoints(C,T,B,"bottom"),Y=[...j,...O,...Q,...z,...k,...W],te=new Kn;te.setAttribute("position",new Yr(Y,3));const R=new ql({color:0,size:5,opacity:.666,transparent:!0,alphaHash:!0});if(this.pointsMesh=new Ju(te,R),this.pointsMesh.position.set(E,T/2,P),r.add(this.pointsMesh),this.meshes.push(this.pointsMesh),a){const L=new cc("",{font:a,size:3.5,height:.5}),D=new Mi({color:16777215}),V=new nn(L,D);V.position.set(E,0,P),r.add(V),this.meshes.push(V)}}createFacePoints(E,C,T,B){const P=[];let j,O;switch(B){case"front":case"back":j=Math.ceil(E*1.35),O=Math.ceil(C*1.35);break;case"left":case"right":j=Math.ceil(T*1.35),O=Math.ceil(C*1.35);break;case"top":case"bottom":j=Math.ceil(E*1.35),O=Math.ceil(T*1.35);break}for(let Q=0;Q<=j;Q++)for(let z=0;z<=O;z++){let k,W,Y;switch(B){case"front":k=Q*E/j-E/2,W=z*C/O-C/2,Y=T/2;break;case"back":k=Q*E/j-E/2,W=z*C/O-C/2,Y=-T/2;break;case"left":k=-E/2,W=z*C/O-C/2,Y=Q*T/j-T/2;break;case"right":k=E/2,W=z*C/O-C/2,Y=Q*T/j-T/2;break;case"top":k=Q*E/j-E/2,W=C/2,Y=z*T/O-T/2;break;case"bottom":k=Q*E/j-E/2,W=-C/2,Y=z*T/O-T/2;break}P.push(k,W,Y)}return P}pan(E){this.meshes=this.meshes.filter(C=>(C.position.x-=E,C.position.x<-100?(C.position.x+=200,!0):C.position.x>100?(r.remove(C),!1):!0))}}function c(){r=new Ph;const x=new Xv(16777215,1);r.add(x),n=new zp(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e3),n.position.set(200,200,200),n.lookAt(r.position),n.zoom=7,n.minZoom=5,n.maxZoom=10,n.updateProjectionMatrix(),t=new gc({antialias:!0}),t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio),document.getElementById(i).appendChild(t.domElement);const E=new PE(n,t.domElement);E.enableDamping=!0,E.dampingFactor=.1,E.screenSpacePanning=!0,new Jp().load("font/Birch Leaf_Regular.json",function(T){a=T,_(),h(),b(),g()})}function h(){let x=window.innerWidth,E=window.innerHeight,C=-x/4,T=x/4,B=-E/2,P=10,F=Math.ceil(E/5),j=5,O=25,Q=5,z=P*2,k=O,W=x/4,Y=Array.from({length:F},(te,R)=>B+R*P);M(),m(),Y.forEach(te=>{let R=C;for(;R<T;){let L=j+Math.random()*(O-j),D=Math.random()*50+20,V=Q+Math.random()*(z-Q),q=new d(R,L,D,V,te);o.push(q);let Z=k+Math.random()*(W-k);R+=L+Z}})}function f(x){let E=[];for(let j=0;j<x.length;j+=3)E.push([x[j],x[j+1]]);const T=Zp.from(E).triangles,B=new Kn,P=[];for(let j=0;j<T.length;j+=3)P.push(x[T[j]*3],x[T[j]*3+1],x[T[j]*3+2],x[T[j+1]*3],x[T[j+1]*3+1],x[T[j+1]*3+2],x[T[j+2]*3],x[T[j+2]*3+1],x[T[j+2]*3+2]);B.setAttribute("position",new Yr(P,3));const F=new Mi({color:16777215,wireframe:!0});return new nn(B,F)}function g(){requestAnimationFrame(g),o.forEach(x=>x.pan(s)),w(s),t.render(r,n)}function y(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight),M(),m(),h(),p.forEach(x=>r.remove(x)),p=[],b()}function m(){p.forEach(x=>r.remove(x)),p=[]}function b(){const x="xjermsx",T=Math.floor(window.innerWidth/24),B=Math.floor(window.innerHeight/6),P=-(T*24)/2,F=-(B*6)/2;for(let j=0;j<T;j++)for(let O=0;O<B;O++){const Q=(j+O)%x.length,z=x[Q],k=new He(P+j*24,.5,F+O*6),W=v(z,k);W&&r.add(W)}}function v(x,E,C){if(!a||!A[x]){console.error("Font is not loaded or character geometry is not created yet.");return}const T=new nn(A[x],l[x]);T.position.set(0,0,0),T.rotation.x=-Math.PI/2;const B=new nn(A[x],u[x]);B.position.set(0,-.1,0),B.rotation.x=-Math.PI/2,B.scale.multiplyScalar(1.04);const P=new xs;return P.add(B),P.add(T),P.position.set(E.x,E.y,E.z),p.push(P),P}function w(x){p=p.filter(E=>(E.position.x-=x,E.position.x<-100?(E.position.x+=200,!0):E.position.x>100?(r.remove(E),!1):!0))}function _(){"xjermsx".split("").forEach(B=>{A[B]||(A[B]=new cc(B,{font:a,size:4,height:.2,curveSegments:6,bevelEnabled:!1}),l[B]=new Mi({color:0}),u[B]=new Mi({color:16777215}))})}function M(){o.forEach(x=>{x.meshes.forEach(E=>{r.remove(E)})}),o=[]}c(),h(),g(),window.addEventListener("resize",y,!1)}const Zu=0,RE=1,DE=new He,j0=new lE,ef=new bo,R0=new He,wu=new ss;class OE{constructor(){this.tolerance=-1,this.faces=[],this.newFaces=[],this.assigned=new D0,this.unassigned=new D0,this.vertices=[]}setFromPoints(r){if(r.length>=4){this.makeEmpty();for(let n=0,t=r.length;n<t;n++)this.vertices.push(new NE(r[n]));this.compute()}return this}setFromObject(r){const n=[];return r.updateMatrixWorld(!0),r.traverse(function(t){const o=t.geometry;if(o!==void 0){const s=o.attributes.position;if(s!==void 0)for(let a=0,A=s.count;a<A;a++){const l=new He;l.fromBufferAttribute(s,a).applyMatrix4(t.matrixWorld),n.push(l)}}}),this.setFromPoints(n)}containsPoint(r){const n=this.faces;for(let t=0,o=n.length;t<o;t++)if(n[t].distanceToPoint(r)>this.tolerance)return!1;return!0}intersectRay(r,n){const t=this.faces;let o=-1/0,s=1/0;for(let a=0,A=t.length;a<A;a++){const l=t[a],u=l.distanceToPoint(r.origin),p=l.normal.dot(r.direction);if(u>0&&p>=0)return null;const d=p!==0?-u/p:0;if(!(d<=0)&&(p>0?s=Math.min(d,s):o=Math.max(d,o),o>s))return null}return o!==-1/0?r.at(o,n):r.at(s,n),n}intersectsRay(r){return this.intersectRay(r,DE)!==null}makeEmpty(){return this.faces=[],this.vertices=[],this}addVertexToFace(r,n){return r.face=n,n.outside===null?this.assigned.append(r):this.assigned.insertBefore(n.outside,r),n.outside=r,this}removeVertexFromFace(r,n){return r===n.outside&&(r.next!==null&&r.next.face===n?n.outside=r.next:n.outside=null),this.assigned.remove(r),this}removeAllVerticesFromFace(r){if(r.outside!==null){const n=r.outside;let t=r.outside;for(;t.next!==null&&t.next.face===r;)t=t.next;return this.assigned.removeSubList(n,t),n.prev=t.next=null,r.outside=null,n}}deleteFaceVertices(r,n){const t=this.removeAllVerticesFromFace(r);if(t!==void 0)if(n===void 0)this.unassigned.appendChain(t);else{let o=t;do{const s=o.next;n.distanceToPoint(o.point)>this.tolerance?this.addVertexToFace(o,n):this.unassigned.append(o),o=s}while(o!==null)}return this}resolveUnassignedPoints(r){if(this.unassigned.isEmpty()===!1){let n=this.unassigned.first();do{const t=n.next;let o=this.tolerance,s=null;for(let a=0;a<r.length;a++){const A=r[a];if(A.mark===Zu){const l=A.distanceToPoint(n.point);if(l>o&&(o=l,s=A),o>1e3*this.tolerance)break}}s!==null&&this.addVertexToFace(n,s),n=t}while(n!==null)}return this}computeExtremes(){const r=new He,n=new He,t=[],o=[];for(let s=0;s<3;s++)t[s]=o[s]=this.vertices[0];r.copy(this.vertices[0].point),n.copy(this.vertices[0].point);for(let s=0,a=this.vertices.length;s<a;s++){const A=this.vertices[s],l=A.point;for(let u=0;u<3;u++)l.getComponent(u)<r.getComponent(u)&&(r.setComponent(u,l.getComponent(u)),t[u]=A);for(let u=0;u<3;u++)l.getComponent(u)>n.getComponent(u)&&(n.setComponent(u,l.getComponent(u)),o[u]=A)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(r.x),Math.abs(n.x))+Math.max(Math.abs(r.y),Math.abs(n.y))+Math.max(Math.abs(r.z),Math.abs(n.z))),{min:t,max:o}}computeInitialHull(){const r=this.vertices,n=this.computeExtremes(),t=n.min,o=n.max;let s=0,a=0;for(let c=0;c<3;c++){const h=o[c].point.getComponent(c)-t[c].point.getComponent(c);h>s&&(s=h,a=c)}const A=t[a],l=o[a];let u,p;s=0,j0.set(A.point,l.point);for(let c=0,h=this.vertices.length;c<h;c++){const f=r[c];if(f!==A&&f!==l){j0.closestPointToPoint(f.point,!0,R0);const g=R0.distanceToSquared(f.point);g>s&&(s=g,u=f)}}s=-1,ef.setFromCoplanarPoints(A.point,l.point,u.point);for(let c=0,h=this.vertices.length;c<h;c++){const f=r[c];if(f!==A&&f!==l&&f!==u){const g=Math.abs(ef.distanceToPoint(f.point));g>s&&(s=g,p=f)}}const d=[];if(ef.distanceToPoint(p.point)<0){d.push(bs.create(A,l,u),bs.create(p,l,A),bs.create(p,u,l),bs.create(p,A,u));for(let c=0;c<3;c++){const h=(c+1)%3;d[c+1].getEdge(2).setTwin(d[0].getEdge(h)),d[c+1].getEdge(1).setTwin(d[h+1].getEdge(0))}}else{d.push(bs.create(A,u,l),bs.create(p,A,l),bs.create(p,l,u),bs.create(p,u,A));for(let c=0;c<3;c++){const h=(c+1)%3;d[c+1].getEdge(2).setTwin(d[0].getEdge((3-c)%3)),d[c+1].getEdge(0).setTwin(d[h+1].getEdge(1))}}for(let c=0;c<4;c++)this.faces.push(d[c]);for(let c=0,h=r.length;c<h;c++){const f=r[c];if(f!==A&&f!==l&&f!==u&&f!==p){s=this.tolerance;let g=null;for(let y=0;y<4;y++){const m=this.faces[y].distanceToPoint(f.point);m>s&&(s=m,g=this.faces[y])}g!==null&&this.addVertexToFace(f,g)}}return this}reindexFaces(){const r=[];for(let n=0;n<this.faces.length;n++){const t=this.faces[n];t.mark===Zu&&r.push(t)}return this.faces=r,this}nextVertexToAdd(){if(this.assigned.isEmpty()===!1){let r,n=0;const t=this.assigned.first().face;let o=t.outside;do{const s=t.distanceToPoint(o.point);s>n&&(n=s,r=o),o=o.next}while(o!==null&&o.face===t);return r}}computeHorizon(r,n,t,o){this.deleteFaceVertices(t),t.mark=RE;let s;n===null?s=n=t.getEdge(0):s=n.next;do{const a=s.twin,A=a.face;A.mark===Zu&&(A.distanceToPoint(r)>this.tolerance?this.computeHorizon(r,a,A,o):o.push(s)),s=s.next}while(s!==n);return this}addAdjoiningFace(r,n){const t=bs.create(r,n.tail(),n.head());return this.faces.push(t),t.getEdge(-1).setTwin(n.twin),t.getEdge(0)}addNewFaces(r,n){this.newFaces=[];let t=null,o=null;for(let s=0;s<n.length;s++){const a=n[s],A=this.addAdjoiningFace(r,a);t===null?t=A:A.next.setTwin(o),this.newFaces.push(A.face),o=A}return t.next.setTwin(o),this}addVertexToHull(r){const n=[];return this.unassigned.clear(),this.removeVertexFromFace(r,r.face),this.computeHorizon(r.point,null,r.face,n),this.addNewFaces(r,n),this.resolveUnassignedPoints(this.newFaces),this}cleanup(){return this.assigned.clear(),this.unassigned.clear(),this.newFaces=[],this}compute(){let r;for(this.computeInitialHull();(r=this.nextVertexToAdd())!==void 0;)this.addVertexToHull(r);return this.reindexFaces(),this.cleanup(),this}}class bs{constructor(){this.normal=new He,this.midpoint=new He,this.area=0,this.constant=0,this.outside=null,this.mark=Zu,this.edge=null}static create(r,n,t){const o=new bs,s=new tf(r,o),a=new tf(n,o),A=new tf(t,o);return s.next=A.prev=a,a.next=s.prev=A,A.next=a.prev=s,o.edge=s,o.compute()}getEdge(r){let n=this.edge;for(;r>0;)n=n.next,r--;for(;r<0;)n=n.prev,r++;return n}compute(){const r=this.edge.tail(),n=this.edge.head(),t=this.edge.next.head();return wu.set(r.point,n.point,t.point),wu.getNormal(this.normal),wu.getMidpoint(this.midpoint),this.area=wu.getArea(),this.constant=this.normal.dot(this.midpoint),this}distanceToPoint(r){return this.normal.dot(r)-this.constant}}class tf{constructor(r,n){this.vertex=r,this.prev=null,this.next=null,this.twin=null,this.face=n}head(){return this.vertex}tail(){return this.prev?this.prev.vertex:null}length(){const r=this.head(),n=this.tail();return n!==null?n.point.distanceTo(r.point):-1}lengthSquared(){const r=this.head(),n=this.tail();return n!==null?n.point.distanceToSquared(r.point):-1}setTwin(r){return this.twin=r,r.twin=this,this}}class NE{constructor(r){this.point=r,this.prev=null,this.next=null,this.face=null}}class D0{constructor(){this.head=null,this.tail=null}first(){return this.head}last(){return this.tail}clear(){return this.head=this.tail=null,this}insertBefore(r,n){return n.prev=r.prev,n.next=r,n.prev===null?this.head=n:n.prev.next=n,r.prev=n,this}insertAfter(r,n){return n.prev=r,n.next=r.next,n.next===null?this.tail=n:n.next.prev=n,r.next=n,this}append(r){return this.head===null?this.head=r:this.tail.next=r,r.prev=this.tail,r.next=null,this.tail=r,this}appendChain(r){for(this.head===null?this.head=r:this.tail.next=r,r.prev=this.tail;r.next!==null;)r=r.next;return this.tail=r,this}remove(r){return r.prev===null?this.head=r.next:r.prev.next=r.next,r.next===null?this.tail=r.prev:r.next.prev=r.prev,this}removeSubList(r,n){return r.prev===null?this.head=n.next:r.prev.next=n.next,n.next===null?this.tail=r.prev:n.next.prev=r.prev,this}isEmpty(){return this.head===null}}class $u extends Kn{constructor(r=[]){super();const n=[],t=[],s=new OE().setFromPoints(r).faces;for(let a=0;a<s.length;a++){const A=s[a];let l=A.edge;do{const u=l.head().point;n.push(u.x,u.y,u.z),t.push(A.normal.x,A.normal.y,A.normal.z),l=l.next}while(l!==A.edge)}this.setAttribute("position",new Yr(n,3)),this.setAttribute("normal",new Yr(t,3))}}const kE=1/3,Rs=1/6,rf=i=>Math.floor(i)|0,nf=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function QE(i=Math.random){const r=HE(i),n=new Float64Array(r).map(s=>nf[s%12*3]),t=new Float64Array(r).map(s=>nf[s%12*3+1]),o=new Float64Array(r).map(s=>nf[s%12*3+2]);return function(a,A,l){let u,p,d,c;const h=(a+A+l)*kE,f=rf(a+h),g=rf(A+h),y=rf(l+h),m=(f+g+y)*Rs,b=f-m,v=g-m,w=y-m,_=a-b,M=A-v,x=l-w;let E,C,T,B,P,F;_>=M?M>=x?(E=1,C=0,T=0,B=1,P=1,F=0):_>=x?(E=1,C=0,T=0,B=1,P=0,F=1):(E=0,C=0,T=1,B=1,P=0,F=1):M<x?(E=0,C=0,T=1,B=0,P=1,F=1):_<x?(E=0,C=1,T=0,B=0,P=1,F=1):(E=0,C=1,T=0,B=1,P=1,F=0);const j=_-E+Rs,O=M-C+Rs,Q=x-T+Rs,z=_-B+2*Rs,k=M-P+2*Rs,W=x-F+2*Rs,Y=_-1+3*Rs,te=M-1+3*Rs,R=x-1+3*Rs,L=f&255,D=g&255,V=y&255;let q=.6-_*_-M*M-x*x;if(q<0)u=0;else{const be=L+r[D+r[V]];q*=q,u=q*q*(n[be]*_+t[be]*M+o[be]*x)}let Z=.6-j*j-O*O-Q*Q;if(Z<0)p=0;else{const be=L+E+r[D+C+r[V+T]];Z*=Z,p=Z*Z*(n[be]*j+t[be]*O+o[be]*Q)}let se=.6-z*z-k*k-W*W;if(se<0)d=0;else{const be=L+B+r[D+P+r[V+F]];se*=se,d=se*se*(n[be]*z+t[be]*k+o[be]*W)}let fe=.6-Y*Y-te*te-R*R;if(fe<0)c=0;else{const be=L+1+r[D+1+r[V+1]];fe*=fe,c=fe*fe*(n[be]*Y+t[be]*te+o[be]*R)}return 32*(u+p+d+c)}}function HE(i){const n=new Uint8Array(512);for(let t=0;t<512/2;t++)n[t]=t;for(let t=0;t<512/2-1;t++){const o=t+~~(i()*(256-t)),s=n[t];n[t]=n[o],n[o]=s}for(let t=256;t<512;t++)n[t]=n[t-256];return n}const GE=/^[og]\s*(.+)?/,VE=/^mtllib /,zE=/^usemtl /,WE=/^usemap /,O0=/\s+/,N0=new He,sf=new He,k0=new He,Q0=new He,rs=new He,_u=new mr;function KE(){const i={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(r,n){if(this.object&&this.object.fromDeclaration===!1){this.object.name=r,this.object.fromDeclaration=n!==!1;return}const t=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:r||"",fromDeclaration:n!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,s){const a=this._finalize(!1);a&&(a.inherited||a.groupCount<=0)&&this.materials.splice(a.index,1);const A={index:this.materials.length,name:o||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:a!==void 0?a.smooth:this.smooth,groupStart:a!==void 0?a.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const u={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return u.clone=this.clone.bind(u),u}};return this.materials.push(A),A},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),o&&this.materials.length>1)for(let a=this.materials.length-1;a>=0;a--)this.materials[a].groupCount<=0&&this.materials.splice(a,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},t&&t.name&&typeof t.clone=="function"){const o=t.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(r,n){const t=parseInt(r,10);return(t>=0?t-1:t+n/3)*3},parseNormalIndex:function(r,n){const t=parseInt(r,10);return(t>=0?t-1:t+n/3)*3},parseUVIndex:function(r,n){const t=parseInt(r,10);return(t>=0?t-1:t+n/2)*2},addVertex:function(r,n,t){const o=this.vertices,s=this.object.geometry.vertices;s.push(o[r+0],o[r+1],o[r+2]),s.push(o[n+0],o[n+1],o[n+2]),s.push(o[t+0],o[t+1],o[t+2])},addVertexPoint:function(r){const n=this.vertices;this.object.geometry.vertices.push(n[r+0],n[r+1],n[r+2])},addVertexLine:function(r){const n=this.vertices;this.object.geometry.vertices.push(n[r+0],n[r+1],n[r+2])},addNormal:function(r,n,t){const o=this.normals,s=this.object.geometry.normals;s.push(o[r+0],o[r+1],o[r+2]),s.push(o[n+0],o[n+1],o[n+2]),s.push(o[t+0],o[t+1],o[t+2])},addFaceNormal:function(r,n,t){const o=this.vertices,s=this.object.geometry.normals;N0.fromArray(o,r),sf.fromArray(o,n),k0.fromArray(o,t),rs.subVectors(k0,sf),Q0.subVectors(N0,sf),rs.cross(Q0),rs.normalize(),s.push(rs.x,rs.y,rs.z),s.push(rs.x,rs.y,rs.z),s.push(rs.x,rs.y,rs.z)},addColor:function(r,n,t){const o=this.colors,s=this.object.geometry.colors;o[r]!==void 0&&s.push(o[r+0],o[r+1],o[r+2]),o[n]!==void 0&&s.push(o[n+0],o[n+1],o[n+2]),o[t]!==void 0&&s.push(o[t+0],o[t+1],o[t+2])},addUV:function(r,n,t){const o=this.uvs,s=this.object.geometry.uvs;s.push(o[r+0],o[r+1]),s.push(o[n+0],o[n+1]),s.push(o[t+0],o[t+1])},addDefaultUV:function(){const r=this.object.geometry.uvs;r.push(0,0),r.push(0,0),r.push(0,0)},addUVLine:function(r){const n=this.uvs;this.object.geometry.uvs.push(n[r+0],n[r+1])},addFace:function(r,n,t,o,s,a,A,l,u){const p=this.vertices.length;let d=this.parseVertexIndex(r,p),c=this.parseVertexIndex(n,p),h=this.parseVertexIndex(t,p);if(this.addVertex(d,c,h),this.addColor(d,c,h),A!==void 0&&A!==""){const f=this.normals.length;d=this.parseNormalIndex(A,f),c=this.parseNormalIndex(l,f),h=this.parseNormalIndex(u,f),this.addNormal(d,c,h)}else this.addFaceNormal(d,c,h);if(o!==void 0&&o!==""){const f=this.uvs.length;d=this.parseUVIndex(o,f),c=this.parseUVIndex(s,f),h=this.parseUVIndex(a,f),this.addUV(d,c,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(r){this.object.geometry.type="Points";const n=this.vertices.length;for(let t=0,o=r.length;t<o;t++){const s=this.parseVertexIndex(r[t],n);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(r,n){this.object.geometry.type="Line";const t=this.vertices.length,o=this.uvs.length;for(let s=0,a=r.length;s<a;s++)this.addVertexLine(this.parseVertexIndex(r[s],t));for(let s=0,a=n.length;s<a;s++)this.addUVLine(this.parseUVIndex(n[s],o))}};return i.startObject("",!1),i}class Yv extends Dh{constructor(r){super(r),this.materials=null}load(r,n,t,o){const s=this,a=new Kv(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(r,function(A){try{n(s.parse(A))}catch(l){o?o(l):console.error(l),s.manager.itemError(r)}},t,o)}setMaterials(r){return this.materials=r,this}parse(r){const n=new KE;r.indexOf(`\r
`)!==-1&&(r=r.replace(/\r\n/g,`
`)),r.indexOf(`\\
`)!==-1&&(r=r.replace(/\\\n/g,""));const t=r.split(`
`);let o=[];for(let A=0,l=t.length;A<l;A++){const u=t[A].trimStart();if(u.length===0)continue;const p=u.charAt(0);if(p!=="#")if(p==="v"){const d=u.split(O0);switch(d[0]){case"v":n.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),d.length>=7?(_u.setRGB(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6])).convertSRGBToLinear(),n.colors.push(_u.r,_u.g,_u.b)):n.colors.push(void 0,void 0,void 0);break;case"vn":n.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":n.uvs.push(parseFloat(d[1]),parseFloat(d[2]));break}}else if(p==="f"){const c=u.slice(1).trim().split(O0),h=[];for(let g=0,y=c.length;g<y;g++){const m=c[g];if(m.length>0){const b=m.split("/");h.push(b)}}const f=h[0];for(let g=1,y=h.length-1;g<y;g++){const m=h[g],b=h[g+1];n.addFace(f[0],m[0],b[0],f[1],m[1],b[1],f[2],m[2],b[2])}}else if(p==="l"){const d=u.substring(1).trim().split(" ");let c=[];const h=[];if(u.indexOf("/")===-1)c=d;else for(let f=0,g=d.length;f<g;f++){const y=d[f].split("/");y[0]!==""&&c.push(y[0]),y[1]!==""&&h.push(y[1])}n.addLineGeometry(c,h)}else if(p==="p"){const c=u.slice(1).trim().split(" ");n.addPointGeometry(c)}else if((o=GE.exec(u))!==null){const d=(" "+o[0].slice(1).trim()).slice(1);n.startObject(d)}else if(zE.test(u))n.object.startMaterial(u.substring(7).trim(),n.materialLibraries);else if(VE.test(u))n.materialLibraries.push(u.substring(7).trim());else if(WE.test(u))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(p==="s"){if(o=u.split(" "),o.length>1){const c=o[1].trim().toLowerCase();n.object.smooth=c!=="0"&&c!=="off"}else n.object.smooth=!0;const d=n.object.currentMaterial();d&&(d.smooth=n.object.smooth)}else{if(u==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+u+'"')}}n.finalize();const s=new xs;if(s.materialLibraries=[].concat(n.materialLibraries),!(n.objects.length===1&&n.objects[0].geometry.vertices.length===0)===!0)for(let A=0,l=n.objects.length;A<l;A++){const u=n.objects[A],p=u.geometry,d=u.materials,c=p.type==="Line",h=p.type==="Points";let f=!1;if(p.vertices.length===0)continue;const g=new Kn;g.setAttribute("position",new Yr(p.vertices,3)),p.normals.length>0&&g.setAttribute("normal",new Yr(p.normals,3)),p.colors.length>0&&(f=!0,g.setAttribute("color",new Yr(p.colors,3))),p.hasUVIndices===!0&&g.setAttribute("uv",new Yr(p.uvs,2));const y=[];for(let b=0,v=d.length;b<v;b++){const w=d[b],_=w.name+"_"+w.smooth+"_"+f;let M=n.materials[_];if(this.materials!==null){if(M=this.materials.create(w.name),c&&M&&!(M instanceof KA)){const x=new KA;Gs.prototype.copy.call(x,M),x.color.copy(M.color),M=x}else if(h&&M&&!(M instanceof ql)){const x=new ql({size:10,sizeAttenuation:!1});Gs.prototype.copy.call(x,M),x.color.copy(M.color),x.map=M.map,M=x}}M===void 0&&(c?M=new KA:h?M=new ql({size:1,sizeAttenuation:!1}):M=new Zf,M.name=w.name,M.flatShading=!w.smooth,M.vertexColors=f,n.materials[_]=M),y.push(M)}let m;if(y.length>1){for(let b=0,v=d.length;b<v;b++){const w=d[b];g.addGroup(w.groupStart,w.groupCount,b)}c?m=new d0(g,y):h?m=new Ju(g,y):m=new nn(g,y)}else c?m=new d0(g,y[0]):h?m=new Ju(g,y[0]):m=new nn(g,y[0]);m.name=u.name,s.add(m)}else if(n.vertices.length>0){const A=new ql({size:1,sizeAttenuation:!1}),l=new Kn;l.setAttribute("position",new Yr(n.vertices,3)),n.colors.length>0&&n.colors[0]!==void 0&&(l.setAttribute("color",new Yr(n.colors,3)),A.vertexColors=!0);const u=new Ju(l,A);s.add(u)}return s}}const of=QE();function YA(i){let r,n,t,o,s,a,A,l=1,u=0,p=1.9,d=1.55,c=new He(0,1.25,5);new He(10,10,10);let h=!0;function f(){r=new Ph,r.background=new mr(255,255,0),o=new S0(15732735,3,100),o.position.set(c.x,c.y+500,c.z+500),o.color.set(16711680),r.add(o);const O=new S0(16777215,3,500);O.position.set(c.x-500,c.y-500,c.z-500),O.color.set(255),r.add(O);const Q=new Xv(4210752,.5);r.add(Q);const z=new aE(16777215,.5);z.position.set(5,5,5),r.add(z),n=new gi(75,window.innerWidth/window.innerHeight,.1,50),n.position.z=2.5,t=new gc,t.setSize(window.innerWidth,window.innerHeight);const k="x6%&*@#  ",W={invert:!0,resolution:.175,scale:1,color:!1,block:!1};s=new jE(t,k,W),s.setSize(window.innerWidth,window.innerHeight),s.domElement.style.color="cyan",s.domElement.style.backgroundColor="black",s.domElement.style.color="white",s.domElement.style.backgroundColor="white",document.getElementById(i).appendChild(s.domElement);const Y=new tA;new Ac(Y,{steps:1,depth:.15,bevelEnabled:!0,bevelThickness:.1,bevelSize:.2,bevelOffset:0,bevelSegments:10}).center();const R=new Oh(n,s.domElement);R.enableDamping=!0,R.dampingFactor=.1,R.enableZoom=!0,window.addEventListener("resize",b,!1),_(x())}let g=T(),y=Date.now();function m(){requestAnimationFrame(m);let O=Date.now();if(O-y>2e3){if(y=O,Math.random()<.5&&g.points.length>5)g.points.pop();else{const z=g.points[Math.floor(Math.random()*g.points.length)];g.points.push(new He().copy(z))}g.shape.geometry.dispose(),g.shape.geometry=new $u(g.points)}let Q=Date.now()*1e-4;if(g.points.forEach((z,k)=>{z.x+=of(k,Q,0)*.1,z.y+=of(Q,k,1)*.1,z.z+=of(k,Q,2)*.1}),g.shape.geometry.dispose(),g.shape.geometry=new $u(g.points),o&&o.position){const z=Date.now()*25e-5;o.position.z=o.position.z+Math.sin(z)*.01,o.position.x=Math.sin(z)*500,o.position.y=250+Math.sin(z*1.5)*250,o.position.z=250+Math.cos(z*1.5)*250}a&&((a.scale.x>=p&&l>0||a.scale.x<=d&&l<0)&&(l*=-1),a.scale.x+=u*l,a.scale.y+=u*l,a.scale.z+=u*l,h&&(a.rotation.x+=.008,a.rotation.y+=.009,a.rotation.z+=.007)),s.render(r,n)}function b(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)}function v(){window.removeEventListener("resize",b),cancelAnimationFrame(A);const O=document.getElementById(i);O&&s.domElement&&O.removeChild(s.domElement)}function w(){a&&a.rotation.set(0,0,0)}function _({shape:O,centroid:Q}){if(!O||!Q){console.error("Invalid shape or centroid provided to switchShape");return}O&&Q?(a&&(r.remove(a),a.geometry&&a.geometry.dispose(),a.material&&a.material.dispose()),a=O,r.add(a),o&&o.position.set(Q.x,Q.y,Q.z)):console.error("Invalid shape or centroid provided to switchShape")}function M(O){a&&(r.remove(a),a.geometry&&a.geometry.dispose(),a.material&&a.material.dispose()),a=O,r.add(a);const Q=new Ya().setFromObject(O),z=Math.max(...Q.getSize(new He).toArray()),k=Q.getCenter(new He),W=n.position.distanceTo(k),Y=bv.degToRad(n.fov),R=2*Math.tan(Y/2)*W/z;a.scale.setScalar(R*.5),a.position.sub(k),n.lookAt(a.position)}function x(){const z=new tA;z.moveTo(0+.5,0+.5),z.bezierCurveTo(0+.5,0+.5,0+.4,0,0,0),z.bezierCurveTo(0-.6,0,0-.6,0+.7,0-.6,0+.7),z.bezierCurveTo(0-.6,0+1.1,0-.3,0+1.54,0+.5,0+1.9),z.bezierCurveTo(0+1.2,0+1.54,0+1.6,0+1.1,0+1.6,0+.7),z.bezierCurveTo(0+1.6,0+.7,0+1.6,0,1,0),z.bezierCurveTo(0+.7,0,0+.5,0+.5,0+.5,0+.5);const k=new Ac(z,{steps:1,depth:.15,bevelEnabled:!0,bevelThickness:.1,bevelSize:.2,bevelOffset:0,bevelSegments:10});k.center();const W=new Zf({color:16777215,specular:16711935,shininess:10,side:Bo}),Y=new nn(k,W),te=new He(0,1.25,0);return Y.rotation.x=Math.PI,{shape:Y,centroid:te}}function E(){const O=new Rh(5.25,20,20),Q=new qd({color:16711680,wireframe:!0,alphaHash:!0}),z=new nn(O,Q),k=new He(0,0,0);return{shape:z,centroid:k}}function C(){let O=.85,Q=.12,z=100,k=160,W=4,Y=2;const te=new Xp(O,Q,z,k,W,Y),R=new Zf({color:16711680,wireframe:!0}),L=new nn(te,R),D=new He(0,0,0);return{shape:L,centroid:D}}function T(){const O=[];for(let Y=0;Y<20;Y++)O.push(new He(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1));const Q=new $u(O),z=new qd({color:16711680,wireframe:!0}),k=new nn(Q,z),W=new He(0,0,0);return{shape:k,centroid:W,points:O}}function B(O,Q,z){new Yv().load(O,W=>{W.traverse(function(Y){Y.isMesh&&(Y.material=new qd({color:16711680,wireframe:!0}))}),Q(W)},void 0,z)}function P(O){console.error("Error loading OBJ model:",O)}const F=["3D/horse2.obj","3D/cow.obj"];let j=0;return window.addEventListener("keydown",O=>{if(O.key==="R"||O.key==="r")h=!h;else if(O.key==="T"||O.key==="t")w();else if(O.key==="1")_(x());else if(O.key==="2")_(E());else if(O.key==="3")_(C());else if(O.key==="4"){const Q=T();_(Q)}else O.key==="5"&&(B(F[j],M,P),j=(j+1)%F.length)}),f(),m(),{dispose:v,switchShape:_}}function qE(i,r){let n=new Yv,t=[],o=0;i.forEach(s=>{n.load(s,a=>{t.push(a),o++,o===i.length&&r(t)})})}function XE(i,r,n){let t=new xs,o=i/r,s=i/2,a=o/2,A=new Mi({color:16777215,wireframe:!0,transparent:!0,opacity:.5,alphaHash:!0}),l=new Ja(o,o,o),u=[];for(let c=-s;c<s;c+=o)for(let h=-s;h<s;h+=o)for(let f=-s;f<s;f+=o){let g=new nn(l,A);g.position.set(c+a,h+a,f+a),g.visible=!1,g.scale.set(n,n,n),t.add(g),u.push(g)}let p=0;function d(){u.forEach(f=>f.visible=!1);let c=Math.floor(Math.random()*3)-1;p=Math.max(0,Math.min(4,p+c));let h=new Set;for(;h.size<p;){let f=Math.floor(Math.random()*u.length);h.add(f)}}return setInterval(d,100),t}function YE(i,r,n){let t=new xs,o=i/r,s=i/2,a=o/2,A=new Mi({color:16777215,wireframe:!0,transparent:!1,opacity:.5,alphaHash:!0}),l=new Rh(a,4,4),u=[];for(let c=-s;c<s;c+=o)for(let h=-s;h<s;h+=o)for(let f=-s;f<s;f+=o){let g=new nn(l,A);g.position.set(c+a,h+a,f+a),g.visible=!1,g.scale.set(n,n,n),t.add(g),u.push(g)}let p=0;function d(){u.forEach(f=>f.visible=!1);let c=Math.floor(Math.random()*3)-1;p=Math.max(0,Math.min(4,p+c));let h=new Set;for(;h.size<p;){let f=Math.floor(Math.random()*u.length);h.add(f)}h.forEach(f=>{u[f].visible=!0})}return setInterval(d,100),t}function JE(i,r,n,t){let o=new xs,s=i/r,a=i/2,A=s/2,l=[];for(let p=-a;p<a;p+=s)for(let d=-a;d<a;d+=s)for(let c=-a;c<a;c+=s){let h=new Pn;h.position.set(p+A,d+A,c+A),h.visible=!1,o.add(h),l.push(h)}function u(){l.forEach(h=>h.visible=!1);let p=Math.floor(Math.random()*3)-1,d=Math.max(0,Math.min(4,p)),c=new Set;for(;c.size<d;){let h=Math.floor(Math.random()*l.length);c.add(h)}c.forEach(h=>{let f=l[h],g=Math.floor(Math.random()*n.length),y=n[g].clone(),m=Math.random()*Math.PI,b=Math.random()*Math.PI,v=Math.random()*Math.PI;y.rotation.set(m,b,v);let w=new Ya().setFromObject(y),_=new He;w.getSize(_);let M=Math.max(_.x,_.y,_.z),x=s/M;y.traverse(function(E){E.isMesh&&(E.material=new Mi({color:16777215,wireframe:!0,alphaHash:!0,opacity:.8}),E.scale.set(x,x,x))}),y.position.set(0,0,0),y.scale.multiplyScalar(t),f.add(y),f.visible=!0})}return setInterval(u,100),o}function ZE(i,r,n,t,o){let s=new xs,a=i/r,A=i/2,l=new Mi({color:16777215,wireframe:!1,transparent:!0,opacity:.8,alphaHash:!0});for(let h=-A;h<A;h+=a)for(let f=-A;f<A;f+=a)for(let g=-A;g<A;g+=a){let y=new cc("",{font:t,size:a*.8,height:a/8,curveSegments:4,bevelEnabled:!0,bevelThickness:2,bevelSize:1,bevelOffset:0,bevelSegments:3}),m=new nn(y,l);m.position.set(h,f,g),m.visible=!1,m.scale.set(o,o,o),s.add(m)}let u=new Mi({color:16777215,transparent:!0,alphaHash:!0,opacity:.6,wireframe:!0}),p=new $u([]),d=new nn(p,u);s.add(d);function c(){}return setInterval(c,100),window.addEventListener("keydown",function(h){h.key==="t"||h.key==="T"||h.key==="r"||h.key}),s}function $E(i,r){let n=new xs,t=i/2,o=i/r;function s(a,A,l,u){let p=eC(a,A,l);return p.faceName=u,p}for(let a=-t;a<=t;a+=o)s(n,[-t,-t,a],[t,-t,a],"bottom"),s(n,[a,-t,-t],[a,-t,t],"bottom"),s(n,[-t,t,a],[t,t,a],"top"),s(n,[a,t,-t],[a,t,t],"top"),s(n,[-t,a,-t],[-t,a,t],"left"),s(n,[-t,-t,a],[-t,t,a],"left"),s(n,[-t,a,-t],[t,a,-t],"back"),s(n,[a,-t,-t],[a,t,-t],"back");return n}function eC(i,r,n){let t=new KA({color:16777215}),o=new Kn().setFromPoints([new He(...r),new He(...n)]),s=new Nv(o,t);return i.add(s),s}function Jv(i){let r=document.getElementById(i);console.log("Container dimensions:",r.offsetWidth,r.offsetHeight);let n=new Ph,t=new gi(75,r.offsetWidth/r.offsetHeight,.1,1e3),o=new gc;o.setSize(r.offsetWidth,r.offsetHeight),r.appendChild(o.domElement);let s=new Oh(t,o.domElement);s.enableDamping=!0,s.dampingFactor=.1,s.rotateSpeed=.1,s.maxPolarAngle=Math.PI/2,s.minDistance=50,s.maxDistance=500,new mr(65535),new mr(16711935),new mr(16776960);const a=250,A=8,l=.8,u=2,p="XJERMSX";tC("font/optimer_regular.typeface.json",d=>{let c=ZE(a,A,p,d,l);n.add(c),qE(["3D/horse2.obj","3D/cow.obj","3D/head.OBJ","3D/hammer.obj"],m=>{let b=JE(a,A,m,u);console.log(b),n.add(b)});let f=$E(a,A),g=XE(a,A,l);YE(a,A,l),n.add(f),n.add(g),t.position.z=500,t.up.set(0,1,0);function y(){requestAnimationFrame(y),s.update(),o.render(n,t)}y(),window.addEventListener("resize",()=>{t.aspect=r.offsetWidth/r.offsetHeight,t.updateProjectionMatrix(),o.setSize(r.offsetWidth,r.offsetHeight)})})}function tC(i,r){new Jp().load(i,function(t){r(t)},void 0,function(t){console.error("An error occurred while loading the font:",t)})}function rC(i){const r=new Ph,n=new gi(75,window.innerWidth/window.innerHeight,.1,1e3),t=new gc;t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio/2),document.body.appendChild(t.domElement),n.position.z=30;const o=new Oh(n,t.domElement);o.enableDamping=!0,o.dampingFactor=.1,o.enableZoom=!0;function s(){o.update()}t.domElement.addEventListener("mousemove",s),t.domElement.addEventListener("touchmove",s),t.domElement.addEventListener("wheel",s);const a=18;let A=Array(a).fill().map(()=>Array(a).fill(""));const l=["XJERMSX","DRUGSINTHEBATHROOM","SKYLINE","BUSHWICK","MANHATTAN"];let u=[];function p(){l.forEach(_=>{let M=!1;for(;!M;){const x=Math.floor(Math.random()*3),E=Math.floor(Math.random()*a),C=Math.floor(Math.random()*a),T=E+(x===1?_.length:x===2?_.length-1:0),B=C+(x===0?_.length:x===2?_.length-1:0);if(T<a&&B<a){let P=!0;for(let F=0;F<_.length;F++){const j=E+(x===1||x===2?F:0),O=C+(x===0||x===2?F:0);if(A[j][O]!==""){P=!1;break}}if(P){for(let F=0;F<_.length;F++){const j=E+(x===1||x===2?F:0),O=C+(x===0||x===2?F:0);A[j][O]=_[F]}u.push({word:_,startRow:E,startCol:C,direction:x,length:_.length,velocity:1}),M=!0}}}})}function d(){u.forEach(_=>{for(let T=0;T<_.length;T++){const B=_.startRow+(_.direction===1||_.direction===2?T:0),P=_.startCol+(_.direction===0||_.direction===2?T:0);B>=0&&B<a&&P>=0&&P<a&&(A[B][P]=String.fromCharCode(12448+Math.random()*95))}let M=_.startRow+(_.direction===1||_.direction===2?_.velocity:0),x=_.startCol+(_.direction===0||_.direction===2?_.velocity:0),E=_.direction===1||_.direction===2?M+_.length-1:M,C=_.direction===0||_.direction===2?x+_.length-1:x;E>=a||E<0||C>=a||C<0?_.velocity*=-1:(_.startRow=M,_.startCol=x);for(let T=0;T<_.length;T++){const B=_.startRow+(_.direction===1||_.direction===2?T:0),P=_.startCol+(_.direction===0||_.direction===2?T:0);B>=0&&B<a&&P>=0&&P<a?A[B][P]=_.word[T]:console.error(`Word position out of bounds: row=${B}, col=${P}`)}})}function c(){for(let _=0;_<a;_++)for(let M=0;M<a;M++)A[_][M]===""&&(A[_][M]=String.fromCharCode(12448+Math.random()*95))}let h=[],f,g=1.25;new Jp().load("font/VT323_Regular.json",_=>{f=_;const M=1.25,x=2.5;p(),c(),h=[];for(let E=0;E<a;E++)for(let C=0;C<a;C++){const T=A[E][C],B=new cc(T,{font:f,size:M,height:.1}),P=new Mi({color:16777215,wireframe:!0,transparent:!0,alphaHash:!0,opacity:.85}),F=new nn(B,P);F.position.set(E*x-a*x/2,C*x-a*x/2,0),r.add(F),h.push({mesh:F,x:E,y:C,geometry:B})}w()});function m(){for(const _ of h){const M=A[_.x][_.y];M!==_.mesh.geometry.parameters.text&&(_.geometry.dispose(),_.mesh.geometry=new cc(M,{font:f,size:g,height:.1}))}}let b=0;const v=200;function w(_){requestAnimationFrame(w),typeof _!="number"&&(_=performance.now()),_-b>v&&(d(),m(),b=_),t.render(r,n)}w(0)}const nC="modulepreload",iC=function(i){return"/xjermsx/"+i},H0={},tp=function(r,n,t){let o=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");o=Promise.all(n.map(a=>{if(a=iC(a),a in H0)return;H0[a]=!0;const A=a.endsWith(".css"),l=A?'[rel="stylesheet"]':"";if(!!t)for(let d=s.length-1;d>=0;d--){const c=s[d];if(c.href===a&&(!A||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const p=document.createElement("link");if(p.rel=A?"stylesheet":nC,A||(p.as="script",p.crossOrigin=""),p.href=a,document.head.appendChild(p),A)return new Promise((d,c)=>{p.addEventListener("load",d),p.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${a}`)))})}))}return o.then(()=>r()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function Hr(i){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hr(i)}var yi=Uint8Array,vi=Uint16Array,uc=Uint32Array,Nh=new yi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kh=new yi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rp=new yi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Zv=function(i,r){for(var n=new vi(31),t=0;t<31;++t)n[t]=r+=1<<i[t-1];for(var o=new uc(n[30]),t=1;t<30;++t)for(var s=n[t];s<n[t+1];++s)o[s]=s-n[t]<<5|t;return[n,o]},$v=Zv(Nh,2),e1=$v[0],np=$v[1];e1[28]=258,np[258]=28;var t1=Zv(kh,0),sC=t1[0],G0=t1[1],ip=new vi(32768);for(var sn=0;sn<32768;++sn){var qo=(sn&43690)>>>1|(sn&21845)<<1;qo=(qo&52428)>>>2|(qo&13107)<<2,qo=(qo&61680)>>>4|(qo&3855)<<4,ip[sn]=((qo&65280)>>>8|(qo&255)<<8)>>>1}var Hs=function(i,r,n){for(var t=i.length,o=0,s=new vi(r);o<t;++o)++s[i[o]-1];var a=new vi(r);for(o=0;o<r;++o)a[o]=a[o-1]+s[o-1]<<1;var A;if(n){A=new vi(1<<r);var l=15-r;for(o=0;o<t;++o)if(i[o])for(var u=o<<4|i[o],p=r-i[o],d=a[i[o]-1]++<<p,c=d|(1<<p)-1;d<=c;++d)A[ip[d]>>>l]=u}else for(A=new vi(t),o=0;o<t;++o)A[o]=ip[a[i[o]-1]++]>>>15-i[o];return A},ua=new yi(288);for(var sn=0;sn<144;++sn)ua[sn]=8;for(var sn=144;sn<256;++sn)ua[sn]=9;for(var sn=256;sn<280;++sn)ua[sn]=7;for(var sn=280;sn<288;++sn)ua[sn]=8;var hc=new yi(32);for(var sn=0;sn<32;++sn)hc[sn]=5;var oC=Hs(ua,9,0),aC=Hs(ua,9,1),lC=Hs(hc,5,0),AC=Hs(hc,5,1),af=function(i){for(var r=i[0],n=1;n<i.length;++n)i[n]>r&&(r=i[n]);return r},gs=function(i,r,n){var t=r/8>>0;return(i[t]|i[t+1]<<8)>>>(r&7)&n},lf=function(i,r){var n=r/8>>0;return(i[n]|i[n+1]<<8|i[n+2]<<16)>>>(r&7)},$p=function(i){return(i/8>>0)+(i&7&&1)},r1=function(i,r,n){(r==null||r<0)&&(r=0),(n==null||n>i.length)&&(n=i.length);var t=new(i instanceof vi?vi:i instanceof uc?uc:yi)(n-r);return t.set(i.subarray(r,n)),t},cC=function(i,r,n){var t=i.length,o=!r||n,s=!n||n.i;n||(n={}),r||(r=new yi(t*3));var a=function(q){var Z=r.length;if(q>Z){var se=new yi(Math.max(Z*2,q));se.set(r),r=se}},A=n.f||0,l=n.p||0,u=n.b||0,p=n.l,d=n.d,c=n.m,h=n.n,f=t*8;do{if(!p){n.f=A=gs(i,l,1);var g=gs(i,l+1,3);if(l+=3,g)if(g==1)p=aC,d=AC,c=9,h=5;else if(g==2){var v=gs(i,l,31)+257,w=gs(i,l+10,15)+4,_=v+gs(i,l+5,31)+1;l+=14;for(var M=new yi(_),x=new yi(19),E=0;E<w;++E)x[rp[E]]=gs(i,l+E*3,7);l+=w*3;var C=af(x),T=(1<<C)-1;if(!s&&l+_*(C+7)>f)break;for(var B=Hs(x,C,1),E=0;E<_;){var P=B[gs(i,l,T)];l+=P&15;var y=P>>>4;if(y<16)M[E++]=y;else{var F=0,j=0;for(y==16?(j=3+gs(i,l,3),l+=2,F=M[E-1]):y==17?(j=3+gs(i,l,7),l+=3):y==18&&(j=11+gs(i,l,127),l+=7);j--;)M[E++]=F}}var O=M.subarray(0,v),Q=M.subarray(v);c=af(O),h=af(Q),p=Hs(O,c,1),d=Hs(Q,h,1)}else throw"invalid block type";else{var y=$p(l)+4,m=i[y-4]|i[y-3]<<8,b=y+m;if(b>t){if(s)throw"unexpected EOF";break}o&&a(u+m),r.set(i.subarray(y,b),u),n.b=u+=m,n.p=l=b*8;continue}if(l>f)throw"unexpected EOF"}o&&a(u+131072);for(var z=(1<<c)-1,k=(1<<h)-1,W=c+h+18;s||l+W<f;){var F=p[lf(i,l)&z],Y=F>>>4;if(l+=F&15,l>f)throw"unexpected EOF";if(!F)throw"invalid length/literal";if(Y<256)r[u++]=Y;else if(Y==256){p=null;break}else{var te=Y-254;if(Y>264){var E=Y-257,R=Nh[E];te=gs(i,l,(1<<R)-1)+e1[E],l+=R}var L=d[lf(i,l)&k],D=L>>>4;if(!L)throw"invalid distance";l+=L&15;var Q=sC[D];if(D>3){var R=kh[D];Q+=lf(i,l)&(1<<R)-1,l+=R}if(l>f)throw"unexpected EOF";o&&a(u+131072);for(var V=u+te;u<V;u+=4)r[u]=r[u-Q],r[u+1]=r[u+1-Q],r[u+2]=r[u+2-Q],r[u+3]=r[u+3-Q];u=V}}n.l=p,n.p=l,n.b=u,p&&(A=1,n.m=c,n.d=d,n.n=h)}while(!A);return u==r.length?r:r1(r,0,u)},po=function(i,r,n){n<<=r&7;var t=r/8>>0;i[t]|=n,i[t+1]|=n>>>8},FA=function(i,r,n){n<<=r&7;var t=r/8>>0;i[t]|=n,i[t+1]|=n>>>8,i[t+2]|=n>>>16},Af=function(i,r){for(var n=[],t=0;t<i.length;++t)i[t]&&n.push({s:t,f:i[t]});var o=n.length,s=n.slice();if(!o)return[new yi(0),0];if(o==1){var a=new yi(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(_,M){return _.f-M.f}),n.push({s:-1,f:25001});var A=n[0],l=n[1],u=0,p=1,d=2;for(n[0]={s:-1,f:A.f+l.f,l:A,r:l};p!=o-1;)A=n[n[u].f<n[d].f?u++:d++],l=n[u!=p&&n[u].f<n[d].f?u++:d++],n[p++]={s:-1,f:A.f+l.f,l:A,r:l};for(var c=s[0].s,t=1;t<o;++t)s[t].s>c&&(c=s[t].s);var h=new vi(c+1),f=sp(n[p-1],h,0);if(f>r){var t=0,g=0,y=f-r,m=1<<y;for(s.sort(function(M,x){return h[x.s]-h[M.s]||M.f-x.f});t<o;++t){var b=s[t].s;if(h[b]>r)g+=m-(1<<f-h[b]),h[b]=r;else break}for(g>>>=y;g>0;){var v=s[t].s;h[v]<r?g-=1<<r-h[v]++-1:++t}for(;t>=0&&g;--t){var w=s[t].s;h[w]==r&&(--h[w],++g)}f=r}return[new yi(h),f]},sp=function(i,r,n){return i.s==-1?Math.max(sp(i.l,r,n+1),sp(i.r,r,n+1)):r[i.s]=n},V0=function(i){for(var r=i.length;r&&!i[--r];);for(var n=new vi(++r),t=0,o=i[0],s=1,a=function(l){n[t++]=l},A=1;A<=r;++A)if(i[A]==o&&A!=r)++s;else{if(!o&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(o),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(o);s=1,o=i[A]}return[n.subarray(0,t),r]},UA=function(i,r){for(var n=0,t=0;t<r.length;++t)n+=i[t]*r[t];return n},eh=function(i,r,n){var t=n.length,o=$p(r+2);i[o]=t&255,i[o+1]=t>>>8,i[o+2]=i[o]^255,i[o+3]=i[o+1]^255;for(var s=0;s<t;++s)i[o+s+4]=n[s];return(o+4+t)*8},z0=function(i,r,n,t,o,s,a,A,l,u,p){po(r,p++,n),++o[256];for(var d=Af(o,15),c=d[0],h=d[1],f=Af(s,15),g=f[0],y=f[1],m=V0(c),b=m[0],v=m[1],w=V0(g),_=w[0],M=w[1],x=new vi(19),E=0;E<b.length;++E)x[b[E]&31]++;for(var E=0;E<_.length;++E)x[_[E]&31]++;for(var C=Af(x,7),T=C[0],B=C[1],P=19;P>4&&!T[rp[P-1]];--P);var F=u+5<<3,j=UA(o,ua)+UA(s,hc)+a,O=UA(o,c)+UA(s,g)+a+14+3*P+UA(x,T)+(2*x[16]+3*x[17]+7*x[18]);if(F<=j&&F<=O)return eh(r,p,i.subarray(l,l+u));var Q,z,k,W;if(po(r,p,1+(O<j)),p+=2,O<j){Q=Hs(c,h,0),z=c,k=Hs(g,y,0),W=g;var Y=Hs(T,B,0);po(r,p,v-257),po(r,p+5,M-1),po(r,p+10,P-4),p+=14;for(var E=0;E<P;++E)po(r,p+3*E,T[rp[E]]);p+=3*P;for(var te=[b,_],R=0;R<2;++R)for(var L=te[R],E=0;E<L.length;++E){var D=L[E]&31;po(r,p,Y[D]),p+=T[D],D>15&&(po(r,p,L[E]>>>5&127),p+=L[E]>>>12)}}else Q=oC,z=ua,k=lC,W=hc;for(var E=0;E<A;++E)if(t[E]>255){var D=t[E]>>>18&31;FA(r,p,Q[D+257]),p+=z[D+257],D>7&&(po(r,p,t[E]>>>23&31),p+=Nh[D]);var V=t[E]&31;FA(r,p,k[V]),p+=W[V],V>3&&(FA(r,p,t[E]>>>5&8191),p+=kh[V])}else FA(r,p,Q[t[E]]),p+=z[t[E]];return FA(r,p,Q[256]),p+z[256]},uC=new uc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hC=new yi(0),dC=function(i,r,n,t,o,s){var a=i.length,A=new yi(t+a+5*(1+Math.floor(a/7e3))+o),l=A.subarray(t,A.length-o),u=0;if(!r||a<8)for(var p=0;p<=a;p+=65535){var d=p+65535;d<a?u=eh(l,u,i.subarray(p,d)):(l[p]=s,u=eh(l,u,i.subarray(p,a)))}else{for(var c=uC[r-1],h=c>>>13,f=c&8191,g=(1<<n)-1,y=new vi(32768),m=new vi(g+1),b=Math.ceil(n/3),v=2*b,w=function(ce){return(i[ce]^i[ce+1]<<b^i[ce+2]<<v)&g},_=new uc(25e3),M=new vi(288),x=new vi(32),E=0,C=0,p=0,T=0,B=0,P=0;p<a;++p){var F=w(p),j=p&32767,O=m[F];if(y[j]=O,m[F]=j,B<=p){var Q=a-p;if((E>7e3||T>24576)&&Q>423){u=z0(i,l,0,_,M,x,C,T,P,p-P,u),T=E=C=0,P=p;for(var z=0;z<286;++z)M[z]=0;for(var z=0;z<30;++z)x[z]=0}var k=2,W=0,Y=f,te=j-O&32767;if(Q>2&&F==w(p-te))for(var R=Math.min(h,Q)-1,L=Math.min(32767,p),D=Math.min(258,Q);te<=L&&--Y&&j!=O;){if(i[p+k]==i[p+k-te]){for(var V=0;V<D&&i[p+V]==i[p+V-te];++V);if(V>k){if(k=V,W=te,V>R)break;for(var q=Math.min(te,V-2),Z=0,z=0;z<q;++z){var se=p-te+z+32768&32767,fe=y[se],be=se-fe+32768&32767;be>Z&&(Z=be,O=se)}}}j=O,O=y[j],te+=j-O+32768&32767}if(W){_[T++]=268435456|np[k]<<18|G0[W];var pe=np[k]&31,Ae=G0[W]&31;C+=Nh[pe]+kh[Ae],++M[257+pe],++x[Ae],B=p+k,++E}else _[T++]=i[p],++M[i[p]]}}u=z0(i,l,s,_,M,x,C,T,P,p-P,u),s||(u=eh(l,u,hC))}return r1(A,0,t+$p(u)+o)},fC=function(){var i=1,r=0;return{p:function(n){for(var t=i,o=r,s=n.length,a=0;a!=s;){for(var A=Math.min(a+5552,s);a<A;++a)t+=n[a],o+=t;t%=65521,o%=65521}i=t,r=o},d:function(){return(i>>>8<<16|(r&255)<<8|r>>>8)+((i&255)<<23)*2}}},pC=function(i,r,n,t,o){return dC(i,r.level==null?6:r.level,r.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):12+r.mem,n,t,!o)},mC=function(i,r,n){for(;n;++r)i[r]=n,n>>>=8},gC=function(i,r){var n=r.level,t=n==0?0:n<6?1:n==9?3:2;i[0]=120,i[1]=t<<6|(t?32-2*t:1)},yC=function(i){if((i[0]&15)!=8||i[0]>>>4>7||(i[0]<<8|i[1])%31)throw"invalid zlib data";if(i[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function op(i,r){r===void 0&&(r={});var n=fC();n.p(i);var t=pC(i,r,2,4);return gC(t,r),mC(t,t.length-4,n.d()),t}function vC(i,r){return cC((yC(i),i.subarray(2,-4)),r)}var ar=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cf(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var Xr={log:cf,warn:function(i){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):cf.call(null,arguments))},error:function(i){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):cf(i))}};function uf(i,r,n){var t=new XMLHttpRequest;t.open("GET",i),t.responseType="blob",t.onload=function(){Fa(t.response,r,n)},t.onerror=function(){Xr.error("could not download file")},t.send()}function W0(i){var r=new XMLHttpRequest;r.open("HEAD",i,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function xu(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(r)}}var JA,ap,Fa=ar.saveAs||((typeof window>"u"?"undefined":Hr(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,r,n){var t=ar.URL||ar.webkitURL,o=document.createElement("a");r=r||i.name||"download",o.download=r,o.rel="noopener",typeof i=="string"?(o.href=i,o.origin!==location.origin?W0(o.href)?uf(i,r,n):xu(o,o.target="_blank"):xu(o)):(o.href=t.createObjectURL(i),setTimeout(function(){t.revokeObjectURL(o.href)},4e4),setTimeout(function(){xu(o)},0))}:"msSaveOrOpenBlob"in navigator?function(i,r,n){if(r=r||i.name||"download",typeof i=="string")if(W0(i))uf(i,r,n);else{var t=document.createElement("a");t.href=i,t.target="_blank",setTimeout(function(){xu(t)})}else navigator.msSaveOrOpenBlob(function(o,s){return s===void 0?s={autoBom:!1}:Hr(s)!=="object"&&(Xr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}(i,n),r)}:function(i,r,n,t){if((t=t||open("","_blank"))&&(t.document.title=t.document.body.innerText="downloading..."),typeof i=="string")return uf(i,r,n);var o=i.type==="application/octet-stream",s=/constructor/i.test(ar.HTMLElement)||ar.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&s)&&(typeof FileReader>"u"?"undefined":Hr(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var p=A.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=p:location=p,t=null},A.readAsDataURL(i)}else{var l=ar.URL||ar.webkitURL,u=l.createObjectURL(i);t?t.location=u:location.href=u,t=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function n1(i){var r;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],t=0;t<n.length;t++){var o=n[t].re,s=n[t].process,a=o.exec(i);a&&(r=s(a),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+A+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hf(i,r){var n=i[0],t=i[1],o=i[2],s=i[3];n=ii(n,t,o,s,r[0],7,-680876936),s=ii(s,n,t,o,r[1],12,-389564586),o=ii(o,s,n,t,r[2],17,606105819),t=ii(t,o,s,n,r[3],22,-1044525330),n=ii(n,t,o,s,r[4],7,-176418897),s=ii(s,n,t,o,r[5],12,1200080426),o=ii(o,s,n,t,r[6],17,-1473231341),t=ii(t,o,s,n,r[7],22,-45705983),n=ii(n,t,o,s,r[8],7,1770035416),s=ii(s,n,t,o,r[9],12,-1958414417),o=ii(o,s,n,t,r[10],17,-42063),t=ii(t,o,s,n,r[11],22,-1990404162),n=ii(n,t,o,s,r[12],7,1804603682),s=ii(s,n,t,o,r[13],12,-40341101),o=ii(o,s,n,t,r[14],17,-1502002290),n=si(n,t=ii(t,o,s,n,r[15],22,1236535329),o,s,r[1],5,-165796510),s=si(s,n,t,o,r[6],9,-1069501632),o=si(o,s,n,t,r[11],14,643717713),t=si(t,o,s,n,r[0],20,-373897302),n=si(n,t,o,s,r[5],5,-701558691),s=si(s,n,t,o,r[10],9,38016083),o=si(o,s,n,t,r[15],14,-660478335),t=si(t,o,s,n,r[4],20,-405537848),n=si(n,t,o,s,r[9],5,568446438),s=si(s,n,t,o,r[14],9,-1019803690),o=si(o,s,n,t,r[3],14,-187363961),t=si(t,o,s,n,r[8],20,1163531501),n=si(n,t,o,s,r[13],5,-1444681467),s=si(s,n,t,o,r[2],9,-51403784),o=si(o,s,n,t,r[7],14,1735328473),n=oi(n,t=si(t,o,s,n,r[12],20,-1926607734),o,s,r[5],4,-378558),s=oi(s,n,t,o,r[8],11,-2022574463),o=oi(o,s,n,t,r[11],16,1839030562),t=oi(t,o,s,n,r[14],23,-35309556),n=oi(n,t,o,s,r[1],4,-1530992060),s=oi(s,n,t,o,r[4],11,1272893353),o=oi(o,s,n,t,r[7],16,-155497632),t=oi(t,o,s,n,r[10],23,-1094730640),n=oi(n,t,o,s,r[13],4,681279174),s=oi(s,n,t,o,r[0],11,-358537222),o=oi(o,s,n,t,r[3],16,-722521979),t=oi(t,o,s,n,r[6],23,76029189),n=oi(n,t,o,s,r[9],4,-640364487),s=oi(s,n,t,o,r[12],11,-421815835),o=oi(o,s,n,t,r[15],16,530742520),n=ai(n,t=oi(t,o,s,n,r[2],23,-995338651),o,s,r[0],6,-198630844),s=ai(s,n,t,o,r[7],10,1126891415),o=ai(o,s,n,t,r[14],15,-1416354905),t=ai(t,o,s,n,r[5],21,-57434055),n=ai(n,t,o,s,r[12],6,1700485571),s=ai(s,n,t,o,r[3],10,-1894986606),o=ai(o,s,n,t,r[10],15,-1051523),t=ai(t,o,s,n,r[1],21,-2054922799),n=ai(n,t,o,s,r[8],6,1873313359),s=ai(s,n,t,o,r[15],10,-30611744),o=ai(o,s,n,t,r[6],15,-1560198380),t=ai(t,o,s,n,r[13],21,1309151649),n=ai(n,t,o,s,r[4],6,-145523070),s=ai(s,n,t,o,r[11],10,-1120210379),o=ai(o,s,n,t,r[2],15,718787259),t=ai(t,o,s,n,r[9],21,-343485551),i[0]=ra(n,i[0]),i[1]=ra(t,i[1]),i[2]=ra(o,i[2]),i[3]=ra(s,i[3])}function Qh(i,r,n,t,o,s){return r=ra(ra(r,i),ra(t,s)),ra(r<<o|r>>>32-o,n)}function ii(i,r,n,t,o,s,a){return Qh(r&n|~r&t,i,r,o,s,a)}function si(i,r,n,t,o,s,a){return Qh(r&t|n&~t,i,r,o,s,a)}function oi(i,r,n,t,o,s,a){return Qh(r^n^t,i,r,o,s,a)}function ai(i,r,n,t,o,s,a){return Qh(n^(r|~t),i,r,o,s,a)}function i1(i){var r,n=i.length,t=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=i.length;r+=64)hf(t,bC(i.substring(r-64,r)));i=i.substring(r-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<i.length;r++)o[r>>2]|=i.charCodeAt(r)<<(r%4<<3);if(o[r>>2]|=128<<(r%4<<3),r>55)for(hf(t,o),r=0;r<16;r++)o[r]=0;return o[14]=8*n,hf(t,o),t}function bC(i){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=i.charCodeAt(r)+(i.charCodeAt(r+1)<<8)+(i.charCodeAt(r+2)<<16)+(i.charCodeAt(r+3)<<24);return n}JA=ar.atob.bind(ar),ap=ar.btoa.bind(ar);var K0="0123456789abcdef".split("");function wC(i){for(var r="",n=0;n<4;n++)r+=K0[i>>8*n+4&15]+K0[i>>8*n&15];return r}function _C(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function lp(i){return i1(i).map(_C).join("")}var xC=function(i){for(var r=0;r<i.length;r++)i[r]=wC(i[r]);return i.join("")}(i1("hello"))!="5d41402abc4b2a76b9719d911017c592";function ra(i,r){if(xC){var n=(65535&i)+(65535&r);return(i>>16)+(r>>16)+(n>>16)<<16|65535&n}return i+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ap(i,r){var n,t,o,s;if(i!==n){for(var a=(o=i,s=1+(256/i.length>>0),new Array(s+1).join(o)),A=[],l=0;l<256;l++)A[l]=l;var u=0;for(l=0;l<256;l++){var p=A[l];u=(u+p+a.charCodeAt(l))%256,A[l]=A[u],A[u]=p}n=i,t=A}else A=t;var d=r.length,c=0,h=0,f="";for(l=0;l<d;l++)h=(h+(p=A[c=(c+1)%256]))%256,A[c]=A[h],A[h]=p,a=A[(A[c]+A[h])%256],f+=String.fromCharCode(r.charCodeAt(l)^a);return f}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var q0={print:4,modify:8,copy:16,"annot-forms":32};function Hl(i,r,n,t){this.v=1,this.r=2;var o=192;i.forEach(function(A){if(q0.perm!==void 0)throw new Error("Invalid permission: "+A);o+=q0[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(r+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^o)),this.encryptionKey=lp(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(t)).substr(0,5),this.U=Ap(this.encryptionKey,this.padding)}function Gl(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var r="",n=i.length,t=0;t<n;t++){var o=i.charCodeAt(t);o<33||o===35||o===37||o===40||o===41||o===47||o===60||o===62||o===91||o===93||o===123||o===125||o>126?r+="#"+("0"+o.toString(16)).slice(-2):r+=i[t]}return r}function X0(i){if(Hr(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,t,o){if(o=o||!1,typeof n!="string"||typeof t!="function"||typeof o!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var s=Math.random().toString(35);return r[n][s]=[t,!!o],s},this.unsubscribe=function(n){for(var t in r)if(r[t][n])return delete r[t][n],Object.keys(r[t]).length===0&&delete r[t],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var t=Array.prototype.slice.call(arguments,1),o=[];for(var s in r[n]){var a=r[n][s];try{a[0].apply(i,t)}catch(A){ar.console&&Xr.error("jsPDF PubSub Error",A.message,A)}a[1]&&o.push(s)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function gh(i){if(!(this instanceof gh))return new gh(i);var r="opacity,stroke-opacity".split(",");for(var n in i)i.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=i[n]);this.id="",this.objectNumber=-1}function s1(i,r){this.gState=i,this.matrix=r,this.id="",this.objectNumber=-1}function Pa(i,r,n,t,o){if(!(this instanceof Pa))return new Pa(i,r,n,t,o);this.type=i==="axial"?2:3,this.coords=r,this.colors=n,s1.call(this,t,o)}function Jl(i,r,n,t,o){if(!(this instanceof Jl))return new Jl(i,r,n,t,o);this.boundingBox=i,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,s1.call(this,t,o)}function or(i){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",t=arguments[1],o=arguments[2],s=arguments[3],a=[],A=1,l=16,u="S",p=null;Hr(i=i||{})==="object"&&(n=i.orientation,t=i.unit||t,o=i.format||o,s=i.compress||i.compressPdf||s,(p=i.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),A=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(r=i.precision),i.floatPrecision!==void 0&&(l=i.floatPrecision),u=i.defaultPathOperation||"S"),a=i.filters||(s===!0?["FlateEncode"]:a),t=t||"mm",n=(""+(n||"P")).toLowerCase();var d=i.putOnlyUsedFonts||!1,c={},h={internal:{},__private__:{}};h.__private__.PubSub=X0;var f="1.3",g=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(K){f=K};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var m=h.__private__.getPageFormat=function(K){return y[K]};o=o||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},v=b.COMPAT;function w(){this.saveGraphicsState(),oe(new Tt(he,0,0,-he,0,Ps()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),u="n",v=b.ADVANCED}function _(){this.restoreGraphicsState(),u="S",v=b.COMPAT}var M=h.__private__.combineFontStyleAndFontWeight=function(K,ve){if(K=="bold"&&ve=="normal"||K=="bold"&&ve==400||K=="normal"&&ve=="italic"||K=="bold"&&ve=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ve&&(K=ve==400||ve==="normal"?K==="italic"?"italic":"normal":ve!=700&&ve!=="bold"||K!=="normal"?(ve==700?"bold":ve)+""+K:"bold"),K};h.advancedAPI=function(K){var ve=v===b.COMPAT;return ve&&w.call(this),typeof K!="function"||(K(this),ve&&_.call(this)),this},h.compatAPI=function(K){var ve=v===b.ADVANCED;return ve&&_.call(this),typeof K!="function"||(K(this),ve&&w.call(this)),this},h.isAdvancedAPI=function(){return v===b.ADVANCED};var x,E=function(K){if(v!==b.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(K,ve){var Oe=r||ve;if(isNaN(K)||isNaN(Oe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(Oe).replace(/0+$/,"")};x=h.hpf=h.__private__.hpf=typeof l=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return C(K,l)}:l==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return C(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return C(K,16)};var T=h.f2=h.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return C(K,2)},B=h.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return C(K,3)},P=h.scale=h.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return v===b.COMPAT?K*he:v===b.ADVANCED?K:void 0},F=function(K){return v===b.COMPAT?Ps()-K:v===b.ADVANCED?K:void 0},j=function(K){return P(F(K))};h.__private__.setPrecision=h.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(r=parseInt(K,10))};var O,Q="00000000000000000000000000000000",z=h.__private__.getFileId=function(){return Q},k=h.__private__.setFileId=function(K){return Q=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(kn=new Hl(p.userPermissions,p.userPassword,p.ownerPassword,Q)),Q};h.setFileId=function(K){return k(K),this},h.getFileId=function(){return z()};var W=h.__private__.convertDateToPDFDate=function(K){var ve=K.getTimezoneOffset(),Oe=ve<0?"+":"-",qe=Math.floor(Math.abs(ve/60)),ct=Math.abs(ve%60),xt=[Oe,D(qe),"'",D(ct),"'"].join("");return["D:",K.getFullYear(),D(K.getMonth()+1),D(K.getDate()),D(K.getHours()),D(K.getMinutes()),D(K.getSeconds()),xt].join("")},Y=h.__private__.convertPDFDateToDate=function(K){var ve=parseInt(K.substr(2,4),10),Oe=parseInt(K.substr(6,2),10)-1,qe=parseInt(K.substr(8,2),10),ct=parseInt(K.substr(10,2),10),xt=parseInt(K.substr(12,2),10),Ft=parseInt(K.substr(14,2),10);return new Date(ve,Oe,qe,ct,xt,Ft,0)},te=h.__private__.setCreationDate=function(K){var ve;if(K===void 0&&(K=new Date),K instanceof Date)ve=W(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ve=K}return O=ve},R=h.__private__.getCreationDate=function(K){var ve=O;return K==="jsDate"&&(ve=Y(O)),ve};h.setCreationDate=function(K){return te(K),this},h.getCreationDate=function(K){return R(K)};var L,D=h.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},V=h.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},q=0,Z=[],se=[],fe=0,be=[],pe=[],Ae=!1,ge=se,ce=function(){q=0,fe=0,se=[],Z=[],be=[],Dn=nr(),xn=nr()};h.__private__.setCustomOutputDestination=function(K){Ae=!0,ge=K};var de=function(K){Ae||(ge=K)};h.__private__.resetCustomOutputDestination=function(){Ae=!1,ge=se};var oe=h.__private__.out=function(K){return K=K.toString(),fe+=K.length+1,ge.push(K),ge},je=h.__private__.write=function(K){return oe(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},Se=h.__private__.getArrayBuffer=function(K){for(var ve=K.length,Oe=new ArrayBuffer(ve),qe=new Uint8Array(Oe);ve--;)qe[ve]=K.charCodeAt(ve);return Oe},re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return re};var ie=i.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(K){return ie=v===b.ADVANCED?K/he:K,this};var Ce,Me=h.__private__.getFontSize=h.getFontSize=function(){return v===b.COMPAT?ie:ie*he},ze=i.R2L||!1;h.__private__.setR2L=h.setR2L=function(K){return ze=K,this},h.__private__.getR2L=h.getR2L=function(){return ze};var Ge,nt=h.__private__.setZoomMode=function(K){var ve=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))Ce=K;else if(isNaN(K)){if(ve.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');Ce=K}else Ce=parseInt(K,10)};h.__private__.getZoomMode=function(){return Ce};var et,st=h.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');Ge=K};h.__private__.getPageMode=function(){return Ge};var Re=h.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');et=K};h.__private__.getLayoutMode=function(){return et},h.__private__.setDisplayMode=h.setDisplayMode=function(K,ve,Oe){return nt(K),Re(ve),st(Oe),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(K){if(Object.keys(Ke).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[K]},h.__private__.getDocumentProperties=function(){return Ke},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(K){for(var ve in Ke)Ke.hasOwnProperty(ve)&&K[ve]&&(Ke[ve]=K[ve]);return this},h.__private__.setDocumentProperty=function(K,ve){if(Object.keys(Ke).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[K]=ve};var Le,he,$,ee,me,Ee={},Ne={},Je=[],ht={},vt={},$e={},Ie={},yt=null,dt=0,ft=[],bt=new X0(h),It=i.hotfixes||[],Ot={},ur={},Ar=[],Tt=function K(ve,Oe,qe,ct,xt,Ft){if(!(this instanceof K))return new K(ve,Oe,qe,ct,xt,Ft);isNaN(ve)&&(ve=1),isNaN(Oe)&&(Oe=0),isNaN(qe)&&(qe=0),isNaN(ct)&&(ct=1),isNaN(xt)&&(xt=0),isNaN(Ft)&&(Ft=0),this._matrix=[ve,Oe,qe,ct,xt,Ft]};Object.defineProperty(Tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Tt.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(K)},Tt.prototype.multiply=function(K){var ve=K.sx*this.sx+K.shy*this.shx,Oe=K.sx*this.shy+K.shy*this.sy,qe=K.shx*this.sx+K.sy*this.shx,ct=K.shx*this.shy+K.sy*this.sy,xt=K.tx*this.sx+K.ty*this.shx+this.tx,Ft=K.tx*this.shy+K.ty*this.sy+this.ty;return new Tt(ve,Oe,qe,ct,xt,Ft)},Tt.prototype.decompose=function(){var K=this.sx,ve=this.shy,Oe=this.shx,qe=this.sy,ct=this.tx,xt=this.ty,Ft=Math.sqrt(K*K+ve*ve),kt=(K/=Ft)*Oe+(ve/=Ft)*qe;Oe-=K*kt,qe-=ve*kt;var tr=Math.sqrt(Oe*Oe+qe*qe);return kt/=tr,K*(qe/=tr)<ve*(Oe/=tr)&&(K=-K,ve=-ve,kt=-kt,Ft=-Ft),{scale:new Tt(Ft,0,0,tr,0,0),translate:new Tt(1,0,0,1,ct,xt),rotate:new Tt(K,ve,-ve,K,0,0),skew:new Tt(1,0,kt,1,0,0)}},Tt.prototype.toString=function(K){return this.join(" ")},Tt.prototype.inversed=function(){var K=this.sx,ve=this.shy,Oe=this.shx,qe=this.sy,ct=this.tx,xt=this.ty,Ft=1/(K*qe-ve*Oe),kt=qe*Ft,tr=-ve*Ft,hr=-Oe*Ft,Zt=K*Ft;return new Tt(kt,tr,hr,Zt,-kt*ct-hr*xt,-tr*ct-Zt*xt)},Tt.prototype.applyToPoint=function(K){var ve=K.x*this.sx+K.y*this.shx+this.tx,Oe=K.x*this.shy+K.y*this.sy+this.ty;return new to(ve,Oe)},Tt.prototype.applyToRectangle=function(K){var ve=this.applyToPoint(K),Oe=this.applyToPoint(new to(K.x+K.w,K.y+K.h));return new wi(ve.x,ve.y,Oe.x-ve.x,Oe.y-ve.y)},Tt.prototype.clone=function(){var K=this.sx,ve=this.shy,Oe=this.shx,qe=this.sy,ct=this.tx,xt=this.ty;return new Tt(K,ve,Oe,qe,ct,xt)},h.Matrix=Tt;var ir=h.matrixMult=function(K,ve){return ve.multiply(K)},rr=new Tt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=rr;var Mr=function(K,ve){if(!vt[K]){var Oe=(ve instanceof Pa?"Sh":"P")+(Object.keys(ht).length+1).toString(10);ve.id=Oe,vt[K]=Oe,ht[Oe]=ve,bt.publish("addPattern",ve)}};h.ShadingPattern=Pa,h.TilingPattern=Jl,h.addShadingPattern=function(K,ve){return E("addShadingPattern()"),Mr(K,ve),this},h.beginTilingPattern=function(K){E("beginTilingPattern()"),Vt(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},h.endTilingPattern=function(K,ve){E("endTilingPattern()"),ve.stream=pe[L].join(`
`),Mr(K,ve),bt.publish("endTilingPattern",ve),Ar.pop().restore()};var gr=h.__private__.newObject=function(){var K=nr();return Tr(K,!0),K},nr=h.__private__.newObjectDeferred=function(){return q++,Z[q]=function(){return fe},q},Tr=function(K,ve){return ve=typeof ve=="boolean"&&ve,Z[K]=fe,ve&&oe(K+" 0 obj"),K},qn=h.__private__.newAdditionalObject=function(){var K={objId:nr(),content:""};return be.push(K),K},Dn=nr(),xn=nr(),On=h.__private__.decodeColorString=function(K){var ve=K.split(" ");if(ve.length!==2||ve[1]!=="g"&&ve[1]!=="G")ve.length===5&&(ve[4]==="k"||ve[4]==="K")&&(ve=[(1-ve[0])*(1-ve[3]),(1-ve[1])*(1-ve[3]),(1-ve[2])*(1-ve[3]),"r"]);else{var Oe=parseFloat(ve[0]);ve=[Oe,Oe,Oe,"r"]}for(var qe="#",ct=0;ct<3;ct++)qe+=("0"+Math.floor(255*parseFloat(ve[ct])).toString(16)).slice(-2);return qe},Tn=h.__private__.encodeColorString=function(K){var ve;typeof K=="string"&&(K={ch1:K});var Oe=K.ch1,qe=K.ch2,ct=K.ch3,xt=K.ch4,Ft=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Oe=="string"&&Oe.charAt(0)!=="#"){var kt=new n1(Oe);if(kt.ok)Oe=kt.toHex();else if(!/^\d*\.?\d*$/.test(Oe))throw new Error('Invalid color "'+Oe+'" passed to jsPDF.encodeColorString.')}if(typeof Oe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Oe)&&(Oe="#"+Oe[1]+Oe[1]+Oe[2]+Oe[2]+Oe[3]+Oe[3]),typeof Oe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Oe)){var tr=parseInt(Oe.substr(1),16);Oe=tr>>16&255,qe=tr>>8&255,ct=255&tr}if(qe===void 0||xt===void 0&&Oe===qe&&qe===ct)if(typeof Oe=="string")ve=Oe+" "+Ft[0];else switch(K.precision){case 2:ve=T(Oe/255)+" "+Ft[0];break;case 3:default:ve=B(Oe/255)+" "+Ft[0]}else if(xt===void 0||Hr(xt)==="object"){if(xt&&!isNaN(xt.a)&&xt.a===0)return ve=["1.","1.","1.",Ft[1]].join(" ");if(typeof Oe=="string")ve=[Oe,qe,ct,Ft[1]].join(" ");else switch(K.precision){case 2:ve=[T(Oe/255),T(qe/255),T(ct/255),Ft[1]].join(" ");break;default:case 3:ve=[B(Oe/255),B(qe/255),B(ct/255),Ft[1]].join(" ")}}else if(typeof Oe=="string")ve=[Oe,qe,ct,xt,Ft[2]].join(" ");else switch(K.precision){case 2:ve=[T(Oe),T(qe),T(ct),T(xt),Ft[2]].join(" ");break;case 3:default:ve=[B(Oe),B(qe),B(ct),B(xt),Ft[2]].join(" ")}return ve},Nn=h.__private__.getFilters=function(){return a},le=h.__private__.putStream=function(K){var ve=(K=K||{}).data||"",Oe=K.filters||Nn(),qe=K.alreadyAppliedFilters||[],ct=K.addLength1||!1,xt=ve.length,Ft=K.objectId,kt=function(H){return H};if(p!==null&&Ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(kt=kn.encryptor(Ft,0));var tr={};Oe===!0&&(Oe=["FlateEncode"]);var hr=K.additionalKeyValues||[],Zt=(tr=or.API.processDataByFilters!==void 0?or.API.processDataByFilters(ve,Oe):{data:ve,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(tr.data.length!==0&&(hr.push({key:"Length",value:tr.data.length}),ct===!0&&hr.push({key:"Length1",value:xt})),Zt.length!=0)if(Zt.split("/").length-1==1)hr.push({key:"Filter",value:Zt});else{hr.push({key:"Filter",value:"["+Zt+"]"});for(var xr=0;xr<hr.length;xr+=1)if(hr[xr].key==="DecodeParms"){for(var S=[],U=0;U<tr.reverseChain.split("/").length-1;U+=1)S.push("null");S.push(hr[xr].value),hr[xr].value="["+S.join(" ")+"]"}}oe("<<");for(var N=0;N<hr.length;N++)oe("/"+hr[N].key+" "+hr[N].value);oe(">>"),tr.data.length!==0&&(oe("stream"),oe(kt(tr.data)),oe("endstream"))},De=h.__private__.putPage=function(K){var ve=K.number,Oe=K.data,qe=K.objId,ct=K.contentsObjId;Tr(qe,!0),oe("<</Type /Page"),oe("/Parent "+K.rootDictionaryObjId+" 0 R"),oe("/Resources "+K.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(x(K.mediaBox.bottomLeftX))+" "+parseFloat(x(K.mediaBox.bottomLeftY))+" "+x(K.mediaBox.topRightX)+" "+x(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&oe("/CropBox ["+x(K.cropBox.bottomLeftX)+" "+x(K.cropBox.bottomLeftY)+" "+x(K.cropBox.topRightX)+" "+x(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&oe("/BleedBox ["+x(K.bleedBox.bottomLeftX)+" "+x(K.bleedBox.bottomLeftY)+" "+x(K.bleedBox.topRightX)+" "+x(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&oe("/TrimBox ["+x(K.trimBox.bottomLeftX)+" "+x(K.trimBox.bottomLeftY)+" "+x(K.trimBox.topRightX)+" "+x(K.trimBox.topRightY)+"]"),K.artBox!==null&&oe("/ArtBox ["+x(K.artBox.bottomLeftX)+" "+x(K.artBox.bottomLeftY)+" "+x(K.artBox.topRightX)+" "+x(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&oe("/UserUnit "+K.userUnit),bt.publish("putPage",{objId:qe,pageContext:ft[ve],pageNumber:ve,page:Oe}),oe("/Contents "+ct+" 0 R"),oe(">>"),oe("endobj");var xt=Oe.join(`
`);return v===b.ADVANCED&&(xt+=`
Q`),Tr(ct,!0),le({data:xt,filters:Nn(),objectId:ct}),oe("endobj"),qe},We=h.__private__.putPages=function(){var K,ve,Oe=[];for(K=1;K<=dt;K++)ft[K].objId=nr(),ft[K].contentsObjId=nr();for(K=1;K<=dt;K++)Oe.push(De({number:K,data:pe[K],objId:ft[K].objId,contentsObjId:ft[K].contentsObjId,mediaBox:ft[K].mediaBox,cropBox:ft[K].cropBox,bleedBox:ft[K].bleedBox,trimBox:ft[K].trimBox,artBox:ft[K].artBox,userUnit:ft[K].userUnit,rootDictionaryObjId:Dn,resourceDictionaryObjId:xn}));Tr(Dn,!0),oe("<</Type /Pages");var qe="/Kids [";for(ve=0;ve<dt;ve++)qe+=Oe[ve]+" 0 R ";oe(qe+"]"),oe("/Count "+dt),oe(">>"),oe("endobj"),bt.publish("postPutPages")},Qe=function(K){bt.publish("putFont",{font:K,out:oe,newObject:gr,putStream:le}),K.isAlreadyPutted!==!0&&(K.objectNumber=gr(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Gl(K.postScriptName)),oe("/Subtype /Type1"),typeof K.encoding=="string"&&oe("/Encoding /"+K.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},it=function(){for(var K in Ee)Ee.hasOwnProperty(K)&&(d===!1||d===!0&&c.hasOwnProperty(K))&&Qe(Ee[K])},tt=function(K){K.objectNumber=gr();var ve=[];ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Form"}),ve.push({key:"BBox",value:"["+[x(K.x),x(K.y),x(K.x+K.width),x(K.y+K.height)].join(" ")+"]"}),ve.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var Oe=K.pages[1].join(`
`);le({data:Oe,additionalKeyValues:ve,objectId:K.objectNumber}),oe("endobj")},Ut=function(){for(var K in Ot)Ot.hasOwnProperty(K)&&tt(Ot[K])},_t=function(K,ve){var Oe,qe=[],ct=1/(ve-1);for(Oe=0;Oe<1;Oe+=ct)qe.push(Oe);if(qe.push(1),K[0].offset!=0){var xt={offset:0,color:K[0].color};K.unshift(xt)}if(K[K.length-1].offset!=1){var Ft={offset:1,color:K[K.length-1].color};K.push(Ft)}for(var kt="",tr=0,hr=0;hr<qe.length;hr++){for(Oe=qe[hr];Oe>K[tr+1].offset;)tr++;var Zt=K[tr].offset,xr=(Oe-Zt)/(K[tr+1].offset-Zt),S=K[tr].color,U=K[tr+1].color;kt+=V(Math.round((1-xr)*S[0]+xr*U[0]).toString(16))+V(Math.round((1-xr)*S[1]+xr*U[1]).toString(16))+V(Math.round((1-xr)*S[2]+xr*U[2]).toString(16))}return kt.trim()},Pt=function(K,ve){ve||(ve=21);var Oe=gr(),qe=_t(K.colors,ve),ct=[];ct.push({key:"FunctionType",value:"0"}),ct.push({key:"Domain",value:"[0.0 1.0]"}),ct.push({key:"Size",value:"["+ve+"]"}),ct.push({key:"BitsPerSample",value:"8"}),ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le({data:qe,additionalKeyValues:ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Oe}),oe("endobj"),K.objectNumber=gr(),oe("<< /ShadingType "+K.type),oe("/ColorSpace /DeviceRGB");var xt="/Coords ["+x(parseFloat(K.coords[0]))+" "+x(parseFloat(K.coords[1]))+" ";K.type===2?xt+=x(parseFloat(K.coords[2]))+" "+x(parseFloat(K.coords[3])):xt+=x(parseFloat(K.coords[2]))+" "+x(parseFloat(K.coords[3]))+" "+x(parseFloat(K.coords[4]))+" "+x(parseFloat(K.coords[5])),oe(xt+="]"),K.matrix&&oe("/Matrix ["+K.matrix.toString()+"]"),oe("/Function "+Oe+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},Bt=function(K,ve){var Oe=nr(),qe=gr();ve.push({resourcesOid:Oe,objectOid:qe}),K.objectNumber=qe;var ct=[];ct.push({key:"Type",value:"/Pattern"}),ct.push({key:"PatternType",value:"1"}),ct.push({key:"PaintType",value:"1"}),ct.push({key:"TilingType",value:"1"}),ct.push({key:"BBox",value:"["+K.boundingBox.map(x).join(" ")+"]"}),ct.push({key:"XStep",value:x(K.xStep)}),ct.push({key:"YStep",value:x(K.yStep)}),ct.push({key:"Resources",value:Oe+" 0 R"}),K.matrix&&ct.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),le({data:K.stream,additionalKeyValues:ct,objectId:K.objectNumber}),oe("endobj")},Ht=function(K){var ve;for(ve in ht)ht.hasOwnProperty(ve)&&(ht[ve]instanceof Pa?Pt(ht[ve]):ht[ve]instanceof Jl&&Bt(ht[ve],K))},Kt=function(K){for(var ve in K.objectNumber=gr(),oe("<<"),K)switch(ve){case"opacity":oe("/ca "+T(K[ve]));break;case"stroke-opacity":oe("/CA "+T(K[ve]))}oe(">>"),oe("endobj")},lr=function(){var K;for(K in $e)$e.hasOwnProperty(K)&&Kt($e[K])},wr=function(){for(var K in oe("/XObject <<"),Ot)Ot.hasOwnProperty(K)&&Ot[K].objectNumber>=0&&oe("/"+K+" "+Ot[K].objectNumber+" 0 R");bt.publish("putXobjectDict"),oe(">>")},Fr=function(){kn.oid=gr(),oe("<<"),oe("/Filter /Standard"),oe("/V "+kn.v),oe("/R "+kn.r),oe("/U <"+kn.toHexString(kn.U)+">"),oe("/O <"+kn.toHexString(kn.O)+">"),oe("/P "+kn.P),oe(">>"),oe("endobj")},Gr=function(){for(var K in oe("/Font <<"),Ee)Ee.hasOwnProperty(K)&&(d===!1||d===!0&&c.hasOwnProperty(K))&&oe("/"+K+" "+Ee[K].objectNumber+" 0 R");oe(">>")},_r=function(){if(Object.keys(ht).length>0){for(var K in oe("/Shading <<"),ht)ht.hasOwnProperty(K)&&ht[K]instanceof Pa&&ht[K].objectNumber>=0&&oe("/"+K+" "+ht[K].objectNumber+" 0 R");bt.publish("putShadingPatternDict"),oe(">>")}},Xt=function(K){if(Object.keys(ht).length>0){for(var ve in oe("/Pattern <<"),ht)ht.hasOwnProperty(ve)&&ht[ve]instanceof h.TilingPattern&&ht[ve].objectNumber>=0&&ht[ve].objectNumber<K&&oe("/"+ve+" "+ht[ve].objectNumber+" 0 R");bt.publish("putTilingPatternDict"),oe(">>")}},Cs=function(){if(Object.keys($e).length>0){var K;for(K in oe("/ExtGState <<"),$e)$e.hasOwnProperty(K)&&$e[K].objectNumber>=0&&oe("/"+K+" "+$e[K].objectNumber+" 0 R");bt.publish("putGStateDict"),oe(">>")}},er=function(K){Tr(K.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gr(),_r(),Xt(K.objectOid),Cs(),wr(),oe(">>"),oe("endobj")},Ln=function(){var K=[];it(),lr(),Ut(),Ht(K),bt.publish("putResources"),K.forEach(er),er({resourcesOid:xn,objectOid:Number.MAX_SAFE_INTEGER}),bt.publish("postPutResources")},Gi=function(){bt.publish("putAdditionalObjects");for(var K=0;K<be.length;K++){var ve=be[K];Tr(ve.objId,!0),oe(ve.content),oe("endobj")}bt.publish("postPutAdditionalObjects")},Fi=function(K){Ne[K.fontName]=Ne[K.fontName]||{},Ne[K.fontName][K.fontStyle]=K.id},Vi=function(K,ve,Oe,qe,ct){var xt={id:"F"+(Object.keys(Ee).length+1).toString(10),postScriptName:K,fontName:ve,fontStyle:Oe,encoding:qe,isStandardFont:ct||!1,metadata:{}};return bt.publish("addFont",{font:xt,instance:this}),Ee[xt.id]=xt,Fi(xt),xt.id},un=function(K){for(var ve=0,Oe=re.length;ve<Oe;ve++){var qe=Vi.call(this,K[ve][0],K[ve][1],K[ve][2],re[ve][3],!0);d===!1&&(c[qe]=!0);var ct=K[ve][0].split("-");Fi({id:qe,fontName:ct[0],fontStyle:ct[1]||""})}bt.publish("addFonts",{fonts:Ee,dictionary:Ne})},hn=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(qe){var ve=qe.stack||"";~ve.indexOf(" at ")&&(ve=ve.split(" at ")[1]);var Oe="Error in function "+ve.split(`
`)[0].split("<")[0]+": "+qe.message;if(!ar.console)throw new Error(Oe);ar.console.error(Oe,qe),ar.alert&&alert(Oe)}},K.foo.bar=K,K.foo},Ui=function(K,ve){var Oe,qe,ct,xt,Ft,kt,tr,hr,Zt;if(ct=(ve=ve||{}).sourceEncoding||"Unicode",Ft=ve.outputEncoding,(ve.autoencode||Ft)&&Ee[Le].metadata&&Ee[Le].metadata[ct]&&Ee[Le].metadata[ct].encoding&&(xt=Ee[Le].metadata[ct].encoding,!Ft&&Ee[Le].encoding&&(Ft=Ee[Le].encoding),!Ft&&xt.codePages&&(Ft=xt.codePages[0]),typeof Ft=="string"&&(Ft=xt[Ft]),Ft)){for(tr=!1,kt=[],Oe=0,qe=K.length;Oe<qe;Oe++)(hr=Ft[K.charCodeAt(Oe)])?kt.push(String.fromCharCode(hr)):kt.push(K[Oe]),kt[Oe].charCodeAt(0)>>8&&(tr=!0);K=kt.join("")}for(Oe=K.length;tr===void 0&&Oe!==0;)K.charCodeAt(Oe-1)>>8&&(tr=!0),Oe--;if(!tr)return K;for(kt=ve.noBOM?[]:[254,255],Oe=0,qe=K.length;Oe<qe;Oe++){if((Zt=(hr=K.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(Zt),kt.push(hr-(Zt<<8))}return String.fromCharCode.apply(void 0,kt)},Rr=h.__private__.pdfEscape=h.pdfEscape=function(K,ve){return Ui(K,ve).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zi=h.__private__.beginPage=function(K){pe[++dt]=[],ft[dt]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},fa(dt),de(pe[L])},Mo=function(K,ve){var Oe,qe,ct;switch(n=ve||n,typeof K=="string"&&(Oe=m(K.toLowerCase()),Array.isArray(Oe)&&(qe=Oe[0],ct=Oe[1])),Array.isArray(K)&&(qe=K[0]*he,ct=K[1]*he),isNaN(qe)&&(qe=o[0],ct=o[1]),(qe>14400||ct>14400)&&(Xr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),ct=Math.min(14400,ct)),o=[qe,ct],n.substr(0,1)){case"l":ct>qe&&(o=[ct,qe]);break;case"p":qe>ct&&(o=[ct,qe])}zi(o),ga(Fo),oe(bi),eo!==0&&oe(eo+" J"),Is!==0&&oe(Is+" j"),bt.publish("addPage",{pageNumber:dt})},Ms=function(K){K>0&&K<=dt&&(pe.splice(K,1),ft.splice(K,1),dt--,L>dt&&(L=dt),this.setPage(L))},fa=function(K){K>0&&K<=dt&&(L=K)},$a=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return pe.length-1},qs=function(K,ve,Oe){var qe,ct=void 0;return Oe=Oe||{},K=K!==void 0?K:Ee[Le].fontName,ve=ve!==void 0?ve:Ee[Le].fontStyle,qe=K.toLowerCase(),Ne[qe]!==void 0&&Ne[qe][ve]!==void 0?ct=Ne[qe][ve]:Ne[K]!==void 0&&Ne[K][ve]!==void 0?ct=Ne[K][ve]:Oe.disableWarning===!1&&Xr.warn("Unable to look up font label for font '"+K+"', '"+ve+"'. Refer to getFontList() for available fonts."),ct||Oe.noFallback||(ct=Ne.times[ve])==null&&(ct=Ne.times.normal),ct},To=h.__private__.putInfo=function(){var K=gr(),ve=function(qe){return qe};for(var Oe in p!==null&&(ve=kn.encryptor(K,0)),oe("<<"),oe("/Producer ("+Rr(ve("jsPDF "+or.version))+")"),Ke)Ke.hasOwnProperty(Oe)&&Ke[Oe]&&oe("/"+Oe.substr(0,1).toUpperCase()+Oe.substr(1)+" ("+Rr(ve(Ke[Oe]))+")");oe("/CreationDate ("+Rr(ve(O))+")"),oe(">>"),oe("endobj")},$n=h.__private__.putCatalog=function(K){var ve=(K=K||{}).rootDictionaryObjId||Dn;switch(gr(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+ve+" 0 R"),Ce||(Ce="fullwidth"),Ce){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Oe=""+Ce;Oe.substr(Oe.length-1)==="%"&&(Ce=parseInt(Ce)/100),typeof Ce=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+T(Ce)+"]")}switch(et||(et="continuous"),et){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}Ge&&oe("/PageMode /"+Ge),bt.publish("putCatalog"),oe(">>"),oe("endobj")},el=h.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(q+1)),oe("/Root "+q+" 0 R"),oe("/Info "+(q-1)+" 0 R"),p!==null&&oe("/Encrypt "+kn.oid+" 0 R"),oe("/ID [ <"+Q+"> <"+Q+"> ]"),oe(">>")},tl=h.__private__.putHeader=function(){oe("%PDF-"+f),oe("%")},Ts=h.__private__.putXRef=function(){var K="0000000000";oe("xref"),oe("0 "+(q+1)),oe("0000000000 65535 f ");for(var ve=1;ve<=q;ve++)typeof Z[ve]=="function"?oe((K+Z[ve]()).slice(-10)+" 00000 n "):Z[ve]!==void 0?oe((K+Z[ve]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Wi=h.__private__.buildDocument=function(){ce(),de(se),bt.publish("buildDocument"),tl(),We(),Gi(),Ln(),p!==null&&Fr(),To(),$n();var K=fe;return Ts(),el(),oe("startxref"),oe(""+K),oe("%%EOF"),de(pe[L]),se.join(`
`)},Lo=h.__private__.getBlob=function(K){return new Blob([Se(K)],{type:"application/pdf"})},Ls=h.output=h.__private__.output=hn(function(K,ve){switch(typeof(ve=ve||{})=="string"?ve={filename:ve}:ve.filename=ve.filename||"generated.pdf",K){case void 0:return Wi();case"save":h.save(ve.filename);break;case"arraybuffer":return Se(Wi());case"blob":return Lo(Wi());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(Lo(Wi()))||void 0;Xr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Oe="",qe=Wi();try{Oe=ap(qe)}catch{Oe=ap(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+ve.filename+";base64,"+Oe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ve.pdfObjectUrl&&(ct=ve.pdfObjectUrl,xt="");var Ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ct+'"'+xt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ve)+");<\/script></body></html>",kt=ar.open();return kt!==null&&kt.document.write(Ft),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ve.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ve.filename+'" width="500px" height="400px" /></body></html>',hr=ar.open();if(hr!==null){hr.document.write(tr);var Zt=this;hr.document.documentElement.querySelector("#pdfViewer").onload=function(){hr.document.title=ve.filename,hr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return hr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ve)+'"></iframe></body></html>',S=ar.open();if(S!==null&&(S.document.write(xr),S.document.title=ve.filename),S||typeof safari>"u")return S;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",ve);default:return null}}),pa=function(K){return Array.isArray(It)===!0&&It.indexOf(K)>-1};switch(t){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if(typeof t!="number")throw new Error("Invalid unit: "+t);he=t}var kn=null;te(),k();var rl=function(K){return p!==null?kn.encryptor(K,0):function(ve){return ve}},ma=h.__private__.getPageInfo=h.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[K].objId,pageNumber:K,pageContext:ft[K]}},cr=h.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ve in ft)if(ft[ve].objId===K)break;return ma(ve)},nl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ft[L].objId,pageNumber:L,pageContext:ft[L]}};h.addPage=function(){return Mo.apply(this,arguments),this},h.setPage=function(){return fa.apply(this,arguments),de.call(this,pe[L]),this},h.insertPage=function(K){return this.addPage(),this.movePage(L,K),this},h.movePage=function(K,ve){var Oe,qe;if(K>ve){Oe=pe[K],qe=ft[K];for(var ct=K;ct>ve;ct--)pe[ct]=pe[ct-1],ft[ct]=ft[ct-1];pe[ve]=Oe,ft[ve]=qe,this.setPage(ve)}else if(K<ve){Oe=pe[K],qe=ft[K];for(var xt=K;xt<ve;xt++)pe[xt]=pe[xt+1],ft[xt]=ft[xt+1];pe[ve]=Oe,ft[ve]=qe,this.setPage(ve)}return this},h.deletePage=function(){return Ms.apply(this,arguments),this},h.__private__.text=h.text=function(K,ve,Oe,qe,ct){var xt,Ft,kt,tr,hr,Zt,xr,S,U,N=(qe=qe||{}).scope||this;if(typeof K=="number"&&typeof ve=="number"&&(typeof Oe=="string"||Array.isArray(Oe))){var H=Oe;Oe=ve,ve=K,K=H}if(arguments[3]instanceof Tt?(E("The transform parameter of text() with a Matrix value"),U=ct):(kt=arguments[4],tr=arguments[5],Hr(xr=arguments[3])==="object"&&xr!==null||(typeof kt=="string"&&(tr=kt,kt=null),typeof xr=="string"&&(tr=xr,xr=null),typeof xr=="number"&&(kt=xr,xr=null),qe={flags:xr,angle:kt,align:tr})),isNaN(ve)||isNaN(Oe)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return N;var X="",ne=!1,ae=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:Xi,we=N.internal.scaleFactor;function Ue(Zr){return Zr=Zr.split("	").join(Array(qe.TabLen||9).join(" ")),Rr(Zr,xr)}function Fe(Zr){for(var $r,gn=Zr.concat(),Fn=[],io=gn.length;io--;)typeof($r=gn.shift())=="string"?Fn.push($r):Array.isArray(Zr)&&($r.length===1||$r[1]===void 0&&$r[2]===void 0)?Fn.push($r[0]):Fn.push([$r[0],$r[1],$r[2]]);return Fn}function Ve(Zr,$r){var gn;if(typeof Zr=="string")gn=$r(Zr)[0];else if(Array.isArray(Zr)){for(var Fn,io,jo=Zr.concat(),cl=[],wc=jo.length;wc--;)typeof(Fn=jo.shift())=="string"?cl.push($r(Fn)[0]):Array.isArray(Fn)&&typeof Fn[0]=="string"&&(io=$r(Fn[0],Fn[1],Fn[2]),cl.push([io[0],io[1],io[2]]));gn=cl}return gn}var ot=!1,Ze=!0;if(typeof K=="string")ot=!0;else if(Array.isArray(K)){var ke=K.concat();Ft=[];for(var St,ut=ke.length;ut--;)(typeof(St=ke.shift())!="string"||Array.isArray(St)&&typeof St[0]!="string")&&(Ze=!1);ot=Ze}if(ot===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var gt=ie/N.internal.scaleFactor,lt=gt*(ae-1);switch(qe.baseline){case"bottom":Oe-=lt;break;case"top":Oe+=gt-lt;break;case"hanging":Oe+=gt-2*lt;break;case"middle":Oe+=gt/2-lt}if((Zt=qe.maxWidth||0)>0&&(typeof K=="string"?K=N.splitTextToSize(K,Zt):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Zr,$r){return Zr.concat(N.splitTextToSize($r,Zt))},[]))),xt={text:K,x:ve,y:Oe,options:qe,mutex:{pdfEscape:Rr,activeFontKey:Le,fonts:Ee,activeFontSize:ie}},bt.publish("preProcessText",xt),K=xt.text,kt=(qe=xt.options).angle,!(U instanceof Tt)&&kt&&typeof kt=="number"){kt*=Math.PI/180,qe.rotationDirection===0&&(kt=-kt),v===b.ADVANCED&&(kt=-kt);var At=Math.cos(kt),Wt=Math.sin(kt);U=new Tt(At,Wt,-Wt,At,0,0)}else kt&&kt instanceof Tt&&(U=kt);v!==b.ADVANCED||U||(U=rr),(hr=qe.charSpace||$s)!==void 0&&(X+=x(P(hr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(S=qe.horizontalScale)!==void 0&&(X+=x(100*S)+` Tz
`),qe.lang;var $t=-1,Yt=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,qt=N.internal.getCurrentPageInfo().pageContext;switch(Yt){case 0:case!1:case"fill":$t=0;break;case 1:case!0:case"stroke":$t=1;break;case 2:case"fillThenStroke":$t=2;break;case 3:case"invisible":$t=3;break;case 4:case"fillAndAddForClipping":$t=4;break;case 5:case"strokeAndAddPathForClipping":$t=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$t=6;break;case 7:case"addToPathForClipping":$t=7}var dr=qt.usedRenderingMode!==void 0?qt.usedRenderingMode:-1;$t!==-1?X+=$t+` Tr
`:dr!==-1&&(X+=`0 Tr
`),$t!==-1&&(qt.usedRenderingMode=$t),tr=qe.align||"left";var Sr,Vr=ie*ae,on=N.internal.pageSize.getWidth(),Sn=Ee[Le];hr=qe.charSpace||$s,Zt=qe.maxWidth||0,xr=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var tn=[];if(Object.prototype.toString.call(K)==="[object Array]"){var an;Ft=Fe(K),tr!=="left"&&(Sr=Ft.map(function(Zr){return N.getStringUnitWidth(Zr,{font:Sn,charSpace:hr,fontSize:ie,doKerning:!1})*ie/we}));var br,Lr=0;if(tr==="right"){ve-=Sr[0],K=[],ut=Ft.length;for(var yr=0;yr<ut;yr++)yr===0?(br=ji(ve),an=cs(Oe)):(br=P(Lr-Sr[yr]),an=-Vr),K.push([Ft[yr],br,an]),Lr=Sr[yr]}else if(tr==="center"){ve-=Sr[0]/2,K=[],ut=Ft.length;for(var Jr=0;Jr<ut;Jr++)Jr===0?(br=ji(ve),an=cs(Oe)):(br=P((Lr-Sr[Jr])/2),an=-Vr),K.push([Ft[Jr],br,an]),Lr=Sr[Jr]}else if(tr==="left"){K=[],ut=Ft.length;for(var Dr=0;Dr<ut;Dr++)K.push(Ft[Dr])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');K=[],ut=Ft.length,Zt=Zt!==0?Zt:on;for(var Nr=0;Nr<ut;Nr++)an=Nr===0?cs(Oe):-Vr,br=Nr===0?ji(ve):0,Nr<ut-1?tn.push(x(P((Zt-Sr[Nr])/(Ft[Nr].split(" ").length-1)))):tn.push(0),K.push([Ft[Nr],br,an])}}var Pr=typeof qe.R2L=="boolean"?qe.R2L:ze;Pr===!0&&(K=Ve(K,function(Zr,$r,gn){return[Zr.split("").reverse().join(""),$r,gn]})),xt={text:K,x:ve,y:Oe,options:qe,mutex:{pdfEscape:Rr,activeFontKey:Le,fonts:Ee,activeFontSize:ie}},bt.publish("postProcessText",xt),K=xt.text,ne=xt.mutex.isHex||!1;var ln=Ee[Le].encoding;ln!=="WinAnsiEncoding"&&ln!=="StandardEncoding"||(K=Ve(K,function(Zr,$r,gn){return[Ue(Zr),$r,gn]})),Ft=Fe(K),K=[];for(var Si,Qn,Yi,_a=0,Al=1,xa=Array.isArray(Ft[0])?Al:_a,Po="",yA=function(Zr,$r,gn){var Fn="";return gn instanceof Tt?(gn=typeof qe.angle=="number"?ir(gn,new Tt(1,0,0,1,Zr,$r)):ir(new Tt(1,0,0,1,Zr,$r),gn),v===b.ADVANCED&&(gn=ir(new Tt(1,0,0,-1,0,0),gn)),Fn=gn.join(" ")+` Tm
`):Fn=x(Zr)+" "+x($r)+` Td
`,Fn},Ji=0;Ji<Ft.length;Ji++){switch(Po="",xa){case Al:Yi=(ne?"<":"(")+Ft[Ji][0]+(ne?">":")"),Si=parseFloat(Ft[Ji][1]),Qn=parseFloat(Ft[Ji][2]);break;case _a:Yi=(ne?"<":"(")+Ft[Ji]+(ne?">":")"),Si=ji(ve),Qn=cs(Oe)}tn!==void 0&&tn[Ji]!==void 0&&(Po=tn[Ji]+` Tw
`),Ji===0?K.push(Po+yA(Si,Qn,U)+Yi):xa===_a?K.push(Po+Yi):xa===Al&&K.push(Po+yA(Si,Qn,U)+Yi)}K=xa===_a?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var no=`BT
/`;return no+=Le+" "+ie+` Tf
`,no+=x(ie*ae)+` TL
`,no+=Us+`
`,no+=X,no+=K,oe(no+="ET"),c[Le]=!0,N};var mA=h.__private__.clip=h.clip=function(K){return oe(K==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return mA("evenodd")},h.__private__.discardPath=h.discardPath=function(){return oe("n"),this};var Ki=h.__private__.isValidStyle=function(K){var ve=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(ve=!0),ve};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(K){return Ki(K)&&(u=K),this};var il=h.__private__.getStyle=h.getStyle=function(K){var ve=u;switch(K){case"D":case"S":ve="S";break;case"F":ve="f";break;case"FD":case"DF":ve="B";break;case"f":case"f*":case"B":case"B*":ve=K}return ve},sl=h.close=function(){return oe("h"),this};h.stroke=function(){return oe("S"),this},h.fill=function(K){return Xs("f",K),this},h.fillEvenOdd=function(K){return Xs("f*",K),this},h.fillStroke=function(K){return Xs("B",K),this},h.fillStrokeEvenOdd=function(K){return Xs("B*",K),this};var Xs=function(K,ve){Hr(ve)==="object"?Ys(ve,K):oe(K)},ei=function(K){K===null||v===b.ADVANCED&&K===void 0||(K=il(K),oe(K))};function Ii(K,ve,Oe,qe,ct){var xt=new Jl(ve||this.boundingBox,Oe||this.xStep,qe||this.yStep,this.gState,ct||this.matrix);xt.stream=this.stream;var Ft=K+"$$"+this.cloneIndex+++"$$";return Mr(Ft,xt),xt}var Ys=function(K,ve){var Oe=vt[K.key],qe=ht[Oe];if(qe instanceof Pa)oe("q"),oe(Js(ve)),qe.gState&&h.setGState(qe.gState),oe(K.matrix.toString()+" cm"),oe("/"+Oe+" sh"),oe("Q");else if(qe instanceof Jl){var ct=new Tt(1,0,0,-1,0,Ps());K.matrix&&(ct=ct.multiply(K.matrix||rr),Oe=Ii.call(qe,K.key,K.boundingBox,K.xStep,K.yStep,ct).id),oe("q"),oe("/Pattern cs"),oe("/"+Oe+" scn"),qe.gState&&h.setGState(qe.gState),oe(ve),oe("Q")}},Js=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ci=h.moveTo=function(K,ve){return oe(x(P(K))+" "+x(j(ve))+" m"),this},Pi=h.lineTo=function(K,ve){return oe(x(P(K))+" "+x(j(ve))+" l"),this},Fs=h.curveTo=function(K,ve,Oe,qe,ct,xt){return oe([x(P(K)),x(j(ve)),x(P(Oe)),x(j(qe)),x(P(ct)),x(j(xt)),"c"].join(" ")),this};h.__private__.line=h.line=function(K,ve,Oe,qe,ct){if(isNaN(K)||isNaN(ve)||isNaN(Oe)||isNaN(qe)||!Ki(ct))throw new Error("Invalid arguments passed to jsPDF.line");return v===b.COMPAT?this.lines([[Oe-K,qe-ve]],K,ve,[1,1],ct||"S"):this.lines([[Oe-K,qe-ve]],K,ve,[1,1]).stroke()},h.__private__.lines=h.lines=function(K,ve,Oe,qe,ct,xt){var Ft,kt,tr,hr,Zt,xr,S,U,N,H,X,ne;if(typeof K=="number"&&(ne=Oe,Oe=ve,ve=K,K=ne),qe=qe||[1,1],xt=xt||!1,isNaN(ve)||isNaN(Oe)||!Array.isArray(K)||!Array.isArray(qe)||!Ki(ct)||typeof xt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ci(ve,Oe),Ft=qe[0],kt=qe[1],hr=K.length,H=ve,X=Oe,tr=0;tr<hr;tr++)(Zt=K[tr]).length===2?(H=Zt[0]*Ft+H,X=Zt[1]*kt+X,Pi(H,X)):(xr=Zt[0]*Ft+H,S=Zt[1]*kt+X,U=Zt[2]*Ft+H,N=Zt[3]*kt+X,H=Zt[4]*Ft+H,X=Zt[5]*kt+X,Fs(xr,S,U,N,H,X));return xt&&sl(),ei(ct),this},h.path=function(K){for(var ve=0;ve<K.length;ve++){var Oe=K[ve],qe=Oe.c;switch(Oe.op){case"m":ci(qe[0],qe[1]);break;case"l":Pi(qe[0],qe[1]);break;case"c":Fs.apply(this,qe);break;case"h":sl()}}return this},h.__private__.rect=h.rect=function(K,ve,Oe,qe,ct){if(isNaN(K)||isNaN(ve)||isNaN(Oe)||isNaN(qe)||!Ki(ct))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b.COMPAT&&(qe=-qe),oe([x(P(K)),x(j(ve)),x(P(Oe)),x(P(qe)),"re"].join(" ")),ei(ct),this},h.__private__.triangle=h.triangle=function(K,ve,Oe,qe,ct,xt,Ft){if(isNaN(K)||isNaN(ve)||isNaN(Oe)||isNaN(qe)||isNaN(ct)||isNaN(xt)||!Ki(Ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Oe-K,qe-ve],[ct-Oe,xt-qe],[K-ct,ve-xt]],K,ve,[1,1],Ft,!0),this},h.__private__.roundedRect=h.roundedRect=function(K,ve,Oe,qe,ct,xt,Ft){if(isNaN(K)||isNaN(ve)||isNaN(Oe)||isNaN(qe)||isNaN(ct)||isNaN(xt)||!Ki(Ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return ct=Math.min(ct,.5*Oe),xt=Math.min(xt,.5*qe),this.lines([[Oe-2*ct,0],[ct*kt,0,ct,xt-xt*kt,ct,xt],[0,qe-2*xt],[0,xt*kt,-ct*kt,xt,-ct,xt],[2*ct-Oe,0],[-ct*kt,0,-ct,-xt*kt,-ct,-xt],[0,2*xt-qe],[0,-xt*kt,ct*kt,-xt,ct,-xt]],K+ct,ve,[1,1],Ft,!0),this},h.__private__.ellipse=h.ellipse=function(K,ve,Oe,qe,ct){if(isNaN(K)||isNaN(ve)||isNaN(Oe)||isNaN(qe)||!Ki(ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xt=4/3*(Math.SQRT2-1)*Oe,Ft=4/3*(Math.SQRT2-1)*qe;return ci(K+Oe,ve),Fs(K+Oe,ve-Ft,K+xt,ve-qe,K,ve-qe),Fs(K-xt,ve-qe,K-Oe,ve-Ft,K-Oe,ve),Fs(K-Oe,ve+Ft,K-xt,ve+qe,K,ve+qe),Fs(K+xt,ve+qe,K+Oe,ve+Ft,K+Oe,ve),ei(ct),this},h.__private__.circle=h.circle=function(K,ve,Oe,qe){if(isNaN(K)||isNaN(ve)||isNaN(Oe)||!Ki(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,ve,Oe,Oe,qe)},h.setFont=function(K,ve,Oe){return Oe&&(ve=M(ve,Oe)),Le=qs(K,ve,{disableWarning:!1}),this};var qi=h.__private__.getFont=h.getFont=function(){return Ee[qs.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var K,ve,Oe={};for(K in Ne)if(Ne.hasOwnProperty(K))for(ve in Oe[K]=[],Ne[K])Ne[K].hasOwnProperty(ve)&&Oe[K].push(ve);return Oe},h.addFont=function(K,ve,Oe,qe,ct){var xt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xt.indexOf(arguments[3])!==-1?ct=arguments[3]:arguments[3]&&xt.indexOf(arguments[3])==-1&&(Oe=M(Oe,qe)),ct=ct||"Identity-H",Vi.call(this,K,ve,Oe,ct)};var Xi,Fo=i.lineWidth||.200025,Zs=h.__private__.getLineWidth=h.getLineWidth=function(){return Fo},ga=h.__private__.setLineWidth=h.setLineWidth=function(K){return Fo=K,oe(x(P(K))+" w"),this};h.__private__.setLineDash=or.API.setLineDash=or.API.setLineDashPattern=function(K,ve){if(K=K||[],ve=ve||0,isNaN(ve)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(Oe){return x(P(Oe))}).join(" "),ve=x(P(ve)),oe("["+K+"] "+ve+" d"),this};var ya=h.__private__.getLineHeight=h.getLineHeight=function(){return ie*Xi};h.__private__.getLineHeight=h.getLineHeight=function(){return ie*Xi};var va=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(Xi=K),this},ba=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Xi};va(i.lineHeight);var ji=h.__private__.getHorizontalCoordinate=function(K){return P(K)},cs=h.__private__.getVerticalCoordinate=function(K){return v===b.ADVANCED?K:ft[L].mediaBox.topRightY-ft[L].mediaBox.bottomLeftY-P(K)},ol=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(K){return x(ji(K))},us=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(K){return x(cs(K))},bi=i.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return On(bi)},h.__private__.setStrokeColor=h.setDrawColor=function(K,ve,Oe,qe){return bi=Tn({ch1:K,ch2:ve,ch3:Oe,ch4:qe,pdfColorType:"draw",precision:2}),oe(bi),this};var Uo=i.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return On(Uo)},h.__private__.setFillColor=h.setFillColor=function(K,ve,Oe,qe){return Uo=Tn({ch1:K,ch2:ve,ch3:Oe,ch4:qe,pdfColorType:"fill",precision:2}),oe(Uo),this};var Us=i.textColor||"0 g",al=h.__private__.getTextColor=h.getTextColor=function(){return On(Us)};h.__private__.setTextColor=h.setTextColor=function(K,ve,Oe,qe){return Us=Tn({ch1:K,ch2:ve,ch3:Oe,ch4:qe,pdfColorType:"text",precision:3}),this};var $s=i.charSpace,ll=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat($s||0)};h.__private__.setCharSpace=h.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=K,this};var eo=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(K){var ve=h.CapJoinStyles[K];if(ve===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eo=ve,oe(ve+" J"),this};var Is=0;h.__private__.setLineJoin=h.setLineJoin=function(K){var ve=h.CapJoinStyles[K];if(ve===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Is=ve,oe(ve+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(x(P(K))+" M"),this},h.GState=gh,h.setGState=function(K){(K=typeof K=="string"?$e[Ie[K]]:Io(null,K)).equals(yt)||(oe("/"+K.id+" gs"),yt=K)};var Io=function(K,ve){if(!K||!Ie[K]){var Oe=!1;for(var qe in $e)if($e.hasOwnProperty(qe)&&$e[qe].equals(ve)){Oe=!0;break}if(Oe)ve=$e[qe];else{var ct="GS"+(Object.keys($e).length+1).toString(10);$e[ct]=ve,ve.id=ct}return K&&(Ie[K]=ve.id),bt.publish("addGState",ve),ve}};h.addGState=function(K,ve){return Io(K,ve),this},h.saveGraphicsState=function(){return oe("q"),Je.push({key:Le,size:ie,color:Us}),this},h.restoreGraphicsState=function(){oe("Q");var K=Je.pop();return Le=K.key,ie=K.size,Us=K.color,yt=null,this},h.setCurrentTransformationMatrix=function(K){return oe(K.toString()+" cm"),this},h.comment=function(K){return oe("#"+K),this};var to=function(K,ve){var Oe=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Oe},set:function(xt){isNaN(xt)||(Oe=parseFloat(xt))}});var qe=ve||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(xt){isNaN(xt)||(qe=parseFloat(xt))}});var ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ct},set:function(xt){ct=xt.toString()}}),this},wi=function(K,ve,Oe,qe){to.call(this,K,ve),this.type="rect";var ct=Oe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ct},set:function(Ft){isNaN(Ft)||(ct=parseFloat(Ft))}});var xt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xt},set:function(Ft){isNaN(Ft)||(xt=parseFloat(Ft))}}),this},_i=function(){this.page=dt,this.currentPage=L,this.pages=pe.slice(0),this.pagesContext=ft.slice(0),this.x=$,this.y=ee,this.matrix=me,this.width=xi(L),this.height=Ps(L),this.outputDestination=ge,this.id="",this.objectNumber=-1};_i.prototype.restore=function(){dt=this.page,L=this.currentPage,ft=this.pagesContext,pe=this.pages,$=this.x,ee=this.y,me=this.matrix,wa(L,this.width),Ur(L,this.height),ge=this.outputDestination};var Vt=function(K,ve,Oe,qe,ct){Ar.push(new _i),dt=L=0,pe=[],$=K,ee=ve,me=ct,zi([Oe,qe])},gA=function(K){if(ur[K])Ar.pop().restore();else{var ve=new _i,Oe="Xo"+(Object.keys(Ot).length+1).toString(10);ve.id=Oe,ur[K]=Oe,Ot[Oe]=ve,bt.publish("addFormObject",ve),Ar.pop().restore()}};for(var ro in h.beginFormObject=function(K,ve,Oe,qe,ct){return Vt(K,ve,Oe,qe,ct),this},h.endFormObject=function(K){return gA(K),this},h.doFormObject=function(K,ve){var Oe=Ot[ur[K]];return oe("q"),oe(ve.toString()+" cm"),oe("/"+Oe.id+" Do"),oe("Q"),this},h.getFormObject=function(K){var ve=Ot[ur[K]];return{x:ve.x,y:ve.y,width:ve.width,height:ve.height,matrix:ve.matrix}},h.save=function(K,ve){return K=K||"generated.pdf",(ve=ve||{}).returnPromise=ve.returnPromise||!1,ve.returnPromise===!1?(Fa(Lo(Wi()),K),typeof Fa.unload=="function"&&ar.setTimeout&&setTimeout(Fa.unload,911),this):new Promise(function(Oe,qe){try{var ct=Fa(Lo(Wi()),K);typeof Fa.unload=="function"&&ar.setTimeout&&setTimeout(Fa.unload,911),Oe(ct)}catch(xt){qe(xt.message)}})},or.API)or.API.hasOwnProperty(ro)&&(ro==="events"&&or.API.events.length?function(K,ve){var Oe,qe,ct;for(ct=ve.length-1;ct!==-1;ct--)Oe=ve[ct][0],qe=ve[ct][1],K.subscribe.apply(K,[Oe].concat(typeof qe=="function"?[qe]:qe))}(bt,or.API.events):h[ro]=or.API[ro]);var xi=h.getPageWidth=function(K){return(ft[K=K||L].mediaBox.topRightX-ft[K].mediaBox.bottomLeftX)/he},wa=h.setPageWidth=function(K,ve){ft[K].mediaBox.topRightX=ve*he+ft[K].mediaBox.bottomLeftX},Ps=h.getPageHeight=function(K){return(ft[K=K||L].mediaBox.topRightY-ft[K].mediaBox.bottomLeftY)/he},Ur=h.setPageHeight=function(K,ve){ft[K].mediaBox.topRightY=ve*he+ft[K].mediaBox.bottomLeftY};return h.internal={pdfEscape:Rr,getStyle:il,getFont:qi,getFontSize:Me,getCharSpace:ll,getTextColor:al,getLineHeight:ya,getLineHeightFactor:ba,getLineWidth:Zs,write:je,getHorizontalCoordinate:ji,getVerticalCoordinate:cs,getCoordinateString:ol,getVerticalCoordinateString:us,collections:{},newObject:gr,newAdditionalObject:qn,newObjectDeferred:nr,newObjectDeferredBegin:Tr,getFilters:Nn,putStream:le,events:bt,scaleFactor:he,pageSize:{getWidth:function(){return xi(L)},setWidth:function(K){wa(L,K)},getHeight:function(){return Ps(L)},setHeight:function(K){Ur(L,K)}},encryptionOptions:p,encryption:kn,getEncryptor:rl,output:Ls,getNumberOfPages:$a,pages:pe,out:oe,f2:T,f3:B,getPageInfo:ma,getPageInfoByObjId:cr,getCurrentPageInfo:nl,getPDFVersion:g,Point:to,Rectangle:wi,Matrix:Tt,hasHotfix:pa},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return xi(L)},set:function(K){wa(L,K)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ps(L)},set:function(K){Ur(L,K)},enumerable:!0,configurable:!0}),un.call(h,re),Le="F1",Mo(o,n),bt.publish("initialized"),h}Hl.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},Hl.prototype.toHexString=function(i){return i.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hl.prototype.hexToBytes=function(i){for(var r=[],n=0;n<i.length;n+=2)r.push(String.fromCharCode(parseInt(i.substr(n,2),16)));return r.join("")},Hl.prototype.processOwnerPassword=function(i,r){return Ap(lp(r).substr(0,5),i)},Hl.prototype.encryptor=function(i,r){var n=lp(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&r,r>>8&255)).substr(0,10);return function(t){return Ap(n,t)}},gh.prototype.equals=function(i){var r,n="id,objectNumber,equals";if(!i||Hr(i)!==Hr(this))return!1;var t=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!i.hasOwnProperty(r)||this[r]!==i[r])return!1;t++}for(r in i)i.hasOwnProperty(r)&&n.indexOf(r)<0&&t--;return t===0},or.API={events:[]},or.version="2.5.1";var mn=or.API,em=1,Za=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Il=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fr=function(i){return i.toFixed(2)},Xo=function(i){return i.toFixed(5)};mn.__acroform__={};var Li=function(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i},Y0=function(i){return i*em},Os=function(i){var r=new a1,n=Jt.internal.getHeight(i)||0,t=Jt.internal.getWidth(i)||0;return r.BBox=[0,0,Number(fr(t)),Number(fr(n))],r},SC=mn.__acroform__.setBit=function(i,r){if(i=i||0,r=r||0,isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|=1<<r},BC=mn.__acroform__.clearBit=function(i,r){if(i=i||0,r=r||0,isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&=~(1<<r)},EC=mn.__acroform__.getBit=function(i,r){if(isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<r?1:0},bn=mn.__acroform__.getBitForPdf=function(i,r){if(isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EC(i,r-1)},wn=mn.__acroform__.setBitForPdf=function(i,r){if(isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return SC(i,r-1)},_n=mn.__acroform__.clearBitForPdf=function(i,r){if(isNaN(i)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BC(i,r-1)},CC=mn.__acroform__.calculateCoordinates=function(i,r){var n=r.internal.getHorizontalCoordinate,t=r.internal.getVerticalCoordinate,o=i[0],s=i[1],a=i[2],A=i[3],l={};return l.lowerLeft_X=n(o)||0,l.lowerLeft_Y=t(s+A)||0,l.upperRight_X=n(o+a)||0,l.upperRight_Y=t(s)||0,[Number(fr(l.lowerLeft_X)),Number(fr(l.lowerLeft_Y)),Number(fr(l.upperRight_X)),Number(fr(l.upperRight_Y))]},MC=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var r=[],n=i._V||i.DV,t=cp(i,n),o=i.scope.internal.getFont(i.fontName,i.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(i.scope.__private__.encodeColorString(i.color)),r.push("/"+o+" "+fr(t.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(t.text),r.push("ET"),r.push("Q"),r.push("EMC");var s=Os(i);return s.scope=i.scope,s.stream=r.join(`
`),s}},cp=function(i,r){var n=i.fontSize===0?i.maxFontSize:i.fontSize,t={text:"",fontSize:""},o=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");o=i.multiline?o.map(function(B){return B.split(`
`)}):o.map(function(B){return[B]});var s=n,a=Jt.internal.getHeight(i)||0;a=a<0?-a:a;var A=Jt.internal.getWidth(i)||0;A=A<0?-A:A;var l=function(B,P,F){if(B+1<o.length){var j=P+" "+o[B+1][0];return Su(j,i,F).width<=A-4}return!1};s++;e:for(;s>0;){r="",s--;var u,p,d=Su("3",i,s).height,c=i.multiline?a-s:(a-d)/2,h=c+=2,f=0,g=0,y=0;if(s<=0){r=`(...) Tj
`,r+="% Width of Text: "+Su(r,i,s=12).width+", FieldWidth:"+A+`
`;break}for(var m="",b=0,v=0;v<o.length;v++)if(o.hasOwnProperty(v)){var w=!1;if(o[v].length!==1&&y!==o[v].length-1){if((d+2)*(b+2)+2>a)continue e;m+=o[v][y],w=!0,g=v,v--}else{m=(m+=o[v][y]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var _=parseInt(v),M=l(_,m,s),x=v>=o.length-1;if(M&&!x){m+=" ",y=0;continue}if(M||x){if(x)g=_;else if(i.multiline&&(d+2)*(b+2)+2>a)continue e}else{if(!i.multiline||(d+2)*(b+2)+2>a)continue e;g=_}}for(var E="",C=f;C<=g;C++){var T=o[C];if(i.multiline){if(C===g){E+=T[y]+" ",y=(y+1)%T.length;continue}if(C===f){E+=T[T.length-1]+" ";continue}}E+=T[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,p=Su(E,i,s).width,i.textAlign){case"right":u=A-p-2;break;case"center":u=(A-p)/2;break;case"left":default:u=2}r+=fr(u)+" "+fr(h)+` Td
`,r+="("+Za(E)+`) Tj
`,r+=-fr(u)+` 0 Td
`,h=-(s+2),p=0,f=w?g:g+1,b++,m=""}break}return t.text=r,t.fontSize=s,t},Su=function(i,r,n){var t=r.scope.internal.getFont(r.fontName,r.fontStyle),o=r.scope.getStringUnitWidth(i,{font:t,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:t,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:o}},TC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LC=function(i,r){var n={type:"reference",object:i};r.internal.getPageInfo(i.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})===void 0&&r.internal.getPageInfo(i.page).pageContext.annotations.push(n)},FC=function(i,r){for(var n in i)if(i.hasOwnProperty(n)){var t=n,o=i[n];r.internal.newObjectDeferredBegin(o.objId,!0),Hr(o)==="object"&&typeof o.putStream=="function"&&o.putStream(),delete i[t]}},UC=function(i,r){if(r.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Ss.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(TC)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");em=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new l1,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];s.objId=void 0,s.hasAnnotation&&LC(s,n)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(n){(function(t,o){var s=!t;for(var a in t||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(a)){var A=t[a],l=[],u=A.Rect;if(A.Rect&&(A.Rect=CC(A.Rect,o)),o.internal.newObjectDeferredBegin(A.objId,!0),A.DA=Jt.createDefaultAppearanceStream(A),Hr(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=u,A.hasAppearanceStream&&!A.appearanceStreamContent){var p=MC(A);l.push({key:"AP",value:"<</N "+p+">>"}),o.internal.acroformPlugin.xForms.push(p)}if(A.appearanceStreamContent){var d="";for(var c in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(c)){var h=A.appearanceStreamContent[c];if(d+="/"+c+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var f=h[a];typeof f=="function"&&(f=f.call(o,A)),d+="/"+a+" "+f+" ",o.internal.acroformPlugin.xForms.indexOf(f)>=0||o.internal.acroformPlugin.xForms.push(f)}}else typeof(f=h)=="function"&&(f=f.call(o,A)),d+="/"+a+" "+f,o.internal.acroformPlugin.xForms.indexOf(f)>=0||o.internal.acroformPlugin.xForms.push(f);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}o.internal.putStream({additionalKeyValues:l,objectId:A.objId}),o.internal.out("endobj")}s&&FC(o.internal.acroformPlugin.xForms,o)})(n,i)}),i.internal.acroformPlugin.isInitialized=!0}},o1=mn.__acroform__.arrayToPdfArray=function(i,r,n){var t=function(a){return a};if(Array.isArray(i)){for(var o="[",s=0;s<i.length;s++)switch(s!==0&&(o+=" "),Hr(i[s])){case"boolean":case"number":case"object":o+=i[s].toString();break;case"string":i[s].substr(0,1)!=="/"?(r!==void 0&&n&&(t=n.internal.getEncryptor(r)),o+="("+Za(t(i[s].toString()))+")"):o+=i[s].toString()}return o+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},df=function(i,r,n){var t=function(o){return o};return r!==void 0&&n&&(t=n.internal.getEncryptor(r)),(i=i||"").toString(),i="("+Za(t(i))+")"},ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ks.prototype.toString=function(){return this.objId+" 0 R"},ks.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},ks.prototype.getKeyValueListForStream=function(){var i=[],r=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var t=r[n],o=this[t];o&&(Array.isArray(o)?i.push({key:t,value:o1(o,this.objId,this.scope)}):o instanceof ks?(o.scope=this.scope,i.push({key:t,value:o.objId+" 0 R"})):typeof o!="function"&&i.push({key:t,value:o}))}return i};var a1=function(){ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){i=n.trim()},get:function(){return i||null}})};Li(a1,ks);var l1=function(){ks.call(this);var i,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var n=function(t){return t};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Za(n(i))+")"}},set:function(n){i=n}})};Li(l1,ks);var Ss=function i(){ks.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');r=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!bn(r,3)},set:function(m){m?this.F=wn(r,3):this.F=_n(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var t=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(t.length!==0)return t},set:function(m){t=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[0])?0:t[0]},set:function(m){t[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[1])?0:t[1]},set:function(m){t[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[2])?0:t[2]},set:function(m){t[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!t||isNaN(t[3])?0:t[3]},set:function(m){t[3]=m}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof yh)return;s="FieldObject"+i.FieldNum++}var m=function(b){return b};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Za(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){A=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/em:u},set:function(m){u=m}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(m){p=m}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof yh||this instanceof Qa))return df(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=m}});var c=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(c)return this instanceof Wn?c:df(c,this.objId,this.scope)},set:function(m){m=m.toString(),c=this instanceof Wn?m:m.substr(0,1)==="("?Il(m.substr(1,m.length-2)):Il(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wn?Il(c.substr(1,c.length-1)):c},set:function(m){m=m.toString(),c=this instanceof Wn?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Wn?h:df(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof Wn?m:m.substr(0,1)==="("?Il(m.substr(1,m.length-2)):Il(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wn?Il(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Wn?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=!!m,g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(m){f=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,1)},set:function(m){m?this.Ff=wn(this.Ff,1):this.Ff=_n(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,2)},set:function(m){m?this.Ff=wn(this.Ff,2):this.Ff=_n(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,3)},set:function(m){m?this.Ff=wn(this.Ff,3):this.Ff=_n(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');y=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(y){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Li(Ss,ks);var nA=function(){Ss.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(n){i=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return o1(r,this.objId,this.scope)},set:function(n){var t,o;o=[],typeof(t=n)=="string"&&(o=function(s,a,A){A||(A=1);for(var l,u=[];l=a.exec(s);)u.push(l[A]);return u}(t,/\((.*?)\)/g)),r=o}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,t){for(t=t||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),t!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,18)},set:function(n){n?this.Ff=wn(this.Ff,18):this.Ff=_n(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=wn(this.Ff,19):this.Ff=_n(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,20)},set:function(n){n?(this.Ff=wn(this.Ff,20),r.sort()):this.Ff=_n(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,22)},set:function(n){n?this.Ff=wn(this.Ff,22):this.Ff=_n(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(n){n?this.Ff=wn(this.Ff,23):this.Ff=_n(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,27)},set:function(n){n?this.Ff=wn(this.Ff,27):this.Ff=_n(this.Ff,27)}}),this.hasAppearanceStream=!1};Li(nA,Ss);var iA=function(){nA.call(this),this.fontName="helvetica",this.combo=!1};Li(iA,nA);var sA=function(){iA.call(this),this.combo=!0};Li(sA,iA);var th=function(){sA.call(this),this.edit=!0};Li(th,sA);var Wn=function(){Ss.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,15)},set:function(n){n?this.Ff=wn(this.Ff,15):this.Ff=_n(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,16)},set:function(n){n?this.Ff=wn(this.Ff,16):this.Ff=_n(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,17)},set:function(n){n?this.Ff=wn(this.Ff,17):this.Ff=_n(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(n){n?this.Ff=wn(this.Ff,26):this.Ff=_n(this.Ff,26)}});var i,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var t,o=[];for(t in o.push("<<"),r)o.push("/"+t+" ("+Za(n(r[t]))+")");return o.push(">>"),o.join(`
`)}},set:function(n){Hr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(n){i="/"+n}})};Li(Wn,Ss);var rh=function(){Wn.call(this),this.pushButton=!0};Li(rh,Wn);var oA=function(){Wn.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(r){i=r!==void 0?r:[]}})};Li(oA,Wn);var yh=function(){var i,r;Ss.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(o){r=o}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(A){return A};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),t)a.push("/"+s+" ("+Za(o(t[s]))+")");return a.push(">>"),a.join(`
`)},set:function(o){Hr(o)==="object"&&(t=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(o){typeof o=="string"&&(t.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(o){n=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(o){n="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Li(yh,Ss),oA.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=i.createAppearanceStream(n.optionName),n.caption=i.getCA()}},oA.prototype.createOption=function(i){var r=new yh;return r.Parent=this,r.optionName=i,this.Kids.push(r),IC.call(this.scope,r),r};var nh=function(){Wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};Li(nh,Wn);var Qa=function(){Ss.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,13)},set:function(r){r?this.Ff=wn(this.Ff,13):this.Ff=_n(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,21)},set:function(r){r?this.Ff=wn(this.Ff,21):this.Ff=_n(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,23)},set:function(r){r?this.Ff=wn(this.Ff,23):this.Ff=_n(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,24)},set:function(r){r?this.Ff=wn(this.Ff,24):this.Ff=_n(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,25)},set:function(r){r?this.Ff=wn(this.Ff,25):this.Ff=_n(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,26)},set:function(r){r?this.Ff=wn(this.Ff,26):this.Ff=_n(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(r){Number.isInteger(r)&&(i=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Li(Qa,Ss);var ih=function(){Qa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!bn(this.Ff,14)},set:function(i){i?this.Ff=wn(this.Ff,14):this.Ff=_n(this.Ff,14)}}),this.password=!0};Li(ih,Qa);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(i){var r=Os(i);r.scope=i.scope;var n=[],t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,o=i.scope.__private__.encodeColorString(i.color),s=cp(i,i.caption);return n.push("0.749023 g"),n.push("0 0 "+fr(Jt.internal.getWidth(i))+" "+fr(Jt.internal.getHeight(i))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+t+" "+fr(s.fontSize)+" Tf "+o),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(i){var r=Os(i);r.scope=i.scope;var n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color),o=[],s=Jt.internal.getHeight(i),a=Jt.internal.getWidth(i),A=cp(i,i.caption);return o.push("1 g"),o.push("0 0 "+fr(a)+" "+fr(s)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+fr(a-1)+" "+fr(s-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+n+" "+fr(A.fontSize)+" Tf "+t),o.push(A.text),o.push("ET"),o.push("Q"),r.stream=o.join(`
`),r},OffPushDown:function(i){var r=Os(i);r.scope=i.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+fr(Jt.internal.getWidth(i))+" "+fr(Jt.internal.getHeight(i))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(i){var r={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return r.N[i]=Jt.RadioButton.Circle.YesNormal,r.D[i]=Jt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(i){var r=Os(i);r.scope=i.scope;var n=[],t=Jt.internal.getWidth(i)<=Jt.internal.getHeight(i)?Jt.internal.getWidth(i)/4:Jt.internal.getHeight(i)/4;t=Number((.9*t).toFixed(5));var o=Jt.internal.Bezier_C,s=Number((t*o).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Xo(Jt.internal.getWidth(i)/2)+" "+Xo(Jt.internal.getHeight(i)/2)+" cm"),n.push(t+" 0 m"),n.push(t+" "+s+" "+s+" "+t+" 0 "+t+" c"),n.push("-"+s+" "+t+" -"+t+" "+s+" -"+t+" 0 c"),n.push("-"+t+" -"+s+" -"+s+" -"+t+" 0 -"+t+" c"),n.push(s+" -"+t+" "+t+" -"+s+" "+t+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(i){var r=Os(i);r.scope=i.scope;var n=[],t=Jt.internal.getWidth(i)<=Jt.internal.getHeight(i)?Jt.internal.getWidth(i)/4:Jt.internal.getHeight(i)/4;t=Number((.9*t).toFixed(5));var o=Number((2*t).toFixed(5)),s=Number((o*Jt.internal.Bezier_C).toFixed(5)),a=Number((t*Jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Xo(Jt.internal.getWidth(i)/2)+" "+Xo(Jt.internal.getHeight(i)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Xo(Jt.internal.getWidth(i)/2)+" "+Xo(Jt.internal.getHeight(i)/2)+" cm"),n.push(t+" 0 m"),n.push(t+" "+a+" "+a+" "+t+" 0 "+t+" c"),n.push("-"+a+" "+t+" -"+t+" "+a+" -"+t+" 0 c"),n.push("-"+t+" -"+a+" -"+a+" -"+t+" 0 -"+t+" c"),n.push(a+" -"+t+" "+t+" -"+a+" "+t+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(i){var r=Os(i);r.scope=i.scope;var n=[],t=Jt.internal.getWidth(i)<=Jt.internal.getHeight(i)?Jt.internal.getWidth(i)/4:Jt.internal.getHeight(i)/4;t=Number((.9*t).toFixed(5));var o=Number((2*t).toFixed(5)),s=Number((o*Jt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Xo(Jt.internal.getWidth(i)/2)+" "+Xo(Jt.internal.getHeight(i)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+s+" "+s+" "+o+" 0 "+o+" c"),n.push("-"+s+" "+o+" -"+o+" "+s+" -"+o+" 0 c"),n.push("-"+o+" -"+s+" -"+s+" -"+o+" 0 -"+o+" c"),n.push(s+" -"+o+" "+o+" -"+s+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(i){var r={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return r.N[i]=Jt.RadioButton.Cross.YesNormal,r.D[i]=Jt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(i){var r=Os(i);r.scope=i.scope;var n=[],t=Jt.internal.calculateCross(i);return n.push("q"),n.push("1 1 "+fr(Jt.internal.getWidth(i)-2)+" "+fr(Jt.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push(fr(t.x1.x)+" "+fr(t.x1.y)+" m"),n.push(fr(t.x2.x)+" "+fr(t.x2.y)+" l"),n.push(fr(t.x4.x)+" "+fr(t.x4.y)+" m"),n.push(fr(t.x3.x)+" "+fr(t.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(i){var r=Os(i);r.scope=i.scope;var n=Jt.internal.calculateCross(i),t=[];return t.push("0.749023 g"),t.push("0 0 "+fr(Jt.internal.getWidth(i))+" "+fr(Jt.internal.getHeight(i))+" re"),t.push("f"),t.push("q"),t.push("1 1 "+fr(Jt.internal.getWidth(i)-2)+" "+fr(Jt.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(fr(n.x1.x)+" "+fr(n.x1.y)+" m"),t.push(fr(n.x2.x)+" "+fr(n.x2.y)+" l"),t.push(fr(n.x4.x)+" "+fr(n.x4.y)+" m"),t.push(fr(n.x3.x)+" "+fr(n.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(i){var r=Os(i);r.scope=i.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+fr(Jt.internal.getWidth(i))+" "+fr(Jt.internal.getHeight(i))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(i){var r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color);return"/"+r+" "+i.fontSize+" Tf "+n}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(i){var r=Jt.internal.getWidth(i),n=Jt.internal.getHeight(i),t=Math.min(r,n);return{x1:{x:(r-t)/2,y:(n-t)/2+t},x2:{x:(r-t)/2+t,y:(n-t)/2},x3:{x:(r-t)/2,y:(n-t)/2},x4:{x:(r-t)/2+t,y:(n-t)/2+t}}}},Jt.internal.getWidth=function(i){var r=0;return Hr(i)==="object"&&(r=Y0(i.Rect[2])),r},Jt.internal.getHeight=function(i){var r=0;return Hr(i)==="object"&&(r=Y0(i.Rect[3])),r};var IC=mn.addField=function(i){if(UC(this,i),!(i instanceof Ss))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=i).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};mn.AcroFormChoiceField=nA,mn.AcroFormListBox=iA,mn.AcroFormComboBox=sA,mn.AcroFormEditBox=th,mn.AcroFormButton=Wn,mn.AcroFormPushButton=rh,mn.AcroFormRadioButton=oA,mn.AcroFormCheckBox=nh,mn.AcroFormTextField=Qa,mn.AcroFormPasswordField=ih,mn.AcroFormAppearance=Jt,mn.AcroForm={ChoiceField:nA,ListBox:iA,ComboBox:sA,EditBox:th,Button:Wn,PushButton:rh,RadioButton:oA,CheckBox:nh,TextField:Qa,PasswordField:ih,Appearance:Jt},or.AcroForm={ChoiceField:nA,ListBox:iA,ComboBox:sA,EditBox:th,Button:Wn,PushButton:rh,RadioButton:oA,CheckBox:nh,TextField:Qa,PasswordField:ih,Appearance:Jt};function A1(i){return i.reduce(function(r,n,t){return r[n]=t,r},{})}(function(i){i.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},t=i.__addimage__.getImageFileTypeByImageData=function(B,P){var F,j,O,Q,z,k=r;if((P=P||r)==="RGBA"||B.data!==void 0&&B.data instanceof Uint8ClampedArray&&"height"in B&&"width"in B)return"RGBA";if(M(B))for(z in n)for(O=n[z],F=0;F<O.length;F+=1){for(Q=!0,j=0;j<O[F].length;j+=1)if(O[F][j]!==void 0&&O[F][j]!==B[j]){Q=!1;break}if(Q===!0){k=z;break}}else for(z in n)for(O=n[z],F=0;F<O.length;F+=1){for(Q=!0,j=0;j<O[F].length;j+=1)if(O[F][j]!==void 0&&O[F][j]!==B.charCodeAt(j)){Q=!1;break}if(Q===!0){k=z;break}}return k===r&&P!==r&&(k=P),k},o=function B(P){for(var F=this.internal.write,j=this.internal.putStream,O=(0,this.internal.getFilters)();O.indexOf("FlateEncode")!==-1;)O.splice(O.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:P.width}),Q.push({key:"Height",value:P.height}),P.colorSpace===y.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===y.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var z="",k=0,W=P.transparency.length;k<W;k++)z+=P.transparency[k]+" "+P.transparency[k]+" ";Q.push({key:"Mask",value:"["+z+"]"})}P.sMask!==void 0&&Q.push({key:"SMask",value:P.objectId+1+" 0 R"});var Y=P.filter!==void 0?["/"+P.filter]:void 0;if(j({data:P.data,additionalKeyValues:Q,alreadyAppliedFilters:Y,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var te="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,R={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:te,data:P.sMask};"filter"in P&&(R.filter=P.filter),B.call(this,R)}if(P.colorSpace===y.INDEXED){var L=this.internal.newObject();j({data:E(new Uint8Array(P.palette)),objectId:L}),F("endobj")}},s=function(){var B=this.internal.collections.addImage_images;for(var P in B)o.call(this,B[P])},a=function(){var B,P=this.internal.collections.addImage_images,F=this.internal.write;for(var j in P)F("/I"+(B=P[j]).index,B.objectId,"0","R")},A=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var B=this.internal.collections.addImage_images;return A.call(this),B},u=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(B){return typeof i["process"+B.toUpperCase()]=="function"},d=function(B){return Hr(B)==="object"&&B.nodeType===1},c=function(B,P){if(B.nodeName==="IMG"&&B.hasAttribute("src")){var F=""+B.getAttribute("src");if(F.indexOf("data:image/")===0)return JA(unescape(F).split("base64,").pop());var j=i.loadFile(F,!0);if(j!==void 0)return j}if(B.nodeName==="CANVAS"){if(B.width===0||B.height===0)throw new Error("Given canvas must have data. Canvas width: "+B.width+", height: "+B.height);var O;switch(P){case"PNG":O="image/png";break;case"WEBP":O="image/webp";break;case"JPEG":case"JPG":default:O="image/jpeg"}return JA(B.toDataURL(O,1).split("base64,").pop())}},h=function(B){var P=this.internal.collections.addImage_images;if(P){for(var F in P)if(B===P[F].alias)return P[F]}},f=function(B,P,F){return B||P||(B=-96,P=-96),B<0&&(B=-1*F.width*72/B/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),B===0&&(B=P*F.width/F.height),P===0&&(P=B*F.height/F.width),[B,P]},g=function(B,P,F,j,O,Q){var z=f.call(this,F,j,O),k=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,Y=l.call(this);if(F=z[0],j=z[1],Y[O.index]=O,Q){Q*=Math.PI/180;var te=Math.cos(Q),R=Math.sin(Q),L=function(V){return V.toFixed(4)},D=[L(te),L(R),L(-1*R),L(te),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,k(B),W(P+j),"cm"].join(" ")),this.internal.write(D.join(" ")),this.internal.write([k(F),"0","0",k(j),"0","0","cm"].join(" "))):this.internal.write([k(F),"0","0",k(j),k(B),W(P+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+O.index+" Do"),this.internal.write("Q")},y=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=i.__addimage__.sHashCode=function(B){var P,F,j=0;if(typeof B=="string")for(F=B.length,P=0;P<F;P++)j=(j<<5)-j+B.charCodeAt(P),j|=0;else if(M(B))for(F=B.byteLength/2,P=0;P<F;P++)j=(j<<5)-j+B[P],j|=0;return j},v=i.__addimage__.validateStringAsBase64=function(B){(B=B||"").toString().trim();var P=!0;return B.length===0&&(P=!1),B.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(B.substr(0,B.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(B.substr(-2))===!1&&(P=!1),P},w=i.__addimage__.extractImageFromDataUrl=function(B){var P=(B=B||"").split("base64,"),F=null;if(P.length===2){var j=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(j)&&(F={mimeType:j[1],charset:j[2],data:P[1]})}return F},_=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(B){return _()&&B instanceof ArrayBuffer};var M=i.__addimage__.isArrayBufferView=function(B){return _()&&typeof Uint32Array<"u"&&(B instanceof Int8Array||B instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&B instanceof Uint8ClampedArray||B instanceof Int16Array||B instanceof Uint16Array||B instanceof Int32Array||B instanceof Uint32Array||B instanceof Float32Array||B instanceof Float64Array)},x=i.__addimage__.binaryStringToUint8Array=function(B){for(var P=B.length,F=new Uint8Array(P),j=0;j<P;j++)F[j]=B.charCodeAt(j);return F},E=i.__addimage__.arrayBufferToBinaryString=function(B){for(var P="",F=M(B)?B:new Uint8Array(B),j=0;j<F.length;j+=8192)P+=String.fromCharCode.apply(null,F.subarray(j,j+8192));return P};i.addImage=function(){var B,P,F,j,O,Q,z,k,W;if(typeof arguments[1]=="number"?(P=r,F=arguments[1],j=arguments[2],O=arguments[3],Q=arguments[4],z=arguments[5],k=arguments[6],W=arguments[7]):(P=arguments[1],F=arguments[2],j=arguments[3],O=arguments[4],Q=arguments[5],z=arguments[6],k=arguments[7],W=arguments[8]),Hr(B=arguments[0])==="object"&&!d(B)&&"imageData"in B){var Y=B;B=Y.imageData,P=Y.format||P||r,F=Y.x||F||0,j=Y.y||j||0,O=Y.w||Y.width||O,Q=Y.h||Y.height||Q,z=Y.alias||z,k=Y.compression||k,W=Y.rotation||Y.angle||W}var te=this.internal.getFilters();if(k===void 0&&te.indexOf("FlateEncode")!==-1&&(k="SLOW"),isNaN(F)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var R=C.call(this,B,P,z,k);return g.call(this,F,j,O,Q,R,W),this};var C=function(B,P,F,j){var O,Q,z;if(typeof B=="string"&&t(B)===r){B=unescape(B);var k=T(B,!1);(k!==""||(k=i.loadFile(B,!0))!==void 0)&&(B=k)}if(d(B)&&(B=c(B,P)),P=t(B,P),!p(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((z=F)==null||z.length===0)&&(F=function(W){return typeof W=="string"||M(W)?b(W):M(W.data)?b(W.data):null}(B)),(O=h.call(this,F))||(_()&&(B instanceof Uint8Array||P==="RGBA"||(Q=B,B=x(B))),O=this["process"+P.toUpperCase()](B,u.call(this),F,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in i.image_compression?W:m.NONE}(j),Q)),!O)throw new Error("An unknown error occurred whilst processing the image.");return O},T=i.__addimage__.convertBase64ToBinaryString=function(B,P){var F;P=typeof P!="boolean"||P;var j,O="";if(typeof B=="string"){j=(F=w(B))!==null?F.data:B;try{O=JA(j)}catch(Q){if(P)throw v(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return O};i.getImageProperties=function(B){var P,F,j="";if(d(B)&&(B=c(B)),typeof B=="string"&&t(B)===r&&((j=T(B,!1))===""&&(j=i.loadFile(B)||""),B=j),F=t(B),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!_()||B instanceof Uint8Array||(B=x(B)),!(P=this["process"+F.toUpperCase()](B)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(or.API),function(i){var r=function(n){if(n!==void 0&&n!="")return!0};or.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(n){for(var t,o,s,a=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,p=!1,d=0;d<u.length&&!p;d++)switch((t=u[d]).type){case"link":(r(t.options.url)||r(t.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var c=0;c<u.length;c++){t=u[c];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(n.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),b=t.title||"Note";s="<</Type /Annot /Subtype /Text "+(o="/Rect ["+a(t.bounds.x)+" "+A(t.bounds.y+t.bounds.h)+" "+a(t.bounds.x+t.bounds.w)+" "+A(t.bounds.y)+"] ")+"/Contents ("+h(m(t.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(m(b))+") >>",g.content=s;var v=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+a(t.bounds.x+30)+" "+A(t.bounds.y+t.bounds.h)+" "+a(t.bounds.x+t.bounds.w+30)+" "+A(t.bounds.y)+"] ")+" /Parent "+v,t.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":o="/Rect ["+a(t.bounds.x)+" "+A(t.bounds.y)+" "+a(t.bounds.x+t.bounds.w)+" "+A(t.bounds.y+t.bounds.h)+"] ";var w=t.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+h(f(t.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(t.options.name){var _=this.annotations._nameMap[t.options.name];t.options.pageNumber=_.page,t.options.top=_.y}else t.options.top||(t.options.top=0);if(o="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",s="",t.options.url)s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(t.options.url))+") >>";else if(t.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,s+=" /FitV "+t.options.left+"]";break;case"XYZ":default:var M=A(t.options.top);t.options.left=t.options.left||0,t.options.zoom===void 0&&(t.options.zoom=0),s+=" /XYZ "+t.options.left+" "+M+" "+t.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),i.createAnnotation=function(n){var t=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":t.pageContext.annotations.push(n)}},i.link=function(n,t,o,s,a){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(n),y:u(t),w:l(n+o),h:u(t+s)},options:a,type:"link"})},i.textWithLink=function(n,t,o,s){var a,A,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){A=s.maxWidth;var p=this.splitTextToSize(n,A).length;a=Math.ceil(u*p)}else A=l,a=u;return this.text(n,t,o,s),o+=.2*u,s.align==="center"&&(t-=l/2),s.align==="right"&&(t-=l),this.link(t,o-u,A,a,s),l},i.getTextWidth=function(n){var t=this.internal.getFontSize();return this.getStringUnitWidth(n)*t/this.internal.scaleFactor}}(or.API),function(i){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},t={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];i.__arabicParser__={};var s=i.__arabicParser__.isInArabicSubstitutionA=function(g){return r[g.charCodeAt(0)]!==void 0},a=i.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},A=i.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&r[g.charCodeAt(0)].length<=2},l=i.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&o.indexOf(g.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&r[g.charCodeAt(0)].length>=1};var u=i.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&r[g.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&r[g.charCodeAt(0)].length>=3};var p=i.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&r[g.charCodeAt(0)].length==4},d=i.__arabicParser__.resolveLigatures=function(g){var y=0,m=n,b="",v=0;for(y=0;y<g.length;y+=1)m[g.charCodeAt(y)]!==void 0?(v++,typeof(m=m[g.charCodeAt(y)])=="number"&&(b+=String.fromCharCode(m),m=n,v=0),y===g.length-1&&(m=n,b+=g.charAt(y-(v-1)),y-=v-1,v=0)):(m=n,b+=g.charAt(y-v),y-=v,v=0);return b};i.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&t[g.charCodeAt(0)]!==void 0};var c=i.__arabicParser__.getCorrectForm=function(g,y,m){return a(g)?s(g)===!1?-1:!u(g)||!a(y)&&!a(m)||!a(m)&&A(y)||A(g)&&!a(y)||A(g)&&l(y)||A(g)&&A(y)?0:p(g)&&a(y)&&!A(y)&&a(m)&&u(m)?3:A(g)||!a(m)?1:2:-1},h=function(g){var y=0,m=0,b=0,v="",w="",_="",M=(g=g||"").split("\\s+"),x=[];for(y=0;y<M.length;y+=1){for(x.push(""),m=0;m<M[y].length;m+=1)v=M[y][m],w=M[y][m-1],_=M[y][m+1],a(v)?(b=c(v,w,_),x[y]+=b!==-1?String.fromCharCode(r[v.charCodeAt(0)][b]):v):x[y]+=v;x[y]=d(x[y])}return x.join(" ")},f=i.__arabicParser__.processArabic=i.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(y)){var b=0;for(m=[],b=0;b<y.length;b+=1)Array.isArray(y[b])?m.push([h(y[b][0]),y[b][1],y[b][2]]):m.push([h(y[b])]);g=m}else g=h(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};i.events.push(["preProcessText",f])}(or.API),or.API.autoPrint=function(i){var r;switch((i=i||{}).variant=i.variant||"non-conform",i.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(i){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(A){n=A}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(A){t=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(A){o=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(A){s=A}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(A){a=A}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,t){var o;if((n=n||"2d")!=="2d")return null;for(o in t)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=t[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(or.API),function(i){var r={left:0,top:0,bottom:0,right:0},n=!1,t=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var c=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return f},set:function(g){f=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(l){return t.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},i.getTextDimensions=function(l,u){t.call(this);var p=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),c=u.scaleFactor||this.internal.scaleFactor,h=0,f=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=u.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(v,w){return v.concat(y.splitTextToSize(w,m))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(g=this.getStringUnitWidth(l[b],{font:d})*p)&&(h=g);return h!==0&&(f=l.length),{w:h/=c,h:Math.max((f*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/c,0)}},i.cellAddPage=function(){t.call(this),this.addPage();var l=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=i.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),t.call(this);var u=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,d=this.internal.__cell__.margins||r,c=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&c&&(this.printHeaderRow(l.lineNumber,!0),l.y+=c[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};i.table=function(l,u,p,d,c){if(t.call(this),!p)throw new Error("No data for PDF table.");var h,f,g,y,m=[],b=[],v=[],w={},_={},M=[],x=[],E=(c=c||{}).autoSize||!1,C=c.printHeaders!==!1,T=c.css&&c.css["font-size"]!==void 0?16*c.css["font-size"]:c.fontSize||12,B=c.margins||Object.assign({width:this.getPageWidth()},r),P=typeof c.padding=="number"?c.padding:3,F=c.headerBackgroundColor||"#c8c8c8",j=c.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=B,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=j,this.setFontSize(T),d==null)b=m=Object.keys(p[0]),v=m.map(function(){return"left"});else if(Array.isArray(d)&&Hr(d[0])==="object")for(m=d.map(function(Y){return Y.name}),b=d.map(function(Y){return Y.prompt||Y.name||""}),v=d.map(function(Y){return Y.align||"left"}),h=0;h<d.length;h+=1)_[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=m=d,v=m.map(function(){return"left"}));if(E||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<m.length;h+=1){for(w[y=m[h]]=p.map(function(Y){return Y[y]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=w[y],this.setFont(void 0,"normal"),g=0;g<f.length;g+=1)M.push(this.getTextDimensions(f[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,M)+P+P,M=[]}if(C){var O={};for(h=0;h<m.length;h+=1)O[m[h]]={},O[m[h]].text=b[h],O[m[h]].align=v[h];var Q=A.call(this,O,_);x=m.map(function(Y){return new s(l,u,_[Y],Q,O[Y].text,void 0,O[Y].align)}),this.setTableHeaderRow(x),this.printHeaderRow(1,!1)}var z=d.reduce(function(Y,te){return Y[te.name]=te.align,Y},{});for(h=0;h<p.length;h+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:h,data:p[h]},this);var k=A.call(this,p[h],_);for(g=0;g<m.length;g+=1){var W=p[h][m[g]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:h,col:g,data:W},this),a.call(this,new s(l,u,_[m[g]],k,W,h+2,z[m[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var A=function(l,u){var p=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,c=this.internal.scaleFactor;return Object.keys(l).map(function(h){var f=l[h];return this.splitTextToSize(f.hasOwnProperty("text")?f.text:f,u[h]-p-p)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/c+p+p},this).reduce(function(h,f){return Math.max(h,f)},0)};i.setTableHeaderRow=function(l){t.call(this),this.internal.__cell__.tableHeaderRow=l},i.printHeaderRow=function(l,u){if(t.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var c=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){p=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(p.y=this.internal.__cell__.margins.top||0,c.push(p)),p.lineNumber=l;var f=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(f)}c.length>0&&this.setTableHeaderRow(c),this.setFont(void 0,"normal"),n=!1}}(or.API);var c1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},u1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],up=A1(u1),h1=[100,200,300,400,500,600,700,800,900],PC=A1(h1);function hp(i){var r=i.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return c1[s=s||"normal"]?s:"normal"}(i.style),t=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(i.weight),o=function(s){return typeof up[s=s||"normal"]=="number"?s:"normal"}(i.stretch);return{family:r,style:n,weight:t,stretch:o,src:i.src||[],ref:i.ref||{name:r,style:[o,n,t].join(" ")}}}function J0(i,r,n,t){var o;for(o=n;o>=0&&o<r.length;o+=t)if(i[r[o]])return i[r[o]];for(o=n;o>=0&&o<r.length;o-=t)if(i[r[o]])return i[r[o]]}var jC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Z0={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $0(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function RC(i,r,n){for(var t=(n=n||{}).defaultFontFamily||"times",o=Object.assign({},jC,n.genericFontFamilies||{}),s=null,a=null,A=0;A<r.length;++A)if(o[(s=hp(r[A])).family]&&(s.family=o[s.family]),i.hasOwnProperty(s.family)){a=i[s.family];break}if(!(a=a||i[t]))throw new Error("Could not find a font-family for the rule '"+$0(s)+"' and default family '"+t+"'.");if(a=function(l,u){if(u[l])return u[l];var p=up[l],d=p<=up.normal?-1:1,c=J0(u,u1,p,d);if(!c)throw new Error("Could not find a matching font-stretch value for "+l);return c}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var p=c1[l],d=0;d<p.length;++d)if(u[p[d]])return u[p[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var p=PC[l],d=J0(u,h1,p,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+$0(s)+"'.");return a}function ey(i){return i.trimLeft()}function DC(i,r){for(var n=0;n<i.length;){if(i.charAt(n)===r)return[i.substring(0,n),i.substring(n+1)];n+=1}return null}function OC(i){var r=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],i.substring(r[0].length)]}var Bu,ty,ry,ff=["times"];(function(i){var r,n,t,o,s,a,A,l,u,p=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new a,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new a,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new d(this),r=this.internal.f2,n=this.internal.getCoordinateString,t=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,u=new p}]);var d=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=R;Object.defineProperty(this,"pdf",{get:function(){return L}});var D=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return D},set:function(de){D=!!de}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(de){V=!!de}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(de){isNaN(de)||(q=de)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(de){isNaN(de)||(Z=de)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(de){var oe;typeof de=="number"?oe=[de,de,de,de]:((oe=new Array(4))[0]=de[0],oe[1]=de.length>=2?de[1]:oe[0],oe[2]=de.length>=3?de[2]:oe[0],oe[3]=de.length>=4?de[3]:oe[1]),u.margin=oe}});var se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return se},set:function(de){se=de}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(de){fe=de}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(de){be=de}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(de){de instanceof p&&(u=de)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(de){u.path=de}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(de){pe=de}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(de){var oe;oe=c(de),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(de){var oe=c(de);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(de){["butt","round","square"].indexOf(de)!==-1&&(this.ctx.lineCap=de,this.pdf.setLineCap(de))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(de){isNaN(de)||(this.ctx.lineWidth=de,this.pdf.setLineWidth(de))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(de){["bevel","round","miter"].indexOf(de)!==-1&&(this.ctx.lineJoin=de,this.pdf.setLineJoin(de))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(de){isNaN(de)||(this.ctx.miterLimit=de,this.pdf.setMiterLimit(de))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(de){this.ctx.textBaseline=de}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(de){["right","end","center","left","start"].indexOf(de)!==-1&&(this.ctx.textAlign=de)}});var Ae=null;function ge(de,oe){if(Ae===null){var je=function(Se){var re=[];return Object.keys(Se).forEach(function(ie){Se[ie].forEach(function(Ce){var Me=null;switch(Ce){case"bold":Me={family:ie,weight:"bold"};break;case"italic":Me={family:ie,style:"italic"};break;case"bolditalic":Me={family:ie,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:ie}}Me!==null&&(Me.ref={name:ie,style:Ce},re.push(Me))})}),re}(de.getFontList());Ae=function(Se){for(var re={},ie=0;ie<Se.length;++ie){var Ce=hp(Se[ie]),Me=Ce.family,ze=Ce.stretch,Ge=Ce.style,nt=Ce.weight;re[Me]=re[Me]||{},re[Me][ze]=re[Me][ze]||{},re[Me][ze][Ge]=re[Me][ze][Ge]||{},re[Me][ze][Ge][nt]=Ce}return re}(je.concat(oe))}return Ae}var ce=null;Object.defineProperty(this,"fontFaces",{get:function(){return ce},set:function(de){Ae=null,ce=de}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(de){var oe;if(this.ctx.font=de,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(de))!==null){var je=oe[1],Se=(oe[2],oe[3]),re=oe[4],ie=(oe[5],oe[6]),Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(re)[2];re=Math.floor(Ce==="px"?parseFloat(re)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(re)*this.pdf.getFontSize():parseFloat(re)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(re);var Me=function(Ke){var Le,he,$=[],ee=Ke.trim();if(ee==="")return ff;if(ee in Z0)return[Z0[ee]];for(;ee!=="";){switch(he=null,Le=(ee=ey(ee)).charAt(0)){case'"':case"'":he=DC(ee.substring(1),Le);break;default:he=OC(ee)}if(he===null||($.push(he[0]),(ee=ey(he[1]))!==""&&ee.charAt(0)!==","))return ff;ee=ee.replace(/^,/,"")}return $}(ie);if(this.fontFaces){var ze=RC(ge(this.pdf,this.fontFaces),Me.map(function(Ke){return{family:Ke,stretch:"normal",weight:Se,style:je}}));this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Ge="";(Se==="bold"||parseInt(Se,10)>=700||je==="bold")&&(Ge="bold"),je==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var nt="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Me.length;st++){if(this.pdf.internal.getFont(Me[st],Ge,{noFallback:!0,disableWarning:!0})!==void 0){nt=Me[st];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(Me[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nt=Me[st],Ge="bold";else if(this.pdf.internal.getFont(Me[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nt=Me[st],Ge="normal";break}}if(nt===""){for(var Re=0;Re<Me.length;Re++)if(et[Me[Re]]){nt=et[Me[Re]];break}}nt=nt===""?"Times":nt,this.pdf.setFont(nt,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(de){this.ctx.globalCompositeOperation=de}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(de){this.ctx.globalAlpha=de}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(de){this.ctx.lineDashOffset=de,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(de){this.ctx.lineDash=de,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(de){this.ctx.ignoreClearRect=!!de}})};d.prototype.setLineDash=function(R){this.lineDash=R},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(R,L){if(isNaN(R)||isNaN(L))throw Xr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var D=this.ctx.transform.applyToPoint(new a(R,L));this.path.push({type:"mt",x:D.x,y:D.y}),this.ctx.lastPoint=new a(R,L)},d.prototype.closePath=function(){var R=new a(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&Hr(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){R=new a(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(R.x,R.y)},d.prototype.lineTo=function(R,L){if(isNaN(R)||isNaN(L))throw Xr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var D=this.ctx.transform.applyToPoint(new a(R,L));this.path.push({type:"lt",x:D.x,y:D.y}),this.ctx.lastPoint=new a(D.x,D.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(R,L,D,V){if(isNaN(D)||isNaN(V)||isNaN(R)||isNaN(L))throw Xr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new a(D,V)),Z=this.ctx.transform.applyToPoint(new a(R,L));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},d.prototype.bezierCurveTo=function(R,L,D,V,q,Z){if(isNaN(q)||isNaN(Z)||isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V))throw Xr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var se=this.ctx.transform.applyToPoint(new a(q,Z)),fe=this.ctx.transform.applyToPoint(new a(R,L)),be=this.ctx.transform.applyToPoint(new a(D,V));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:be.x,y2:be.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},d.prototype.arc=function(R,L,D,V,q,Z){if(isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V)||isNaN(q))throw Xr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var se=this.ctx.transform.applyToPoint(new a(R,L));R=se.x,L=se.y;var fe=this.ctx.transform.applyToPoint(new a(0,D)),be=this.ctx.transform.applyToPoint(new a(0,0));D=Math.sqrt(Math.pow(fe.x-be.x,2)+Math.pow(fe.y-be.y,2))}Math.abs(q-V)>=2*Math.PI&&(V=0,q=2*Math.PI),this.path.push({type:"arc",x:R,y:L,radius:D,startAngle:V,endAngle:q,counterclockwise:Z})},d.prototype.arcTo=function(R,L,D,V,q){throw new Error("arcTo not implemented.")},d.prototype.rect=function(R,L,D,V){if(isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V))throw Xr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,L),this.lineTo(R+D,L),this.lineTo(R+D,L+V),this.lineTo(R,L+V),this.lineTo(R,L),this.lineTo(R+D,L),this.lineTo(R,L)},d.prototype.fillRect=function(R,L,D,V){if(isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V))throw Xr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,L,D,V),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},d.prototype.strokeRect=function(R,L,D,V){if(isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V))throw Xr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(R,L,D,V),this.stroke())},d.prototype.clearRect=function(R,L,D,V){if(isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V))throw Xr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,L,D,V))},d.prototype.save=function(R){R=typeof R!="boolean"||R;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},d.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,D=0;D<this.pdf.internal.getNumberOfPages();D++)this.pdf.setPage(D+1),this.pdf.internal.out("Q");this.pdf.setPage(L),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var c=function(R){var L,D,V,q;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))L=0,D=0,V=0,q=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(Z!==null)L=parseInt(Z[1]),D=parseInt(Z[2]),V=parseInt(Z[3]),q=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)L=parseInt(Z[1]),D=parseInt(Z[2]),V=parseInt(Z[3]),q=parseFloat(Z[4]);else{if(q=1,typeof R=="string"&&R.charAt(0)!=="#"){var se=new n1(R);R=se.ok?se.toHex():"#000000"}R.length===4?(L=R.substring(1,2),L+=L,D=R.substring(2,3),D+=D,V=R.substring(3,4),V+=V):(L=R.substring(1,3),D=R.substring(3,5),V=R.substring(5,7)),L=parseInt(L,16),D=parseInt(D,16),V=parseInt(V,16)}}return{r:L,g:D,b:V,a:q,style:R}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},f=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(R,L,D,V){if(isNaN(L)||isNaN(D)||typeof R!="string")throw Xr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!h.call(this)){var q=k(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:R,x:L,y:D,scale:Z,angle:q,align:this.textAlign,maxWidth:V})}},d.prototype.strokeText=function(R,L,D,V){if(isNaN(L)||isNaN(D)||typeof R!="string")throw Xr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){V=isNaN(V)?void 0:V;var q=k(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:R,x:L,y:D,scale:Z,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:V})}},d.prototype.measureText=function(R){if(typeof R!="string")throw Xr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,D=this.pdf.internal.scaleFactor,V=L.internal.getFontSize(),q=L.getStringUnitWidth(R)*V/L.internal.scaleFactor,Z=function(se){var fe=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new Z({width:q*=Math.round(96*D/72*1e4)/1e4})},d.prototype.scale=function(R,L){if(isNaN(R)||isNaN(L))throw Xr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var D=new l(R,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.rotate=function(R){if(isNaN(R))throw Xr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},d.prototype.translate=function(R,L){if(isNaN(R)||isNaN(L))throw Xr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var D=new l(1,0,0,1,R,L);this.ctx.transform=this.ctx.transform.multiply(D)},d.prototype.transform=function(R,L,D,V,q,Z){if(isNaN(R)||isNaN(L)||isNaN(D)||isNaN(V)||isNaN(q)||isNaN(Z))throw Xr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var se=new l(R,L,D,V,q,Z);this.ctx.transform=this.ctx.transform.multiply(se)},d.prototype.setTransform=function(R,L,D,V,q,Z){R=isNaN(R)?1:R,L=isNaN(L)?0:L,D=isNaN(D)?0:D,V=isNaN(V)?1:V,q=isNaN(q)?0:q,Z=isNaN(Z)?0:Z,this.ctx.transform=new l(R,L,D,V,q,Z)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(R,L,D,V,q,Z,se,fe,be){var pe=this.pdf.getImageProperties(R),Ae=1,ge=1,ce=1,de=1;V!==void 0&&fe!==void 0&&(ce=fe/V,de=be/q,Ae=pe.width/V*fe/V,ge=pe.height/q*be/q),Z===void 0&&(Z=L,se=D,L=0,D=0),V!==void 0&&fe===void 0&&(fe=V,be=q),V===void 0&&fe===void 0&&(fe=pe.width,be=pe.height);for(var oe,je=this.ctx.transform.decompose(),Se=k(je.rotate.shx),re=new l,ie=(re=(re=(re=re.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new A(Z-L*ce,se-D*de,V*Ae,q*ge)),Ce=y.call(this,ie),Me=[],ze=0;ze<Ce.length;ze+=1)Me.indexOf(Ce[ze])===-1&&Me.push(Ce[ze]);if(v(Me),this.autoPaging)for(var Ge=Me[0],nt=Me[Me.length-1],et=Ge;et<nt+1;et++){this.pdf.setPage(et);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=et===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],he=et===1?0:Ke+(et-2)*Le;if(this.ctx.clip_path.length!==0){var $=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(oe,this.posX+this.margin[3],-he+Re+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=$}var ee=JSON.parse(JSON.stringify(ie));ee=b([ee],this.posX+this.margin[3],-he+Re+this.ctx.prevPageLastElemOffset)[0];var me=(et>Ge||et<nt)&&g.call(this);me&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Le,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",ee.x,ee.y,ee.w,ee.h,null,null,Se),me&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",ie.x,ie.y,ie.w,ie.h,null,null,Se)};var y=function(R,L,D){var V=[];L=L||this.pdf.internal.pageSize.width,D=D||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":V.push(Math.floor((R.y+q)/D)+1);break;case"arc":V.push(Math.floor((R.y+q-R.radius)/D)+1),V.push(Math.floor((R.y+q+R.radius)/D)+1);break;case"qct":var Z=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);V.push(Math.floor((Z.y+q)/D)+1),V.push(Math.floor((Z.y+Z.h+q)/D)+1);break;case"bct":var se=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);V.push(Math.floor((se.y+q)/D)+1),V.push(Math.floor((se.y+se.h+q)/D)+1);break;case"rect":V.push(Math.floor((R.y+q)/D)+1),V.push(Math.floor((R.y+R.h+q)/D)+1)}for(var fe=0;fe<V.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<V[fe];)m.call(this);return V},m=function(){var R=this.fillStyle,L=this.strokeStyle,D=this.font,V=this.lineCap,q=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=L,this.font=D,this.lineCap=V,this.lineWidth=q,this.lineJoin=Z},b=function(R,L,D){for(var V=0;V<R.length;V++)switch(R[V].type){case"bct":R[V].x2+=L,R[V].y2+=D;case"qct":R[V].x1+=L,R[V].y1+=D;case"mt":case"lt":case"arc":default:R[V].x+=L,R[V].y+=D}return R},v=function(R){return R.sort(function(L,D){return L-D})},w=function(R,L){for(var D,V,q=this.fillStyle,Z=this.strokeStyle,se=this.lineCap,fe=this.lineWidth,be=Math.abs(fe*this.ctx.transform.scaleX),pe=this.lineJoin,Ae=JSON.parse(JSON.stringify(this.path)),ge=JSON.parse(JSON.stringify(this.path)),ce=[],de=0;de<ge.length;de++)if(ge[de].x!==void 0)for(var oe=y.call(this,ge[de]),je=0;je<oe.length;je+=1)ce.indexOf(oe[je])===-1&&ce.push(oe[je]);for(var Se=0;Se<ce.length;Se++)for(;this.pdf.internal.getNumberOfPages()<ce[Se];)m.call(this);if(v(ce),this.autoPaging)for(var re=ce[0],ie=ce[ce.length-1],Ce=re;Ce<ie+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=q,this.strokeStyle=Z,this.lineCap=se,this.lineWidth=be,this.lineJoin=pe;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ze=Ce===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=Ce===1?0:Ge+(Ce-2)*nt;if(this.ctx.clip_path.length!==0){var st=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(D,this.posX+this.margin[3],-et+ze+this.ctx.prevPageLastElemOffset),_.call(this,R,!0),this.path=st}if(V=JSON.parse(JSON.stringify(Ae)),this.path=b(V,this.posX+this.margin[3],-et+ze+this.ctx.prevPageLastElemOffset),L===!1||Ce===0){var Re=(Ce>re||Ce<ie)&&g.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,nt,null).clip().discardPath()),_.call(this,R,L),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=be,_.call(this,R,L),this.lineWidth=fe;this.path=Ae},_=function(R,L){if((R!=="stroke"||L||!f.call(this))&&(R==="stroke"||L||!h.call(this))){for(var D,V,q=[],Z=this.path,se=0;se<Z.length;se++){var fe=Z[se];switch(fe.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:fe,deltas:[],abs:[]});break;case"lt":var be=q.length;if(Z[se-1]&&!isNaN(Z[se-1].x)&&(D=[fe.x-Z[se-1].x,fe.y-Z[se-1].y],be>0)){for(;be>=0;be--)if(q[be-1].close!==!0&&q[be-1].begin!==!0){q[be-1].deltas.push(D),q[be-1].abs.push(fe);break}}break;case"bct":D=[fe.x1-Z[se-1].x,fe.y1-Z[se-1].y,fe.x2-Z[se-1].x,fe.y2-Z[se-1].y,fe.x-Z[se-1].x,fe.y-Z[se-1].y],q[q.length-1].deltas.push(D);break;case"qct":var pe=Z[se-1].x+2/3*(fe.x1-Z[se-1].x),Ae=Z[se-1].y+2/3*(fe.y1-Z[se-1].y),ge=fe.x+2/3*(fe.x1-fe.x),ce=fe.y+2/3*(fe.y1-fe.y),de=fe.x,oe=fe.y;D=[pe-Z[se-1].x,Ae-Z[se-1].y,ge-Z[se-1].x,ce-Z[se-1].y,de-Z[se-1].x,oe-Z[se-1].y],q[q.length-1].deltas.push(D);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(fe)}}V=L?null:R==="stroke"?"stroke":"fill";for(var je=!1,Se=0;Se<q.length;Se++)if(q[Se].arc)for(var re=q[Se].abs,ie=0;ie<re.length;ie++){var Ce=re[ie];Ce.type==="arc"?E.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,L,!je):F.call(this,Ce.x,Ce.y),je=!0}else if(q[Se].close===!0)this.pdf.internal.out("h"),je=!1;else if(q[Se].begin!==!0){var Me=q[Se].start.x,ze=q[Se].start.y;j.call(this,q[Se].deltas,Me,ze),je=!0}V&&C.call(this,V),L&&T.call(this)}},M=function(R){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,D=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-D;case"top":return R+L-D;case"hanging":return R+L-2*D;case"middle":return R+L/2-D;case"ideographic":return R;case"alphabetic":default:return R}},x=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(L,D){this.colorStops.push([L,D])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(R,L,D,V,q,Z,se,fe,be){for(var pe=Q.call(this,D,V,q,Z),Ae=0;Ae<pe.length;Ae++){var ge=pe[Ae];Ae===0&&(be?B.call(this,ge.x1+R,ge.y1+L):F.call(this,ge.x1+R,ge.y1+L)),O.call(this,R,L,ge.x2,ge.y2,ge.x3,ge.y3,ge.x4,ge.y4)}fe?T.call(this):C.call(this,se)},C=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},B=function(R,L){this.pdf.internal.out(n(R)+" "+t(L)+" m")},P=function(R){var L;switch(R.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var D=this.pdf.getTextDimensions(R.text),V=M.call(this,R.y),q=x.call(this,V)-D.h,Z=this.ctx.transform.applyToPoint(new a(R.x,V)),se=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(se.translate)).multiply(se.skew)).multiply(se.scale);for(var be,pe,Ae,ge=this.ctx.transform.applyToRectangle(new A(R.x,V,D.w,D.h)),ce=fe.applyToRectangle(new A(R.x,q,D.w,D.h)),de=y.call(this,ce),oe=[],je=0;je<de.length;je+=1)oe.indexOf(de[je])===-1&&oe.push(de[je]);if(v(oe),this.autoPaging)for(var Se=oe[0],re=oe[oe.length-1],ie=Se;ie<re+1;ie++){this.pdf.setPage(ie);var Ce=ie===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[2],Ge=ze-this.margin[0],nt=this.pdf.internal.pageSize.width-this.margin[1],et=nt-this.margin[3],st=ie===1?0:Me+(ie-2)*Ge;if(this.ctx.clip_path.length!==0){var Re=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(be,this.posX+this.margin[3],-1*st+Ce),_.call(this,"fill",!0),this.path=Re}var Ke=b([JSON.parse(JSON.stringify(ce))],this.posX+this.margin[3],-st+Ce+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*R.scale),Ae=this.lineWidth,this.lineWidth=Ae*R.scale);var Le=this.autoPaging!=="text";if(Le||Ke.y+Ke.h<=ze){if(Le||Ke.y>=Ce&&Ke.x<=nt){var he=Le?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||nt-Ke.x)[0],$=b([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-st+Ce+this.ctx.prevPageLastElemOffset)[0],ee=Le&&(ie>Se||ie<re)&&g.call(this);ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Ge,null).clip().discardPath()),this.pdf.text(he,$.x,$.y,{angle:R.angle,align:L,renderingMode:R.renderingMode}),ee&&this.pdf.restoreGraphicsState()}}else Ke.y<ze&&(this.ctx.prevPageLastElemOffset+=ze-Ke.y);R.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Ae)}else R.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*R.scale),Ae=this.lineWidth,this.lineWidth=Ae*R.scale),this.pdf.text(R.text,Z.x+this.posX,Z.y+this.posY,{angle:R.angle,align:L,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Ae)},F=function(R,L,D,V){D=D||0,V=V||0,this.pdf.internal.out(n(R+D)+" "+t(L+V)+" l")},j=function(R,L,D){return this.pdf.lines(R,L,D,null,null)},O=function(R,L,D,V,q,Z,se,fe){this.pdf.internal.out([r(o(D+R)),r(s(V+L)),r(o(q+R)),r(s(Z+L)),r(o(se+R)),r(s(fe+L)),"c"].join(" "))},Q=function(R,L,D,V){for(var q=2*Math.PI,Z=Math.PI/2;L>D;)L-=q;var se=Math.abs(D-L);se<q&&V&&(se=q-se);for(var fe=[],be=V?-1:1,pe=L;se>1e-5;){var Ae=pe+be*Math.min(se,Z);fe.push(z.call(this,R,pe,Ae)),se-=Math.abs(Ae-pe),pe=Ae}return fe},z=function(R,L,D){var V=(D-L)/2,q=R*Math.cos(V),Z=R*Math.sin(V),se=q,fe=-Z,be=se*se+fe*fe,pe=be+se*q+fe*Z,Ae=4/3*(Math.sqrt(2*be*pe)-pe)/(se*Z-fe*q),ge=se-Ae*fe,ce=fe+Ae*se,de=ge,oe=-ce,je=V+L,Se=Math.cos(je),re=Math.sin(je);return{x1:R*Math.cos(L),y1:R*Math.sin(L),x2:ge*Se-ce*re,y2:ge*re+ce*Se,x3:de*Se-oe*re,y3:de*re+oe*Se,x4:R*Math.cos(D),y4:R*Math.sin(D)}},k=function(R){return 180*R/Math.PI},W=function(R,L,D,V,q,Z){var se=R+.5*(D-R),fe=L+.5*(V-L),be=q+.5*(D-q),pe=Z+.5*(V-Z),Ae=Math.min(R,q,se,be),ge=Math.max(R,q,se,be),ce=Math.min(L,Z,fe,pe),de=Math.max(L,Z,fe,pe);return new A(Ae,ce,ge-Ae,de-ce)},Y=function(R,L,D,V,q,Z,se,fe){var be,pe,Ae,ge,ce,de,oe,je,Se,re,ie,Ce,Me,ze,Ge=D-R,nt=V-L,et=q-D,st=Z-V,Re=se-q,Ke=fe-Z;for(pe=0;pe<41;pe++)Se=(oe=(Ae=R+(be=pe/40)*Ge)+be*((ce=D+be*et)-Ae))+be*(ce+be*(q+be*Re-ce)-oe),re=(je=(ge=L+be*nt)+be*((de=V+be*st)-ge))+be*(de+be*(Z+be*Ke-de)-je),pe==0?(ie=Se,Ce=re,Me=Se,ze=re):(ie=Math.min(ie,Se),Ce=Math.min(Ce,re),Me=Math.max(Me,Se),ze=Math.max(ze,re));return new A(Math.round(ie),Math.round(Ce),Math.round(Me-ie),Math.round(ze-Ce))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,L,D=(R=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:L}));this.prevLineDash!==D&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=D)}}})(or.API),function(i){var r=function(s){var a,A,l,u,p,d,c,h,f,g;for(A=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(p=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(p=((p=((p=((p=(p-(g=p%85))/85)-(f=p%85))/85)-(h=p%85))/85)-(c=p%85))/85)%85,A.push(d+33,c+33,h+33,f+33,g+33)):A.push(122);return function(y,m){for(var b=m;b>0;b--)y.pop()}(A,a.length),String.fromCharCode.apply(String,A)+"~>"},n=function(s){var a,A,l,u,p,d=String,c="length",h=255,f="charCodeAt",g="slice",y="replace";for(s[g](-2),s=s[g](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],u=0,p=(s+=a="uuuuu"[g](s[c]%5||5))[c];p>u;u+=5)A=52200625*(s[f](u)-33)+614125*(s[f](u+1)-33)+7225*(s[f](u+2)-33)+85*(s[f](u+3)-33)+(s[f](u+4)-33),l.push(h&A>>24,h&A>>16,h&A>>8,h&A);return function(m,b){for(var v=b;v>0;v--)m.pop()}(l,a[c]),d.fromCharCode.apply(d,l)},t=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var A="",l=0;l<s.length;l+=2)A+=String.fromCharCode("0x"+(s[l]+s[l+1]));return A},o=function(s){for(var a=new Uint8Array(s.length),A=s.length;A--;)a[A]=s.charCodeAt(A);return s=(a=op(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};i.processDataByFilters=function(s,a){var A=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),A=0;A<a.length;A+=1)switch(a[A]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=r(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=t(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=o(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[A]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(or.API),function(i){i.loadFile=function(r,n,t){return function(o,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var A=void 0;try{A=function(l,u,p){var d=new XMLHttpRequest,c=0,h=function(f){var g=f.length,y=[],m=String.fromCharCode;for(c=0;c<g;c+=1)y.push(m(255&f.charCodeAt(c)));return y.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?p(h(this.responseText)):p(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(o,s,a)}catch{}return A}(r,n,t)},i.loadImageFile=i.loadFile}(or.API),function(i){function r(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):tp(()=>Promise.resolve().then(()=>EF),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):tp(()=>import("./purify.es-zHtM-7sw.js"),__vite__mapDeps([]))).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var t=function(a){var A=Hr(a);return A==="undefined"?"undefined":A==="string"||a instanceof String?"string":A==="number"||a instanceof Number?"number":A==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":A==="object"?"object":"unknown"},o=function(a,A){var l=document.createElement(a);for(var u in A.className&&(l.className=A.className),A.innerHTML&&A.dompurify&&(l.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)l.style[u]=A.style[u];return l},s=function a(A){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(A)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,A){return a.__proto__=A||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,A){return this.then(function(){switch(A=A||function(l){switch(t(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:o("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=function l(u,p){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),c=u.firstChild;c;c=c.nextSibling)p!==!0&&c.nodeType===1&&c.nodeName==="SCRIPT"||d.appendChild(l(c,p));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(r).then(function(A){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,A(this.prop.container,l)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(r).then(function(A){var l=this.opt.jsPDF,u=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var c=0;c<u.length;++c){var h=u[c],f=h.src.find(function(g){return g.format==="truetype"});f&&l.addFont(f.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),A(this.prop.container,d)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,A,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,A):this.outputPdf(a,A)},s.prototype.outputPdf=function(a,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,A)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(t(a)!=="object")return this;var A=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(A)})},s.prototype.get=function(a,A){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return A?A(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(t(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function A(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||or.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:A(a.inner.width,a.k),height:A(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,A,l,u){return a!=null&&(this.progress.val=a),A!=null&&(this.progress.state=A),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,A,l,u){return this.setProgress(a?this.progress.val+a:null,A||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,A){var l=this;return this.thenCore(a,A,function(u,p){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,p).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,A,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),A&&(A=A.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=l.call(u,a,A);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,A){return Promise.prototype.then.call(this,a,A)},s.prototype.thenList=function(a){var A=this;return a.forEach(function(l){A=A.thenCore(l)}),A},s.prototype.catch=function(a){a&&(a=a.bind(this));var A=Promise.prototype.catch.call(this,a);return s.convert(A,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,or.getPageSize=function(a,A,l){if(Hr(a)==="object"){var u=a;a=u.orientation,A=u.unit||A,l=u.format||l}A=A||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var p,d=(""+l).toLowerCase(),c={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+A}var h,f=0,g=0;if(c.hasOwnProperty(d))f=c[d][1]/p,g=c[d][0]/p;else try{f=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>f&&(h=g,g=f,f=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",f>g&&(h=g,g=f,f=h)}return{width:g,height:f,unit:A,k:p,orientation:a}},i.html=function(a,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(hp):null;var l=new s(A);return A.worker?l:l.from(a).doCallback()}}(or.API),or.API.addJS=function(i){return ry=i,this.internal.events.subscribe("postPutResources",function(){Bu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Bu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ty=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ry+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Bu!==void 0&&ty!==void 0&&this.internal.out("/Names <</JavaScript "+Bu+" 0 R>>")}),this},function(i){var r;i.events.push(["postPutResources",function(){var n=this,t=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=n.outline.render().split(/\r\n/),s=0;s<o.length;s++){var a=o[s],A=t.exec(a);if(A!=null){var l=A[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,p=[];for(s=0;s<u;s++){var d=n.internal.newObject();p.push(d);var c=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+c.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),i.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(t,o,s){var a={title:o,options:s,children:[]};return t==null&&(t=this.root),t.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(t){t.id=n.internal.newObjectDeferred();for(var o=0;o<t.children.length;o++)this.genIds_r(t.children[o])},n.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},n.outline.renderItems=function(t){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<t.children.length;s++){var a=t.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),s>0&&this.line("/Prev "+this.makeRef(t.children[s-1])),s<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var A=this.count=this.count_r({count:0},a);if(A>0&&this.line("/Count "+A),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var u=0;u<t.children.length;u++)this.renderItems(t.children[u])},n.outline.line=function(t){this.ctx.val+=t+`\r
`},n.outline.makeRef=function(t){return t.id+" 0 R"},n.outline.makeString=function(t){return"("+n.internal.pdfEscape(t)+")"},n.outline.objStart=function(t){this.ctx.val+=`\r
`+t.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(t,o){for(var s=0;s<o.children.length;s++)t.count++,this.count_r(t,o.children[s]);return t.count}}])}(or.API),function(i){var r=[192,193,194,195,196,197,198,199];i.processJPEG=function(n,t,o,s,a,A){var l,u=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var c,h=256*d.charCodeAt(4)+d.charCodeAt(5),f=d.length,g={width:0,height:0,numcomponents:1},y=4;y<f;y+=2){if(y+=h,r.indexOf(d.charCodeAt(y+1))!==-1){c=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:c,numcomponents:d.charCodeAt(y+9)};break}h=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:u,index:t,alias:o}}return p}}(or.API);var Pl,Eu,ny,iy,sy,NC=function(){var i,r,n;function t(s){var a,A,l,u,p,d,c,h,f,g,y,m,b,v;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),f=(function(){var w,_;for(_=[],w=0;w<4;++w)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*p/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(f==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":c=(y=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,y.slice(0,c)),this.text[h]=String.fromCharCode.apply(String,y.slice(c+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(v=this.colorType)===4||v===6,A=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*A,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}t.prototype.read=function(s){var a,A;for(A=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)A.push(this.data[this.pos++]);return A},t.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},t.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},t.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,A=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(d,c,h,f){var g,y,m,b,v,w,_,M,x,E,C,T,B,P,F,j,O,Q,z,k,W,Y=Math.ceil((u.width-d)/h),te=Math.ceil((u.height-c)/f),R=u.width==Y&&u.height==te;for(P=a*Y,T=R?A:new Uint8Array(P*te),w=s.length,B=0,y=0;B<te&&l<w;){switch(s[l++]){case 0:for(b=O=0;O<P;b=O+=1)T[y++]=s[l++];break;case 1:for(b=Q=0;Q<P;b=Q+=1)g=s[l++],v=b<a?0:T[y-a],T[y++]=(g+v)%256;break;case 2:for(b=z=0;z<P;b=z+=1)g=s[l++],m=(b-b%a)/a,F=B&&T[(B-1)*P+m*a+b%a],T[y++]=(F+g)%256;break;case 3:for(b=k=0;k<P;b=k+=1)g=s[l++],m=(b-b%a)/a,v=b<a?0:T[y-a],F=B&&T[(B-1)*P+m*a+b%a],T[y++]=(g+Math.floor((v+F)/2))%256;break;case 4:for(b=W=0;W<P;b=W+=1)g=s[l++],m=(b-b%a)/a,v=b<a?0:T[y-a],B===0?F=j=0:(F=T[(B-1)*P+m*a+b%a],j=m&&T[(B-1)*P+(m-1)*a+b%a]),_=v+F-j,M=Math.abs(_-v),E=Math.abs(_-F),C=Math.abs(_-j),x=M<=E&&M<=C?v:E<=C?F:j,T[y++]=(g+x)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!R){var L=((c+B*f)*u.width+d)*a,D=B*P;for(b=0;b<Y;b+=1){for(var V=0;V<a;V+=1)A[L++]=T[D++];L+=(h-1)*a}}B++}}return s=vC(s),u.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),A},t.prototype.decodePalette=function(){var s,a,A,l,u,p,d,c,h;for(A=this.palette,p=this.transparency.indexed||[],u=new Uint8Array((p.length||0)+A.length),l=0,s=0,a=d=0,c=A.length;d<c;a=d+=3)u[l++]=A[a],u[l++]=A[a+1],u[l++]=A[a+2],u[l++]=(h=p[s++])!=null?h:255;return u},t.prototype.copyToImageData=function(s,a){var A,l,u,p,d,c,h,f,g,y,m;if(l=this.colors,g=null,A=this.hasAlphaChannel,this.palette.length&&(g=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,A=!0),f=(u=s.data||s).length,d=g||a,p=c=0,l===1)for(;p<f;)h=g?4*a[p/4]:c,y=d[h++],u[p++]=y,u[p++]=y,u[p++]=y,u[p++]=A?d[h++]:255,c=h;else for(;p<f;)h=g?4*a[p/4]:c,u[p++]=d[h++],u[p++]=d[h++],u[p++]=d[h++],u[p++]=A?d[h++]:255,c=h},t.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var o=function(){if(Object.prototype.toString.call(ar)==="[object Window]"){try{r=ar.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return o(),i=function(s){var a;if(o()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=r.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},t.prototype.decodeFrames=function(s){var a,A,l,u,p,d,c,h;if(this.animation){for(h=[],A=p=0,d=(c=this.animation.frames).length;p<d;A=++p)a=c[A],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,h.push(a.image=i(l));return h}},t.prototype.renderFrame=function(s,a){var A,l,u;return A=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),A.blendOp===0&&s.clearRect(A.xOffset,A.yOffset,A.width,A.height),s.drawImage(A.image,A.xOffset,A.yOffset)},t.prototype.animate=function(s){var a,A,l,u,p,d,c=this;return A=0,d=this.animation,u=d.numFrames,l=d.frames,p=d.numPlays,(a=function(){var h,f;if(h=A++%u,f=l[h],c.renderFrame(s,h),u>1&&A/u<p)return c.animation._timeout=setTimeout(a,f.delay)})()},t.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},t.prototype.render=function(s){var a,A;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(A=a.createImageData(this.width,this.height),this.copyToImageData(A,this.decodePixels()),a.putImageData(A,0,0))},t}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function kC(i){var r=0;if(i[r++]!==71||i[r++]!==73||i[r++]!==70||i[r++]!==56||(i[r++]+1&253)!=56||i[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=i[r++]|i[r++]<<8,t=i[r++]|i[r++]<<8,o=i[r++],s=o>>7,a=1<<(7&o)+1;i[r++],i[r++];var A=null,l=null;s&&(A=r,l=a,r+=3*a);var u=!0,p=[],d=0,c=null,h=0,f=null;for(this.width=n,this.height=t;u&&r<i.length;)switch(i[r++]){case 33:switch(i[r++]){case 255:if(i[r]!==11||i[r+1]==78&&i[r+2]==69&&i[r+3]==84&&i[r+4]==83&&i[r+5]==67&&i[r+6]==65&&i[r+7]==80&&i[r+8]==69&&i[r+9]==50&&i[r+10]==46&&i[r+11]==48&&i[r+12]==3&&i[r+13]==1&&i[r+16]==0)r+=14,f=i[r++]|i[r++]<<8,r++;else for(r+=12;;){if(!((B=i[r++])>=0))throw Error("Invalid block size");if(B===0)break;r+=B}break;case 249:if(i[r++]!==4||i[r+4]!==0)throw new Error("Invalid graphics extension block.");var g=i[r++];d=i[r++]|i[r++]<<8,c=i[r++],!(1&g)&&(c=null),h=g>>2&7,r++;break;case 254:for(;;){if(!((B=i[r++])>=0))throw Error("Invalid block size");if(B===0)break;r+=B}break;default:throw new Error("Unknown graphic control label: 0x"+i[r-1].toString(16))}break;case 44:var y=i[r++]|i[r++]<<8,m=i[r++]|i[r++]<<8,b=i[r++]|i[r++]<<8,v=i[r++]|i[r++]<<8,w=i[r++],_=w>>6&1,M=1<<(7&w)+1,x=A,E=l,C=!1;w>>7&&(C=!0,x=r,E=M,r+=3*M);var T=r;for(r++;;){var B;if(!((B=i[r++])>=0))throw Error("Invalid block size");if(B===0)break;r+=B}p.push({x:y,y:m,width:b,height:v,has_local_palette:C,palette_offset:x,palette_size:E,data_offset:T,data_length:r-T,transparent_index:c,interlaced:!!_,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+i[r-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return f},this.frameInfo=function(P){if(P<0||P>=p.length)throw new Error("Frame index out of range.");return p[P]},this.decodeAndBlitFrameBGRA=function(P,F){var j=this.frameInfo(P),O=j.width*j.height,Q=new Uint8Array(O);oy(i,j.data_offset,Q,O);var z=j.palette_offset,k=j.transparent_index;k===null&&(k=256);var W=j.width,Y=n-W,te=W,R=4*(j.y*n+j.x),L=4*((j.y+j.height)*n+j.x),D=R,V=4*Y;j.interlaced===!0&&(V+=4*n*7);for(var q=8,Z=0,se=Q.length;Z<se;++Z){var fe=Q[Z];if(te===0&&(te=W,(D+=V)>=L&&(V=4*Y+4*n*(q-1),D=R+(W+Y)*(q<<1),q>>=1)),fe===k)D+=4;else{var be=i[z+3*fe],pe=i[z+3*fe+1],Ae=i[z+3*fe+2];F[D++]=Ae,F[D++]=pe,F[D++]=be,F[D++]=255}--te}},this.decodeAndBlitFrameRGBA=function(P,F){var j=this.frameInfo(P),O=j.width*j.height,Q=new Uint8Array(O);oy(i,j.data_offset,Q,O);var z=j.palette_offset,k=j.transparent_index;k===null&&(k=256);var W=j.width,Y=n-W,te=W,R=4*(j.y*n+j.x),L=4*((j.y+j.height)*n+j.x),D=R,V=4*Y;j.interlaced===!0&&(V+=4*n*7);for(var q=8,Z=0,se=Q.length;Z<se;++Z){var fe=Q[Z];if(te===0&&(te=W,(D+=V)>=L&&(V=4*Y+4*n*(q-1),D=R+(W+Y)*(q<<1),q>>=1)),fe===k)D+=4;else{var be=i[z+3*fe],pe=i[z+3*fe+1],Ae=i[z+3*fe+2];F[D++]=be,F[D++]=pe,F[D++]=Ae,F[D++]=255}--te}}}function oy(i,r,n,t){for(var o=i[r++],s=1<<o,a=s+1,A=a+1,l=o+1,u=(1<<l)-1,p=0,d=0,c=0,h=i[r++],f=new Int32Array(4096),g=null;;){for(;p<16&&h!==0;)d|=i[r++]<<p,p+=8,h===1?h=i[r++]:--h;if(p<l)break;var y=d&u;if(d>>=l,p-=l,y!==s){if(y===a)break;for(var m=y<A?y:g,b=0,v=m;v>s;)v=f[v]>>8,++b;var w=v;if(c+b+(m!==y?1:0)>t)return void Xr.log("Warning, gif stream longer than expected.");n[c++]=w;var _=c+=b;for(m!==y&&(n[c++]=w),v=m;b--;)v=f[v],n[--_]=255&v,v>>=8;g!==null&&A<4096&&(f[A++]=g<<8|w,A>=u+1&&l<12&&(++l,u=u<<1|1)),g=y}else A=a+1,u=(1<<(l=o+1))-1,g=null}return c!==t&&Xr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pf(i){var r,n,t,o,s,a=Math.floor,A=new Array(64),l=new Array(64),u=new Array(64),p=new Array(64),d=new Array(65535),c=new Array(65535),h=new Array(64),f=new Array(64),g=[],y=0,m=7,b=new Array(64),v=new Array(64),w=new Array(64),_=new Array(256),M=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],B=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],O=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(R,L){for(var D=0,V=0,q=new Array,Z=1;Z<=16;Z++){for(var se=1;se<=R[Z];se++)q[L[V]]=[],q[L[V]][0]=D,q[L[V]][1]=Z,V++,D++;D*=2}return q}function z(R){for(var L=R[0],D=R[1]-1;D>=0;)L&1<<D&&(y|=1<<m),D--,--m<0&&(y==255?(k(255),k(0)):k(y),m=7,y=0)}function k(R){g.push(R)}function W(R){k(R>>8&255),k(255&R)}function Y(R,L,D,V,q){for(var Z,se=q[0],fe=q[240],be=function(re,ie){var Ce,Me,ze,Ge,nt,et,st,Re,Ke,Le,he=0;for(Ke=0;Ke<8;++Ke){Ce=re[he],Me=re[he+1],ze=re[he+2],Ge=re[he+3],nt=re[he+4],et=re[he+5],st=re[he+6];var $=Ce+(Re=re[he+7]),ee=Ce-Re,me=Me+st,Ee=Me-st,Ne=ze+et,Je=ze-et,ht=Ge+nt,vt=Ge-nt,$e=$+ht,Ie=$-ht,yt=me+Ne,dt=me-Ne;re[he]=$e+yt,re[he+4]=$e-yt;var ft=.707106781*(dt+Ie);re[he+2]=Ie+ft,re[he+6]=Ie-ft;var bt=.382683433*(($e=vt+Je)-(dt=Ee+ee)),It=.5411961*$e+bt,Ot=1.306562965*dt+bt,ur=.707106781*(yt=Je+Ee),Ar=ee+ur,Tt=ee-ur;re[he+5]=Tt+It,re[he+3]=Tt-It,re[he+1]=Ar+Ot,re[he+7]=Ar-Ot,he+=8}for(he=0,Ke=0;Ke<8;++Ke){Ce=re[he],Me=re[he+8],ze=re[he+16],Ge=re[he+24],nt=re[he+32],et=re[he+40],st=re[he+48];var ir=Ce+(Re=re[he+56]),rr=Ce-Re,Mr=Me+st,gr=Me-st,nr=ze+et,Tr=ze-et,qn=Ge+nt,Dn=Ge-nt,xn=ir+qn,On=ir-qn,Tn=Mr+nr,Nn=Mr-nr;re[he]=xn+Tn,re[he+32]=xn-Tn;var le=.707106781*(Nn+On);re[he+16]=On+le,re[he+48]=On-le;var De=.382683433*((xn=Dn+Tr)-(Nn=gr+rr)),We=.5411961*xn+De,Qe=1.306562965*Nn+De,it=.707106781*(Tn=Tr+gr),tt=rr+it,Ut=rr-it;re[he+40]=Ut+We,re[he+24]=Ut-We,re[he+8]=tt+Qe,re[he+56]=tt-Qe,he++}for(Ke=0;Ke<64;++Ke)Le=re[Ke]*ie[Ke],h[Ke]=Le>0?Le+.5|0:Le-.5|0;return h}(R,L),pe=0;pe<64;++pe)f[x[pe]]=be[pe];var Ae=f[0]-D;D=f[0],Ae==0?z(V[0]):(z(V[c[Z=32767+Ae]]),z(d[Z]));for(var ge=63;ge>0&&f[ge]==0;)ge--;if(ge==0)return z(se),D;for(var ce,de=1;de<=ge;){for(var oe=de;f[de]==0&&de<=ge;)++de;var je=de-oe;if(je>=16){ce=je>>4;for(var Se=1;Se<=ce;++Se)z(fe);je&=15}Z=32767+f[de],z(q[(je<<4)+c[Z]]),z(d[Z]),de++}return ge!=63&&z(se),D}function te(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(L){for(var D=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var q=a((D[V]*L+50)/100);q=Math.min(Math.max(q,1),255),A[x[V]]=q}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],se=0;se<64;se++){var fe=a((Z[se]*L+50)/100);fe=Math.min(Math.max(fe,1),255),l[x[se]]=fe}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,Ae=0;Ae<8;Ae++)for(var ge=0;ge<8;ge++)u[pe]=1/(A[x[pe]]*be[Ae]*be[ge]*8),p[pe]=1/(l[x[pe]]*be[Ae]*be[ge]*8),pe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,L){L&&te(L),g=new Array,y=0,m=7,W(65496),W(65504),W(16),k(74),k(70),k(73),k(70),k(0),k(1),k(1),k(0),W(1),W(1),k(0),k(0),function(){W(65499),W(132),k(0);for(var Me=0;Me<64;Me++)k(A[Me]);k(1);for(var ze=0;ze<64;ze++)k(l[ze])}(),function(Me,ze){W(65472),W(17),k(8),W(ze),W(Me),k(3),k(1),k(17),k(0),k(2),k(17),k(1),k(3),k(17),k(1)}(R.width,R.height),function(){W(65476),W(418),k(0);for(var Me=0;Me<16;Me++)k(E[Me+1]);for(var ze=0;ze<=11;ze++)k(C[ze]);k(16);for(var Ge=0;Ge<16;Ge++)k(T[Ge+1]);for(var nt=0;nt<=161;nt++)k(B[nt]);k(1);for(var et=0;et<16;et++)k(P[et+1]);for(var st=0;st<=11;st++)k(F[st]);k(17);for(var Re=0;Re<16;Re++)k(j[Re+1]);for(var Ke=0;Ke<=161;Ke++)k(O[Ke])}(),W(65498),W(12),k(3),k(1),k(0),k(2),k(17),k(3),k(17),k(0),k(63),k(0);var D=0,V=0,q=0;y=0,m=7,this.encode.displayName="_encode_";for(var Z,se,fe,be,pe,Ae,ge,ce,de,oe=R.data,je=R.width,Se=R.height,re=4*je,ie=0;ie<Se;){for(Z=0;Z<re;){for(pe=re*ie+Z,ge=-1,ce=0,de=0;de<64;de++)Ae=pe+(ce=de>>3)*re+(ge=4*(7&de)),ie+ce>=Se&&(Ae-=re*(ie+1+ce-Se)),Z+ge>=re&&(Ae-=Z+ge-re+4),se=oe[Ae++],fe=oe[Ae++],be=oe[Ae++],b[de]=(M[se]+M[fe+256>>0]+M[be+512>>0]>>16)-128,v[de]=(M[se+768>>0]+M[fe+1024>>0]+M[be+1280>>0]>>16)-128,w[de]=(M[se+1280>>0]+M[fe+1536>>0]+M[be+1792>>0]>>16)-128;D=Y(b,u,D,r,t),V=Y(v,p,V,n,o),q=Y(w,p,q,n,o),Z+=32}ie+=8}if(m>=0){var Ce=[];Ce[1]=m+1,Ce[0]=(1<<m+1)-1,z(Ce)}return W(65497),new Uint8Array(g)},i=i||50,function(){for(var R=String.fromCharCode,L=0;L<256;L++)_[L]=R(L)}(),r=Q(E,C),n=Q(P,F),t=Q(T,B),o=Q(j,O),function(){for(var R=1,L=2,D=1;D<=15;D++){for(var V=R;V<L;V++)c[32767+V]=D,d[32767+V]=[],d[32767+V][1]=D,d[32767+V][0]=V;for(var q=-(L-1);q<=-R;q++)c[32767+q]=D,d[32767+q]=[],d[32767+q][1]=D,d[32767+q][0]=L-1+q;R<<=1,L<<=1}}(),function(){for(var R=0;R<256;R++)M[R]=19595*R,M[R+256>>0]=38470*R,M[R+512>>0]=7471*R+32768,M[R+768>>0]=-11059*R,M[R+1024>>0]=-21709*R,M[R+1280>>0]=32768*R+8421375,M[R+1536>>0]=-27439*R,M[R+1792>>0]=-5329*R}(),te(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ys(i,r){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ay(i){function r(E){if(!E)throw Error("assert :P")}function n(E,C,T){for(var B=0;4>B;B++)if(E[C+B]!=T.charCodeAt(B))return!0;return!1}function t(E,C,T,B,P){for(var F=0;F<P;F++)E[C+F]=T[B+F]}function o(E,C,T,B){for(var P=0;P<B;P++)E[C+P]=T}function s(E){return new Int32Array(E)}function a(E,C){for(var T=[],B=0;B<E;B++)T.push(new C);return T}function A(E,C){var T=[];return function B(P,F,j){for(var O=j[F],Q=0;Q<O&&(P.push(j.length>F+1?[]:new C),!(j.length<F+1));Q++)B(P[Q],F+1,j)}(T,0,E),T}var l=function(){var E=this;function C(I,G){for(var J=1<<G-1>>>0;I&J;)J>>>=1;return J?(I&J-1)+J:I}function T(I,G,J,ue,ye){r(!(ue%J));do I[G+(ue-=J)]=ye;while(0<ue)}function B(I,G,J,ue,ye){if(r(2328>=ye),512>=ye)var _e=s(512);else if((_e=s(ye))==null)return 0;return function(xe,Be,Te,Pe,Xe,pt){var mt,at,Mt=Be,wt=1<<Te,Ye=s(16),rt=s(16);for(r(Xe!=0),r(Pe!=null),r(xe!=null),r(0<Te),at=0;at<Xe;++at){if(15<Pe[at])return 0;++Ye[Pe[at]]}if(Ye[0]==Xe)return 0;for(rt[1]=0,mt=1;15>mt;++mt){if(Ye[mt]>1<<mt)return 0;rt[mt+1]=rt[mt]+Ye[mt]}for(at=0;at<Xe;++at)mt=Pe[at],0<Pe[at]&&(pt[rt[mt]++]=at);if(rt[15]==1)return(Pe=new P).g=0,Pe.value=pt[0],T(xe,Mt,1,wt,Pe),wt;var Et,Lt=-1,Ct=wt-1,Gt=0,Rt=1,sr=1,Nt=1<<Te;for(at=0,mt=1,Xe=2;mt<=Te;++mt,Xe<<=1){if(Rt+=sr<<=1,0>(sr-=Ye[mt]))return 0;for(;0<Ye[mt];--Ye[mt])(Pe=new P).g=mt,Pe.value=pt[at++],T(xe,Mt+Gt,Xe,Nt,Pe),Gt=C(Gt,mt)}for(mt=Te+1,Xe=2;15>=mt;++mt,Xe<<=1){if(Rt+=sr<<=1,0>(sr-=Ye[mt]))return 0;for(;0<Ye[mt];--Ye[mt]){if(Pe=new P,(Gt&Ct)!=Lt){for(Mt+=Nt,Et=1<<(Lt=mt)-Te;15>Lt&&!(0>=(Et-=Ye[Lt]));)++Lt,Et<<=1;wt+=Nt=1<<(Et=Lt-Te),xe[Be+(Lt=Gt&Ct)].g=Et+Te,xe[Be+Lt].value=Mt-Be-Lt}Pe.g=mt-Te,Pe.value=pt[at++],T(xe,Mt+(Gt>>Te),Xe,Nt,Pe),Gt=C(Gt,mt)}}return Rt!=2*rt[15]-1?0:wt}(I,G,J,ue,ye,_e)}function P(){this.value=this.g=0}function F(){this.value=this.g=0}function j(){this.G=a(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ut,F)}function O(I,G,J,ue){r(I!=null),r(G!=null),r(2147483648>ue),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=G,I.pa=J,I.Jd=G,I.Yc=J+ue,I.Zc=4<=ue?J+ue-4+1:J,Z(I)}function Q(I,G){for(var J=0;0<G--;)J|=fe(I,128)<<G;return J}function z(I,G){var J=Q(I,G);return se(I)?-J:J}function k(I,G,J,ue){var ye,_e=0;for(r(I!=null),r(G!=null),r(4294967288>ue),I.Sb=ue,I.Ra=0,I.u=0,I.h=0,4<ue&&(ue=4),ye=0;ye<ue;++ye)_e+=G[J+ye]<<8*ye;I.Ra=_e,I.bb=ue,I.oa=G,I.pa=J}function W(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<At-8>>>0,++I.bb,I.u-=8;D(I)&&(I.h=1,I.u=0)}function Y(I,G){if(r(0<=G),!I.h&&G<=lt){var J=L(I)&gt[G];return I.u+=G,W(I),J}return I.h=1,I.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(I){return I.Ra>>>(I.u&At-1)>>>0}function D(I){return r(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>At}function V(I,G){I.u=G,I.h=D(I)}function q(I){I.u>=Wt&&(r(I.u>=Wt),W(I))}function Z(I){r(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(r(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function se(I){return Q(I,1)}function fe(I,G){var J=I.Ca;0>I.b&&Z(I);var ue=I.b,ye=J*G>>>8,_e=(I.I>>>ue>ye)+0;for(_e?(J-=ye,I.I-=ye+1<<ue>>>0):J=ye+1,ue=J,ye=0;256<=ue;)ye+=8,ue>>=8;return ue=7^ye+$t[ue],I.b-=ue,I.Ca=(J<<ue)-1,_e}function be(I,G,J){I[G+0]=J>>24&255,I[G+1]=J>>16&255,I[G+2]=J>>8&255,I[G+3]=J>>0&255}function pe(I,G){return I[G+0]<<0|I[G+1]<<8}function Ae(I,G){return pe(I,G)|I[G+2]<<16}function ge(I,G){return pe(I,G)|pe(I,G+2)<<16}function ce(I,G){var J=1<<G;return r(I!=null),r(0<G),I.X=s(J),I.X==null?0:(I.Mb=32-G,I.Xa=G,1)}function de(I,G){r(I!=null),r(G!=null),r(I.Xa==G.Xa),t(G.X,0,I.X,0,1<<G.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function je(I,G,J,ue){r(J!=null),r(ue!=null);var ye=J[0],_e=ue[0];return ye==0&&(ye=(I*_e+G/2)/G),_e==0&&(_e=(G*ye+I/2)/I),0>=ye||0>=_e?0:(J[0]=ye,ue[0]=_e,1)}function Se(I,G){return I+(1<<G)-1>>>G}function re(I,G){return((4278255360&I)+(4278255360&G)>>>0&4278255360)+((16711935&I)+(16711935&G)>>>0&16711935)>>>0}function ie(I,G){E[G]=function(J,ue,ye,_e,xe,Be,Te){var Pe;for(Pe=0;Pe<xe;++Pe){var Xe=E[I](Be[Te+Pe-1],ye,_e+Pe);Be[Te+Pe]=re(J[ue+Pe],Xe)}}}function Ce(){this.ud=this.hd=this.jd=0}function Me(I,G){return((4278124286&(I^G))>>>1)+(I&G)>>>0}function ze(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Ge(I,G){return ze(I+(I-G+.5>>1))}function nt(I,G,J){return Math.abs(G-J)-Math.abs(I-J)}function et(I,G,J,ue,ye,_e,xe){for(ue=_e[xe-1],J=0;J<ye;++J)_e[xe+J]=ue=re(I[G+J],ue)}function st(I,G,J,ue,ye){var _e;for(_e=0;_e<J;++_e){var xe=I[G+_e],Be=xe>>8&255,Te=16711935&(Te=(Te=16711935&xe)+((Be<<16)+Be));ue[ye+_e]=(4278255360&xe)+Te>>>0}}function Re(I,G){G.jd=I>>0&255,G.hd=I>>8&255,G.ud=I>>16&255}function Ke(I,G,J,ue,ye,_e){var xe;for(xe=0;xe<ue;++xe){var Be=G[J+xe],Te=Be>>>8,Pe=Be,Xe=255&(Xe=(Xe=Be>>>16)+((I.jd<<24>>24)*(Te<<24>>24)>>>5));Pe=255&(Pe=(Pe=Pe+((I.hd<<24>>24)*(Te<<24>>24)>>>5))+((I.ud<<24>>24)*(Xe<<24>>24)>>>5)),ye[_e+xe]=(4278255360&Be)+(Xe<<16)+Pe}}function Le(I,G,J,ue,ye){E[G]=function(_e,xe,Be,Te,Pe,Xe,pt,mt,at){for(Te=pt;Te<mt;++Te)for(pt=0;pt<at;++pt)Pe[Xe++]=ye(Be[ue(_e[xe++])])},E[I]=function(_e,xe,Be,Te,Pe,Xe,pt){var mt=8>>_e.b,at=_e.Ea,Mt=_e.K[0],wt=_e.w;if(8>mt)for(_e=(1<<_e.b)-1,wt=(1<<mt)-1;xe<Be;++xe){var Ye,rt=0;for(Ye=0;Ye<at;++Ye)Ye&_e||(rt=ue(Te[Pe++])),Xe[pt++]=ye(Mt[rt&wt]),rt>>=mt}else E["VP8LMapColor"+J](Te,Pe,Mt,wt,Xe,pt,xe,Be,at)}}function he(I,G,J,ue,ye){for(J=G+J;G<J;){var _e=I[G++];ue[ye++]=_e>>16&255,ue[ye++]=_e>>8&255,ue[ye++]=_e>>0&255}}function $(I,G,J,ue,ye){for(J=G+J;G<J;){var _e=I[G++];ue[ye++]=_e>>16&255,ue[ye++]=_e>>8&255,ue[ye++]=_e>>0&255,ue[ye++]=_e>>24&255}}function ee(I,G,J,ue,ye){for(J=G+J;G<J;){var _e=(xe=I[G++])>>16&240|xe>>12&15,xe=xe>>0&240|xe>>28&15;ue[ye++]=_e,ue[ye++]=xe}}function me(I,G,J,ue,ye){for(J=G+J;G<J;){var _e=(xe=I[G++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;ue[ye++]=_e,ue[ye++]=xe}}function Ee(I,G,J,ue,ye){for(J=G+J;G<J;){var _e=I[G++];ue[ye++]=_e>>0&255,ue[ye++]=_e>>8&255,ue[ye++]=_e>>16&255}}function Ne(I,G,J,ue,ye,_e){if(_e==0)for(J=G+J;G<J;)be(ue,((_e=I[G++])[0]>>24|_e[1]>>8&65280|_e[2]<<8&16711680|_e[3]<<24)>>>0),ye+=32;else t(ue,ye,I,G,J)}function Je(I,G){E[G][0]=E[I+"0"],E[G][1]=E[I+"1"],E[G][2]=E[I+"2"],E[G][3]=E[I+"3"],E[G][4]=E[I+"4"],E[G][5]=E[I+"5"],E[G][6]=E[I+"6"],E[G][7]=E[I+"7"],E[G][8]=E[I+"8"],E[G][9]=E[I+"9"],E[G][10]=E[I+"10"],E[G][11]=E[I+"11"],E[G][12]=E[I+"12"],E[G][13]=E[I+"13"],E[G][14]=E[I+"0"],E[G][15]=E[I+"0"]}function ht(I){return I==ed||I==td||I==Cc||I==rd}function vt(){this.eb=[],this.size=this.A=this.fb=0}function $e(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vt,this.f.kb=new $e,this.sd=null}function yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function bt(I,G){var J=I.T,ue=G.ba.f.RGBA,ye=ue.eb,_e=ue.fb+I.ka*ue.A,xe=$i[G.ba.S],Be=I.y,Te=I.O,Pe=I.f,Xe=I.N,pt=I.ea,mt=I.W,at=G.cc,Mt=G.dc,wt=G.Mc,Ye=G.Nc,rt=I.ka,Et=I.ka+I.T,Lt=I.U,Ct=Lt+1>>1;for(rt==0?xe(Be,Te,null,null,Pe,Xe,pt,mt,Pe,Xe,pt,mt,ye,_e,null,null,Lt):(xe(G.ec,G.fc,Be,Te,at,Mt,wt,Ye,Pe,Xe,pt,mt,ye,_e-ue.A,ye,_e,Lt),++J);rt+2<Et;rt+=2)at=Pe,Mt=Xe,wt=pt,Ye=mt,Xe+=I.Rc,mt+=I.Rc,_e+=2*ue.A,xe(Be,(Te+=2*I.fa)-I.fa,Be,Te,at,Mt,wt,Ye,Pe,Xe,pt,mt,ye,_e-ue.A,ye,_e,Lt);return Te+=I.fa,I.j+Et<I.o?(t(G.ec,G.fc,Be,Te,Lt),t(G.cc,G.dc,Pe,Xe,Ct),t(G.Mc,G.Nc,pt,mt,Ct),J--):1&Et||xe(Be,Te,null,null,Pe,Xe,pt,mt,Pe,Xe,pt,mt,ye,_e+ue.A,null,null,Lt),J}function It(I,G,J){var ue=I.F,ye=[I.J];if(ue!=null){var _e=I.U,xe=G.ba.S,Be=xe==Ec||xe==Cc;G=G.ba.f.RGBA;var Te=[0],Pe=I.ka;Te[0]=I.T,I.Kb&&(Pe==0?--Te[0]:(--Pe,ye[0]-=I.width),I.j+I.ka+I.T==I.o&&(Te[0]=I.o-I.j-Pe));var Xe=G.eb;Pe=G.fb+Pe*G.A,I=wc(ue,ye[0],I.width,_e,Te,Xe,Pe+(Be?0:3),G.A),r(J==Te),I&&ht(xe)&&jo(Xe,Pe,Be,_e,Te,G.A)}return 0}function Ot(I){var G=I.ma,J=G.ba.S,ue=11>J,ye=J==Sc||J==Bc||J==Ec||J==$h||J==12||ht(J);if(G.memory=null,G.Ib=null,G.Jb=null,G.Nd=null,!Ze(G.Oa,I,ye?11:12))return 0;if(ye&&ht(J)&&Ft(),I.da)alert("todo:use_scaling");else{if(ue){if(G.Ib=ft,I.Kb){if(J=I.U+1>>1,G.memory=s(I.U+2*J),G.memory==null)return 0;G.ec=G.memory,G.fc=0,G.cc=G.ec,G.dc=G.fc+I.U,G.Mc=G.cc,G.Nc=G.dc+J,G.Ib=bt,Ft()}}else alert("todo:EmitYUV");ye&&(G.Jb=It,ue&&ct())}if(ue&&!Sm){for(I=0;256>I;++I)Db[I]=89858*(I-128)+Tc>>Mc,kb[I]=-22014*(I-128)+Tc,Nb[I]=-45773*(I-128),Ob[I]=113618*(I-128)+Tc>>Mc;for(I=bA;I<sd;++I)G=76283*(I-16)+Tc>>Mc,Qb[I-bA]=ae(G,255),Hb[I-bA]=ae(G+8>>4,15);Sm=1}return 1}function ur(I){var G=I.ma,J=I.U,ue=I.T;return r(!(1&I.ka)),0>=J||0>=ue?0:(J=G.Ib(I,G),G.Jb!=null&&G.Jb(I,G,J),G.Dc+=J,1)}function Ar(I){I.ma.memory=null}function Tt(I,G,J,ue){return Y(I,8)!=47?0:(G[0]=Y(I,14)+1,J[0]=Y(I,14)+1,ue[0]=Y(I,1),Y(I,3)!=0?0:!I.h)}function ir(I,G){if(4>I)return I+1;var J=I-2>>1;return(2+(1&I)<<J)+Y(G,J)+1}function rr(I,G){return 120<G?G-120:1<=(J=((J=xb[G-1])>>4)*I+(8-(15&J)))?J:1;var J}function Mr(I,G,J){var ue=L(J),ye=I[G+=255&ue].g-8;return 0<ye&&(V(J,J.u+8),ue=L(J),G+=I[G].value,G+=ue&(1<<ye)-1),V(J,J.u+I[G].g),I[G].value}function gr(I,G,J){return J.g+=I.g,J.value+=I.value<<G>>>0,r(8>=J.g),I.g}function nr(I,G,J){var ue=I.xc;return r((G=ue==0?0:I.vc[I.md*(J>>ue)+(G>>ue)])<I.Wb),I.Ya[G]}function Tr(I,G,J,ue){var ye=I.ab,_e=I.c*G,xe=I.C;G=xe+G;var Be=J,Te=ue;for(ue=I.Ta,J=I.Ua;0<ye--;){var Pe=I.gc[ye],Xe=xe,pt=G,mt=Be,at=Te,Mt=(Te=ue,Be=J,Pe.Ea);switch(r(Xe<pt),r(pt<=Pe.nc),Pe.hc){case 2:dr(mt,at,(pt-Xe)*Mt,Te,Be);break;case 0:var wt=Xe,Ye=pt,rt=Te,Et=Be,Lt=(Nt=Pe).Ea;wt==0&&(Yt(mt,at,null,null,1,rt,Et),et(mt,at+1,0,0,Lt-1,rt,Et+1),at+=Lt,Et+=Lt,++wt);for(var Ct=1<<Nt.b,Gt=Ct-1,Rt=Se(Lt,Nt.b),sr=Nt.K,Nt=Nt.w+(wt>>Nt.b)*Rt;wt<Ye;){var jr=sr,kr=Nt,Ir=1;for(qt(mt,at,rt,Et-Lt,1,rt,Et);Ir<Lt;){var Er=(Ir&~Gt)+Ct;Er>Lt&&(Er=Lt),(0,tn[jr[kr++]>>8&15])(mt,at+ +Ir,rt,Et+Ir-Lt,Er-Ir,rt,Et+Ir),Ir=Er}at+=Lt,Et+=Lt,++wt&Gt||(Nt+=Rt)}pt!=Pe.nc&&t(Te,Be-Mt,Te,Be+(pt-Xe-1)*Mt,Mt);break;case 1:for(Mt=mt,Ye=at,Lt=(mt=Pe.Ea)-(Et=mt&~(rt=(at=1<<Pe.b)-1)),wt=Se(mt,Pe.b),Ct=Pe.K,Pe=Pe.w+(Xe>>Pe.b)*wt;Xe<pt;){for(Gt=Ct,Rt=Pe,sr=new Ce,Nt=Ye+Et,jr=Ye+mt;Ye<Nt;)Re(Gt[Rt++],sr),an(sr,Mt,Ye,at,Te,Be),Ye+=at,Be+=at;Ye<jr&&(Re(Gt[Rt++],sr),an(sr,Mt,Ye,Lt,Te,Be),Ye+=Lt,Be+=Lt),++Xe&rt||(Pe+=wt)}break;case 3:if(mt==Te&&at==Be&&0<Pe.b){for(Ye=Te,mt=Mt=Be+(pt-Xe)*Mt-(Et=(pt-Xe)*Se(Pe.Ea,Pe.b)),at=Te,rt=Be,wt=[],Et=(Lt=Et)-1;0<=Et;--Et)wt[Et]=at[rt+Et];for(Et=Lt-1;0<=Et;--Et)Ye[mt+Et]=wt[Et];Sr(Pe,Xe,pt,Te,Mt,Te,Be)}else Sr(Pe,Xe,pt,mt,at,Te,Be)}Be=ue,Te=J}Te!=J&&t(ue,J,Be,Te,_e)}function qn(I,G){var J=I.V,ue=I.Ba+I.c*I.C,ye=G-I.C;if(r(G<=I.l.o),r(16>=ye),0<ye){var _e=I.l,xe=I.Ta,Be=I.Ua,Te=_e.width;if(Tr(I,ye,J,ue),ye=Be=[Be],r((J=I.C)<(ue=G)),r(_e.v<_e.va),ue>_e.o&&(ue=_e.o),J<_e.j){var Pe=_e.j-J;J=_e.j,ye[0]+=Pe*Te}if(J>=ue?J=0:(ye[0]+=4*_e.v,_e.ka=J-_e.j,_e.U=_e.va-_e.v,_e.T=ue-J,J=1),J){if(Be=Be[0],11>(J=I.ca).S){var Xe=J.f.RGBA,pt=(ue=J.S,ye=_e.U,_e=_e.T,Pe=Xe.eb,Xe.A),mt=_e;for(Xe=Xe.fb+I.Ma*Xe.A;0<mt--;){var at=xe,Mt=Be,wt=ye,Ye=Pe,rt=Xe;switch(ue){case xc:br(at,Mt,wt,Ye,rt);break;case Sc:Lr(at,Mt,wt,Ye,rt);break;case ed:Lr(at,Mt,wt,Ye,rt),jo(Ye,rt,0,wt,1,0);break;case fm:Dr(at,Mt,wt,Ye,rt);break;case Bc:Ne(at,Mt,wt,Ye,rt,1);break;case td:Ne(at,Mt,wt,Ye,rt,1),jo(Ye,rt,0,wt,1,0);break;case Ec:Ne(at,Mt,wt,Ye,rt,0);break;case Cc:Ne(at,Mt,wt,Ye,rt,0),jo(Ye,rt,1,wt,1,0);break;case $h:yr(at,Mt,wt,Ye,rt);break;case rd:yr(at,Mt,wt,Ye,rt),cl(Ye,rt,wt,1,0);break;case pm:Jr(at,Mt,wt,Ye,rt);break;default:r(0)}Be+=Te,Xe+=pt}I.Ma+=_e}else alert("todo:EmitRescaledRowsYUVA");r(I.Ma<=J.height)}}I.C=G,r(I.C<=I.i)}function Dn(I){var G;if(0<I.ua)return 0;for(G=0;G<I.Wb;++G){var J=I.Ya[G].G,ue=I.Ya[G].H;if(0<J[1][ue[1]+0].g||0<J[2][ue[2]+0].g||0<J[3][ue[3]+0].g)return 0}return 1}function xn(I,G,J,ue,ye,_e){if(I.Z!=0){var xe=I.qd,Be=I.rd;for(r(Do[I.Z]!=null);G<J;++G)Do[I.Z](xe,Be,ue,ye,ue,ye,_e),xe=ue,Be=ye,ye+=_e;I.qd=xe,I.rd=Be}}function On(I,G){var J=I.l.ma,ue=J.Z==0||J.Z==1?I.l.j:I.C;if(ue=I.C<ue?ue:I.C,r(G<=I.l.o),G>ue){var ye=I.l.width,_e=J.ca,xe=J.tb+ye*ue,Be=I.V,Te=I.Ba+I.c*ue,Pe=I.gc;r(I.ab==1),r(Pe[0].hc==3),on(Pe[0],ue,G,Be,Te,_e,xe),xn(J,ue,G,_e,xe,ye)}I.C=I.Ma=G}function Tn(I,G,J,ue,ye,_e,xe){var Be=I.$/ue,Te=I.$%ue,Pe=I.m,Xe=I.s,pt=J+I.$,mt=pt;ye=J+ue*ye;var at=J+ue*_e,Mt=280+Xe.ua,wt=I.Pb?Be:16777216,Ye=0<Xe.ua?Xe.Wa:null,rt=Xe.wc,Et=pt<at?nr(Xe,Te,Be):null;r(I.C<_e),r(at<=ye);var Lt=!1;e:for(;;){for(;Lt||pt<at;){var Ct=0;if(Be>=wt){var Gt=pt-J;r((wt=I).Pb),wt.wd=wt.m,wt.xd=Gt,0<wt.s.ua&&de(wt.s.Wa,wt.s.vb),wt=Be+Bb}if(Te&rt||(Et=nr(Xe,Te,Be)),r(Et!=null),Et.Qb&&(G[pt]=Et.qb,Lt=!0),!Lt)if(q(Pe),Et.jc){Ct=Pe,Gt=G;var Rt=pt,sr=Et.pd[L(Ct)&ut-1];r(Et.jc),256>sr.g?(V(Ct,Ct.u+sr.g),Gt[Rt]=sr.value,Ct=0):(V(Ct,Ct.u+sr.g-256),r(256<=sr.value),Ct=sr.value),Ct==0&&(Lt=!0)}else Ct=Mr(Et.G[0],Et.H[0],Pe);if(Pe.h)break;if(Lt||256>Ct){if(!Lt)if(Et.nd)G[pt]=(Et.qb|Ct<<8)>>>0;else{if(q(Pe),Lt=Mr(Et.G[1],Et.H[1],Pe),q(Pe),Gt=Mr(Et.G[2],Et.H[2],Pe),Rt=Mr(Et.G[3],Et.H[3],Pe),Pe.h)break;G[pt]=(Rt<<24|Lt<<16|Ct<<8|Gt)>>>0}if(Lt=!1,++pt,++Te>=ue&&(Te=0,++Be,xe!=null&&Be<=_e&&!(Be%16)&&xe(I,Be),Ye!=null))for(;mt<pt;)Ct=G[mt++],Ye.X[(506832829*Ct&4294967295)>>>Ye.Mb]=Ct}else if(280>Ct){if(Ct=ir(Ct-256,Pe),Gt=Mr(Et.G[4],Et.H[4],Pe),q(Pe),Gt=rr(ue,Gt=ir(Gt,Pe)),Pe.h)break;if(pt-J<Gt||ye-pt<Ct)break e;for(Rt=0;Rt<Ct;++Rt)G[pt+Rt]=G[pt+Rt-Gt];for(pt+=Ct,Te+=Ct;Te>=ue;)Te-=ue,++Be,xe!=null&&Be<=_e&&!(Be%16)&&xe(I,Be);if(r(pt<=ye),Te&rt&&(Et=nr(Xe,Te,Be)),Ye!=null)for(;mt<pt;)Ct=G[mt++],Ye.X[(506832829*Ct&4294967295)>>>Ye.Mb]=Ct}else{if(!(Ct<Mt))break e;for(Lt=Ct-280,r(Ye!=null);mt<pt;)Ct=G[mt++],Ye.X[(506832829*Ct&4294967295)>>>Ye.Mb]=Ct;Ct=pt,r(!(Lt>>>(Gt=Ye).Xa)),G[Ct]=Gt.X[Lt],Lt=!0}Lt||r(Pe.h==D(Pe))}if(I.Pb&&Pe.h&&pt<ye)r(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&de(I.s.vb,I.s.Wa);else{if(Pe.h)break e;xe!=null&&xe(I,Be>_e?_e:Be),I.a=0,I.$=pt-J}return 1}return I.a=3,0}function Nn(I){r(I!=null),I.vc=null,I.yc=null,I.Ya=null;var G=I.Wa;G!=null&&(G.X=null),I.vb=null,r(I!=null)}function le(){var I=new gA;return I==null?null:(I.a=0,I.xb=ym,Je("Predictor","VP8LPredictors"),Je("Predictor","VP8LPredictors_C"),Je("PredictorAdd","VP8LPredictorsAdd"),Je("PredictorAdd","VP8LPredictorsAdd_C"),dr=st,an=Ke,br=he,Lr=$,yr=ee,Jr=me,Dr=Ee,E.VP8LMapColor32b=Vr,E.VP8LMapColor8b=Sn,I)}function De(I,G,J,ue,ye){var _e=1,xe=[I],Be=[G],Te=ue.m,Pe=ue.s,Xe=null,pt=0;e:for(;;){if(J)for(;_e&&Y(Te,1);){var mt=xe,at=Be,Mt=ue,wt=1,Ye=Mt.m,rt=Mt.gc[Mt.ab],Et=Y(Ye,2);if(Mt.Oc&1<<Et)_e=0;else{switch(Mt.Oc|=1<<Et,rt.hc=Et,rt.Ea=mt[0],rt.nc=at[0],rt.K=[null],++Mt.ab,r(4>=Mt.ab),Et){case 0:case 1:rt.b=Y(Ye,3)+2,wt=De(Se(rt.Ea,rt.b),Se(rt.nc,rt.b),0,Mt,rt.K),rt.K=rt.K[0];break;case 3:var Lt,Ct=Y(Ye,8)+1,Gt=16<Ct?0:4<Ct?1:2<Ct?2:3;if(mt[0]=Se(rt.Ea,Gt),rt.b=Gt,Lt=wt=De(Ct,1,0,Mt,rt.K)){var Rt,sr=Ct,Nt=rt,jr=1<<(8>>Nt.b),kr=s(jr);if(kr==null)Lt=0;else{var Ir=Nt.K[0],Er=Nt.w;for(kr[0]=Nt.K[0][0],Rt=1;Rt<1*sr;++Rt)kr[Rt]=re(Ir[Er+Rt],kr[Rt-1]);for(;Rt<4*jr;++Rt)kr[Rt]=0;Nt.K[0]=null,Nt.K[0]=kr,Lt=1}}wt=Lt;break;case 2:break;default:r(0)}_e=wt}}if(xe=xe[0],Be=Be[0],_e&&Y(Te,1)&&!(_e=1<=(pt=Y(Te,4))&&11>=pt)){ue.a=3;break e}var qr;if(qr=_e)t:{var zr,pr,Bn,Bi=ue,En=xe,Ei=Be,Qr=pt,Di=J,Oi=Bi.m,Hn=Bi.s,Xn=[null],ui=1,es=0,js=Sb[Qr];r:for(;;){if(Di&&Y(Oi,1)){var Gn=Y(Oi,3)+2,oo=Se(En,Gn),Sa=Se(Ei,Gn),ul=oo*Sa;if(!De(oo,Sa,0,Bi,Xn))break r;for(Xn=Xn[0],Hn.xc=Gn,zr=0;zr<ul;++zr){var Oo=Xn[zr]>>8&65535;Xn[zr]=Oo,Oo>=ui&&(ui=Oo+1)}}if(Oi.h)break r;for(pr=0;5>pr;++pr){var pn=mm[pr];!pr&&0<Qr&&(pn+=1<<Qr),es<pn&&(es=pn)}var od=a(ui*js,P),Cm=ui,Mm=a(Cm,j);if(Mm==null)var Fc=null;else r(65536>=Cm),Fc=Mm;var wA=s(es);if(Fc==null||wA==null||od==null){Bi.a=1;break r}var Uc=od;for(zr=Bn=0;zr<ui;++zr){var ds=Fc[zr],hl=ds.G,dl=ds.H,Tm=0,Ic=1,Lm=0;for(pr=0;5>pr;++pr){pn=mm[pr],hl[pr]=Uc,dl[pr]=Bn,!pr&&0<Qr&&(pn+=1<<Qr);i:{var Pc,ad=pn,jc=Bi,_A=wA,zb=Uc,Wb=Bn,ld=0,No=jc.m,Kb=Y(No,1);if(o(_A,0,0,ad),Kb){var qb=Y(No,1)+1,Xb=Y(No,1),Fm=Y(No,Xb==0?1:8);_A[Fm]=1,qb==2&&(_A[Fm=Y(No,8)]=1);var Rc=1}else{var Um=s(19),Im=Y(No,4)+4;if(19<Im){jc.a=3;var Dc=0;break i}for(Pc=0;Pc<Im;++Pc)Um[_b[Pc]]=Y(No,3);var Ad=void 0,xA=void 0,Pm=jc,Yb=Um,Oc=ad,jm=_A,cd=0,ko=Pm.m,Rm=8,Dm=a(128,P);n:for(;B(Dm,0,7,Yb,19);){if(Y(ko,1)){var Jb=2+2*Y(ko,3);if((Ad=2+Y(ko,Jb))>Oc)break n}else Ad=Oc;for(xA=0;xA<Oc&&Ad--;){q(ko);var Om=Dm[0+(127&L(ko))];V(ko,ko.u+Om.g);var fl=Om.value;if(16>fl)jm[xA++]=fl,fl!=0&&(Rm=fl);else{var Zb=fl==16,Nm=fl-16,$b=bb[Nm],km=Y(ko,vb[Nm])+$b;if(xA+km>Oc)break n;for(var e2=Zb?Rm:0;0<km--;)jm[xA++]=e2}}cd=1;break n}cd||(Pm.a=3),Rc=cd}(Rc=Rc&&!No.h)&&(ld=B(zb,Wb,8,_A,ad)),Rc&&ld!=0?Dc=ld:(jc.a=3,Dc=0)}if(Dc==0)break r;if(Ic&&wb[pr]==1&&(Ic=Uc[Bn].g==0),Tm+=Uc[Bn].g,Bn+=Dc,3>=pr){var SA,ud=wA[0];for(SA=1;SA<pn;++SA)wA[SA]>ud&&(ud=wA[SA]);Lm+=ud}}if(ds.nd=Ic,ds.Qb=0,Ic&&(ds.qb=(hl[3][dl[3]+0].value<<24|hl[1][dl[1]+0].value<<16|hl[2][dl[2]+0].value)>>>0,Tm==0&&256>hl[0][dl[0]+0].value&&(ds.Qb=1,ds.qb+=hl[0][dl[0]+0].value<<8)),ds.jc=!ds.Qb&&6>Lm,ds.jc){var Nc,ao=ds;for(Nc=0;Nc<ut;++Nc){var Qo=Nc,Ho=ao.pd[Qo],kc=ao.G[0][ao.H[0]+Qo];256<=kc.value?(Ho.g=kc.g+256,Ho.value=kc.value):(Ho.g=0,Ho.value=0,Qo>>=gr(kc,8,Ho),Qo>>=gr(ao.G[1][ao.H[1]+Qo],16,Ho),Qo>>=gr(ao.G[2][ao.H[2]+Qo],0,Ho),gr(ao.G[3][ao.H[3]+Qo],24,Ho))}}}Hn.vc=Xn,Hn.Wb=ui,Hn.Ya=Fc,Hn.yc=od,qr=1;break t}qr=0}if(!(_e=qr)){ue.a=3;break e}if(0<pt){if(Pe.ua=1<<pt,!ce(Pe.Wa,pt)){ue.a=1,_e=0;break e}}else Pe.ua=0;var hd=ue,Qm=xe,t2=Be,dd=hd.s,fd=dd.xc;if(hd.c=Qm,hd.i=t2,dd.md=Se(Qm,fd),dd.wc=fd==0?-1:(1<<fd)-1,J){ue.xb=Ub;break e}if((Xe=s(xe*Be))==null){ue.a=1,_e=0;break e}_e=(_e=Tn(ue,Xe,0,xe,Be,Be,null))&&!Te.h;break e}return _e?(ye!=null?ye[0]=Xe:(r(Xe==null),r(J)),ue.$=0,J||Nn(Pe)):Nn(Pe),_e}function We(I,G){var J=I.c*I.i,ue=J+G+16*G;return r(I.c<=G),I.V=s(ue),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+J+G,1)}function Qe(I,G){var J=I.C,ue=G-J,ye=I.V,_e=I.Ba+I.c*J;for(r(G<=I.l.o);0<ue;){var xe=16<ue?16:ue,Be=I.l.ma,Te=I.l.width,Pe=Te*xe,Xe=Be.ca,pt=Be.tb+Te*J,mt=I.Ta,at=I.Ua;Tr(I,xe,ye,_e),lm(mt,at,Xe,pt,Pe),xn(Be,J,J+xe,Xe,pt,Te),ue-=xe,ye+=xe*I.c,J+=xe}r(J==G),I.C=I.Ma=G}function it(){this.ub=this.yd=this.td=this.Rb=0}function tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ut(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function _t(){this.Yb=function(){var I=[];return function G(J,ue,ye){for(var _e=ye[ue],xe=0;xe<_e&&(J.push(ye.length>ue+1?[]:0),!(ye.length<ue+1));xe++)G(J[xe],ue+1,ye)}(I,0,[3,11]),I}()}function Pt(){this.jb=s(3),this.Wc=A([4,8],_t),this.Xc=A([4,17],_t)}function Bt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ht(){this.ld=this.La=this.dd=this.tc=0}function Kt(){this.Na=this.la=0}function lr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wr(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ht),this.Y=0,this.ya=Array(new wr),this.aa=0,this.l=new Xt}function Gr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function _r(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new it,this.Kc=new tt,this.ed=new Bt,this.Qa=new Ut,this.Ic=this.$c=this.Aa=0,this.D=new Fr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,te),this.ia=0,this.pb=a(4,lr),this.Pa=new Pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gr),this.Hd=0,this.rb=Array(new Kt),this.sb=0,this.wa=Array(new Ht),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wr),this.L=this.aa=0,this.gd=A([4,2],Ht),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Cs(){var I=new _r;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,vA||(vA=Fi)),I}function er(I,G,J){return I.a==0&&(I.a=G,I.sc=J,I.cb=0),0}function Ln(I,G,J){return 3<=J&&I[G+0]==157&&I[G+1]==1&&I[G+2]==42}function Gi(I,G){if(I==null)return 0;if(I.a=0,I.sc="OK",G==null)return er(I,2,"null VP8Io passed to VP8GetHeaders()");var J=G.data,ue=G.w,ye=G.ha;if(4>ye)return er(I,7,"Truncated header.");var _e=J[ue+0]|J[ue+1]<<8|J[ue+2]<<16,xe=I.Od;if(xe.Rb=!(1&_e),xe.td=_e>>1&7,xe.yd=_e>>4&1,xe.ub=_e>>5,3<xe.td)return er(I,3,"Incorrect keyframe parameters.");if(!xe.yd)return er(I,4,"Frame not displayable.");ue+=3,ye-=3;var Be=I.Kc;if(xe.Rb){if(7>ye)return er(I,7,"cannot parse picture header");if(!Ln(J,ue,ye))return er(I,3,"Bad code word");Be.c=16383&(J[ue+4]<<8|J[ue+3]),Be.Td=J[ue+4]>>6,Be.i=16383&(J[ue+6]<<8|J[ue+5]),Be.Ud=J[ue+6]>>6,ue+=7,ye-=7,I.za=Be.c+15>>4,I.Ub=Be.i+15>>4,G.width=Be.c,G.height=Be.i,G.Da=0,G.j=0,G.v=0,G.va=G.width,G.o=G.height,G.da=0,G.ib=G.width,G.hb=G.height,G.U=G.width,G.T=G.height,o((_e=I.Pa).jb,0,255,_e.jb.length),r((_e=I.Qa)!=null),_e.Cb=0,_e.Bb=0,_e.Fb=1,o(_e.Zb,0,0,_e.Zb.length),o(_e.Lb,0,0,_e.Lb)}if(xe.ub>ye)return er(I,7,"bad partition length");O(_e=I.m,J,ue,xe.ub),ue+=xe.ub,ye-=xe.ub,xe.Rb&&(Be.Ld=se(_e),Be.Kd=se(_e)),Be=I.Qa;var Te,Pe=I.Pa;if(r(_e!=null),r(Be!=null),Be.Cb=se(_e),Be.Cb){if(Be.Bb=se(_e),se(_e)){for(Be.Fb=se(_e),Te=0;4>Te;++Te)Be.Zb[Te]=se(_e)?z(_e,7):0;for(Te=0;4>Te;++Te)Be.Lb[Te]=se(_e)?z(_e,6):0}if(Be.Bb)for(Te=0;3>Te;++Te)Pe.jb[Te]=se(_e)?Q(_e,8):255}else Be.Bb=0;if(_e.Ka)return er(I,3,"cannot parse segment header");if((Be=I.ed).zd=se(_e),Be.Tb=Q(_e,6),Be.wb=Q(_e,3),Be.Pc=se(_e),Be.Pc&&se(_e)){for(Pe=0;4>Pe;++Pe)se(_e)&&(Be.vd[Pe]=z(_e,6));for(Pe=0;4>Pe;++Pe)se(_e)&&(Be.od[Pe]=z(_e,6))}if(I.L=Be.Tb==0?0:Be.zd?1:2,_e.Ka)return er(I,3,"cannot parse filter header");var Xe=ye;if(ye=Te=ue,ue=Te+Xe,Be=Xe,I.Xb=(1<<Q(I.m,2))-1,Xe<3*(Pe=I.Xb))J=7;else{for(Te+=3*Pe,Be-=3*Pe,Xe=0;Xe<Pe;++Xe){var pt=J[ye+0]|J[ye+1]<<8|J[ye+2]<<16;pt>Be&&(pt=Be),O(I.Jc[+Xe],J,Te,pt),Te+=pt,Be-=pt,ye+=3}O(I.Jc[+Pe],J,Te,Be),J=Te<ue?0:5}if(J!=0)return er(I,J,"cannot parse partitions");for(J=Q(Te=I.m,7),ye=se(Te)?z(Te,4):0,ue=se(Te)?z(Te,4):0,Be=se(Te)?z(Te,4):0,Pe=se(Te)?z(Te,4):0,Te=se(Te)?z(Te,4):0,Xe=I.Qa,pt=0;4>pt;++pt){if(Xe.Cb){var mt=Xe.Zb[pt];Xe.Fb||(mt+=J)}else{if(0<pt){I.pb[pt]=I.pb[0];continue}mt=J}var at=I.pb[pt];at.Sc[0]=nd[ae(mt+ye,127)],at.Sc[1]=id[ae(mt+0,127)],at.Eb[0]=2*nd[ae(mt+ue,127)],at.Eb[1]=101581*id[ae(mt+Be,127)]>>16,8>at.Eb[1]&&(at.Eb[1]=8),at.Qc[0]=nd[ae(mt+Pe,117)],at.Qc[1]=id[ae(mt+Te,127)],at.lc=mt+Te}if(!xe.Rb)return er(I,4,"Not a key frame.");for(se(_e),xe=I.Pa,J=0;4>J;++J){for(ye=0;8>ye;++ye)for(ue=0;3>ue;++ue)for(Be=0;11>Be;++Be)Pe=fe(_e,Lb[J][ye][ue][Be])?Q(_e,8):Mb[J][ye][ue][Be],xe.Wc[J][ye].Yb[ue][Be]=Pe;for(ye=0;17>ye;++ye)xe.Xc[J][ye]=xe.Wc[J][Fb[ye]]}return I.kc=se(_e),I.kc&&(I.Bd=Q(_e,8)),I.cb=1}function Fi(I,G,J,ue,ye,_e,xe){var Be=G[ye].Yb[J];for(J=0;16>ye;++ye){if(!fe(I,Be[J+0]))return ye;for(;!fe(I,Be[J+1]);)if(Be=G[++ye].Yb[0],J=0,ye==16)return 16;var Te=G[ye+1].Yb;if(fe(I,Be[J+2])){var Pe=I,Xe=0;if(fe(Pe,(mt=Be)[(pt=J)+3]))if(fe(Pe,mt[pt+6])){for(Be=0,pt=2*(Xe=fe(Pe,mt[pt+8]))+(mt=fe(Pe,mt[pt+9+Xe])),Xe=0,mt=Eb[pt];mt[Be];++Be)Xe+=Xe+fe(Pe,mt[Be]);Xe+=3+(8<<pt)}else fe(Pe,mt[pt+7])?(Xe=7+2*fe(Pe,165),Xe+=fe(Pe,145)):Xe=5+fe(Pe,159);else Xe=fe(Pe,mt[pt+4])?3+fe(Pe,mt[pt+5]):2;Be=Te[2]}else Xe=1,Be=Te[1];Te=xe+Cb[ye],0>(Pe=I).b&&Z(Pe);var pt,mt=Pe.b,at=(pt=Pe.Ca>>1)-(Pe.I>>mt)>>31;--Pe.b,Pe.Ca+=at,Pe.Ca|=1,Pe.I-=(pt+1&at)<<mt,_e[Te]=((Xe^at)-at)*ue[(0<ye)+0]}return 16}function Vi(I){var G=I.rb[I.sb-1];G.la=0,G.Na=0,o(I.zc,0,0,I.zc.length),I.ja=0}function un(I,G){if(I==null)return 0;if(G==null)return er(I,2,"NULL VP8Io parameter in VP8Decode().");if(!I.cb&&!Gi(I,G))return 0;if(r(I.cb),G.ac==null||G.ac(G)){G.ob&&(I.L=0);var J=Lc[I.L];if(I.L==2?(I.yb=0,I.zb=0):(I.yb=G.v-J>>4,I.zb=G.j-J>>4,0>I.yb&&(I.yb=0),0>I.zb&&(I.zb=0)),I.Va=G.o+15+J>>4,I.Hb=G.va+15+J>>4,I.Hb>I.za&&(I.Hb=I.za),I.Va>I.Ub&&(I.Va=I.Ub),0<I.L){var ue=I.ed;for(J=0;4>J;++J){var ye;if(I.Qa.Cb){var _e=I.Qa.Lb[J];I.Qa.Fb||(_e+=ue.Tb)}else _e=ue.Tb;for(ye=0;1>=ye;++ye){var xe=I.gd[J][ye],Be=_e;if(ue.Pc&&(Be+=ue.vd[0],ye&&(Be+=ue.od[0])),0<(Be=0>Be?0:63<Be?63:Be)){var Te=Be;0<ue.wb&&(Te=4<ue.wb?Te>>2:Te>>1)>9-ue.wb&&(Te=9-ue.wb),1>Te&&(Te=1),xe.dd=Te,xe.tc=2*Be+Te,xe.ld=40<=Be?2:15<=Be?1:0}else xe.tc=0;xe.La=ye}}}J=0}else er(I,6,"Frame setup failed"),J=I.a;if(J=J==0){if(J){I.$c=0,0<I.Aa||(I.Ic=Vb);e:{J=I.Ic,ue=4*(Te=I.za);var Pe=32*Te,Xe=Te+1,pt=0<I.L?Te*(0<I.Aa?2:1):0,mt=(I.Aa==2?2:1)*Te;if((xe=ue+832+(ye=3*(16*J+Lc[I.L])/2*Pe)+(_e=I.Fa!=null&&0<I.Fa.length?I.Kc.c*I.Kc.i:0))!=xe)J=0;else{if(xe>I.Vb){if(I.Vb=0,I.Ec=s(xe),I.Fc=0,I.Ec==null){J=er(I,1,"no memory during frame initialization.");break e}I.Vb=xe}xe=I.Ec,Be=I.Fc,I.Ac=xe,I.Bc=Be,Be+=ue,I.Gd=a(Pe,Gr),I.Hd=0,I.rb=a(Xe+1,Kt),I.sb=1,I.wa=pt?a(pt,Ht):null,I.Y=0,I.D.Nb=0,I.D.wa=I.wa,I.D.Y=I.Y,0<I.Aa&&(I.D.Y+=Te),r(!0),I.oc=xe,I.pc=Be,Be+=832,I.ya=a(mt,wr),I.aa=0,I.D.ya=I.ya,I.D.aa=I.aa,I.Aa==2&&(I.D.aa+=Te),I.R=16*Te,I.B=8*Te,Te=(Pe=Lc[I.L])*I.R,Pe=Pe/2*I.B,I.sa=xe,I.ta=Be+Te,I.qa=I.sa,I.ra=I.ta+16*J*I.R+Pe,I.Ha=I.qa,I.Ia=I.ra+8*J*I.B+Pe,I.$c=0,Be+=ye,I.mb=_e?xe:null,I.nb=_e?Be:null,r(Be+_e<=I.Fc+I.Vb),Vi(I),o(I.Ac,I.Bc,0,ue),J=1}}if(J){if(G.ka=0,G.y=I.sa,G.O=I.ta,G.f=I.qa,G.N=I.ra,G.ea=I.Ha,G.Vd=I.Ia,G.fa=I.R,G.Rc=I.B,G.F=null,G.J=0,!dm){for(J=-255;255>=J;++J)Am[255+J]=0>J?-J:J;for(J=-1020;1020>=J;++J)cm[1020+J]=-128>J?-128:127<J?127:J;for(J=-112;112>=J;++J)um[112+J]=-16>J?-16:15<J?15:J;for(J=-255;510>=J;++J)hm[255+J]=0>J?0:255<J?255:J;dm=1}Nr=To,Pr=Ms,Si=fa,Qn=$a,Yi=qs,ln=Mo,_a=Uo,Al=Us,xa=ll,Po=eo,yA=al,Ji=$s,no=Is,Zr=Io,$r=ba,gn=ji,Fn=cs,io=ol,hs[0]=Ki,hs[1]=el,hs[2]=nl,hs[3]=mA,hs[4]=il,hs[5]=Xs,hs[6]=sl,hs[7]=ei,hs[8]=Ys,hs[9]=Ii,Ro[0]=pa,Ro[1]=Ts,Ro[2]=Wi,Ro[3]=Lo,Ro[4]=kn,Ro[5]=rl,Ro[6]=ma,so[0]=Fs,so[1]=tl,so[2]=Js,so[3]=ci,so[4]=Xi,so[5]=qi,so[6]=Fo,J=1}else J=0}J&&(J=function(at,Mt){for(at.M=0;at.M<at.Va;++at.M){var wt,Ye=at.Jc[at.M&at.Xb],rt=at.m,Et=at;for(wt=0;wt<Et.za;++wt){var Lt=rt,Ct=Et,Gt=Ct.Ac,Rt=Ct.Bc+4*wt,sr=Ct.zc,Nt=Ct.ya[Ct.aa+wt];if(Ct.Qa.Bb?Nt.$b=fe(Lt,Ct.Pa.jb[0])?2+fe(Lt,Ct.Pa.jb[2]):fe(Lt,Ct.Pa.jb[1]):Nt.$b=0,Ct.kc&&(Nt.Ad=fe(Lt,Ct.Bd)),Nt.Za=!fe(Lt,145)+0,Nt.Za){var jr=Nt.Ob,kr=0;for(Ct=0;4>Ct;++Ct){var Ir,Er=sr[0+Ct];for(Ir=0;4>Ir;++Ir){Er=Tb[Gt[Rt+Ir]][Er];for(var qr=gm[fe(Lt,Er[0])];0<qr;)qr=gm[2*qr+fe(Lt,Er[qr])];Er=-qr,Gt[Rt+Ir]=Er}t(jr,kr,Gt,Rt,4),kr+=4,sr[0+Ct]=Er}}else Er=fe(Lt,156)?fe(Lt,128)?1:3:fe(Lt,163)?2:0,Nt.Ob[0]=Er,o(Gt,Rt,Er,4),o(sr,0,Er,4);Nt.Dd=fe(Lt,142)?fe(Lt,114)?fe(Lt,183)?1:3:2:0}if(Et.m.Ka)return er(at,7,"Premature end-of-partition0 encountered.");for(;at.ja<at.za;++at.ja){if(Et=Ye,Lt=(rt=at).rb[rt.sb-1],Gt=rt.rb[rt.sb+rt.ja],wt=rt.ya[rt.aa+rt.ja],Rt=rt.kc?wt.Ad:0)Lt.la=Gt.la=0,wt.Za||(Lt.Na=Gt.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var zr,pr;if(Lt=Gt,Gt=Et,Rt=rt.Pa.Xc,sr=rt.ya[rt.aa+rt.ja],Nt=rt.pb[sr.$b],Ct=sr.ad,jr=0,kr=rt.rb[rt.sb-1],Er=Ir=0,o(Ct,jr,0,384),sr.Za)var Bn=0,Bi=Rt[3];else{qr=s(16);var En=Lt.Na+kr.Na;if(En=vA(Gt,Rt[1],En,Nt.Eb,0,qr,0),Lt.Na=kr.Na=(0<En)+0,1<En)Nr(qr,0,Ct,jr);else{var Ei=qr[0]+3>>3;for(qr=0;256>qr;qr+=16)Ct[jr+qr]=Ei}Bn=1,Bi=Rt[0]}var Qr=15&Lt.la,Di=15&kr.la;for(qr=0;4>qr;++qr){var Oi=1&Di;for(Ei=pr=0;4>Ei;++Ei)Qr=Qr>>1|(Oi=(En=vA(Gt,Bi,En=Oi+(1&Qr),Nt.Sc,Bn,Ct,jr))>Bn)<<7,pr=pr<<2|(3<En?3:1<En?2:Ct[jr+0]!=0),jr+=16;Qr>>=4,Di=Di>>1|Oi<<7,Ir=(Ir<<8|pr)>>>0}for(Bi=Qr,Bn=Di>>4,zr=0;4>zr;zr+=2){for(pr=0,Qr=Lt.la>>4+zr,Di=kr.la>>4+zr,qr=0;2>qr;++qr){for(Oi=1&Di,Ei=0;2>Ei;++Ei)En=Oi+(1&Qr),Qr=Qr>>1|(Oi=0<(En=vA(Gt,Rt[2],En,Nt.Qc,0,Ct,jr)))<<3,pr=pr<<2|(3<En?3:1<En?2:Ct[jr+0]!=0),jr+=16;Qr>>=2,Di=Di>>1|Oi<<5}Er|=pr<<4*zr,Bi|=Qr<<4<<zr,Bn|=(240&Di)<<zr}Lt.la=Bi,kr.la=Bn,sr.Hc=Ir,sr.Gc=Er,sr.ia=43690&Er?0:Nt.ia,Rt=!(Ir|Er)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[wt.$b][wt.Za],rt.wa[rt.Y+rt.ja].La|=!Rt),Et.Ka)return er(at,7,"Premature end-of-file encountered.")}if(Vi(at),rt=Mt,Et=1,wt=(Ye=at).D,Lt=0<Ye.L&&Ye.M>=Ye.zb&&Ye.M<=Ye.Va,Ye.Aa==0)e:{if(wt.M=Ye.M,wt.uc=Lt,Ve(Ye,wt),Et=1,wt=(pr=Ye.D).Nb,Lt=(Er=Lc[Ye.L])*Ye.R,Gt=Er/2*Ye.B,qr=16*wt*Ye.R,Ei=8*wt*Ye.B,Rt=Ye.sa,sr=Ye.ta-Lt+qr,Nt=Ye.qa,Ct=Ye.ra-Gt+Ei,jr=Ye.Ha,kr=Ye.Ia-Gt+Ei,Di=(Qr=pr.M)==0,Ir=Qr>=Ye.Va-1,Ye.Aa==2&&Ve(Ye,pr),pr.uc)for(Oi=(En=Ye).D.M,r(En.D.uc),pr=En.yb;pr<En.Hb;++pr){Bn=pr,Bi=Oi;var Hn=(Xn=(pn=En).D).Nb;zr=pn.R;var Xn=Xn.wa[Xn.Y+Bn],ui=pn.sa,es=pn.ta+16*Hn*zr+16*Bn,js=Xn.dd,Gn=Xn.tc;if(Gn!=0)if(r(3<=Gn),pn.L==1)0<Bn&&gn(ui,es,zr,Gn+4),Xn.La&&io(ui,es,zr,Gn),0<Bi&&$r(ui,es,zr,Gn+4),Xn.La&&Fn(ui,es,zr,Gn);else{var oo=pn.B,Sa=pn.qa,ul=pn.ra+8*Hn*oo+8*Bn,Oo=pn.Ha,pn=pn.Ia+8*Hn*oo+8*Bn;Hn=Xn.ld,0<Bn&&(Al(ui,es,zr,Gn+4,js,Hn),Po(Sa,ul,Oo,pn,oo,Gn+4,js,Hn)),Xn.La&&(Ji(ui,es,zr,Gn,js,Hn),Zr(Sa,ul,Oo,pn,oo,Gn,js,Hn)),0<Bi&&(_a(ui,es,zr,Gn+4,js,Hn),xa(Sa,ul,Oo,pn,oo,Gn+4,js,Hn)),Xn.La&&(yA(ui,es,zr,Gn,js,Hn),no(Sa,ul,Oo,pn,oo,Gn,js,Hn))}}if(Ye.ia&&alert("todo:DitherRow"),rt.put!=null){if(pr=16*Qr,Qr=16*(Qr+1),Di?(rt.y=Ye.sa,rt.O=Ye.ta+qr,rt.f=Ye.qa,rt.N=Ye.ra+Ei,rt.ea=Ye.Ha,rt.W=Ye.Ia+Ei):(pr-=Er,rt.y=Rt,rt.O=sr,rt.f=Nt,rt.N=Ct,rt.ea=jr,rt.W=kr),Ir||(Qr-=Er),Qr>rt.o&&(Qr=rt.o),rt.F=null,rt.J=null,Ye.Fa!=null&&0<Ye.Fa.length&&pr<Qr&&(rt.J=Ur(Ye,rt,pr,Qr-pr),rt.F=Ye.mb,rt.F==null&&rt.F.length==0)){Et=er(Ye,3,"Could not decode alpha data.");break e}pr<rt.j&&(Er=rt.j-pr,pr=rt.j,r(!(1&Er)),rt.O+=Ye.R*Er,rt.N+=Ye.B*(Er>>1),rt.W+=Ye.B*(Er>>1),rt.F!=null&&(rt.J+=rt.width*Er)),pr<Qr&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=pr-rt.j,rt.U=rt.va-rt.v,rt.T=Qr-pr,Et=rt.put(rt))}wt+1!=Ye.Ic||Ir||(t(Ye.sa,Ye.ta-Lt,Rt,sr+16*Ye.R,Lt),t(Ye.qa,Ye.ra-Gt,Nt,Ct+8*Ye.B,Gt),t(Ye.Ha,Ye.Ia-Gt,jr,kr+8*Ye.B,Gt))}if(!Et)return er(at,6,"Output aborted.")}return 1}(I,G)),G.bc!=null&&G.bc(G),J&=1}return J?(I.cb=0,J):0}function hn(I,G,J,ue,ye){ye=I[G+J+32*ue]+(ye>>3),I[G+J+32*ue]=-256&ye?0>ye?0:255:ye}function Ui(I,G,J,ue,ye,_e){hn(I,G,0,J,ue+ye),hn(I,G,1,J,ue+_e),hn(I,G,2,J,ue-_e),hn(I,G,3,J,ue-ye)}function Rr(I){return(20091*I>>16)+I}function zi(I,G,J,ue){var ye,_e=0,xe=s(16);for(ye=0;4>ye;++ye){var Be=I[G+0]+I[G+8],Te=I[G+0]-I[G+8],Pe=(35468*I[G+4]>>16)-Rr(I[G+12]),Xe=Rr(I[G+4])+(35468*I[G+12]>>16);xe[_e+0]=Be+Xe,xe[_e+1]=Te+Pe,xe[_e+2]=Te-Pe,xe[_e+3]=Be-Xe,_e+=4,G++}for(ye=_e=0;4>ye;++ye)Be=(I=xe[_e+0]+4)+xe[_e+8],Te=I-xe[_e+8],Pe=(35468*xe[_e+4]>>16)-Rr(xe[_e+12]),hn(J,ue,0,0,Be+(Xe=Rr(xe[_e+4])+(35468*xe[_e+12]>>16))),hn(J,ue,1,0,Te+Pe),hn(J,ue,2,0,Te-Pe),hn(J,ue,3,0,Be-Xe),_e++,ue+=32}function Mo(I,G,J,ue){var ye=I[G+0]+4,_e=35468*I[G+4]>>16,xe=Rr(I[G+4]),Be=35468*I[G+1]>>16;Ui(J,ue,0,ye+xe,I=Rr(I[G+1]),Be),Ui(J,ue,1,ye+_e,I,Be),Ui(J,ue,2,ye-_e,I,Be),Ui(J,ue,3,ye-xe,I,Be)}function Ms(I,G,J,ue,ye){zi(I,G,J,ue),ye&&zi(I,G+16,J,ue+4)}function fa(I,G,J,ue){Pr(I,G+0,J,ue,1),Pr(I,G+32,J,ue+128,1)}function $a(I,G,J,ue){var ye;for(I=I[G+0]+4,ye=0;4>ye;++ye)for(G=0;4>G;++G)hn(J,ue,G,ye,I)}function qs(I,G,J,ue){I[G+0]&&Qn(I,G+0,J,ue),I[G+16]&&Qn(I,G+16,J,ue+4),I[G+32]&&Qn(I,G+32,J,ue+128),I[G+48]&&Qn(I,G+48,J,ue+128+4)}function To(I,G,J,ue){var ye,_e=s(16);for(ye=0;4>ye;++ye){var xe=I[G+0+ye]+I[G+12+ye],Be=I[G+4+ye]+I[G+8+ye],Te=I[G+4+ye]-I[G+8+ye],Pe=I[G+0+ye]-I[G+12+ye];_e[0+ye]=xe+Be,_e[8+ye]=xe-Be,_e[4+ye]=Pe+Te,_e[12+ye]=Pe-Te}for(ye=0;4>ye;++ye)xe=(I=_e[0+4*ye]+3)+_e[3+4*ye],Be=_e[1+4*ye]+_e[2+4*ye],Te=_e[1+4*ye]-_e[2+4*ye],Pe=I-_e[3+4*ye],J[ue+0]=xe+Be>>3,J[ue+16]=Pe+Te>>3,J[ue+32]=xe-Be>>3,J[ue+48]=Pe-Te>>3,ue+=64}function $n(I,G,J){var ue,ye=G-32,_e=Ri,xe=255-I[ye-1];for(ue=0;ue<J;++ue){var Be,Te=_e,Pe=xe+I[G-1];for(Be=0;Be<J;++Be)I[G+Be]=Te[Pe+I[ye+Be]];G+=32}}function el(I,G){$n(I,G,4)}function tl(I,G){$n(I,G,8)}function Ts(I,G){$n(I,G,16)}function Wi(I,G){var J;for(J=0;16>J;++J)t(I,G+32*J,I,G-32,16)}function Lo(I,G){var J;for(J=16;0<J;--J)o(I,G,I[G-1],16),G+=32}function Ls(I,G,J){var ue;for(ue=0;16>ue;++ue)o(G,J+32*ue,I,16)}function pa(I,G){var J,ue=16;for(J=0;16>J;++J)ue+=I[G-1+32*J]+I[G+J-32];Ls(ue>>5,I,G)}function kn(I,G){var J,ue=8;for(J=0;16>J;++J)ue+=I[G-1+32*J];Ls(ue>>4,I,G)}function rl(I,G){var J,ue=8;for(J=0;16>J;++J)ue+=I[G+J-32];Ls(ue>>4,I,G)}function ma(I,G){Ls(128,I,G)}function cr(I,G,J){return I+2*G+J+2>>2}function nl(I,G){var J,ue=G-32;for(ue=new Uint8Array([cr(I[ue-1],I[ue+0],I[ue+1]),cr(I[ue+0],I[ue+1],I[ue+2]),cr(I[ue+1],I[ue+2],I[ue+3]),cr(I[ue+2],I[ue+3],I[ue+4])]),J=0;4>J;++J)t(I,G+32*J,ue,0,ue.length)}function mA(I,G){var J=I[G-1],ue=I[G-1+32],ye=I[G-1+64],_e=I[G-1+96];be(I,G+0,16843009*cr(I[G-1-32],J,ue)),be(I,G+32,16843009*cr(J,ue,ye)),be(I,G+64,16843009*cr(ue,ye,_e)),be(I,G+96,16843009*cr(ye,_e,_e))}function Ki(I,G){var J,ue=4;for(J=0;4>J;++J)ue+=I[G+J-32]+I[G-1+32*J];for(ue>>=3,J=0;4>J;++J)o(I,G+32*J,ue,4)}function il(I,G){var J=I[G-1+0],ue=I[G-1+32],ye=I[G-1+64],_e=I[G-1-32],xe=I[G+0-32],Be=I[G+1-32],Te=I[G+2-32],Pe=I[G+3-32];I[G+0+96]=cr(ue,ye,I[G-1+96]),I[G+1+96]=I[G+0+64]=cr(J,ue,ye),I[G+2+96]=I[G+1+64]=I[G+0+32]=cr(_e,J,ue),I[G+3+96]=I[G+2+64]=I[G+1+32]=I[G+0+0]=cr(xe,_e,J),I[G+3+64]=I[G+2+32]=I[G+1+0]=cr(Be,xe,_e),I[G+3+32]=I[G+2+0]=cr(Te,Be,xe),I[G+3+0]=cr(Pe,Te,Be)}function sl(I,G){var J=I[G+1-32],ue=I[G+2-32],ye=I[G+3-32],_e=I[G+4-32],xe=I[G+5-32],Be=I[G+6-32],Te=I[G+7-32];I[G+0+0]=cr(I[G+0-32],J,ue),I[G+1+0]=I[G+0+32]=cr(J,ue,ye),I[G+2+0]=I[G+1+32]=I[G+0+64]=cr(ue,ye,_e),I[G+3+0]=I[G+2+32]=I[G+1+64]=I[G+0+96]=cr(ye,_e,xe),I[G+3+32]=I[G+2+64]=I[G+1+96]=cr(_e,xe,Be),I[G+3+64]=I[G+2+96]=cr(xe,Be,Te),I[G+3+96]=cr(Be,Te,Te)}function Xs(I,G){var J=I[G-1+0],ue=I[G-1+32],ye=I[G-1+64],_e=I[G-1-32],xe=I[G+0-32],Be=I[G+1-32],Te=I[G+2-32],Pe=I[G+3-32];I[G+0+0]=I[G+1+64]=_e+xe+1>>1,I[G+1+0]=I[G+2+64]=xe+Be+1>>1,I[G+2+0]=I[G+3+64]=Be+Te+1>>1,I[G+3+0]=Te+Pe+1>>1,I[G+0+96]=cr(ye,ue,J),I[G+0+64]=cr(ue,J,_e),I[G+0+32]=I[G+1+96]=cr(J,_e,xe),I[G+1+32]=I[G+2+96]=cr(_e,xe,Be),I[G+2+32]=I[G+3+96]=cr(xe,Be,Te),I[G+3+32]=cr(Be,Te,Pe)}function ei(I,G){var J=I[G+0-32],ue=I[G+1-32],ye=I[G+2-32],_e=I[G+3-32],xe=I[G+4-32],Be=I[G+5-32],Te=I[G+6-32],Pe=I[G+7-32];I[G+0+0]=J+ue+1>>1,I[G+1+0]=I[G+0+64]=ue+ye+1>>1,I[G+2+0]=I[G+1+64]=ye+_e+1>>1,I[G+3+0]=I[G+2+64]=_e+xe+1>>1,I[G+0+32]=cr(J,ue,ye),I[G+1+32]=I[G+0+96]=cr(ue,ye,_e),I[G+2+32]=I[G+1+96]=cr(ye,_e,xe),I[G+3+32]=I[G+2+96]=cr(_e,xe,Be),I[G+3+64]=cr(xe,Be,Te),I[G+3+96]=cr(Be,Te,Pe)}function Ii(I,G){var J=I[G-1+0],ue=I[G-1+32],ye=I[G-1+64],_e=I[G-1+96];I[G+0+0]=J+ue+1>>1,I[G+2+0]=I[G+0+32]=ue+ye+1>>1,I[G+2+32]=I[G+0+64]=ye+_e+1>>1,I[G+1+0]=cr(J,ue,ye),I[G+3+0]=I[G+1+32]=cr(ue,ye,_e),I[G+3+32]=I[G+1+64]=cr(ye,_e,_e),I[G+3+64]=I[G+2+64]=I[G+0+96]=I[G+1+96]=I[G+2+96]=I[G+3+96]=_e}function Ys(I,G){var J=I[G-1+0],ue=I[G-1+32],ye=I[G-1+64],_e=I[G-1+96],xe=I[G-1-32],Be=I[G+0-32],Te=I[G+1-32],Pe=I[G+2-32];I[G+0+0]=I[G+2+32]=J+xe+1>>1,I[G+0+32]=I[G+2+64]=ue+J+1>>1,I[G+0+64]=I[G+2+96]=ye+ue+1>>1,I[G+0+96]=_e+ye+1>>1,I[G+3+0]=cr(Be,Te,Pe),I[G+2+0]=cr(xe,Be,Te),I[G+1+0]=I[G+3+32]=cr(J,xe,Be),I[G+1+32]=I[G+3+64]=cr(ue,J,xe),I[G+1+64]=I[G+3+96]=cr(ye,ue,J),I[G+1+96]=cr(_e,ye,ue)}function Js(I,G){var J;for(J=0;8>J;++J)t(I,G+32*J,I,G-32,8)}function ci(I,G){var J;for(J=0;8>J;++J)o(I,G,I[G-1],8),G+=32}function Pi(I,G,J){var ue;for(ue=0;8>ue;++ue)o(G,J+32*ue,I,8)}function Fs(I,G){var J,ue=8;for(J=0;8>J;++J)ue+=I[G+J-32]+I[G-1+32*J];Pi(ue>>4,I,G)}function qi(I,G){var J,ue=4;for(J=0;8>J;++J)ue+=I[G+J-32];Pi(ue>>3,I,G)}function Xi(I,G){var J,ue=4;for(J=0;8>J;++J)ue+=I[G-1+32*J];Pi(ue>>3,I,G)}function Fo(I,G){Pi(128,I,G)}function Zs(I,G,J){var ue=I[G-J],ye=I[G+0],_e=3*(ye-ue)+Zh[1020+I[G-2*J]-I[G+J]],xe=_c[112+(_e+4>>3)];I[G-J]=Ri[255+ue+_c[112+(_e+3>>3)]],I[G+0]=Ri[255+ye-xe]}function ga(I,G,J,ue){var ye=I[G+0],_e=I[G+J];return Zi[255+I[G-2*J]-I[G-J]]>ue||Zi[255+_e-ye]>ue}function ya(I,G,J,ue){return 4*Zi[255+I[G-J]-I[G+0]]+Zi[255+I[G-2*J]-I[G+J]]<=ue}function va(I,G,J,ue,ye){var _e=I[G-3*J],xe=I[G-2*J],Be=I[G-J],Te=I[G+0],Pe=I[G+J],Xe=I[G+2*J],pt=I[G+3*J];return 4*Zi[255+Be-Te]+Zi[255+xe-Pe]>ue?0:Zi[255+I[G-4*J]-_e]<=ye&&Zi[255+_e-xe]<=ye&&Zi[255+xe-Be]<=ye&&Zi[255+pt-Xe]<=ye&&Zi[255+Xe-Pe]<=ye&&Zi[255+Pe-Te]<=ye}function ba(I,G,J,ue){var ye=2*ue+1;for(ue=0;16>ue;++ue)ya(I,G+ue,J,ye)&&Zs(I,G+ue,J)}function ji(I,G,J,ue){var ye=2*ue+1;for(ue=0;16>ue;++ue)ya(I,G+ue*J,1,ye)&&Zs(I,G+ue*J,1)}function cs(I,G,J,ue){var ye;for(ye=3;0<ye;--ye)ba(I,G+=4*J,J,ue)}function ol(I,G,J,ue){var ye;for(ye=3;0<ye;--ye)ji(I,G+=4,J,ue)}function us(I,G,J,ue,ye,_e,xe,Be){for(_e=2*_e+1;0<ye--;){if(va(I,G,J,_e,xe))if(ga(I,G,J,Be))Zs(I,G,J);else{var Te=I,Pe=G,Xe=J,pt=Te[Pe-2*Xe],mt=Te[Pe-Xe],at=Te[Pe+0],Mt=Te[Pe+Xe],wt=Te[Pe+2*Xe],Ye=27*(Et=Zh[1020+3*(at-mt)+Zh[1020+pt-Mt]])+63>>7,rt=18*Et+63>>7,Et=9*Et+63>>7;Te[Pe-3*Xe]=Ri[255+Te[Pe-3*Xe]+Et],Te[Pe-2*Xe]=Ri[255+pt+rt],Te[Pe-Xe]=Ri[255+mt+Ye],Te[Pe+0]=Ri[255+at-Ye],Te[Pe+Xe]=Ri[255+Mt-rt],Te[Pe+2*Xe]=Ri[255+wt-Et]}G+=ue}}function bi(I,G,J,ue,ye,_e,xe,Be){for(_e=2*_e+1;0<ye--;){if(va(I,G,J,_e,xe))if(ga(I,G,J,Be))Zs(I,G,J);else{var Te=I,Pe=G,Xe=J,pt=Te[Pe-Xe],mt=Te[Pe+0],at=Te[Pe+Xe],Mt=_c[112+((wt=3*(mt-pt))+4>>3)],wt=_c[112+(wt+3>>3)],Ye=Mt+1>>1;Te[Pe-2*Xe]=Ri[255+Te[Pe-2*Xe]+Ye],Te[Pe-Xe]=Ri[255+pt+wt],Te[Pe+0]=Ri[255+mt-Mt],Te[Pe+Xe]=Ri[255+at-Ye]}G+=ue}}function Uo(I,G,J,ue,ye,_e){us(I,G,J,1,16,ue,ye,_e)}function Us(I,G,J,ue,ye,_e){us(I,G,1,J,16,ue,ye,_e)}function al(I,G,J,ue,ye,_e){var xe;for(xe=3;0<xe;--xe)bi(I,G+=4*J,J,1,16,ue,ye,_e)}function $s(I,G,J,ue,ye,_e){var xe;for(xe=3;0<xe;--xe)bi(I,G+=4,1,J,16,ue,ye,_e)}function ll(I,G,J,ue,ye,_e,xe,Be){us(I,G,ye,1,8,_e,xe,Be),us(J,ue,ye,1,8,_e,xe,Be)}function eo(I,G,J,ue,ye,_e,xe,Be){us(I,G,1,ye,8,_e,xe,Be),us(J,ue,1,ye,8,_e,xe,Be)}function Is(I,G,J,ue,ye,_e,xe,Be){bi(I,G+4*ye,ye,1,8,_e,xe,Be),bi(J,ue+4*ye,ye,1,8,_e,xe,Be)}function Io(I,G,J,ue,ye,_e,xe,Be){bi(I,G+4,1,ye,8,_e,xe,Be),bi(J,ue+4,1,ye,8,_e,xe,Be)}function to(){this.ba=new Ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _i(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vt(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new j,this.yc=new P}function gA(){this.xb=this.a=0,this.l=new Xt,this.ca=new Ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vt,this.ab=0,this.gc=a(4,_i),this.Oc=0}function ro(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xi(I,G,J,ue,ye,_e,xe){for(I=I==null?0:I[G+0],G=0;G<xe;++G)ye[_e+G]=I+J[ue+G]&255,I=ye[_e+G]}function wa(I,G,J,ue,ye,_e,xe){var Be;if(I==null)xi(null,null,J,ue,ye,_e,xe);else for(Be=0;Be<xe;++Be)ye[_e+Be]=I[G+Be]+J[ue+Be]&255}function Ps(I,G,J,ue,ye,_e,xe){if(I==null)xi(null,null,J,ue,ye,_e,xe);else{var Be,Te=I[G+0],Pe=Te,Xe=Te;for(Be=0;Be<xe;++Be)Pe=Xe+(Te=I[G+Be])-Pe,Xe=J[ue+Be]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=Te,ye[_e+Be]=Xe}}function Ur(I,G,J,ue){var ye=G.width,_e=G.o;if(r(I!=null&&G!=null),0>J||0>=ue||J+ue>_e)return null;if(!I.Cc){if(I.ga==null){var xe;if(I.ga=new ro,(xe=I.ga==null)||(xe=G.width*G.o,r(I.Gb.length==0),I.Gb=s(xe),I.Uc=0,I.Gb==null?xe=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,xe=1),xe=!xe),!xe){xe=I.ga;var Be=I.Fa,Te=I.P,Pe=I.qc,Xe=I.mb,pt=I.nb,mt=Te+1,at=Pe-1,Mt=xe.l;if(r(Be!=null&&Xe!=null&&G!=null),Do[0]=null,Do[1]=xi,Do[2]=wa,Do[3]=Ps,xe.ca=Xe,xe.tb=pt,xe.c=G.width,xe.i=G.height,r(0<xe.c&&0<xe.i),1>=Pe)G=0;else if(xe.$a=Be[Te+0]>>0&3,xe.Z=Be[Te+0]>>2&3,xe.Lc=Be[Te+0]>>4&3,Te=Be[Te+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||Te)G=0;else if(Mt.put=ur,Mt.ac=Ot,Mt.bc=Ar,Mt.ma=xe,Mt.width=G.width,Mt.height=G.height,Mt.Da=G.Da,Mt.v=G.v,Mt.va=G.va,Mt.j=G.j,Mt.o=G.o,xe.$a)e:{r(xe.$a==1),G=le();t:for(;;){if(G==null){G=0;break e}if(r(xe!=null),xe.mc=G,G.c=xe.c,G.i=xe.i,G.l=xe.l,G.l.ma=xe,G.l.width=xe.c,G.l.height=xe.i,G.a=0,k(G.m,Be,mt,at),!De(xe.c,xe.i,1,G,null)||(G.ab==1&&G.gc[0].hc==3&&Dn(G.s)?(xe.ic=1,Be=G.c*G.i,G.Ta=null,G.Ua=0,G.V=s(Be),G.Ba=0,G.V==null?(G.a=1,G=0):G=1):(xe.ic=0,G=We(G,xe.c)),!G))break t;G=1;break e}xe.mc=null,G=0}else G=at>=xe.c*xe.i;xe=!G}if(xe)return null;I.ga.Lc!=1?I.Ga=0:ue=_e-J}r(I.ga!=null),r(J+ue<=_e);e:{if(G=(Be=I.ga).c,_e=Be.l.o,Be.$a==0){if(mt=I.rc,at=I.Vc,Mt=I.Fa,Te=I.P+1+J*G,Pe=I.mb,Xe=I.nb+J*G,r(Te<=I.P+I.qc),Be.Z!=0)for(r(Do[Be.Z]!=null),xe=0;xe<ue;++xe)Do[Be.Z](mt,at,Mt,Te,Pe,Xe,G),mt=Pe,at=Xe,Xe+=G,Te+=G;else for(xe=0;xe<ue;++xe)t(Pe,Xe,Mt,Te,G),mt=Pe,at=Xe,Xe+=G,Te+=G;I.rc=mt,I.Vc=at}else{if(r(Be.mc!=null),G=J+ue,r((xe=Be.mc)!=null),r(G<=xe.i),xe.C>=G)G=1;else if(Be.ic||ct(),Be.ic){Be=xe.V,mt=xe.Ba,at=xe.c;var wt=xe.i,Ye=(Mt=1,Te=xe.$/at,Pe=xe.$%at,Xe=xe.m,pt=xe.s,xe.$),rt=at*wt,Et=at*G,Lt=pt.wc,Ct=Ye<Et?nr(pt,Pe,Te):null;r(Ye<=rt),r(G<=wt),r(Dn(pt));t:for(;;){for(;!Xe.h&&Ye<Et;){if(Pe&Lt||(Ct=nr(pt,Pe,Te)),r(Ct!=null),q(Xe),256>(wt=Mr(Ct.G[0],Ct.H[0],Xe)))Be[mt+Ye]=wt,++Ye,++Pe>=at&&(Pe=0,++Te<=G&&!(Te%16)&&On(xe,Te));else{if(!(280>wt)){Mt=0;break t}wt=ir(wt-256,Xe);var Gt,Rt=Mr(Ct.G[4],Ct.H[4],Xe);if(q(Xe),!(Ye>=(Rt=rr(at,Rt=ir(Rt,Xe)))&&rt-Ye>=wt)){Mt=0;break t}for(Gt=0;Gt<wt;++Gt)Be[mt+Ye+Gt]=Be[mt+Ye+Gt-Rt];for(Ye+=wt,Pe+=wt;Pe>=at;)Pe-=at,++Te<=G&&!(Te%16)&&On(xe,Te);Ye<Et&&Pe&Lt&&(Ct=nr(pt,Pe,Te))}r(Xe.h==D(Xe))}On(xe,Te>G?G:Te);break t}!Mt||Xe.h&&Ye<rt?(Mt=0,xe.a=Xe.h?5:3):xe.$=Ye,G=Mt}else G=Tn(xe,xe.V,xe.Ba,xe.c,xe.i,G,Qe);if(!G){ue=0;break e}}J+ue>=_e&&(I.Cc=1),ue=1}if(!ue)return null;if(I.Cc&&((ue=I.ga)!=null&&(ue.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+J*ye}function K(I,G,J,ue,ye,_e){for(;0<ye--;){var xe,Be=I,Te=G+(J?1:0),Pe=I,Xe=G+(J?0:3);for(xe=0;xe<ue;++xe){var pt=Pe[Xe+4*xe];pt!=255&&(pt*=32897,Be[Te+4*xe+0]=Be[Te+4*xe+0]*pt>>23,Be[Te+4*xe+1]=Be[Te+4*xe+1]*pt>>23,Be[Te+4*xe+2]=Be[Te+4*xe+2]*pt>>23)}G+=_e}}function ve(I,G,J,ue,ye){for(;0<ue--;){var _e;for(_e=0;_e<J;++_e){var xe=I[G+2*_e+0],Be=15&(Pe=I[G+2*_e+1]),Te=4369*Be,Pe=(240&Pe|Pe>>4)*Te>>16;I[G+2*_e+0]=(240&xe|xe>>4)*Te>>16&240|(15&xe|xe<<4)*Te>>16>>4&15,I[G+2*_e+1]=240&Pe|Be}G+=ye}}function Oe(I,G,J,ue,ye,_e,xe,Be){var Te,Pe,Xe=255;for(Pe=0;Pe<ye;++Pe){for(Te=0;Te<ue;++Te){var pt=I[G+Te];_e[xe+4*Te]=pt,Xe&=pt}G+=J,xe+=Be}return Xe!=255}function qe(I,G,J,ue,ye){var _e;for(_e=0;_e<ye;++_e)J[ue+_e]=I[G+_e]>>8}function ct(){jo=K,cl=ve,wc=Oe,lm=qe}function xt(I,G,J){E[I]=function(ue,ye,_e,xe,Be,Te,Pe,Xe,pt,mt,at,Mt,wt,Ye,rt,Et,Lt){var Ct,Gt=Lt-1>>1,Rt=Be[Te+0]|Pe[Xe+0]<<16,sr=pt[mt+0]|at[Mt+0]<<16;r(ue!=null);var Nt=3*Rt+sr+131074>>2;for(G(ue[ye+0],255&Nt,Nt>>16,wt,Ye),_e!=null&&(Nt=3*sr+Rt+131074>>2,G(_e[xe+0],255&Nt,Nt>>16,rt,Et)),Ct=1;Ct<=Gt;++Ct){var jr=Be[Te+Ct]|Pe[Xe+Ct]<<16,kr=pt[mt+Ct]|at[Mt+Ct]<<16,Ir=Rt+jr+sr+kr+524296,Er=Ir+2*(jr+sr)>>3;Nt=Er+Rt>>1,Rt=(Ir=Ir+2*(Rt+kr)>>3)+jr>>1,G(ue[ye+2*Ct-1],255&Nt,Nt>>16,wt,Ye+(2*Ct-1)*J),G(ue[ye+2*Ct-0],255&Rt,Rt>>16,wt,Ye+(2*Ct-0)*J),_e!=null&&(Nt=Ir+sr>>1,Rt=Er+kr>>1,G(_e[xe+2*Ct-1],255&Nt,Nt>>16,rt,Et+(2*Ct-1)*J),G(_e[xe+2*Ct+0],255&Rt,Rt>>16,rt,Et+(2*Ct+0)*J)),Rt=jr,sr=kr}1&Lt||(Nt=3*Rt+sr+131074>>2,G(ue[ye+Lt-1],255&Nt,Nt>>16,wt,Ye+(Lt-1)*J),_e!=null&&(Nt=3*sr+Rt+131074>>2,G(_e[xe+Lt-1],255&Nt,Nt>>16,rt,Et+(Lt-1)*J)))}}function Ft(){$i[xc]=Ib,$i[Sc]=vm,$i[fm]=Pb,$i[Bc]=bm,$i[Ec]=wm,$i[$h]=_m,$i[pm]=jb,$i[ed]=vm,$i[td]=bm,$i[Cc]=wm,$i[rd]=_m}function kt(I){return I&~Rb?0>I?0:255:I>>xm}function tr(I,G){return kt((19077*I>>8)+(26149*G>>8)-14234)}function hr(I,G,J){return kt((19077*I>>8)-(6419*G>>8)-(13320*J>>8)+8708)}function Zt(I,G){return kt((19077*I>>8)+(33050*G>>8)-17685)}function xr(I,G,J,ue,ye){ue[ye+0]=tr(I,J),ue[ye+1]=hr(I,G,J),ue[ye+2]=Zt(I,G)}function S(I,G,J,ue,ye){ue[ye+0]=Zt(I,G),ue[ye+1]=hr(I,G,J),ue[ye+2]=tr(I,J)}function U(I,G,J,ue,ye){var _e=hr(I,G,J);G=_e<<3&224|Zt(I,G)>>3,ue[ye+0]=248&tr(I,J)|_e>>5,ue[ye+1]=G}function N(I,G,J,ue,ye){var _e=240&Zt(I,G)|15;ue[ye+0]=240&tr(I,J)|hr(I,G,J)>>4,ue[ye+1]=_e}function H(I,G,J,ue,ye){ue[ye+0]=255,xr(I,G,J,ue,ye+1)}function X(I,G,J,ue,ye){S(I,G,J,ue,ye),ue[ye+3]=255}function ne(I,G,J,ue,ye){xr(I,G,J,ue,ye),ue[ye+3]=255}function ae(I,G){return 0>I?0:I>G?G:I}function we(I,G,J){E[I]=function(ue,ye,_e,xe,Be,Te,Pe,Xe,pt){for(var mt=Xe+(-2&pt)*J;Xe!=mt;)G(ue[ye+0],_e[xe+0],Be[Te+0],Pe,Xe),G(ue[ye+1],_e[xe+0],Be[Te+0],Pe,Xe+J),ye+=2,++xe,++Te,Xe+=2*J;1&pt&&G(ue[ye+0],_e[xe+0],Be[Te+0],Pe,Xe)}}function Ue(I,G,J){return J==0?I==0?G==0?6:5:G==0?4:0:J}function Fe(I,G,J,ue,ye){switch(I>>>30){case 3:Pr(G,J,ue,ye,0);break;case 2:ln(G,J,ue,ye);break;case 1:Qn(G,J,ue,ye)}}function Ve(I,G){var J,ue,ye=G.M,_e=G.Nb,xe=I.oc,Be=I.pc+40,Te=I.oc,Pe=I.pc+584,Xe=I.oc,pt=I.pc+600;for(J=0;16>J;++J)xe[Be+32*J-1]=129;for(J=0;8>J;++J)Te[Pe+32*J-1]=129,Xe[pt+32*J-1]=129;for(0<ye?xe[Be-1-32]=Te[Pe-1-32]=Xe[pt-1-32]=129:(o(xe,Be-32-1,127,21),o(Te,Pe-32-1,127,9),o(Xe,pt-32-1,127,9)),ue=0;ue<I.za;++ue){var mt=G.ya[G.aa+ue];if(0<ue){for(J=-1;16>J;++J)t(xe,Be+32*J-4,xe,Be+32*J+12,4);for(J=-1;8>J;++J)t(Te,Pe+32*J-4,Te,Pe+32*J+4,4),t(Xe,pt+32*J-4,Xe,pt+32*J+4,4)}var at=I.Gd,Mt=I.Hd+ue,wt=mt.ad,Ye=mt.Hc;if(0<ye&&(t(xe,Be-32,at[Mt].y,0,16),t(Te,Pe-32,at[Mt].f,0,8),t(Xe,pt-32,at[Mt].ea,0,8)),mt.Za){var rt=xe,Et=Be-32+16;for(0<ye&&(ue>=I.za-1?o(rt,Et,at[Mt].y[15],4):t(rt,Et,at[Mt+1].y,0,4)),J=0;4>J;J++)rt[Et+128+J]=rt[Et+256+J]=rt[Et+384+J]=rt[Et+0+J];for(J=0;16>J;++J,Ye<<=2)rt=xe,Et=Be+Bm[J],hs[mt.Ob[J]](rt,Et),Fe(Ye,wt,16*+J,rt,Et)}else if(rt=Ue(ue,ye,mt.Ob[0]),Ro[rt](xe,Be),Ye!=0)for(J=0;16>J;++J,Ye<<=2)Fe(Ye,wt,16*+J,xe,Be+Bm[J]);for(J=mt.Gc,rt=Ue(ue,ye,mt.Dd),so[rt](Te,Pe),so[rt](Xe,pt),Ye=wt,rt=Te,Et=Pe,255&(mt=J>>0)&&(170&mt?Si(Ye,256,rt,Et):Yi(Ye,256,rt,Et)),mt=Xe,Ye=pt,255&(J>>=8)&&(170&J?Si(wt,320,mt,Ye):Yi(wt,320,mt,Ye)),ye<I.Ub-1&&(t(at[Mt].y,0,xe,Be+480,16),t(at[Mt].f,0,Te,Pe+224,8),t(at[Mt].ea,0,Xe,pt+224,8)),J=8*_e*I.B,at=I.sa,Mt=I.ta+16*ue+16*_e*I.R,wt=I.qa,mt=I.ra+8*ue+J,Ye=I.Ha,rt=I.Ia+8*ue+J,J=0;16>J;++J)t(at,Mt+J*I.R,xe,Be+32*J,16);for(J=0;8>J;++J)t(wt,mt+J*I.B,Te,Pe+32*J,8),t(Ye,rt+J*I.B,Xe,pt+32*J,8)}}function ot(I,G,J,ue,ye,_e,xe,Be,Te){var Pe=[0],Xe=[0],pt=0,mt=Te!=null?Te.kd:0,at=Te??new wi;if(I==null||12>J)return 7;at.data=I,at.w=G,at.ha=J,G=[G],J=[J],at.gb=[at.gb];e:{var Mt=G,wt=J,Ye=at.gb;if(r(I!=null),r(wt!=null),r(Ye!=null),Ye[0]=0,12<=wt[0]&&!n(I,Mt[0],"RIFF")){if(n(I,Mt[0]+8,"WEBP")){Ye=3;break e}var rt=ge(I,Mt[0]+4);if(12>rt||4294967286<rt){Ye=3;break e}if(mt&&rt>wt[0]-8){Ye=7;break e}Ye[0]=rt,Mt[0]+=12,wt[0]-=12}Ye=0}if(Ye!=0)return Ye;for(rt=0<at.gb[0],J=J[0];;){e:{var Et=I;wt=G,Ye=J;var Lt=Pe,Ct=Xe,Gt=Mt=[0];if((Nt=pt=[pt])[0]=0,8>Ye[0])Ye=7;else{if(!n(Et,wt[0],"VP8X")){if(ge(Et,wt[0]+4)!=10){Ye=3;break e}if(18>Ye[0]){Ye=7;break e}var Rt=ge(Et,wt[0]+8),sr=1+Ae(Et,wt[0]+12);if(2147483648<=sr*(Et=1+Ae(Et,wt[0]+15))){Ye=3;break e}Gt!=null&&(Gt[0]=Rt),Lt!=null&&(Lt[0]=sr),Ct!=null&&(Ct[0]=Et),wt[0]+=18,Ye[0]-=18,Nt[0]=1}Ye=0}}if(pt=pt[0],Mt=Mt[0],Ye!=0)return Ye;if(wt=!!(2&Mt),!rt&&pt)return 3;if(_e!=null&&(_e[0]=!!(16&Mt)),xe!=null&&(xe[0]=wt),Be!=null&&(Be[0]=0),xe=Pe[0],Mt=Xe[0],pt&&wt&&Te==null){Ye=0;break}if(4>J){Ye=7;break}if(rt&&pt||!rt&&!pt&&!n(I,G[0],"ALPH")){J=[J],at.na=[at.na],at.P=[at.P],at.Sa=[at.Sa];e:{Rt=I,Ye=G,rt=J;var Nt=at.gb;Lt=at.na,Ct=at.P,Gt=at.Sa,sr=22,r(Rt!=null),r(rt!=null),Et=Ye[0];var jr=rt[0];for(r(Lt!=null),r(Gt!=null),Lt[0]=null,Ct[0]=null,Gt[0]=0;;){if(Ye[0]=Et,rt[0]=jr,8>jr){Ye=7;break e}var kr=ge(Rt,Et+4);if(4294967286<kr){Ye=3;break e}var Ir=8+kr+1&-2;if(sr+=Ir,0<Nt&&sr>Nt){Ye=3;break e}if(!n(Rt,Et,"VP8 ")||!n(Rt,Et,"VP8L")){Ye=0;break e}if(jr[0]<Ir){Ye=7;break e}n(Rt,Et,"ALPH")||(Lt[0]=Rt,Ct[0]=Et+8,Gt[0]=kr),Et+=Ir,jr-=Ir}}if(J=J[0],at.na=at.na[0],at.P=at.P[0],at.Sa=at.Sa[0],Ye!=0)break}J=[J],at.Ja=[at.Ja],at.xa=[at.xa];e:if(Nt=I,Ye=G,rt=J,Lt=at.gb[0],Ct=at.Ja,Gt=at.xa,Rt=Ye[0],Et=!n(Nt,Rt,"VP8 "),sr=!n(Nt,Rt,"VP8L"),r(Nt!=null),r(rt!=null),r(Ct!=null),r(Gt!=null),8>rt[0])Ye=7;else{if(Et||sr){if(Nt=ge(Nt,Rt+4),12<=Lt&&Nt>Lt-12){Ye=3;break e}if(mt&&Nt>rt[0]-8){Ye=7;break e}Ct[0]=Nt,Ye[0]+=8,rt[0]-=8,Gt[0]=sr}else Gt[0]=5<=rt[0]&&Nt[Rt+0]==47&&!(Nt[Rt+4]>>5),Ct[0]=rt[0];Ye=0}if(J=J[0],at.Ja=at.Ja[0],at.xa=at.xa[0],G=G[0],Ye!=0)break;if(4294967286<at.Ja)return 3;if(Be==null||wt||(Be[0]=at.xa?2:1),xe=[xe],Mt=[Mt],at.xa){if(5>J){Ye=7;break}Be=xe,mt=Mt,wt=_e,I==null||5>J?I=0:5<=J&&I[G+0]==47&&!(I[G+4]>>5)?(rt=[0],Nt=[0],Lt=[0],k(Ct=new R,I,G,J),Tt(Ct,rt,Nt,Lt)?(Be!=null&&(Be[0]=rt[0]),mt!=null&&(mt[0]=Nt[0]),wt!=null&&(wt[0]=Lt[0]),I=1):I=0):I=0}else{if(10>J){Ye=7;break}Be=Mt,I==null||10>J||!Ln(I,G+3,J-3)?I=0:(mt=I[G+0]|I[G+1]<<8|I[G+2]<<16,wt=16383&(I[G+7]<<8|I[G+6]),I=16383&(I[G+9]<<8|I[G+8]),1&mt||3<(mt>>1&7)||!(mt>>4&1)||mt>>5>=at.Ja||!wt||!I?I=0:(xe&&(xe[0]=wt),Be&&(Be[0]=I),I=1))}if(!I||(xe=xe[0],Mt=Mt[0],pt&&(Pe[0]!=xe||Xe[0]!=Mt)))return 3;Te!=null&&(Te[0]=at,Te.offset=G-Te.w,r(4294967286>G-Te.w),r(Te.offset==Te.ha-J));break}return Ye==0||Ye==7&&pt&&Te==null?(_e!=null&&(_e[0]|=at.na!=null&&0<at.na.length),ue!=null&&(ue[0]=xe),ye!=null&&(ye[0]=Mt),0):Ye}function Ze(I,G,J){var ue=G.width,ye=G.height,_e=0,xe=0,Be=ue,Te=ye;if(G.Da=I!=null&&0<I.Da,G.Da&&(Be=I.cd,Te=I.bd,_e=I.v,xe=I.j,11>J||(_e&=-2,xe&=-2),0>_e||0>xe||0>=Be||0>=Te||_e+Be>ue||xe+Te>ye))return 0;if(G.v=_e,G.j=xe,G.va=_e+Be,G.o=xe+Te,G.U=Be,G.T=Te,G.da=I!=null&&0<I.da,G.da){if(!je(Be,Te,J=[I.ib],_e=[I.hb]))return 0;G.ib=J[0],G.hb=_e[0]}return G.ob=I!=null&&I.ob,G.Kb=I==null||!I.Sd,G.da&&(G.ob=G.ib<3*ue/4&&G.hb<3*ye/4,G.Kb=0),1}function ke(I){if(I==null)return 2;if(11>I.S){var G=I.f.RGBA;G.fb+=(I.height-1)*G.A,G.A=-G.A}else G=I.f.kb,I=I.height,G.O+=(I-1)*G.fa,G.fa=-G.fa,G.N+=(I-1>>1)*G.Ab,G.Ab=-G.Ab,G.W+=(I-1>>1)*G.Db,G.Db=-G.Db,G.F!=null&&(G.J+=(I-1)*G.lb,G.lb=-G.lb);return 0}function St(I,G,J,ue){if(ue==null||0>=I||0>=G)return 2;if(J!=null){if(J.Da){var ye=J.cd,_e=J.bd,xe=-2&J.v,Be=-2&J.j;if(0>xe||0>Be||0>=ye||0>=_e||xe+ye>I||Be+_e>G)return 2;I=ye,G=_e}if(J.da){if(!je(I,G,ye=[J.ib],_e=[J.hb]))return 2;I=ye[0],G=_e[0]}}ue.width=I,ue.height=G;e:{var Te=ue.width,Pe=ue.height;if(I=ue.S,0>=Te||0>=Pe||!(I>=xc&&13>I))I=2;else{if(0>=ue.Rd&&ue.sd==null){xe=_e=ye=G=0;var Xe=(Be=Te*Em[I])*Pe;if(11>I||(_e=(Pe+1)/2*(G=(Te+1)/2),I==12&&(xe=(ye=Te)*Pe)),(Pe=s(Xe+2*_e+xe))==null){I=1;break e}ue.sd=Pe,11>I?((Te=ue.f.RGBA).eb=Pe,Te.fb=0,Te.A=Be,Te.size=Xe):((Te=ue.f.kb).y=Pe,Te.O=0,Te.fa=Be,Te.Fd=Xe,Te.f=Pe,Te.N=0+Xe,Te.Ab=G,Te.Cd=_e,Te.ea=Pe,Te.W=0+Xe+_e,Te.Db=G,Te.Ed=_e,I==12&&(Te.F=Pe,Te.J=0+Xe+2*_e),Te.Tc=xe,Te.lb=ye)}if(G=1,ye=ue.S,_e=ue.width,xe=ue.height,ye>=xc&&13>ye)if(11>ye)I=ue.f.RGBA,G&=(Be=Math.abs(I.A))*(xe-1)+_e<=I.size,G&=Be>=_e*Em[ye],G&=I.eb!=null;else{I=ue.f.kb,Be=(_e+1)/2,Xe=(xe+1)/2,Te=Math.abs(I.fa),Pe=Math.abs(I.Ab);var pt=Math.abs(I.Db),mt=Math.abs(I.lb),at=mt*(xe-1)+_e;G&=Te*(xe-1)+_e<=I.Fd,G&=Pe*(Xe-1)+Be<=I.Cd,G=(G&=pt*(Xe-1)+Be<=I.Ed)&Te>=_e&Pe>=Be&pt>=Be,G&=I.y!=null,G&=I.f!=null,G&=I.ea!=null,ye==12&&(G&=mt>=_e,G&=at<=I.Tc,G&=I.F!=null)}else G=0;I=G?0:2}}return I!=0||J!=null&&J.fd&&(I=ke(ue)),I}var ut=64,gt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lt=24,At=32,Wt=8,$t=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ie("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(I){return I},E.Predictor2=function(I,G,J){return G[J+0]},E.Predictor3=function(I,G,J){return G[J+1]},E.Predictor4=function(I,G,J){return G[J-1]},E.Predictor5=function(I,G,J){return Me(Me(I,G[J+1]),G[J+0])},E.Predictor6=function(I,G,J){return Me(I,G[J-1])},E.Predictor7=function(I,G,J){return Me(I,G[J+0])},E.Predictor8=function(I,G,J){return Me(G[J-1],G[J+0])},E.Predictor9=function(I,G,J){return Me(G[J+0],G[J+1])},E.Predictor10=function(I,G,J){return Me(Me(I,G[J-1]),Me(G[J+0],G[J+1]))},E.Predictor11=function(I,G,J){var ue=G[J+0];return 0>=nt(ue>>24&255,I>>24&255,(G=G[J-1])>>24&255)+nt(ue>>16&255,I>>16&255,G>>16&255)+nt(ue>>8&255,I>>8&255,G>>8&255)+nt(255&ue,255&I,255&G)?ue:I},E.Predictor12=function(I,G,J){var ue=G[J+0];return(ze((I>>24&255)+(ue>>24&255)-((G=G[J-1])>>24&255))<<24|ze((I>>16&255)+(ue>>16&255)-(G>>16&255))<<16|ze((I>>8&255)+(ue>>8&255)-(G>>8&255))<<8|ze((255&I)+(255&ue)-(255&G)))>>>0},E.Predictor13=function(I,G,J){var ue=G[J-1];return(Ge((I=Me(I,G[J+0]))>>24&255,ue>>24&255)<<24|Ge(I>>16&255,ue>>16&255)<<16|Ge(I>>8&255,ue>>8&255)<<8|Ge(I>>0&255,ue>>0&255))>>>0};var Yt=E.PredictorAdd0;E.PredictorAdd1=et,ie("Predictor2","PredictorAdd2"),ie("Predictor3","PredictorAdd3"),ie("Predictor4","PredictorAdd4"),ie("Predictor5","PredictorAdd5"),ie("Predictor6","PredictorAdd6"),ie("Predictor7","PredictorAdd7"),ie("Predictor8","PredictorAdd8"),ie("Predictor9","PredictorAdd9"),ie("Predictor10","PredictorAdd10"),ie("Predictor11","PredictorAdd11"),ie("Predictor12","PredictorAdd12"),ie("Predictor13","PredictorAdd13");var qt=E.PredictorAdd2;Le("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),Le("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var dr,Sr=E.ColorIndexInverseTransform,Vr=E.MapARGB,on=E.VP8LColorIndexInverseTransformAlpha,Sn=E.MapAlpha,tn=E.VP8LPredictorsAdd=[];tn.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var an,br,Lr,yr,Jr,Dr,Nr,Pr,ln,Si,Qn,Yi,_a,Al,xa,Po,yA,Ji,no,Zr,$r,gn,Fn,io,jo,cl,wc,lm,Am=s(511),cm=s(2041),um=s(225),hm=s(767),dm=0,Zh=cm,_c=um,Ri=hm,Zi=Am,xc=0,Sc=1,fm=2,Bc=3,Ec=4,$h=5,pm=6,ed=7,td=8,Cc=9,rd=10,vb=[2,3,7],bb=[3,3,11],mm=[280,256,256,256,40],wb=[0,1,1,1,0],_b=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sb=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bb=8,nd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],id=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vA=null,Eb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Mb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ro=[],hs=[],so=[],Ub=1,ym=2,Do=[],$i=[];xt("UpsampleRgbLinePair",xr,3),xt("UpsampleBgrLinePair",S,3),xt("UpsampleRgbaLinePair",ne,4),xt("UpsampleBgraLinePair",X,4),xt("UpsampleArgbLinePair",H,4),xt("UpsampleRgba4444LinePair",N,2),xt("UpsampleRgb565LinePair",U,2);var Ib=E.UpsampleRgbLinePair,Pb=E.UpsampleBgrLinePair,vm=E.UpsampleRgbaLinePair,bm=E.UpsampleBgraLinePair,wm=E.UpsampleArgbLinePair,_m=E.UpsampleRgba4444LinePair,jb=E.UpsampleRgb565LinePair,Mc=16,Tc=1<<Mc-1,bA=-227,sd=482,xm=6,Rb=(256<<xm)-1,Sm=0,Db=s(256),Ob=s(256),Nb=s(256),kb=s(256),Qb=s(sd-bA),Hb=s(sd-bA);we("YuvToRgbRow",xr,3),we("YuvToBgrRow",S,3),we("YuvToRgbaRow",ne,4),we("YuvToBgraRow",X,4),we("YuvToArgbRow",H,4),we("YuvToRgba4444Row",N,2),we("YuvToRgb565Row",U,2);var Bm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lc=[0,2,8],Gb=[8,7,6,4,4,2,2,2,1,1,1,1],Vb=1;this.WebPDecodeRGBA=function(I,G,J,ue,ye){var _e=Sc,xe=new to,Be=new Ie;xe.ba=Be,Be.S=_e,Be.width=[Be.width],Be.height=[Be.height];var Te=Be.width,Pe=Be.height,Xe=new yt;if(Xe==null||I==null)var pt=2;else r(Xe!=null),pt=ot(I,G,J,Xe.width,Xe.height,Xe.Pd,Xe.Qd,Xe.format,null);if(pt!=0?Te=0:(Te!=null&&(Te[0]=Xe.width[0]),Pe!=null&&(Pe[0]=Xe.height[0]),Te=1),Te){Be.width=Be.width[0],Be.height=Be.height[0],ue!=null&&(ue[0]=Be.width),ye!=null&&(ye[0]=Be.height);e:{if(ue=new Xt,(ye=new wi).data=I,ye.w=G,ye.ha=J,ye.kd=1,G=[0],r(ye!=null),((I=ot(ye.data,ye.w,ye.ha,null,null,null,G,null,ye))==0||I==7)&&G[0]&&(I=4),(G=I)==0){if(r(xe!=null),ue.data=ye.data,ue.w=ye.w+ye.offset,ue.ha=ye.ha-ye.offset,ue.put=ur,ue.ac=Ot,ue.bc=Ar,ue.ma=xe,ye.xa){if((I=le())==null){xe=1;break e}if(function(mt,at){var Mt=[0],wt=[0],Ye=[0];t:for(;;){if(mt==null)return 0;if(at==null)return mt.a=2,0;if(mt.l=at,mt.a=0,k(mt.m,at.data,at.w,at.ha),!Tt(mt.m,Mt,wt,Ye)){mt.a=3;break t}if(mt.xb=ym,at.width=Mt[0],at.height=wt[0],!De(Mt[0],wt[0],1,mt,null))break t;return 1}return r(mt.a!=0),0}(I,ue)){if(ue=(G=St(ue.width,ue.height,xe.Oa,xe.ba))==0){t:{ue=I;r:for(;;){if(ue==null){ue=0;break t}if(r(ue.s.yc!=null),r(ue.s.Ya!=null),r(0<ue.s.Wb),r((J=ue.l)!=null),r((ye=J.ma)!=null),ue.xb!=0){if(ue.ca=ye.ba,ue.tb=ye.tb,r(ue.ca!=null),!Ze(ye.Oa,J,Bc)){ue.a=2;break r}if(!We(ue,J.width)||J.da)break r;if((J.da||ht(ue.ca.S))&&ct(),11>ue.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ue.ca.f.kb.F!=null&&ct()),ue.Pb&&0<ue.s.ua&&ue.s.vb.X==null&&!ce(ue.s.vb,ue.s.Wa.Xa)){ue.a=1;break r}ue.xb=0}if(!Tn(ue,ue.V,ue.Ba,ue.c,ue.i,J.o,qn))break r;ye.Dc=ue.Ma,ue=1;break t}r(ue.a!=0),ue=0}ue=!ue}ue&&(G=I.a)}else G=I.a}else{if((I=new Cs)==null){xe=1;break e}if(I.Fa=ye.na,I.P=ye.P,I.qc=ye.Sa,Gi(I,ue)){if((G=St(ue.width,ue.height,xe.Oa,xe.ba))==0){if(I.Aa=0,J=xe.Oa,r((ye=I)!=null),J!=null){if(0<(Te=0>(Te=J.Md)?0:100<Te?255:255*Te/100)){for(Pe=Xe=0;4>Pe;++Pe)12>(pt=ye.pb[Pe]).lc&&(pt.ia=Te*Gb[0>pt.lc?0:pt.lc]>>3),Xe|=pt.ia;Xe&&(alert("todo:VP8InitRandom"),ye.ia=1)}ye.Ga=J.Id,100<ye.Ga?ye.Ga=100:0>ye.Ga&&(ye.Ga=0)}un(I,ue)||(G=I.a)}}else G=I.a}G==0&&xe.Oa!=null&&xe.Oa.fd&&(G=ke(xe.ba))}xe=G}_e=xe!=0?null:11>_e?Be.f.RGBA.eb:Be.f.kb.y}else _e=null;return _e};var Em=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,C){for(var T="",B=0;B<4;B++)T+=String.fromCharCode(E[C++]);return T}function p(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16)>>>0}function d(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16|E[C+3]<<24)>>>0}new l;var c=[0],h=[0],f=[],g=new l,y=i,m=function(E,C){var T={},B=0,P=!1,F=0,j=0;if(T.frames=[],!function(L,D,V,q){for(var Z=0;Z<q;Z++)if(L[D+Z]!=V.charCodeAt(Z))return!0;return!1}(E,C,"RIFF",4)){var O,Q;for(d(E,C+=4),C+=8;C<E.length;){var z=u(E,C),k=d(E,C+=4);C+=4;var W=k+(1&k);switch(z){case"VP8 ":case"VP8L":T.frames[B]===void 0&&(T.frames[B]={}),(R=T.frames[B]).src_off=P?j:C-8,R.src_size=F+k+8,B++,P&&(P=!1,F=0,j=0);break;case"VP8X":(R=T.header={}).feature_flags=E[C];var Y=C+4;R.canvas_width=1+p(E,Y),Y+=3,R.canvas_height=1+p(E,Y),Y+=3;break;case"ALPH":P=!0,F=W+8,j=C-8;break;case"ANIM":(R=T.header).bgcolor=d(E,C),Y=C+4,R.loop_count=(O=E)[(Q=Y)+0]<<0|O[Q+1]<<8,Y+=2;break;case"ANMF":var te,R;(R=T.frames[B]={}).offset_x=2*p(E,C),C+=3,R.offset_y=2*p(E,C),C+=3,R.width=1+p(E,C),C+=3,R.height=1+p(E,C),C+=3,R.duration=p(E,C),C+=3,te=E[C++],R.dispose=1&te,R.blend=te>>1&1}z!="ANMF"&&(C+=W)}return T}}(y,0);m.response=y,m.rgbaoutput=!0,m.dataurl=!1;var b=m.header?m.header:null,v=m.frames?m.frames:null;if(b){b.loop_counter=b.loop_count,c=[b.canvas_height],h=[b.canvas_width];for(var w=0;w<v.length&&v[w].blend!=0;w++);}var _=v[0],M=g.WebPDecodeRGBA(y,_.src_off,_.src_size,h,c);_.rgba=M,_.imgwidth=h[0],_.imgheight=c[0];for(var x=0;x<h[0]*c[0]*4;x++)f[x]=M[x];return this.width=h,this.height=c,this.data=f,this}(function(i){var r=function(){return typeof op=="function"},n=function(c,h,f,g){var y=4,m=a;switch(g){case i.image_compression.FAST:y=1,m=s;break;case i.image_compression.MEDIUM:y=6,m=A;break;case i.image_compression.SLOW:y=9,m=l}c=t(c,h,f,m);var b=op(c,{level:y});return i.__addimage__.arrayBufferToBinaryString(b)},t=function(c,h,f,g){for(var y,m,b,v=c.length/h,w=new Uint8Array(c.length+v),_=p(),M=0;M<v;M+=1){if(b=M*h,y=c.subarray(b,b+h),g)w.set(g(y,f,m),b+M);else{for(var x,E=_.length,C=[];x<E;x+=1)C[x]=_[x](y,f,m);var T=d(C.concat());w.set(C[T],b+M)}m=y}return w},o=function(c){var h=Array.apply([],c);return h.unshift(0),h},s=function(c,h){var f,g=[],y=c.length;g[0]=1;for(var m=0;m<y;m+=1)f=c[m-h]||0,g[m+1]=c[m]-f+256&255;return g},a=function(c,h,f){var g,y=[],m=c.length;y[0]=2;for(var b=0;b<m;b+=1)g=f&&f[b]||0,y[b+1]=c[b]-g+256&255;return y},A=function(c,h,f){var g,y,m=[],b=c.length;m[0]=3;for(var v=0;v<b;v+=1)g=c[v-h]||0,y=f&&f[v]||0,m[v+1]=c[v]+256-(g+y>>>1)&255;return m},l=function(c,h,f){var g,y,m,b,v=[],w=c.length;v[0]=4;for(var _=0;_<w;_+=1)g=c[_-h]||0,y=f&&f[_]||0,m=f&&f[_-h]||0,b=u(g,y,m),v[_+1]=c[_]-b+256&255;return v},u=function(c,h,f){if(c===h&&h===f)return c;var g=Math.abs(h-f),y=Math.abs(c-f),m=Math.abs(c+h-f-f);return g<=y&&g<=m?c:y<=m?h:f},p=function(){return[o,s,a,A,l]},d=function(c){var h=c.map(function(f){return f.reduce(function(g,y){return g+Math.abs(y)},0)});return h.indexOf(Math.min.apply(null,h))};i.processPNG=function(c,h,f,g){var y,m,b,v,w,_,M,x,E,C,T,B,P,F,j,O=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(c)&&(c=new Uint8Array(c)),this.__addimage__.isArrayBufferView(c)){if(c=(b=new NC(c)).imgData,m=b.bits,y=b.colorSpace,w=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){E=(x=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,T=new Uint8Array(E*b.colors),C=new Uint8Array(E);var z,k=b.pixelBitlength-b.bits;for(F=0,j=0;F<E;F++){for(P=x[F],z=0;z<k;)T[j++]=P>>>z&255,z+=b.bits;C[F]=P>>>z&255}}if(b.bits===16){E=(x=new Uint32Array(b.decodePixels().buffer)).length,T=new Uint8Array(E*(32/b.pixelBitlength)*b.colors),C=new Uint8Array(E*(32/b.pixelBitlength)),B=b.colors>1,F=0,j=0;for(var W=0;F<E;)P=x[F++],T[j++]=P>>>0&255,B&&(T[j++]=P>>>16&255,P=x[F++],T[j++]=P>>>0&255),C[W++]=P>>>16&255;m=8}g!==i.image_compression.NONE&&r()?(c=n(T,b.width*b.colors,b.colors,g),M=n(C,b.width,1,g)):(c=T,M=C,O=void 0)}if(b.colorType===3&&(y=this.color_spaces.INDEXED,_=b.palette,b.transparency.indexed)){var Y=b.transparency.indexed,te=0;for(F=0,E=Y.length;F<E;++F)te+=Y[F];if((te/=255)===E-1&&Y.indexOf(0)!==-1)v=[Y.indexOf(0)];else if(te!==E){for(x=b.decodePixels(),C=new Uint8Array(x.length),F=0,E=x.length;F<E;F++)C[F]=Y[x[F]];M=n(C,b.width,1)}}var R=function(L){var D;switch(L){case i.image_compression.FAST:D=11;break;case i.image_compression.MEDIUM:D=13;break;case i.image_compression.SLOW:D=14;break;default:D=12}return D}(g);return O===this.decode.FLATE_DECODE&&(Q="/Predictor "+R+" "),Q+="/Colors "+w+" /BitsPerComponent "+m+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(c)||this.__addimage__.isArrayBufferView(c))&&(c=this.__addimage__.arrayBufferToBinaryString(c)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:f,data:c,index:h,filter:O,decodeParameters:Q,transparency:v,palette:_,sMask:M,predictor:R,width:b.width,height:b.height,bitsPerComponent:m,colorSpace:y}}}})(or.API),function(i){i.processGIF89A=function(r,n,t,o){var s=new kC(r),a=s.width,A=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:A},p=new pf(100).encode(u,100);return i.processJPEG.call(this,p,n,t,o)},i.processGIF87A=i.processGIF89A}(or.API),ys.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var r=0;r<i;r++){var n=this.datav.getUint8(this.pos++,!0),t=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:o,green:t,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ys.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[i]()}catch(n){Xr.log("bit decode error:"+n)}},ys.prototype.bit1=function(){var i,r=Math.ceil(this.width/8),n=r%4;for(i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,o=0;o<r;o++)for(var s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+8*o*4,A=0;A<8&&8*o+A<this.width;A++){var l=this.palette[s>>7-A&1];this.data[a+4*A]=l.blue,this.data[a+4*A+1]=l.green,this.data[a+4*A+2]=l.red,this.data[a+4*A+3]=255}n!==0&&(this.pos+=4-n)}},ys.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),r=i%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,o=0;o<i;o++){var s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+2*o*4,A=s>>4,l=15&s,u=this.palette[A];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*o+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}r!==0&&(this.pos+=4-r)}},ys.prototype.bit8=function(){for(var i=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;if(o<this.palette.length){var a=this.palette[o];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}i!==0&&(this.pos+=4-i)}},ys.prototype.bit15=function(){for(var i=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&r)/r*255|0,A=(s>>5&r)/r*255|0,l=(s>>10&r)/r*255|0,u=s>>15?255:0,p=t*this.width*4+4*o;this.data[p]=l,this.data[p+1]=A,this.data[p+2]=a,this.data[p+3]=u}this.pos+=i}},ys.prototype.bit16=function(){for(var i=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(a&r)/r*255|0,l=(a>>5&n)/n*255|0,u=(a>>11)/r*255|0,p=o*this.width*4+4*s;this.data[p]=u,this.data[p+1]=l,this.data[p+2]=A,this.data[p+3]=255}this.pos+=i}},ys.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<this.width;n++){var t=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;this.data[a]=s,this.data[a+1]=o,this.data[a+2]=t,this.data[a+3]=255}this.pos+=this.width%4}},ys.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var r=this.bottom_up?i:this.height-1-i,n=0;n<this.width;n++){var t=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),A=r*this.width*4+4*n;this.data[A]=s,this.data[A+1]=o,this.data[A+2]=t,this.data[A+3]=a}},ys.prototype.getData=function(){return this.data},function(i){i.processBMP=function(r,n,t,o){var s=new ys(r,!1),a=s.width,A=s.height,l={data:s.getData(),width:a,height:A},u=new pf(100).encode(l,100);return i.processJPEG.call(this,u,n,t,o)}}(or.API),ay.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(r,n,t,o){var s=new ay(r),a=s.width,A=s.height,l={data:s.getData(),width:a,height:A},u=new pf(100).encode(l,100);return i.processJPEG.call(this,u,n,t,o)}}(or.API),or.API.processRGBA=function(i,r,n){for(var t=i.data,o=t.length,s=new Uint8Array(o/4*3),a=new Uint8Array(o/4),A=0,l=0,u=0;u<o;u+=4){var p=t[u],d=t[u+1],c=t[u+2],h=t[u+3];s[A++]=p,s[A++]=d,s[A++]=c,a[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:f,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},or.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pl=or.API,Eu=Pl.getCharWidthsArray=function(i,r){var n,t,o=(r=r||{}).font||this.internal.getFont(),s=r.fontSize||this.internal.getFontSize(),a=r.charSpace||this.internal.getCharSpace(),A=r.widths?r.widths:o.metadata.Unicode.widths,l=A.fof?A.fof:1,u=r.kerning?r.kerning:o.metadata.Unicode.kerning,p=u.fof?u.fof:1,d=r.doKerning!==!1,c=0,h=i.length,f=0,g=A[0]||l,y=[];for(n=0;n<h;n++)t=i.charCodeAt(n),typeof o.metadata.widthOfString=="function"?y.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(t))+a*(1e3/s)||0)/1e3):(c=d&&Hr(u[t])==="object"&&!isNaN(parseInt(u[t][f],10))?u[t][f]/p:0,y.push((A[t]||g)/l+c)),f=t;return y},ny=Pl.getStringUnitWidth=function(i,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),t=r.font||this.internal.getFont(),o=r.charSpace||this.internal.getCharSpace();return Pl.processArabic&&(i=Pl.processArabic(i)),typeof t.metadata.widthOfString=="function"?t.metadata.widthOfString(i,n,o)/n:Eu.apply(this,arguments).reduce(function(s,a){return s+a},0)},iy=function(i,r,n,t){for(var o=[],s=0,a=i.length,A=0;s!==a&&A+r[s]<n;)A+=r[s],s++;o.push(i.slice(0,s));var l=s;for(A=0;s!==a;)A+r[s]>t&&(o.push(i.slice(l,s)),A=0,l=s),A+=r[s],s++;return l!==s&&o.push(i.slice(l,s)),o},sy=function(i,r,n){n||(n={});var t,o,s,a,A,l,u,p=[],d=[p],c=n.textIndent||0,h=0,f=0,g=i.split(" "),y=Eu.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),b=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?b=b.concat(w.map(function(_,M){return(M&&_.length?`
`:"")+_})):b.push(w[0])}),g=b,l=ny.apply(this,[m,n])}for(s=0,a=g.length;s<a;s++){var v=0;if(t=g[s],l&&t[0]==`
`&&(t=t.substr(1),v=1),c+h+(f=(o=Eu.apply(this,[t,n])).reduce(function(w,_){return w+_},0))>r||v){if(f>r){for(A=iy.apply(this,[t,o,r-(c+h),r]),p.push(A.shift()),p=[A.pop()];A.length;)d.push([A.shift()]);f=o.slice(t.length-(p[0]?p[0].length:0)).reduce(function(w,_){return w+_},0)}else p=[t];d.push(p),c=f+l,h=y}else p.push(t),c+=h+f,h=y}return u=l?function(w,_){return(_?m:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(u)},Pl.splitTextToSize=function(i,r,n){var t,o=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var d=this.internal.getFont(p.fontName,p.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);t=Array.isArray(i)?i:String(i).split(/\r?\n/);var a=1*this.internal.scaleFactor*r/o;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/o:0,s.lineIndent=n.lineIndent;var A,l,u=[];for(A=0,l=t.length;A<l;A++)u=u.concat(sy.apply(this,[t[A],a,s]));return u},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},t={},o=0;o<r.length;o++)n[r[o]]="0123456789abcdef"[o],t["0123456789abcdef"[o]]=r[o];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=i.__fontmetrics__.compress=function(d){var c,h,f,g,y=["{"];for(var m in d){if(c=d[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=s(m).slice(2)).slice(0,-1)+t[h.slice(-1)]),typeof c=="number")c<0?(f=s(c).slice(3),g="-"):(f=s(c).slice(2),g=""),f=g+f.slice(0,-1)+t[f.slice(-1)];else{if(Hr(c)!=="object")throw new Error("Don't know what to do with value type "+Hr(c)+".");f=a(c)}y.push(h+f)}return y.push("}"),y.join("")},A=i.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var c,h,f,g,y={},m=1,b=y,v=[],w="",_="",M=d.length-1,x=1;x<M;x+=1)(g=d[x])=="'"?c?(f=c.join(""),c=void 0):c=[]:c?c.push(g):g=="{"?(v.push([b,f]),b={},f=void 0):g=="}"?((h=v.pop())[0][h[1]]=b,f=void 0,b=h[0]):g=="-"?m=-1:f===void 0?n.hasOwnProperty(g)?(w+=n[g],f=parseInt(w,16)*m,m=1,w=""):w+=g:n.hasOwnProperty(g)?(_+=n[g],b[f]=parseInt(_,16)*m,m=1,f=void 0,_=""):_+=g;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(d){var c=d.font,h=p.Unicode[c.postScriptName];h&&(c.metadata.Unicode={},c.metadata.Unicode.widths=h.widths,c.metadata.Unicode.kerning=h.kerning);var f=u.Unicode[c.postScriptName];f&&(c.metadata.Unicode.encoding=f,c.encoding=f.codePages[0])}])}(or.API),function(i){var r=function(n){for(var t=n.length,o=new Uint8Array(t),s=0;s<t;s++)o[s]=n.charCodeAt(s);return o};i.API.events.push(["addFont",function(n){var t=void 0,o=n.font,s=n.instance;if(!o.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if(typeof(t=s.existsFileInVFS(o.postScriptName)===!1?s.loadFile(o.postScriptName):s.getFileFromVFS(o.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");(function(a,A){A=/^\x00\x01\x00\x00/.test(A)?r(A):r(JA(A)),a.metadata=i.API.TTFFont.open(A),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(o,t)}}])}(or),function(i){function r(){return(ar.canvg?Promise.resolve(ar.canvg):tp(()=>import("./index.es-S02hwsiW.js"),__vite__mapDeps([]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}or.API.addSvgAsImage=function(n,t,o,s,a,A,l,u){if(isNaN(t)||isNaN(o))throw Xr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Xr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var d=p.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,p.width,p.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return r().then(function(f){return f.fromString(d,n,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(c)}).then(function(){h.addImage(p.toDataURL("image/jpeg",1),t,o,s,a,l,u)})}}(),or.API.putTotalPages=function(i){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(i,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var t=1;t<=this.internal.getNumberOfPages();t++)for(var o=0;o<this.internal.pages[t].length;o++)this.internal.pages[t][o]=this.internal.pages[t][o].replace(r,n);return this},or.API.viewerPreferences=function(i,r){var n;i=i||{},r=r||!1;var t,o,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(a),l=[],u=0,p=0,d=0;function c(f,g){var y,m=!1;for(y=0;y<f.length;y+=1)f[y]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,i==="reset"||r===!0){var h=A.length;for(d=0;d<h;d+=1)n[A[d]].value=n[A[d]].defaultValue,n[A[d]].explicitSet=!1}if(Hr(i)==="object"){for(o in i)if(s=i[o],c(A,o)&&s!==void 0){if(n[o].type==="boolean"&&typeof s=="boolean")n[o].value=s;else if(n[o].type==="name"&&c(n[o].valueSet,s))n[o].value=s;else if(n[o].type==="integer"&&Number.isInteger(s))n[o].value=s;else if(n[o].type==="array"){for(u=0;u<s.length;u+=1)if(t=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(p=0;p<s[u].length;p+=1)typeof s[u][p]!="number"&&(t=!1);t===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[o].value="["+l.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var f,g=[];for(f in n)n[f].explicitSet===!0&&(n[f].type==="name"?g.push("/"+f+" /"+n[f].value):g.push("/"+f+" "+n[f].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(i){var r=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(t)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+A.length+o.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(o+s+a+A+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(t,o){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(or.API),function(i){var r=i.API,n=r.pdfEscape16=function(s,a){for(var A,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],p=[""],d=0,c=s.length;d<c;++d){if(A=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(A),a.metadata.toUnicode[A]=s.charCodeAt(d),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(a.metadata.widthOfGlyph(A),10)])),A=="0")return p.join("");A=A.toString(16),p.push(u[4-A.length],A)}return p.join("")},t=function(s){var a,A,l,u,p,d,c;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,c=(A=Object.keys(s).sort(function(h,f){return h-f})).length;d<c;d++)a=A[d],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(s){(function(a){var A=a.font,l=a.out,u=a.newObject,p=a.putStream;if(A.metadata instanceof i.API.TTFFont&&A.encoding==="Identity-H"){for(var d=A.metadata.Unicode.widths,c=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),h="",f=0;f<c.length;f++)h+=String.fromCharCode(c[f]);var g=u();p({data:h,addLength1:!0,objectId:g}),l("endobj");var y=u();p({data:t(A.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var m=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Gl(A.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+i.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Gl(A.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+i.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Gl(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(s)}]),r.events.push(["putFont",function(s){(function(a){var A=a.font,l=a.out,u=a.newObject,p=a.putStream;if(A.metadata instanceof i.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var d=A.metadata.rawData,c="",h=0;h<d.length;h++)c+=String.fromCharCode(d[h]);var f=u();p({data:c,addLength1:!0,objectId:f}),l("endobj");var g=u();p({data:t(A.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=u();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+f+" 0 R"),l("/Flags 96"),l("/FontBBox "+i.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+Gl(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=u();for(var m=0;m<A.metadata.hmtx.widths.length;m++)A.metadata.hmtx.widths[m]=parseInt(A.metadata.hmtx.widths[m]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Gl(A.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(s)}]);var o=function(s){var a,A=s.text||"",l=s.x,u=s.y,p=s.options||{},d=s.mutex||{},c=d.pdfEscape,h=d.activeFontKey,f=d.fonts,g=h,y="",m=0,b="",v=f[g].encoding;if(f[g].encoding!=="Identity-H")return{text:A,x:l,y:u,options:p,mutex:d};for(b=A,g=h,Array.isArray(A)&&(b=A[0]),m=0;m<b.length;m+=1)f[g].metadata.hasOwnProperty("cmap")&&(a=f[g].metadata.cmap.unicode.codeMap[b[m].charCodeAt(0)]),a||b[m].charCodeAt(0)<256&&f[g].metadata.hasOwnProperty("Unicode")?y+=b[m]:y+="";var w="";return parseInt(g.slice(1))<14||v==="WinAnsiEncoding"?w=c(y,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(w=n(y,f[g])),d.isHex=!0,{text:w,x:l,y:u,options:p,mutex:d}};r.events.push(["postProcessText",function(s){var a=s.text||"",A=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?A.push([o(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):A.push(o(Object.assign({},l,{text:a[u]})).text);s.text=A}else s.text=o(Object.assign({},l,{text:a})).text}])}(or),function(i){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},i.addFileToVFS=function(n,t){return r.call(this),this.internal.vFS[n]=t,this},i.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(or.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(t){var o,s,a,A,l,u,p,d=r,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,v=0;this.__bidiEngine__={};var w=function(B){var P=B.charCodeAt(),F=P>>8,j=g[F];return j!==void 0?d[256*j+(255&P)]:F===252||F===253?"AL":m.test(F)?"L":F===8?"R":"N"},_=function(B){for(var P,F=0;F<B.length;F++){if((P=w(B.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},M=function(B,P,F,j){var O,Q,z,k,W=P[j];switch(W){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(W="AN");break;case"AL":b=!0,W="R";break;case"WS":W="N";break;case"CS":j<1||j+1>=P.length||(O=F[j-1])!=="EN"&&O!=="AN"||(Q=P[j+1])!=="EN"&&Q!=="AN"?W="N":b&&(Q="AN"),W=Q===O?Q:"N";break;case"ES":W=(O=j>0?F[j-1]:"B")==="EN"&&j+1<P.length&&P[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&F[j-1]==="EN"){W="EN";break}if(b){W="N";break}for(z=j+1,k=P.length;z<k&&P[z]==="ET";)z++;W=z<k&&P[z]==="EN"?"EN":"N";break;case"NSM":if(a&&!A){for(k=P.length,z=j+1;z<k&&P[z]==="NSM";)z++;if(z<k){var Y=B[j],te=Y>=1425&&Y<=2303||Y===64286;if(O=P[z],te&&(O==="R"||O==="AL")){W="R";break}}}W=j<1||(O=P[j-1])==="B"?"N":F[j-1];break;case"B":b=!1,o=!0,W=v;break;case"S":s=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":W="N"}return W},x=function(B,P,F){var j=B.split("");return F&&E(j,F,{hiLevel:v}),j.reverse(),P&&P.reverse(),j.join("")},E=function(B,P,F){var j,O,Q,z,k,W=-1,Y=B.length,te=0,R=[],L=v?h:c,D=[];for(b=!1,o=!1,s=!1,O=0;O<Y;O++)D[O]=w(B[O]);for(Q=0;Q<Y;Q++){if(k=te,R[Q]=M(B,D,R,Q),j=240&(te=L[k][f[R[Q]]]),te&=15,P[Q]=z=L[te][5],j>0)if(j===16){for(O=W;O<Q;O++)P[O]=1;W=-1}else W=-1;if(L[te][6])W===-1&&(W=Q);else if(W>-1){for(O=W;O<Q;O++)P[O]=z;W=-1}D[Q]==="B"&&(P[Q]=0),F.hiLevel|=z}s&&function(V,q,Z){for(var se=0;se<Z;se++)if(V[se]==="S"){q[se]=v;for(var fe=se-1;fe>=0&&V[fe]==="WS";fe--)q[fe]=v}}(D,P,Y)},C=function(B,P,F,j,O){if(!(O.hiLevel<B)){if(B===1&&v===1&&!o)return P.reverse(),void(F&&F.reverse());for(var Q,z,k,W,Y=P.length,te=0;te<Y;){if(j[te]>=B){for(k=te+1;k<Y&&j[k]>=B;)k++;for(W=te,z=k-1;W<z;W++,z--)Q=P[W],P[W]=P[z],P[z]=Q,F&&(Q=F[W],F[W]=F[z],F[z]=Q);te=k}te++}}},T=function(B,P,F){var j=B.split(""),O={hiLevel:v};return F||(F=[]),E(j,F,O),function(Q,z,k){if(k.hiLevel!==0&&p)for(var W,Y=0;Y<Q.length;Y++)z[Y]===1&&(W=y.indexOf(Q[Y]))>=0&&(Q[Y]=y[W+1])}(j,F,O),C(2,j,P,F,O),C(1,j,P,F,O),j.join("")};return this.__bidiEngine__.doBidiReorder=function(B,P,F){if(function(O,Q){if(Q)for(var z=0;z<O.length;z++)Q[z]=z;A===void 0&&(A=_(O)),u===void 0&&(u=_(O))}(B,P),a||!l||u)if(a&&l&&A^u)v=A?1:0,B=x(B,P,F);else if(!a&&l&&u)v=A?1:0,B=T(B,P,F),B=x(B,P);else if(!a||A||l||u){if(a&&!l&&A^u)B=x(B,P),A?(v=0,B=T(B,P,F)):(v=1,B=T(B,P,F),B=x(B,P));else if(a&&A&&!l&&u)v=1,B=T(B,P,F),B=x(B,P);else if(!a&&!l&&A^u){var j=p;A?(v=1,B=T(B,P,F),v=0,p=!1,B=T(B,P,F),p=j):(v=0,B=T(B,P,F),B=x(B,P),v=1,p=!1,B=T(B,P,F),p=j,B=x(B,P))}}else v=0,B=T(B,P,F);else v=A?1:0,B=T(B,P,F);return B},this.__bidiEngine__.setOptions=function(B){B&&(a=B.isInputVisual,l=B.isOutputVisual,A=B.isInputRtl,u=B.isOutputRtl,p=B.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(t){var o=t.text,s=(t.x,t.y,t.options||{}),a=(t.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(o)==="[object Array]"){var A=0;for(a=[],A=0;A<o.length;A+=1)Object.prototype.toString.call(o[A])==="[object Array]"?a.push([n.doBidiReorder(o[A][0]),o[A][1],o[A][2]]):a.push([n.doBidiReorder(o[A])]);t.text=a}else t.text=n.doBidiReorder(o);n.setOptions({isInputVisual:!0})}])}(or),or.API.TTFFont=function(){function i(r){var n;if(this.rawData=r,n=this.contents=new ha(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new tM(this),this.registerTTF()}return i.open=function(r){return new i(r)},i.prototype.parse=function(){return this.directory=new QC(this.contents),this.head=new GC(this),this.name=new qC(this),this.cmap=new d1(this),this.toUnicode={},this.hhea=new VC(this),this.maxp=new XC(this),this.hmtx=new YC(this),this.post=new WC(this),this.os2=new zC(this),this.loca=new eM(this),this.glyf=new JC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var r,n,t,o,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,A,l,u;for(u=[],a=0,A=(l=this.bbox).length;a<A;a++)r=l[a],u.push(Math.round(r*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(t=255&(o=this.post.italic_angle),32768&(n=o>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+t)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},i.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},i.prototype.widthOfString=function(r,n,t){var o,s,a,A;for(a=0,s=0,A=(r=""+r).length;0<=A?s<A:s>A;s=0<=A?++s:--s)o=r.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(o))+t*(1e3/n)||0;return a*(n/1e3)},i.prototype.lineHeight=function(r,n){var t;return n==null&&(n=!1),t=n?this.lineGap:0,(this.ascender+t-this.decender)/1e3*r},i}();var Bs,ha=function(){function i(r){this.data=r??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(r){return this.data[this.pos++]=r},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},i.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},i.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},i.prototype.readString=function(r){var n,t;for(t=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t[n]=String.fromCharCode(this.readByte());return t.join("")},i.prototype.writeString=function(r){var n,t,o;for(o=[],n=0,t=r.length;0<=t?n<t:n>t;n=0<=t?++n:--n)o.push(this.writeByte(r.charCodeAt(n)));return o},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(r){return this.writeInt16(r)},i.prototype.readLongLong=function(){var r,n,t,o,s,a,A,l;return r=this.readByte(),n=this.readByte(),t=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),A=this.readByte(),l=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^t)+4294967296*(255^o)+16777216*(255^s)+65536*(255^a)+256*(255^A)+(255^l)+1):72057594037927940*r+281474976710656*n+1099511627776*t+4294967296*o+16777216*s+65536*a+256*A+l},i.prototype.writeLongLong=function(r){var n,t;return n=Math.floor(r/4294967296),t=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(r){return this.writeInt32(r)},i.prototype.read=function(r){var n,t;for(n=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.readByte());return n},i.prototype.write=function(r){var n,t,o,s;for(s=[],t=0,o=r.length;t<o;t++)n=r[t],s.push(this.writeByte(n));return s},i}(),QC=function(){var i;function r(n){var t,o,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},o=0,s=this.tableCount;0<=s?o<s:o>s;o=0<=s?++o:--o)t={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[t.tag]=t}return r.prototype.encode=function(n){var t,o,s,a,A,l,u,p,d,c,h,f,g;for(g in h=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),a=Math.floor(d/l),p=16*h-d,(o=new ha).writeInt(this.scalarType),o.writeShort(h),o.writeShort(d),o.writeShort(a),o.writeShort(p),s=16*h,u=o.pos+s,A=null,f=[],n)for(c=n[g],o.writeString(g),o.writeInt(i(c)),o.writeInt(u),o.writeInt(c.length),f=f.concat(c),g==="head"&&(A=u),u+=c.length;u%4;)f.push(0),u++;return o.write(f),t=2981146554-i(o.data),o.pos=A+8,o.writeUInt32(t),o.data},i=function(n){var t,o,s,a;for(n=f1.call(n);n.length%4;)n.push(0);for(s=new ha(n),o=0,t=0,a=n.length;t<a;t=t+=4)o+=s.readUInt32();return 4294967295&o},r}(),HC={}.hasOwnProperty,zs=function(i,r){for(var n in r)HC.call(r,n)&&(i[n]=r[n]);function t(){this.constructor=i}return t.prototype=r.prototype,i.prototype=new t,i.__super__=r.prototype,i};Bs=function(){function i(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var GC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var t;return(t=new ha).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(n),t.writeShort(this.glyphDataFormat),t.data},r}(),ly=function(){function i(r,n){var t,o,s,a,A,l,u,p,d,c,h,f,g,y,m,b,v;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),d=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=r.readByte();break;case 4:for(h=r.readUInt16(),c=h/2,r.pos+=6,s=function(){var w,_;for(_=[],l=w=0;0<=c?w<c:w>c;l=0<=c?++w:--w)_.push(r.readUInt16());return _}(),r.pos+=2,g=function(){var w,_;for(_=[],l=w=0;0<=c?w<c:w>c;l=0<=c?++w:--w)_.push(r.readUInt16());return _}(),u=function(){var w,_;for(_=[],l=w=0;0<=c?w<c:w>c;l=0<=c?++w:--w)_.push(r.readUInt16());return _}(),p=function(){var w,_;for(_=[],l=w=0;0<=c?w<c:w>c;l=0<=c?++w:--w)_.push(r.readUInt16());return _}(),o=(this.length-r.pos+this.offset)/2,A=function(){var w,_;for(_=[],l=w=0;0<=o?w<o:w>o;l=0<=o?++w:--w)_.push(r.readUInt16());return _}(),l=m=0,v=s.length;m<v;l=++m)for(y=s[l],t=b=f=g[l];f<=y?b<=y:b>=y;t=f<=y?++b:--b)p[l]===0?a=t+u[l]:(a=A[p[l]/2+(t-f)-(c-l)]||0)!==0&&(a+=u[l]),this.codeMap[t]=65535&a}r.pos=d}return i.encode=function(r,n){var t,o,s,a,A,l,u,p,d,c,h,f,g,y,m,b,v,w,_,M,x,E,C,T,B,P,F,j,O,Q,z,k,W,Y,te,R,L,D,V,q,Z,se,fe,be,pe,Ae;switch(j=new ha,a=Object.keys(r).sort(function(ge,ce){return ge-ce}),n){case"macroman":for(g=0,y=function(){var ge=[];for(f=0;f<256;++f)ge.push(0);return ge}(),b={0:0},s={},O=0,W=a.length;O<W;O++)b[fe=r[o=a[O]]]==null&&(b[fe]=++g),s[o]={old:r[o],new:b[r[o]]},y[o]=b[r[o]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(y),{charMap:s,subtable:j.data,maxGlyphID:g+1};case"unicode":for(P=[],d=[],v=0,b={},t={},m=u=null,Q=0,Y=a.length;Q<Y;Q++)b[_=r[o=a[Q]]]==null&&(b[_]=++v),t[o]={old:_,new:b[_]},A=b[_]-o,m!=null&&A===u||(m&&d.push(m),P.push(o),u=A),m=o;for(m&&d.push(m),d.push(65535),P.push(65535),T=2*(C=P.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),c=Math.log(E/2)/Math.LN2,x=2*C-E,l=[],M=[],h=[],f=z=0,te=P.length;z<te;f=++z){if(B=P[f],p=d[f],B===65535){l.push(0),M.push(0);break}if(B-(F=t[B].new)>=32768)for(l.push(0),M.push(2*(h.length+C-f)),o=k=B;B<=p?k<=p:k>=p;o=B<=p?++k:--k)h.push(t[o].new);else l.push(F-B),M.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*C+2*h.length),j.writeUInt16(0),j.writeUInt16(T),j.writeUInt16(E),j.writeUInt16(c),j.writeUInt16(x),Z=0,R=d.length;Z<R;Z++)o=d[Z],j.writeUInt16(o);for(j.writeUInt16(0),se=0,L=P.length;se<L;se++)o=P[se],j.writeUInt16(o);for(be=0,D=l.length;be<D;be++)A=l[be],j.writeUInt16(A);for(pe=0,V=M.length;pe<V;pe++)w=M[pe],j.writeUInt16(w);for(Ae=0,q=h.length;Ae<q;Ae++)g=h[Ae],j.writeUInt16(g);return{charMap:t,subtable:j.data,maxGlyphID:v+1}}},i}(),d1=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="cmap",r.prototype.parse=function(n){var t,o,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)t=new ly(n,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(n,t){var o,s;return t==null&&(t="macroman"),o=ly.encode(n,t),(s=new ha).writeUInt16(0),s.writeUInt16(1),o.table=s.data.concat(o.subtable),o},r}(),VC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),zC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var t,o;for(o=[],t=0;t<10;++t)o.push(n.readByte());return o}(),this.charRange=function(){var t,o;for(o=[],t=0;t<4;++t)o.push(n.readInt());return o}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var t,o;for(o=[],t=0;t<2;t=++t)o.push(n.readInt());return o}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),WC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="post",r.prototype.parse=function(n){var t,o,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(o=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=o?a<o:a>o;a=0<=o?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)t=n.readByte(),s.push(this.names.push(n.readString(t)));return s;case 151552:return o=n.readUInt16(),this.offsets=n.read(o);case 196608:break;case 262144:return this.map=(function(){var A,l,u;for(u=[],a=A=0,l=this.file.maxp.numGlyphs;0<=l?A<l:A>l;a=0<=l?++A:--A)u.push(n.readUInt32());return u}).call(this)}},r}(),KC=function(i,r){this.raw=i,this.length=i.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},qC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="name",r.prototype.parse=function(n){var t,o,s,a,A,l,u,p,d,c,h;for(n.pos=this.offset,n.readShort(),t=n.readShort(),l=n.readShort(),o=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)o.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},a=d=0,c=o.length;d<c;a=++d)s=o[a],n.pos=s.offset,p=n.readString(s.length),A=new KC(p,s),u[h=s.nameID]==null&&(u[h]=[]),u[s.nameID].push(A);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r}(),XC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),YC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="hmtx",r.prototype.parse=function(n){var t,o,s,a,A,l,u;for(n.pos=this.offset,this.metrics=[],t=0,l=this.file.hhea.numberOfMetrics;0<=l?t<l:t>l;t=0<=l?++t:--t)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,d;for(d=[],t=p=0;0<=s?p<s:p>s;t=0<=s?++p:--p)d.push(n.readInt16());return d}(),this.widths=(function(){var p,d,c,h;for(h=[],p=0,d=(c=this.metrics).length;p<d;p++)a=c[p],h.push(a.advance);return h}).call(this),o=this.widths[this.widths.length-1],u=[],t=A=0;0<=s?A<s:A>s;t=0<=s?++A:--A)u.push(this.widths.push(o));return u},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),f1=[].slice,JC=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var t,o,s,a,A,l,u,p,d,c;return n in this.cache?this.cache[n]:(a=this.file.loca,t=this.file.contents,o=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(t.pos=this.offset+o,A=(l=new ha(t.read(s))).readShort(),p=l.readShort(),c=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=A===-1?new $C(l,p,c,u,d):new ZC(l,A,p,c,u,d),this.cache[n]))},r.prototype.encode=function(n,t,o){var s,a,A,l,u;for(A=[],a=[],l=0,u=t.length;l<u;l++)s=n[t[l]],a.push(A.length),s&&(A=A.concat(s.encode(o)));return a.push(A.length),{table:A,offsets:a}},r}(),ZC=function(){function i(r,n,t,o,s,a){this.raw=r,this.numberOfContours=n,this.xMin=t,this.yMin=o,this.xMax=s,this.yMax=a,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),$C=function(){function i(r,n,t,o,s){var a,A;for(this.raw=r,this.xMin=n,this.yMin=t,this.xMax=o,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;A=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&A;)a.pos+=1&A?4:2,128&A?a.pos+=8:64&A?a.pos+=4:8&A&&(a.pos+=2)}return i.prototype.encode=function(){var r,n,t;for(n=new ha(f1.call(this.raw.data)),r=0,t=this.glyphIDs.length;r<t;++r)n.pos=this.glyphOffsets[r];return n.data},i}(),eM=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return zs(r,Bs),r.prototype.tag="loca",r.prototype.parse=function(n){var t,o;return n.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,a;for(a=[],o=0,s=this.length;o<s;o+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],o=0,s=this.length;o<s;o+=4)a.push(n.readUInt32());return a}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,t){for(var o=new Uint32Array(this.offsets.length),s=0,a=0,A=0;A<o.length;++A)if(o[A]=s,a<t.length&&t[a]==A){++a,o[A]=s;var l=this.offsets[A],u=this.offsets[A+1]-l;u>0&&(s+=u)}for(var p=new Array(4*o.length),d=0;d<o.length;++d)p[4*d+3]=255&o[d],p[4*d+2]=(65280&o[d])>>8,p[4*d+1]=(16711680&o[d])>>16,p[4*d]=(4278190080&o[d])>>24;return p},r}(),tM=function(){function i(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var r,n,t,o,s;for(n in o=this.font.cmap.tables[0].codeMap,r={},s=this.subset)t=s[n],r[n]=o[t];return r},i.prototype.glyphsFor=function(r){var n,t,o,s,a,A,l;for(o={},a=0,A=r.length;a<A;a++)o[s=r[a]]=this.font.glyf.glyphFor(s);for(s in n=[],o)(t=o[s])!=null&&t.compound&&n.push.apply(n,t.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))t=l[s],o[s]=t;return o},i.prototype.encode=function(r,n){var t,o,s,a,A,l,u,p,d,c,h,f,g,y,m;for(o in t=d1.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(r),h={0:0},m=t.charMap)h[(l=m[o]).old]=l.new;for(f in c=t.maxGlyphID,a)f in h||(h[f]=c++);return p=function(b){var v,w;for(v in w={},b)w[b[v]]=v;return w}(h),d=Object.keys(p).sort(function(b,v){return b-v}),g=function(){var b,v,w;for(w=[],b=0,v=d.length;b<v;b++)A=d[b],w.push(p[A]);return w}(),s=this.font.glyf.encode(a,g,h),u=this.font.loca.encode(s.offsets,g),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},i}();or.API.PDFObject=function(){var i;function r(){}return i=function(n,t){return(Array(t+1).join("0")+n).slice(-t)},r.convert=function(n){var t,o,s,a;if(Array.isArray(n))return"["+function(){var A,l,u;for(u=[],A=0,l=n.length;A<l;A++)t=n[A],u.push(r.convert(t));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+i(n.getUTCFullYear(),4)+i(n.getUTCMonth(),2)+i(n.getUTCDate(),2)+i(n.getUTCHours(),2)+i(n.getUTCMinutes(),2)+i(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(o in s=["<<"],n)a=n[o],s.push("/"+o+" "+r.convert(a));return s.push(">>"),s.join(`
`)}return""+n},r}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dp=function(i,r){return dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])},dp(i,r)};function Es(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");dp(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var fp=function(){return fp=Object.assign||function(r){for(var n,t=1,o=arguments.length;t<o;t++){n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},fp.apply(this,arguments)};function pi(i,r,n,t){function o(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function A(p){try{u(t.next(p))}catch(d){a(d)}}function l(p){try{u(t.throw(p))}catch(d){a(d)}}function u(p){p.done?s(p.value):o(p.value).then(A,l)}u((t=t.apply(i,r||[])).next())})}function li(i,r){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,o,s,a;return a={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function A(u){return function(p){return l([u,p])}}function l(u){if(t)throw new TypeError("Generator is already executing.");for(;n;)try{if(t=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=r.call(i,n)}catch(p){u=[6,p],o=0}finally{t=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Cu(i,r,n){if(n||arguments.length===2)for(var t=0,o=r.length,s;t<o;t++)(s||!(t in r))&&(s||(s=Array.prototype.slice.call(r,0,t)),s[t]=r[t]);return i.concat(s||r)}var Co=function(){function i(r,n,t,o){this.left=r,this.top=n,this.width=t,this.height=o}return i.prototype.add=function(r,n,t,o){return new i(this.left+r,this.top+n,this.width+t,this.height+o)},i.fromClientRect=function(r,n){return new i(n.left+r.windowBounds.left,n.top+r.windowBounds.top,n.width,n.height)},i.fromDOMRectList=function(r,n){var t=Array.from(n).find(function(o){return o.width!==0});return t?new i(t.left+r.windowBounds.left,t.top+r.windowBounds.top,t.width,t.height):i.EMPTY},i.EMPTY=new i(0,0,0,0),i}(),Hh=function(i,r){return Co.fromClientRect(i,r.getBoundingClientRect())},rM=function(i){var r=i.body,n=i.documentElement;if(!r||!n)throw new Error("Unable to get document size");var t=Math.max(Math.max(r.scrollWidth,n.scrollWidth),Math.max(r.offsetWidth,n.offsetWidth),Math.max(r.clientWidth,n.clientWidth)),o=Math.max(Math.max(r.scrollHeight,n.scrollHeight),Math.max(r.offsetHeight,n.offsetHeight),Math.max(r.clientHeight,n.clientHeight));return new Co(0,0,t,o)},Gh=function(i){for(var r=[],n=0,t=i.length;n<t;){var o=i.charCodeAt(n++);if(o>=55296&&o<=56319&&n<t){var s=i.charCodeAt(n++);(s&64512)===56320?r.push(((o&1023)<<10)+(s&1023)+65536):(r.push(o),n--)}else r.push(o)}return r},vn=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var n=i.length;if(!n)return"";for(var t=[],o=-1,s="";++o<n;){var a=i[o];a<=65535?t.push(a):(a-=65536,t.push((a>>10)+55296,a%1024+56320)),(o+1===n||t.length>16384)&&(s+=String.fromCharCode.apply(String,t),t.length=0)}return s},Ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mu=0;Mu<Ay.length;Mu++)nM[Ay.charCodeAt(Mu)]=Mu;var cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tu=0;Tu<cy.length;Tu++)DA[cy.charCodeAt(Tu)]=Tu;var iM=function(i){var r=i.length*.75,n=i.length,t,o=0,s,a,A,l;i[i.length-1]==="="&&(r--,i[i.length-2]==="="&&r--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),p=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<n;t+=4)s=DA[i.charCodeAt(t)],a=DA[i.charCodeAt(t+1)],A=DA[i.charCodeAt(t+2)],l=DA[i.charCodeAt(t+3)],p[o++]=s<<2|a>>4,p[o++]=(a&15)<<4|A>>2,p[o++]=(A&3)<<6|l&63;return u},sM=function(i){for(var r=i.length,n=[],t=0;t<r;t+=2)n.push(i[t+1]<<8|i[t]);return n},oM=function(i){for(var r=i.length,n=[],t=0;t<r;t+=4)n.push(i[t+3]<<24|i[t+2]<<16|i[t+1]<<8|i[t]);return n},Ha=5,tm=11,mf=2,aM=tm-Ha,p1=65536>>Ha,lM=1<<Ha,gf=lM-1,AM=1024>>Ha,cM=p1+AM,uM=cM,hM=32,dM=uM+hM,fM=65536>>tm,pM=1<<aM,mM=pM-1,uy=function(i,r,n){return i.slice?i.slice(r,n):new Uint16Array(Array.prototype.slice.call(i,r,n))},gM=function(i,r,n){return i.slice?i.slice(r,n):new Uint32Array(Array.prototype.slice.call(i,r,n))},yM=function(i,r){var n=iM(i),t=Array.isArray(n)?oM(n):new Uint32Array(n),o=Array.isArray(n)?sM(n):new Uint16Array(n),s=24,a=uy(o,s/2,t[4]/2),A=t[5]===2?uy(o,(s+t[4])/2):gM(t,Math.ceil((s+t[4])/4));return new vM(t[0],t[1],t[2],t[3],a,A)},vM=function(){function i(r,n,t,o,s,a){this.initialValue=r,this.errorValue=n,this.highStart=t,this.highValueIndex=o,this.index=s,this.data=a}return i.prototype.get=function(r){var n;if(r>=0){if(r<55296||r>56319&&r<=65535)return n=this.index[r>>Ha],n=(n<<mf)+(r&gf),this.data[n];if(r<=65535)return n=this.index[p1+(r-55296>>Ha)],n=(n<<mf)+(r&gf),this.data[n];if(r<this.highStart)return n=dM-fM+(r>>tm),n=this.index[n],n+=r>>Ha&mM,n=this.index[n],n=(n<<mf)+(r&gf),this.data[n];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lu=0;Lu<hy.length;Lu++)bM[hy.charCodeAt(Lu)]=Lu;var wM="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",dy=50,_M=1,m1=2,g1=3,xM=4,SM=5,fy=7,y1=8,py=9,na=10,pp=11,my=12,mp=13,BM=14,OA=15,gp=16,Fu=17,IA=18,EM=19,gy=20,yp=21,PA=22,yf=23,jl=24,Qi=25,NA=26,kA=27,Rl=28,CM=29,ja=30,MM=31,Uu=32,Iu=33,vp=34,bp=35,wp=36,dc=37,_p=38,sh=39,oh=40,vf=41,v1=42,TM=43,LM=[9001,65288],b1="!",Cr="",Pu="",xp=yM(wM),mo=[ja,wp],Sp=[_M,m1,g1,SM],w1=[na,y1],yy=[kA,NA],FM=Sp.concat(w1),vy=[_p,sh,oh,vp,bp],UM=[OA,mp],IM=function(i,r){r===void 0&&(r="strict");var n=[],t=[],o=[];return i.forEach(function(s,a){var A=xp.get(s);if(A>dy?(o.push(!0),A-=dy):o.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return t.push(a),n.push(gp);if(A===xM||A===pp){if(a===0)return t.push(a),n.push(ja);var l=n[a-1];return FM.indexOf(l)===-1?(t.push(t[a-1]),n.push(l)):(t.push(a),n.push(ja))}if(t.push(a),A===MM)return n.push(r==="strict"?yp:dc);if(A===v1||A===CM)return n.push(ja);if(A===TM)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(dc):n.push(ja);n.push(A)}),[t,n,o]},bf=function(i,r,n,t){var o=t[n];if(Array.isArray(i)?i.indexOf(o)!==-1:i===o)for(var s=n;s<=t.length;){s++;var a=t[s];if(a===r)return!0;if(a!==na)break}if(o===na)for(var s=n;s>0;){s--;var A=t[s];if(Array.isArray(i)?i.indexOf(A)!==-1:i===A)for(var l=n;l<=t.length;){l++;var a=t[l];if(a===r)return!0;if(a!==na)break}if(A!==na)break}return!1},by=function(i,r){for(var n=i;n>=0;){var t=r[n];if(t===na)n--;else return t}return 0},PM=function(i,r,n,t,o){if(n[t]===0)return Cr;var s=t-1;if(Array.isArray(o)&&o[s]===!0)return Cr;var a=s-1,A=s+1,l=r[s],u=a>=0?r[a]:0,p=r[A];if(l===m1&&p===g1)return Cr;if(Sp.indexOf(l)!==-1)return b1;if(Sp.indexOf(p)!==-1||w1.indexOf(p)!==-1)return Cr;if(by(s,r)===y1)return Pu;if(xp.get(i[s])===pp||(l===Uu||l===Iu)&&xp.get(i[A])===pp||l===fy||p===fy||l===py||[na,mp,OA].indexOf(l)===-1&&p===py||[Fu,IA,EM,jl,Rl].indexOf(p)!==-1||by(s,r)===PA||bf(yf,PA,s,r)||bf([Fu,IA],yp,s,r)||bf(my,my,s,r))return Cr;if(l===na)return Pu;if(l===yf||p===yf)return Cr;if(p===gp||l===gp)return Pu;if([mp,OA,yp].indexOf(p)!==-1||l===BM||u===wp&&UM.indexOf(l)!==-1||l===Rl&&p===wp||p===gy||mo.indexOf(p)!==-1&&l===Qi||mo.indexOf(l)!==-1&&p===Qi||l===kA&&[dc,Uu,Iu].indexOf(p)!==-1||[dc,Uu,Iu].indexOf(l)!==-1&&p===NA||mo.indexOf(l)!==-1&&yy.indexOf(p)!==-1||yy.indexOf(l)!==-1&&mo.indexOf(p)!==-1||[kA,NA].indexOf(l)!==-1&&(p===Qi||[PA,OA].indexOf(p)!==-1&&r[A+1]===Qi)||[PA,OA].indexOf(l)!==-1&&p===Qi||l===Qi&&[Qi,Rl,jl].indexOf(p)!==-1)return Cr;if([Qi,Rl,jl,Fu,IA].indexOf(p)!==-1)for(var d=s;d>=0;){var c=r[d];if(c===Qi)return Cr;if([Rl,jl].indexOf(c)!==-1)d--;else break}if([kA,NA].indexOf(p)!==-1)for(var d=[Fu,IA].indexOf(l)!==-1?a:s;d>=0;){var c=r[d];if(c===Qi)return Cr;if([Rl,jl].indexOf(c)!==-1)d--;else break}if(_p===l&&[_p,sh,vp,bp].indexOf(p)!==-1||[sh,vp].indexOf(l)!==-1&&[sh,oh].indexOf(p)!==-1||[oh,bp].indexOf(l)!==-1&&p===oh||vy.indexOf(l)!==-1&&[gy,NA].indexOf(p)!==-1||vy.indexOf(p)!==-1&&l===kA||mo.indexOf(l)!==-1&&mo.indexOf(p)!==-1||l===jl&&mo.indexOf(p)!==-1||mo.concat(Qi).indexOf(l)!==-1&&p===PA&&LM.indexOf(i[A])===-1||mo.concat(Qi).indexOf(p)!==-1&&l===IA)return Cr;if(l===vf&&p===vf){for(var h=n[s],f=1;h>0&&(h--,r[h]===vf);)f++;if(f%2!==0)return Cr}return l===Uu&&p===Iu?Cr:Pu},jM=function(i,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var n=IM(i,r.lineBreak),t=n[0],o=n[1],s=n[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(o=o.map(function(A){return[Qi,ja,v1].indexOf(A)!==-1?dc:A}));var a=r.wordBreak==="keep-all"?s.map(function(A,l){return A&&i[l]>=19968&&i[l]<=40959}):void 0;return[t,o,a]},RM=function(){function i(r,n,t,o){this.codePoints=r,this.required=n===b1,this.start=t,this.end=o}return i.prototype.slice=function(){return vn.apply(void 0,this.codePoints.slice(this.start,this.end))},i}(),DM=function(i,r){var n=Gh(i),t=jM(n,r),o=t[0],s=t[1],a=t[2],A=n.length,l=0,u=0;return{next:function(){if(u>=A)return{done:!0,value:null};for(var p=Cr;u<A&&(p=PM(n,s,o,++u,a))===Cr;);if(p!==Cr||u===A){var d=new RM(n,p,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},OM=1,NM=2,vc=4,wy=8,vh=10,_y=47,ZA=92,kM=9,QM=32,ju=34,jA=61,HM=35,GM=36,VM=37,Ru=39,Du=40,RA=41,zM=95,Ci=45,WM=33,KM=60,qM=62,XM=64,YM=91,JM=93,ZM=61,$M=123,Ou=63,e3=125,xy=124,t3=126,r3=128,Sy=65533,wf=42,Da=43,n3=44,i3=58,s3=59,fc=46,o3=0,a3=8,l3=11,A3=14,c3=31,u3=127,Ds=-1,_1=48,x1=97,S1=101,h3=102,d3=117,f3=122,B1=65,E1=69,C1=70,p3=85,m3=90,Ai=function(i){return i>=_1&&i<=57},g3=function(i){return i>=55296&&i<=57343},Dl=function(i){return Ai(i)||i>=B1&&i<=C1||i>=x1&&i<=h3},y3=function(i){return i>=x1&&i<=f3},v3=function(i){return i>=B1&&i<=m3},b3=function(i){return y3(i)||v3(i)},w3=function(i){return i>=r3},Nu=function(i){return i===vh||i===kM||i===QM},bh=function(i){return b3(i)||w3(i)||i===zM},By=function(i){return bh(i)||Ai(i)||i===Ci},_3=function(i){return i>=o3&&i<=a3||i===l3||i>=A3&&i<=c3||i===u3},$o=function(i,r){return i!==ZA?!1:r!==vh},ku=function(i,r,n){return i===Ci?bh(r)||$o(r,n):bh(i)?!0:!!(i===ZA&&$o(i,r))},_f=function(i,r,n){return i===Da||i===Ci?Ai(r)?!0:r===fc&&Ai(n):Ai(i===fc?r:i)},x3=function(i){var r=0,n=1;(i[r]===Da||i[r]===Ci)&&(i[r]===Ci&&(n=-1),r++);for(var t=[];Ai(i[r]);)t.push(i[r++]);var o=t.length?parseInt(vn.apply(void 0,t),10):0;i[r]===fc&&r++;for(var s=[];Ai(i[r]);)s.push(i[r++]);var a=s.length,A=a?parseInt(vn.apply(void 0,s),10):0;(i[r]===E1||i[r]===S1)&&r++;var l=1;(i[r]===Da||i[r]===Ci)&&(i[r]===Ci&&(l=-1),r++);for(var u=[];Ai(i[r]);)u.push(i[r++]);var p=u.length?parseInt(vn.apply(void 0,u),10):0;return n*(o+A*Math.pow(10,-a))*Math.pow(10,l*p)},S3={type:2},B3={type:3},E3={type:4},C3={type:13},M3={type:8},T3={type:21},L3={type:9},F3={type:10},U3={type:11},I3={type:12},P3={type:14},Qu={type:23},j3={type:1},R3={type:25},D3={type:24},O3={type:26},N3={type:27},k3={type:28},Q3={type:29},H3={type:31},Bp={type:32},M1=function(){function i(){this._value=[]}return i.prototype.write=function(r){this._value=this._value.concat(Gh(r))},i.prototype.read=function(){for(var r=[],n=this.consumeToken();n!==Bp;)r.push(n),n=this.consumeToken();return r},i.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case ju:return this.consumeStringToken(ju);case HM:var n=this.peekCodePoint(0),t=this.peekCodePoint(1),o=this.peekCodePoint(2);if(By(n)||$o(t,o)){var s=ku(n,t,o)?NM:OM,a=this.consumeName();return{type:5,value:a,flags:s}}break;case GM:if(this.peekCodePoint(0)===jA)return this.consumeCodePoint(),C3;break;case Ru:return this.consumeStringToken(Ru);case Du:return S3;case RA:return B3;case wf:if(this.peekCodePoint(0)===jA)return this.consumeCodePoint(),P3;break;case Da:if(_f(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case n3:return E3;case Ci:var A=r,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(_f(A,l,u))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(ku(A,l,u))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(l===Ci&&u===qM)return this.consumeCodePoint(),this.consumeCodePoint(),D3;break;case fc:if(_f(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case _y:if(this.peekCodePoint(0)===wf)for(this.consumeCodePoint();;){var p=this.consumeCodePoint();if(p===wf&&(p=this.consumeCodePoint(),p===_y))return this.consumeToken();if(p===Ds)return this.consumeToken()}break;case i3:return O3;case s3:return N3;case KM:if(this.peekCodePoint(0)===WM&&this.peekCodePoint(1)===Ci&&this.peekCodePoint(2)===Ci)return this.consumeCodePoint(),this.consumeCodePoint(),R3;break;case XM:var d=this.peekCodePoint(0),c=this.peekCodePoint(1),h=this.peekCodePoint(2);if(ku(d,c,h)){var a=this.consumeName();return{type:7,value:a}}break;case YM:return k3;case ZA:if($o(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case JM:return Q3;case ZM:if(this.peekCodePoint(0)===jA)return this.consumeCodePoint(),M3;break;case $M:return U3;case e3:return I3;case d3:case p3:var f=this.peekCodePoint(0),g=this.peekCodePoint(1);return f===Da&&(Dl(g)||g===Ou)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case xy:if(this.peekCodePoint(0)===jA)return this.consumeCodePoint(),L3;if(this.peekCodePoint(0)===xy)return this.consumeCodePoint(),T3;break;case t3:if(this.peekCodePoint(0)===jA)return this.consumeCodePoint(),F3;break;case Ds:return Bp}return Nu(r)?(this.consumeWhiteSpace(),H3):Ai(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):bh(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:vn(r)}},i.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r>"u"?-1:r},i.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},i.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},i.prototype.consumeUnicodeRangeToken=function(){for(var r=[],n=this.consumeCodePoint();Dl(n)&&r.length<6;)r.push(n),n=this.consumeCodePoint();for(var t=!1;n===Ou&&r.length<6;)r.push(n),n=this.consumeCodePoint(),t=!0;if(t){var o=parseInt(vn.apply(void 0,r.map(function(l){return l===Ou?_1:l})),16),s=parseInt(vn.apply(void 0,r.map(function(l){return l===Ou?C1:l})),16);return{type:30,start:o,end:s}}var a=parseInt(vn.apply(void 0,r),16);if(this.peekCodePoint(0)===Ci&&Dl(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var A=[];Dl(n)&&A.length<6;)A.push(n),n=this.consumeCodePoint();var s=parseInt(vn.apply(void 0,A),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},i.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===Du?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Du?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},i.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ds)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Ru||n===ju){var t=this.consumeStringToken(this.consumeCodePoint());return t.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ds||this.peekCodePoint(0)===RA)?(this.consumeCodePoint(),{type:22,value:t.value}):(this.consumeBadUrlRemnants(),Qu)}for(;;){var o=this.consumeCodePoint();if(o===Ds||o===RA)return{type:22,value:vn.apply(void 0,r)};if(Nu(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ds||this.peekCodePoint(0)===RA?(this.consumeCodePoint(),{type:22,value:vn.apply(void 0,r)}):(this.consumeBadUrlRemnants(),Qu);if(o===ju||o===Ru||o===Du||_3(o))return this.consumeBadUrlRemnants(),Qu;if(o===ZA)if($o(o,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Qu;else r.push(o)}},i.prototype.consumeWhiteSpace=function(){for(;Nu(this.peekCodePoint(0));)this.consumeCodePoint()},i.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===RA||r===Ds)return;$o(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},i.prototype.consumeStringSlice=function(r){for(var n=5e4,t="";r>0;){var o=Math.min(n,r);t+=vn.apply(void 0,this._value.splice(0,o)),r-=o}return this._value.shift(),t},i.prototype.consumeStringToken=function(r){var n="",t=0;do{var o=this._value[t];if(o===Ds||o===void 0||o===r)return n+=this.consumeStringSlice(t),{type:0,value:n};if(o===vh)return this._value.splice(0,t),j3;if(o===ZA){var s=this._value[t+1];s!==Ds&&s!==void 0&&(s===vh?(n+=this.consumeStringSlice(t),t=-1,this._value.shift()):$o(o,s)&&(n+=this.consumeStringSlice(t),n+=vn(this.consumeEscapedCodePoint()),t=-1))}t++}while(!0)},i.prototype.consumeNumber=function(){var r=[],n=vc,t=this.peekCodePoint(0);for((t===Da||t===Ci)&&r.push(this.consumeCodePoint());Ai(this.peekCodePoint(0));)r.push(this.consumeCodePoint());t=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(t===fc&&Ai(o))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),n=wy;Ai(this.peekCodePoint(0));)r.push(this.consumeCodePoint());t=this.peekCodePoint(0),o=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((t===E1||t===S1)&&((o===Da||o===Ci)&&Ai(s)||Ai(o)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),n=wy;Ai(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[x3(r),n]},i.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),n=r[0],t=r[1],o=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ku(o,s,a)){var A=this.consumeName();return{type:15,number:n,flags:t,unit:A}}return o===VM?(this.consumeCodePoint(),{type:16,number:n,flags:t}):{type:17,number:n,flags:t}},i.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(Dl(r)){for(var n=vn(r);Dl(this.peekCodePoint(0))&&n.length<6;)n+=vn(this.consumeCodePoint());Nu(this.peekCodePoint(0))&&this.consumeCodePoint();var t=parseInt(n,16);return t===0||g3(t)||t>1114111?Sy:t}return r===Ds?Sy:r},i.prototype.consumeName=function(){for(var r="";;){var n=this.consumeCodePoint();if(By(n))r+=vn(n);else if($o(n,this.peekCodePoint(0)))r+=vn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),r}},i}(),T1=function(){function i(r){this._tokens=r}return i.create=function(r){var n=new M1;return n.write(r),new i(n.read())},i.parseValue=function(r){return i.create(r).parseComponentValue()},i.parseValues=function(r){return i.create(r).parseComponentValues()},i.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var n=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},i.prototype.parseComponentValues=function(){for(var r=[];;){var n=this.consumeComponentValue();if(n.type===32)return r;r.push(n),r.push()}},i.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},i.prototype.consumeSimpleBlock=function(r){for(var n={type:r,values:[]},t=this.consumeToken();;){if(t.type===32||V3(t,r))return n;this.reconsumeToken(t),n.values.push(this.consumeComponentValue()),t=this.consumeToken()}},i.prototype.consumeFunction=function(r){for(var n={name:r.value,values:[],type:18};;){var t=this.consumeToken();if(t.type===32||t.type===3)return n;this.reconsumeToken(t),n.values.push(this.consumeComponentValue())}},i.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r>"u"?Bp:r},i.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},i}(),bc=function(i){return i.type===15},fA=function(i){return i.type===17},Kr=function(i){return i.type===20},G3=function(i){return i.type===0},Ep=function(i,r){return Kr(i)&&i.value===r},L1=function(i){return i.type!==31},hA=function(i){return i.type!==31&&i.type!==4},Ws=function(i){var r=[],n=[];return i.forEach(function(t){if(t.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(n),n=[];return}t.type!==31&&n.push(t)}),n.length&&r.push(n),r},V3=function(i,r){return r===11&&i.type===12||r===28&&i.type===29?!0:r===2&&i.type===3},da=function(i){return i.type===17||i.type===15},Mn=function(i){return i.type===16||da(i)},F1=function(i){return i.length>1?[i[0],i[1]]:[i[0]]},Zn={type:17,number:0,flags:vc},rm={type:16,number:50,flags:vc},ia={type:16,number:100,flags:vc},QA=function(i,r,n){var t=i[0],o=i[1];return[en(t,r),en(typeof o<"u"?o:t,n)]},en=function(i,r){if(i.type===16)return i.number/100*r;if(bc(i))switch(i.unit){case"rem":case"em":return 16*i.number;case"px":default:return i.number}return i.number},U1="deg",I1="grad",P1="rad",j1="turn",Vh={name:"angle",parse:function(i,r){if(r.type===15)switch(r.unit){case U1:return Math.PI*r.number/180;case I1:return Math.PI/200*r.number;case P1:return r.number;case j1:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},R1=function(i){return i.type===15&&(i.unit===U1||i.unit===I1||i.unit===P1||i.unit===j1)},D1=function(i){var r=i.filter(Kr).map(function(n){return n.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Zn,Zn];case"to top":case"bottom":return ls(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Zn,ia];case"to right":case"left":return ls(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ia,ia];case"to bottom":case"top":return ls(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ia,Zn];case"to left":case"right":return ls(270)}return 0},ls=function(i){return Math.PI*i/180},Aa={name:"color",parse:function(i,r){if(r.type===18){var n=z3[r.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return n(i,r.values)}if(r.type===5){if(r.value.length===3){var t=r.value.substring(0,1),o=r.value.substring(1,2),s=r.value.substring(2,3);return sa(parseInt(t+t,16),parseInt(o+o,16),parseInt(s+s,16),1)}if(r.value.length===4){var t=r.value.substring(0,1),o=r.value.substring(1,2),s=r.value.substring(2,3),a=r.value.substring(3,4);return sa(parseInt(t+t,16),parseInt(o+o,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(r.value.length===6){var t=r.value.substring(0,2),o=r.value.substring(2,4),s=r.value.substring(4,6);return sa(parseInt(t,16),parseInt(o,16),parseInt(s,16),1)}if(r.value.length===8){var t=r.value.substring(0,2),o=r.value.substring(2,4),s=r.value.substring(4,6),a=r.value.substring(6,8);return sa(parseInt(t,16),parseInt(o,16),parseInt(s,16),parseInt(a,16)/255)}}if(r.type===20){var A=So[r.value.toUpperCase()];if(typeof A<"u")return A}return So.TRANSPARENT}},ca=function(i){return(255&i)===0},zn=function(i){var r=255&i,n=255&i>>8,t=255&i>>16,o=255&i>>24;return r<255?"rgba("+o+","+t+","+n+","+r/255+")":"rgb("+o+","+t+","+n+")"},sa=function(i,r,n,t){return(i<<24|r<<16|n<<8|Math.round(t*255)<<0)>>>0},Ey=function(i,r){if(i.type===17)return i.number;if(i.type===16){var n=r===3?1:255;return r===3?i.number/100*n:Math.round(i.number/100*n)}return 0},Cy=function(i,r){var n=r.filter(hA);if(n.length===3){var t=n.map(Ey),o=t[0],s=t[1],a=t[2];return sa(o,s,a,1)}if(n.length===4){var A=n.map(Ey),o=A[0],s=A[1],a=A[2],l=A[3];return sa(o,s,a,l)}return 0};function xf(i,r,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(r-i)*n*6+i:n<1/2?r:n<2/3?(r-i)*6*(2/3-n)+i:i}var My=function(i,r){var n=r.filter(hA),t=n[0],o=n[1],s=n[2],a=n[3],A=(t.type===17?ls(t.number):Vh.parse(i,t))/(Math.PI*2),l=Mn(o)?o.number/100:0,u=Mn(s)?s.number/100:0,p=typeof a<"u"&&Mn(a)?en(a,1):1;if(l===0)return sa(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,c=u*2-d,h=xf(c,d,A+1/3),f=xf(c,d,A),g=xf(c,d,A-1/3);return sa(h*255,f*255,g*255,p)},z3={hsl:My,hsla:My,rgb:Cy,rgba:Cy},$A=function(i,r){return Aa.parse(i,T1.create(r).parseComponentValue())},So={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},W3={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(i,r){return r.map(function(n){if(Kr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},K3={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zh=function(i,r){var n=Aa.parse(i,r[0]),t=r[1];return t&&Mn(t)?{color:n,stop:t}:{color:n,stop:null}},Ty=function(i,r){var n=i[0],t=i[i.length-1];n.stop===null&&(n.stop=Zn),t.stop===null&&(t.stop=ia);for(var o=[],s=0,a=0;a<i.length;a++){var A=i[a].stop;if(A!==null){var l=en(A,r);l>s?o.push(l):o.push(s),s=l}else o.push(null)}for(var u=null,a=0;a<o.length;a++){var p=o[a];if(p===null)u===null&&(u=a);else if(u!==null){for(var d=a-u,c=o[u-1],h=(p-c)/(d+1),f=1;f<=d;f++)o[u+f-1]=h*f;u=null}}return i.map(function(g,y){var m=g.color;return{color:m,stop:Math.max(Math.min(1,o[y]/r),0)}})},q3=function(i,r,n){var t=r/2,o=n/2,s=en(i[0],r)-t,a=o-en(i[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},X3=function(i,r,n){var t=typeof i=="number"?i:q3(i,r,n),o=Math.abs(r*Math.sin(t))+Math.abs(n*Math.cos(t)),s=r/2,a=n/2,A=o/2,l=Math.sin(t-Math.PI/2)*A,u=Math.cos(t-Math.PI/2)*A;return[o,s-u,s+u,a-l,a+l]},vs=function(i,r){return Math.sqrt(i*i+r*r)},Ly=function(i,r,n,t,o){var s=[[0,0],[0,r],[i,0],[i,r]];return s.reduce(function(a,A){var l=A[0],u=A[1],p=vs(n-l,t-u);return(o?p<a.optimumDistance:p>a.optimumDistance)?{optimumCorner:A,optimumDistance:p}:a},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},Y3=function(i,r,n,t,o){var s=0,a=0;switch(i.size){case 0:i.shape===0?s=a=Math.min(Math.abs(r),Math.abs(r-t),Math.abs(n),Math.abs(n-o)):i.shape===1&&(s=Math.min(Math.abs(r),Math.abs(r-t)),a=Math.min(Math.abs(n),Math.abs(n-o)));break;case 2:if(i.shape===0)s=a=Math.min(vs(r,n),vs(r,n-o),vs(r-t,n),vs(r-t,n-o));else if(i.shape===1){var A=Math.min(Math.abs(n),Math.abs(n-o))/Math.min(Math.abs(r),Math.abs(r-t)),l=Ly(t,o,r,n,!0),u=l[0],p=l[1];s=vs(u-r,(p-n)/A),a=A*s}break;case 1:i.shape===0?s=a=Math.max(Math.abs(r),Math.abs(r-t),Math.abs(n),Math.abs(n-o)):i.shape===1&&(s=Math.max(Math.abs(r),Math.abs(r-t)),a=Math.max(Math.abs(n),Math.abs(n-o)));break;case 3:if(i.shape===0)s=a=Math.max(vs(r,n),vs(r,n-o),vs(r-t,n),vs(r-t,n-o));else if(i.shape===1){var A=Math.max(Math.abs(n),Math.abs(n-o))/Math.max(Math.abs(r),Math.abs(r-t)),d=Ly(t,o,r,n,!1),u=d[0],p=d[1];s=vs(u-r,(p-n)/A),a=A*s}break}return Array.isArray(i.size)&&(s=en(i.size[0],t),a=i.size.length===2?en(i.size[1],o):s),[s,a]},J3=function(i,r){var n=ls(180),t=[];return Ws(r).forEach(function(o,s){if(s===0){var a=o[0];if(a.type===20&&a.value==="to"){n=D1(o);return}else if(R1(a)){n=Vh.parse(i,a);return}}var A=zh(i,o);t.push(A)}),{angle:n,stops:t,type:1}},Hu=function(i,r){var n=ls(180),t=[];return Ws(r).forEach(function(o,s){if(s===0){var a=o[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=D1(o);return}else if(R1(a)){n=(Vh.parse(i,a)+ls(270))%ls(360);return}}var A=zh(i,o);t.push(A)}),{angle:n,stops:t,type:1}},Z3=function(i,r){var n=ls(180),t=[],o=1,s=0,a=3,A=[];return Ws(r).forEach(function(l,u){var p=l[0];if(u===0){if(Kr(p)&&p.value==="linear"){o=1;return}else if(Kr(p)&&p.value==="radial"){o=2;return}}if(p.type===18){if(p.name==="from"){var d=Aa.parse(i,p.values[0]);t.push({stop:Zn,color:d})}else if(p.name==="to"){var d=Aa.parse(i,p.values[0]);t.push({stop:ia,color:d})}else if(p.name==="color-stop"){var c=p.values.filter(hA);if(c.length===2){var d=Aa.parse(i,c[1]),h=c[0];fA(h)&&t.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),o===1?{angle:(n+ls(180))%ls(360),stops:t,type:o}:{size:a,shape:s,stops:t,position:A,type:o}},O1="closest-side",N1="farthest-side",k1="closest-corner",Q1="farthest-corner",H1="circle",G1="ellipse",V1="cover",z1="contain",$3=function(i,r){var n=0,t=3,o=[],s=[];return Ws(r).forEach(function(a,A){var l=!0;if(A===0){var u=!1;l=a.reduce(function(d,c){if(u)if(Kr(c))switch(c.value){case"center":return s.push(rm),d;case"top":case"left":return s.push(Zn),d;case"right":case"bottom":return s.push(ia),d}else(Mn(c)||da(c))&&s.push(c);else if(Kr(c))switch(c.value){case H1:return n=0,!1;case G1:return n=1,!1;case"at":return u=!0,!1;case O1:return t=0,!1;case V1:case N1:return t=1,!1;case z1:case k1:return t=2,!1;case Q1:return t=3,!1}else if(da(c)||Mn(c))return Array.isArray(t)||(t=[]),t.push(c),!1;return d},l)}if(l){var p=zh(i,a);o.push(p)}}),{size:t,shape:n,stops:o,position:s,type:2}},Gu=function(i,r){var n=0,t=3,o=[],s=[];return Ws(r).forEach(function(a,A){var l=!0;if(A===0?l=a.reduce(function(p,d){if(Kr(d))switch(d.value){case"center":return s.push(rm),!1;case"top":case"left":return s.push(Zn),!1;case"right":case"bottom":return s.push(ia),!1}else if(Mn(d)||da(d))return s.push(d),!1;return p},l):A===1&&(l=a.reduce(function(p,d){if(Kr(d))switch(d.value){case H1:return n=0,!1;case G1:return n=1,!1;case z1:case O1:return t=0,!1;case N1:return t=1,!1;case k1:return t=2,!1;case V1:case Q1:return t=3,!1}else if(da(d)||Mn(d))return Array.isArray(t)||(t=[]),t.push(d),!1;return p},l)),l){var u=zh(i,a);o.push(u)}}),{size:t,shape:n,stops:o,position:s,type:2}},eT=function(i){return i.type===1},tT=function(i){return i.type===2},nm={name:"image",parse:function(i,r){if(r.type===22){var n={url:r.value,type:0};return i.cache.addImage(r.value),n}if(r.type===18){var t=W1[r.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return t(i,r.values)}throw new Error("Unsupported image type "+r.type)}};function rT(i){return!(i.type===20&&i.value==="none")&&(i.type!==18||!!W1[i.name])}var W1={"linear-gradient":J3,"-moz-linear-gradient":Hu,"-ms-linear-gradient":Hu,"-o-linear-gradient":Hu,"-webkit-linear-gradient":Hu,"radial-gradient":$3,"-moz-radial-gradient":Gu,"-ms-radial-gradient":Gu,"-o-radial-gradient":Gu,"-webkit-radial-gradient":Gu,"-webkit-gradient":Z3},nT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(i,r){if(r.length===0)return[];var n=r[0];return n.type===20&&n.value==="none"?[]:r.filter(function(t){return hA(t)&&rT(t)}).map(function(t){return nm.parse(i,t)})}},iT={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(i,r){return r.map(function(n){if(Kr(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(i,r){return Ws(r).map(function(n){return n.filter(Mn)}).map(F1)}},oT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(i,r){return Ws(r).map(function(n){return n.filter(Kr).map(function(t){return t.value}).join(" ")}).map(aT)}},aT=function(i){switch(i){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},aA;(function(i){i.AUTO="auto",i.CONTAIN="contain",i.COVER="cover"})(aA||(aA={}));var lT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(i,r){return Ws(r).map(function(n){return n.filter(AT)})}},AT=function(i){return Kr(i)||Mn(i)},Wh=function(i){return{name:"border-"+i+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},cT=Wh("top"),uT=Wh("right"),hT=Wh("bottom"),dT=Wh("left"),Kh=function(i){return{name:"border-radius-"+i,initialValue:"0 0",prefix:!1,type:1,parse:function(r,n){return F1(n.filter(Mn))}}},fT=Kh("top-left"),pT=Kh("top-right"),mT=Kh("bottom-right"),gT=Kh("bottom-left"),qh=function(i){return{name:"border-"+i+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yT=qh("top"),vT=qh("right"),bT=qh("bottom"),wT=qh("left"),Xh=function(i){return{name:"border-"+i+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,n){return bc(n)?n.number:0}}},_T=Xh("top"),xT=Xh("right"),ST=Xh("bottom"),BT=Xh("left"),ET={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},CT={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(i,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},MT={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(i,r){return r.filter(Kr).reduce(function(n,t){return n|TT(t.value)},0)}},TT=function(i){switch(i){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},LT={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(i,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},FT={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(i,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},wh;(function(i){i.NORMAL="normal",i.STRICT="strict"})(wh||(wh={}));var UT={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,r){switch(r){case"strict":return wh.STRICT;case"normal":default:return wh.NORMAL}}},IT={name:"line-height",initialValue:"normal",prefix:!1,type:4},Fy=function(i,r){return Kr(i)&&i.value==="normal"?1.2*r:i.type===17?r*i.number:Mn(i)?en(i,r):r},PT={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(i,r){return r.type===20&&r.value==="none"?null:nm.parse(i,r)}},jT={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(i,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},Cp={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(i,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Yh=function(i){return{name:"margin-"+i,initialValue:"0",prefix:!1,type:4}},RT=Yh("top"),DT=Yh("right"),OT=Yh("bottom"),NT=Yh("left"),kT={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(i,r){return r.filter(Kr).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},QT={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(i,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},Jh=function(i){return{name:"padding-"+i,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},HT=Jh("top"),GT=Jh("right"),VT=Jh("bottom"),zT=Jh("left"),WT={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(i,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},KT={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(i,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qT={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,r){return r.length===1&&Ep(r[0],"none")?[]:Ws(r).map(function(n){for(var t={color:So.TRANSPARENT,offsetX:Zn,offsetY:Zn,blur:Zn},o=0,s=0;s<n.length;s++){var a=n[s];da(a)?(o===0?t.offsetX=a:o===1?t.offsetY=a:t.blur=a,o++):t.color=Aa.parse(i,a)}return t})}},XT={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(i,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},YT={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(i,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var n=$T[r.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return n(r.values)}return null}},JT=function(i){var r=i.filter(function(n){return n.type===17}).map(function(n){return n.number});return r.length===6?r:null},ZT=function(i){var r=i.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=r[0],t=r[1];r[2],r[3];var o=r[4],s=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var a=r[12],A=r[13];return r[14],r[15],r.length===16?[n,t,o,s,a,A]:null},$T={matrix:JT,matrix3d:ZT},Uy={type:16,number:50,flags:vc},e4=[Uy,Uy],t4={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(i,r){var n=r.filter(Mn);return n.length!==2?e4:[n[0],n[1]]}},r4={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(i,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ec;(function(i){i.NORMAL="normal",i.BREAK_ALL="break-all",i.KEEP_ALL="keep-all"})(ec||(ec={}));var n4={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(i,r){switch(r){case"break-all":return ec.BREAK_ALL;case"keep-all":return ec.KEEP_ALL;case"normal":default:return ec.NORMAL}}},i4={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(i,r){if(r.type===20)return{auto:!0,order:0};if(fA(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},K1={name:"time",parse:function(i,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},s4={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(i,r){return fA(r)?r.number:1}},o4={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},a4={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(i,r){return r.filter(Kr).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},l4={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(i,r){var n=[],t=[];return r.forEach(function(o){switch(o.type){case 20:case 0:n.push(o.value);break;case 17:n.push(o.number.toString());break;case 4:t.push(n.join(" ")),n.length=0;break}}),n.length&&t.push(n.join(" ")),t.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},A4={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},c4={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(i,r){if(fA(r))return r.number;if(Kr(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},u4={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(i,r){return r.filter(Kr).map(function(n){return n.value})}},h4={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(i,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},In=function(i,r){return(i&r)!==0},d4={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(i,r){if(r.length===0)return[];var n=r[0];return n.type===20&&n.value==="none"?[]:r}},f4={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(i,r){if(r.length===0)return null;var n=r[0];if(n.type===20&&n.value==="none")return null;for(var t=[],o=r.filter(L1),s=0;s<o.length;s++){var a=o[s],A=o[s+1];if(a.type===20){var l=A&&fA(A)?A.number:1;t.push({counter:a.value,increment:l})}}return t}},p4={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(i,r){if(r.length===0)return[];for(var n=[],t=r.filter(L1),o=0;o<t.length;o++){var s=t[o],a=t[o+1];if(Kr(s)&&s.value!=="none"){var A=a&&fA(a)?a.number:0;n.push({counter:s.value,reset:A})}}return n}},m4={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(i,r){return r.filter(bc).map(function(n){return K1.parse(i,n)})}},g4={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(i,r){if(r.length===0)return null;var n=r[0];if(n.type===20&&n.value==="none")return null;var t=[],o=r.filter(G3);if(o.length%2!==0)return null;for(var s=0;s<o.length;s+=2){var a=o[s].value,A=o[s+1].value;t.push({open:a,close:A})}return t}},Iy=function(i,r,n){if(!i)return"";var t=i[Math.min(r,i.length-1)];return t?n?t.open:t.close:""},y4={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(i,r){return r.length===1&&Ep(r[0],"none")?[]:Ws(r).map(function(n){for(var t={color:255,offsetX:Zn,offsetY:Zn,blur:Zn,spread:Zn,inset:!1},o=0,s=0;s<n.length;s++){var a=n[s];Ep(a,"inset")?t.inset=!0:da(a)?(o===0?t.offsetX=a:o===1?t.offsetY=a:o===2?t.blur=a:t.spread=a,o++):t.color=Aa.parse(i,a)}return t})}},v4={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(i,r){var n=[0,1,2],t=[];return r.filter(Kr).forEach(function(o){switch(o.value){case"stroke":t.push(1);break;case"fill":t.push(0);break;case"markers":t.push(2);break}}),n.forEach(function(o){t.indexOf(o)===-1&&t.push(o)}),t}},b4={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},w4={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(i,r){return bc(r)?r.number:0}},_4=function(){function i(r,n){var t,o;this.animationDuration=zt(r,m4,n.animationDuration),this.backgroundClip=zt(r,W3,n.backgroundClip),this.backgroundColor=zt(r,K3,n.backgroundColor),this.backgroundImage=zt(r,nT,n.backgroundImage),this.backgroundOrigin=zt(r,iT,n.backgroundOrigin),this.backgroundPosition=zt(r,sT,n.backgroundPosition),this.backgroundRepeat=zt(r,oT,n.backgroundRepeat),this.backgroundSize=zt(r,lT,n.backgroundSize),this.borderTopColor=zt(r,cT,n.borderTopColor),this.borderRightColor=zt(r,uT,n.borderRightColor),this.borderBottomColor=zt(r,hT,n.borderBottomColor),this.borderLeftColor=zt(r,dT,n.borderLeftColor),this.borderTopLeftRadius=zt(r,fT,n.borderTopLeftRadius),this.borderTopRightRadius=zt(r,pT,n.borderTopRightRadius),this.borderBottomRightRadius=zt(r,mT,n.borderBottomRightRadius),this.borderBottomLeftRadius=zt(r,gT,n.borderBottomLeftRadius),this.borderTopStyle=zt(r,yT,n.borderTopStyle),this.borderRightStyle=zt(r,vT,n.borderRightStyle),this.borderBottomStyle=zt(r,bT,n.borderBottomStyle),this.borderLeftStyle=zt(r,wT,n.borderLeftStyle),this.borderTopWidth=zt(r,_T,n.borderTopWidth),this.borderRightWidth=zt(r,xT,n.borderRightWidth),this.borderBottomWidth=zt(r,ST,n.borderBottomWidth),this.borderLeftWidth=zt(r,BT,n.borderLeftWidth),this.boxShadow=zt(r,y4,n.boxShadow),this.color=zt(r,ET,n.color),this.direction=zt(r,CT,n.direction),this.display=zt(r,MT,n.display),this.float=zt(r,LT,n.cssFloat),this.fontFamily=zt(r,l4,n.fontFamily),this.fontSize=zt(r,A4,n.fontSize),this.fontStyle=zt(r,h4,n.fontStyle),this.fontVariant=zt(r,u4,n.fontVariant),this.fontWeight=zt(r,c4,n.fontWeight),this.letterSpacing=zt(r,FT,n.letterSpacing),this.lineBreak=zt(r,UT,n.lineBreak),this.lineHeight=zt(r,IT,n.lineHeight),this.listStyleImage=zt(r,PT,n.listStyleImage),this.listStylePosition=zt(r,jT,n.listStylePosition),this.listStyleType=zt(r,Cp,n.listStyleType),this.marginTop=zt(r,RT,n.marginTop),this.marginRight=zt(r,DT,n.marginRight),this.marginBottom=zt(r,OT,n.marginBottom),this.marginLeft=zt(r,NT,n.marginLeft),this.opacity=zt(r,s4,n.opacity);var s=zt(r,kT,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=zt(r,QT,n.overflowWrap),this.paddingTop=zt(r,HT,n.paddingTop),this.paddingRight=zt(r,GT,n.paddingRight),this.paddingBottom=zt(r,VT,n.paddingBottom),this.paddingLeft=zt(r,zT,n.paddingLeft),this.paintOrder=zt(r,v4,n.paintOrder),this.position=zt(r,KT,n.position),this.textAlign=zt(r,WT,n.textAlign),this.textDecorationColor=zt(r,o4,(t=n.textDecorationColor)!==null&&t!==void 0?t:n.color),this.textDecorationLine=zt(r,a4,(o=n.textDecorationLine)!==null&&o!==void 0?o:n.textDecoration),this.textShadow=zt(r,qT,n.textShadow),this.textTransform=zt(r,XT,n.textTransform),this.transform=zt(r,YT,n.transform),this.transformOrigin=zt(r,t4,n.transformOrigin),this.visibility=zt(r,r4,n.visibility),this.webkitTextStrokeColor=zt(r,b4,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=zt(r,w4,n.webkitTextStrokeWidth),this.wordBreak=zt(r,n4,n.wordBreak),this.zIndex=zt(r,i4,n.zIndex)}return i.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},i.prototype.isTransparent=function(){return ca(this.backgroundColor)},i.prototype.isTransformed=function(){return this.transform!==null},i.prototype.isPositioned=function(){return this.position!==0},i.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},i.prototype.isFloating=function(){return this.float!==0},i.prototype.isInlineLevel=function(){return In(this.display,4)||In(this.display,33554432)||In(this.display,268435456)||In(this.display,536870912)||In(this.display,67108864)||In(this.display,134217728)},i}(),x4=function(){function i(r,n){this.content=zt(r,d4,n.content),this.quotes=zt(r,g4,n.quotes)}return i}(),Py=function(){function i(r,n){this.counterIncrement=zt(r,f4,n.counterIncrement),this.counterReset=zt(r,p4,n.counterReset)}return i}(),zt=function(i,r,n){var t=new M1,o=n!==null&&typeof n<"u"?n.toString():r.initialValue;t.write(o);var s=new T1(t.read());switch(r.type){case 2:var a=s.parseComponentValue();return r.parse(i,Kr(a)?a.value:r.initialValue);case 0:return r.parse(i,s.parseComponentValue());case 1:return r.parse(i,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(r.format){case"angle":return Vh.parse(i,s.parseComponentValue());case"color":return Aa.parse(i,s.parseComponentValue());case"image":return nm.parse(i,s.parseComponentValue());case"length":var A=s.parseComponentValue();return da(A)?A:Zn;case"length-percentage":var l=s.parseComponentValue();return Mn(l)?l:Zn;case"time":return K1.parse(i,s.parseComponentValue())}break}},S4="data-html2canvas-debug",B4=function(i){var r=i.getAttribute(S4);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Mp=function(i,r){var n=B4(i);return n===1||r===n},Ks=function(){function i(r,n){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,Mp(n,3))debugger;this.styles=new _4(r,window.getComputedStyle(n,null)),Fp(n)&&(this.styles.animationDuration.some(function(t){return t>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Hh(this.context,n),Mp(n,4)&&(this.flags|=16)}return i}(),E4="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",jy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",HA=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Vu=0;Vu<jy.length;Vu++)HA[jy.charCodeAt(Vu)]=Vu;var C4=function(i){var r=i.length*.75,n=i.length,t,o=0,s,a,A,l;i[i.length-1]==="="&&(r--,i[i.length-2]==="="&&r--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(r):new Array(r),p=Array.isArray(u)?u:new Uint8Array(u);for(t=0;t<n;t+=4)s=HA[i.charCodeAt(t)],a=HA[i.charCodeAt(t+1)],A=HA[i.charCodeAt(t+2)],l=HA[i.charCodeAt(t+3)],p[o++]=s<<2|a>>4,p[o++]=(a&15)<<4|A>>2,p[o++]=(A&3)<<6|l&63;return u},M4=function(i){for(var r=i.length,n=[],t=0;t<r;t+=2)n.push(i[t+1]<<8|i[t]);return n},T4=function(i){for(var r=i.length,n=[],t=0;t<r;t+=4)n.push(i[t+3]<<24|i[t+2]<<16|i[t+1]<<8|i[t]);return n},Ga=5,im=11,Sf=2,L4=im-Ga,q1=65536>>Ga,F4=1<<Ga,Bf=F4-1,U4=1024>>Ga,I4=q1+U4,P4=I4,j4=32,R4=P4+j4,D4=65536>>im,O4=1<<L4,N4=O4-1,Ry=function(i,r,n){return i.slice?i.slice(r,n):new Uint16Array(Array.prototype.slice.call(i,r,n))},k4=function(i,r,n){return i.slice?i.slice(r,n):new Uint32Array(Array.prototype.slice.call(i,r,n))},Q4=function(i,r){var n=C4(i),t=Array.isArray(n)?T4(n):new Uint32Array(n),o=Array.isArray(n)?M4(n):new Uint16Array(n),s=24,a=Ry(o,s/2,t[4]/2),A=t[5]===2?Ry(o,(s+t[4])/2):k4(t,Math.ceil((s+t[4])/4));return new H4(t[0],t[1],t[2],t[3],a,A)},H4=function(){function i(r,n,t,o,s,a){this.initialValue=r,this.errorValue=n,this.highStart=t,this.highValueIndex=o,this.index=s,this.data=a}return i.prototype.get=function(r){var n;if(r>=0){if(r<55296||r>56319&&r<=65535)return n=this.index[r>>Ga],n=(n<<Sf)+(r&Bf),this.data[n];if(r<=65535)return n=this.index[q1+(r-55296>>Ga)],n=(n<<Sf)+(r&Bf),this.data[n];if(r<this.highStart)return n=R4-D4+(r>>im),n=this.index[n],n+=r>>Ga&N4,n=this.index[n],n=(n<<Sf)+(r&Bf),this.data[n];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},i}(),Dy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var zu=0;zu<Dy.length;zu++)G4[Dy.charCodeAt(zu)]=zu;var V4=1,Ef=2,Cf=3,Oy=4,Ny=5,z4=7,ky=8,Mf=9,Tf=10,Qy=11,Hy=12,Gy=13,Vy=14,Lf=15,W4=function(i){for(var r=[],n=0,t=i.length;n<t;){var o=i.charCodeAt(n++);if(o>=55296&&o<=56319&&n<t){var s=i.charCodeAt(n++);(s&64512)===56320?r.push(((o&1023)<<10)+(s&1023)+65536):(r.push(o),n--)}else r.push(o)}return r},K4=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,i);var n=i.length;if(!n)return"";for(var t=[],o=-1,s="";++o<n;){var a=i[o];a<=65535?t.push(a):(a-=65536,t.push((a>>10)+55296,a%1024+56320)),(o+1===n||t.length>16384)&&(s+=String.fromCharCode.apply(String,t),t.length=0)}return s},q4=Q4(E4),ns="",Ff="",X4=function(i){return q4.get(i)},Y4=function(i,r,n){var t=n-2,o=r[t],s=r[n-1],a=r[n];if(s===Ef&&a===Cf)return ns;if(s===Ef||s===Cf||s===Oy||a===Ef||a===Cf||a===Oy)return Ff;if(s===ky&&[ky,Mf,Qy,Hy].indexOf(a)!==-1||(s===Qy||s===Mf)&&(a===Mf||a===Tf)||(s===Hy||s===Tf)&&a===Tf||a===Gy||a===Ny||a===z4||s===V4)return ns;if(s===Gy&&a===Vy){for(;o===Ny;)o=r[--t];if(o===Vy)return ns}if(s===Lf&&a===Lf){for(var A=0;o===Lf;)A++,o=r[--t];if(A%2===0)return ns}return Ff},J4=function(i){var r=W4(i),n=r.length,t=0,o=0,s=r.map(X4);return{next:function(){if(t>=n)return{done:!0,value:null};for(var a=ns;t<n&&(a=Y4(r,s,++t))===ns;);if(a!==ns||t===n){var A=K4.apply(null,r.slice(o,t));return o=t,{value:A,done:!1}}return{done:!0,value:null}}}},Z4=function(i){for(var r=J4(i),n=[],t;!(t=r.next()).done;)t.value&&n.push(t.value.slice());return n},$4=function(i){var r=123;if(i.createRange){var n=i.createRange();if(n.getBoundingClientRect){var t=i.createElement("boundtest");t.style.height=r+"px",t.style.display="block",i.body.appendChild(t),n.selectNode(t);var o=n.getBoundingClientRect(),s=Math.round(o.height);if(i.body.removeChild(t),s===r)return!0}}return!1},eL=function(i){var r=i.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",i.body.appendChild(r);var n=i.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var t=r.firstChild,o=Gh(t.data).map(function(l){return vn(l)}),s=0,a={},A=o.every(function(l,u){n.setStart(t,s),n.setEnd(t,s+l.length);var p=n.getBoundingClientRect();s+=l.length;var d=p.x>a.x||p.y>a.y;return a=p,u===0?!0:d});return i.body.removeChild(r),A},tL=function(){return typeof new Image().crossOrigin<"u"},rL=function(){return typeof new XMLHttpRequest().responseType=="string"},nL=function(i){var r=new Image,n=i.createElement("canvas"),t=n.getContext("2d");if(!t)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{t.drawImage(r,0,0),n.toDataURL()}catch{return!1}return!0},zy=function(i){return i[0]===0&&i[1]===255&&i[2]===0&&i[3]===255},iL=function(i){var r=i.createElement("canvas"),n=100;r.width=n,r.height=n;var t=r.getContext("2d");if(!t)return Promise.reject(!1);t.fillStyle="rgb(0, 255, 0)",t.fillRect(0,0,n,n);var o=new Image,s=r.toDataURL();o.src=s;var a=Tp(n,n,0,0,o);return t.fillStyle="red",t.fillRect(0,0,n,n),Wy(a).then(function(A){t.drawImage(A,0,0);var l=t.getImageData(0,0,n,n).data;t.fillStyle="red",t.fillRect(0,0,n,n);var u=i.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=n+"px",zy(l)?Wy(Tp(n,n,0,0,u)):Promise.reject(!1)}).then(function(A){return t.drawImage(A,0,0),zy(t.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Tp=function(i,r,n,t,o){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),A=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"height",r.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",n.toString()),A.setAttributeNS(null,"y",t.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(A),A.appendChild(o),a},Wy=function(i){return new Promise(function(r,n){var t=new Image;t.onload=function(){return r(t)},t.onerror=n,t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},Yn={get SUPPORT_RANGE_BOUNDS(){var i=$4(document);return Object.defineProperty(Yn,"SUPPORT_RANGE_BOUNDS",{value:i}),i},get SUPPORT_WORD_BREAKING(){var i=Yn.SUPPORT_RANGE_BOUNDS&&eL(document);return Object.defineProperty(Yn,"SUPPORT_WORD_BREAKING",{value:i}),i},get SUPPORT_SVG_DRAWING(){var i=nL(document);return Object.defineProperty(Yn,"SUPPORT_SVG_DRAWING",{value:i}),i},get SUPPORT_FOREIGNOBJECT_DRAWING(){var i=typeof Array.from=="function"&&typeof window.fetch=="function"?iL(document):Promise.resolve(!1);return Object.defineProperty(Yn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:i}),i},get SUPPORT_CORS_IMAGES(){var i=tL();return Object.defineProperty(Yn,"SUPPORT_CORS_IMAGES",{value:i}),i},get SUPPORT_RESPONSE_TYPE(){var i=rL();return Object.defineProperty(Yn,"SUPPORT_RESPONSE_TYPE",{value:i}),i},get SUPPORT_CORS_XHR(){var i="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Yn,"SUPPORT_CORS_XHR",{value:i}),i},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var i=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Yn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:i}),i}},tc=function(){function i(r,n){this.text=r,this.bounds=n}return i}(),sL=function(i,r,n,t){var o=lL(r,n),s=[],a=0;return o.forEach(function(A){if(n.textDecorationLine.length||A.trim().length>0)if(Yn.SUPPORT_RANGE_BOUNDS){var l=Ky(t,a,A.length).getClientRects();if(l.length>1){var u=sm(A),p=0;u.forEach(function(c){s.push(new tc(c,Co.fromDOMRectList(i,Ky(t,p+a,c.length).getClientRects()))),p+=c.length})}else s.push(new tc(A,Co.fromDOMRectList(i,l)))}else{var d=t.splitText(A.length);s.push(new tc(A,oL(i,t))),t=d}else Yn.SUPPORT_RANGE_BOUNDS||(t=t.splitText(A.length));a+=A.length}),s},oL=function(i,r){var n=r.ownerDocument;if(n){var t=n.createElement("html2canvaswrapper");t.appendChild(r.cloneNode(!0));var o=r.parentNode;if(o){o.replaceChild(t,r);var s=Hh(i,t);return t.firstChild&&o.replaceChild(t.firstChild,t),s}}return Co.EMPTY},Ky=function(i,r,n){var t=i.ownerDocument;if(!t)throw new Error("Node has no owner document");var o=t.createRange();return o.setStart(i,r),o.setEnd(i,r+n),o},sm=function(i){if(Yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(i)).map(function(n){return n.segment})}return Z4(i)},aL=function(i,r){if(Yn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(i)).map(function(t){return t.segment})}return cL(i,r)},lL=function(i,r){return r.letterSpacing!==0?sm(i):aL(i,r)},AL=[32,160,4961,65792,65793,4153,4241],cL=function(i,r){for(var n=DM(i,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),t=[],o,s=function(){if(o.value){var a=o.value.slice(),A=Gh(a),l="";A.forEach(function(u){AL.indexOf(u)===-1?l+=vn(u):(l.length&&t.push(l),t.push(vn(u)),l="")}),l.length&&t.push(l)}};!(o=n.next()).done;)s();return t},uL=function(){function i(r,n,t){this.text=hL(n.data,t.textTransform),this.textBounds=sL(r,this.text,t,n)}return i}(),hL=function(i,r){switch(r){case 1:return i.toLowerCase();case 3:return i.replace(dL,fL);case 2:return i.toUpperCase();default:return i}},dL=/(^|\s|:|-|\(|\))([a-z])/g,fL=function(i,r,n){return i.length>0?r+n.toUpperCase():i},X1=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o.src=t.currentSrc||t.src,o.intrinsicWidth=t.naturalWidth,o.intrinsicHeight=t.naturalHeight,o.context.cache.addImage(o.src),o}return r}(Ks),Y1=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o.canvas=t,o.intrinsicWidth=t.width,o.intrinsicHeight=t.height,o}return r}(Ks),J1=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this,s=new XMLSerializer,a=Hh(n,t);return t.setAttribute("width",a.width+"px"),t.setAttribute("height",a.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(t)),o.intrinsicWidth=t.width.baseVal.value,o.intrinsicHeight=t.height.baseVal.value,o.context.cache.addImage(o.svg),o}return r}(Ks),Z1=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o.value=t.value,o}return r}(Ks),Lp=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o.start=t.start,o.reversed=typeof t.reversed=="boolean"&&t.reversed===!0,o}return r}(Ks),pL=[{type:15,flags:0,unit:"px",number:3}],mL=[{type:16,flags:0,number:50}],gL=function(i){return i.width>i.height?new Co(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new Co(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i},yL=function(i){var r=i.type===vL?new Array(i.value.length+1).join(""):i.value;return r.length===0?i.placeholder||"":r},_h="checkbox",xh="radio",vL="password",qy=707406591,om=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;switch(o.type=t.type.toLowerCase(),o.checked=t.checked,o.value=yL(t),(o.type===_h||o.type===xh)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=gL(o.bounds)),o.type){case _h:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=pL;break;case xh:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=mL;break}return o}return r}(Ks),$1=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this,s=t.options[t.selectedIndex||0];return o.value=s&&s.text||"",o}return r}(Ks),eb=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o.value=t.value,o}return r}(Ks),tb=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;o.src=t.src,o.width=parseInt(t.width,10)||0,o.height=parseInt(t.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){o.tree=nb(n,t.contentWindow.document.documentElement);var s=t.contentWindow.document.documentElement?$A(n,getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):So.TRANSPARENT,a=t.contentWindow.document.body?$A(n,getComputedStyle(t.contentWindow.document.body).backgroundColor):So.TRANSPARENT;o.backgroundColor=ca(s)?ca(a)?o.styles.backgroundColor:a:s}}catch{}return o}return r}(Ks),bL=["OL","UL","MENU"],ah=function(i,r,n,t){for(var o=r.firstChild,s=void 0;o;o=s)if(s=o.nextSibling,ib(o)&&o.data.trim().length>0)n.textNodes.push(new uL(i,o,n.styles));else if(Zl(o))if(lb(o)&&o.assignedNodes)o.assignedNodes().forEach(function(A){return ah(i,A,n,t)});else{var a=rb(i,o);a.styles.isVisible()&&(wL(o,a,t)?a.flags|=4:_L(a.styles)&&(a.flags|=2),bL.indexOf(o.tagName)!==-1&&(a.flags|=8),n.elements.push(a),o.slot,o.shadowRoot?ah(i,o.shadowRoot,a,t):!Sh(o)&&!sb(o)&&!Bh(o)&&ah(i,o,a,t))}},rb=function(i,r){return Up(r)?new X1(i,r):ob(r)?new Y1(i,r):sb(r)?new J1(i,r):xL(r)?new Z1(i,r):SL(r)?new Lp(i,r):BL(r)?new om(i,r):Bh(r)?new $1(i,r):Sh(r)?new eb(i,r):ab(r)?new tb(i,r):new Ks(i,r)},nb=function(i,r){var n=rb(i,r);return n.flags|=4,ah(i,r,n,n),n},wL=function(i,r,n){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||am(i)&&n.styles.isTransparent()},_L=function(i){return i.isPositioned()||i.isFloating()},ib=function(i){return i.nodeType===Node.TEXT_NODE},Zl=function(i){return i.nodeType===Node.ELEMENT_NODE},Fp=function(i){return Zl(i)&&typeof i.style<"u"&&!lh(i)},lh=function(i){return typeof i.className=="object"},xL=function(i){return i.tagName==="LI"},SL=function(i){return i.tagName==="OL"},BL=function(i){return i.tagName==="INPUT"},EL=function(i){return i.tagName==="HTML"},sb=function(i){return i.tagName==="svg"},am=function(i){return i.tagName==="BODY"},ob=function(i){return i.tagName==="CANVAS"},Xy=function(i){return i.tagName==="VIDEO"},Up=function(i){return i.tagName==="IMG"},ab=function(i){return i.tagName==="IFRAME"},Yy=function(i){return i.tagName==="STYLE"},CL=function(i){return i.tagName==="SCRIPT"},Sh=function(i){return i.tagName==="TEXTAREA"},Bh=function(i){return i.tagName==="SELECT"},lb=function(i){return i.tagName==="SLOT"},Jy=function(i){return i.tagName.indexOf("-")>0},ML=function(){function i(){this.counters={}}return i.prototype.getCounterValue=function(r){var n=this.counters[r];return n&&n.length?n[n.length-1]:1},i.prototype.getCounterValues=function(r){var n=this.counters[r];return n||[]},i.prototype.pop=function(r){var n=this;r.forEach(function(t){return n.counters[t].pop()})},i.prototype.parse=function(r){var n=this,t=r.counterIncrement,o=r.counterReset,s=!0;t!==null&&t.forEach(function(A){var l=n.counters[A.counter];l&&A.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var a=[];return s&&o.forEach(function(A){var l=n.counters[A.counter];a.push(A.counter),l||(l=n.counters[A.counter]=[]),l.push(A.reset)}),a},i}(),Zy={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$y={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},TL={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},LL={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ol=function(i,r,n,t,o,s){return i<r||i>n?pc(i,o,s.length>0):t.integers.reduce(function(a,A,l){for(;i>=A;)i-=A,a+=t.values[l];return a},"")+s},Ab=function(i,r,n,t){var o="";do n||i--,o=t(i)+o,i/=r;while(i*r>=r);return o},yn=function(i,r,n,t,o){var s=n-r+1;return(i<0?"-":"")+(Ab(Math.abs(i),s,t,function(a){return vn(Math.floor(a%s)+r)})+o)},Ta=function(i,r,n){n===void 0&&(n=". ");var t=r.length;return Ab(Math.abs(i),t,!1,function(o){return r[Math.floor(o%t)]})+n},Vl=1,Yo=2,Jo=4,GA=8,go=function(i,r,n,t,o,s){if(i<-9999||i>9999)return pc(i,4,o.length>0);var a=Math.abs(i),A=o;if(a===0)return r[0]+A;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&In(s,Vl)&&A!==""?A=r[u]+A:u>1||u===1&&l===0||u===1&&l===1&&In(s,Yo)||u===1&&l===1&&In(s,Jo)&&i>100||u===1&&l>1&&In(s,GA)?A=r[u]+(l>0?n[l-1]:"")+A:u===1&&l>0&&(A=n[l-1]+A),a=Math.floor(a/10)}return(i<0?t:"")+A},ev="",tv="",rv="",Uf="",pc=function(i,r,n){var t=n?". ":"",o=n?"":"",s=n?", ":"",a=n?" ":"";switch(r){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var A=yn(i,48,57,!0,t);return A.length<4?"0"+A:A;case 4:return Ta(i,"",o);case 6:return Ol(i,1,3999,Zy,3,t).toLowerCase();case 7:return Ol(i,1,3999,Zy,3,t);case 8:return yn(i,945,969,!1,t);case 9:return yn(i,97,122,!1,t);case 10:return yn(i,65,90,!1,t);case 11:return yn(i,1632,1641,!0,t);case 12:case 49:return Ol(i,1,9999,$y,3,t);case 35:return Ol(i,1,9999,$y,3,t).toLowerCase();case 13:return yn(i,2534,2543,!0,t);case 14:case 30:return yn(i,6112,6121,!0,t);case 15:return Ta(i,"",o);case 16:return Ta(i,"",o);case 17:case 48:return go(i,"",ev,"",o,Yo|Jo|GA);case 47:return go(i,"",tv,"",o,Vl|Yo|Jo|GA);case 42:return go(i,"",ev,"",o,Yo|Jo|GA);case 41:return go(i,"",tv,"",o,Vl|Yo|Jo|GA);case 26:return go(i,"","",rv,o,0);case 25:return go(i,"","",rv,o,Vl|Yo|Jo);case 31:return go(i,"","",Uf,s,Vl|Yo|Jo);case 33:return go(i,"","",Uf,s,0);case 32:return go(i,"","",Uf,s,Vl|Yo|Jo);case 18:return yn(i,2406,2415,!0,t);case 20:return Ol(i,1,19999,LL,3,t);case 21:return yn(i,2790,2799,!0,t);case 22:return yn(i,2662,2671,!0,t);case 22:return Ol(i,1,10999,TL,3,t);case 23:return Ta(i,"");case 24:return Ta(i,"");case 27:return yn(i,3302,3311,!0,t);case 28:return Ta(i,"",o);case 29:return Ta(i,"",o);case 34:return yn(i,3792,3801,!0,t);case 37:return yn(i,6160,6169,!0,t);case 38:return yn(i,4160,4169,!0,t);case 39:return yn(i,2918,2927,!0,t);case 40:return yn(i,1776,1785,!0,t);case 43:return yn(i,3046,3055,!0,t);case 44:return yn(i,3174,3183,!0,t);case 45:return yn(i,3664,3673,!0,t);case 46:return yn(i,3872,3881,!0,t);case 3:default:return yn(i,48,57,!0,t)}},cb="data-html2canvas-ignore",nv=function(){function i(r,n,t){if(this.context=r,this.options=t,this.scrolledElements=[],this.referenceElement=n,this.counters=new ML,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return i.prototype.toIFrame=function(r,n){var t=this,o=FL(r,n);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var s=r.defaultView.pageXOffset,a=r.defaultView.pageYOffset,A=o.contentWindow,l=A.document,u=PL(o).then(function(){return pi(t,void 0,void 0,function(){var p,d;return li(this,function(c){switch(c.label){case 0:return this.scrolledElements.forEach(OL),A&&(A.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==n.top||A.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-n.left,A.scrollY-n.top,0,0))),p=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:c.sent(),c.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,IL(l)]:[3,4];case 3:c.sent(),c.label=4;case 4:return typeof p=="function"?[2,Promise.resolve().then(function(){return p(l,d)}).then(function(){return o})]:[2,o]}})})});return l.open(),l.write(RL(document.doctype)+"<html></html>"),DL(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},i.prototype.createElementClone=function(r){if(Mp(r,2))debugger;if(ob(r))return this.createCanvasClone(r);if(Xy(r))return this.createVideoClone(r);if(Yy(r))return this.createStyleClone(r);var n=r.cloneNode(!1);return Up(n)&&(Up(r)&&r.currentSrc&&r.currentSrc!==r.src&&(n.src=r.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Jy(n)?this.createCustomElementClone(n):n},i.prototype.createCustomElementClone=function(r){var n=document.createElement("html2canvascustomelement");return If(r.style,n),n},i.prototype.createStyleClone=function(r){try{var n=r.sheet;if(n&&n.cssRules){var t=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),o=r.cloneNode(!1);return o.textContent=t,o}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return r.cloneNode(!1)},i.prototype.createCanvasClone=function(r){var n;if(this.options.inlineImages&&r.ownerDocument){var t=r.ownerDocument.createElement("img");try{return t.src=r.toDataURL(),t}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",r)}}var o=r.cloneNode(!1);try{o.width=r.width,o.height=r.height;var s=r.getContext("2d"),a=o.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,r.width,r.height),0,0);else{var A=(n=r.getContext("webgl2"))!==null&&n!==void 0?n:r.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",r)}a.drawImage(r,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",r)}return o},i.prototype.createVideoClone=function(r){var n=r.ownerDocument.createElement("canvas");n.width=r.offsetWidth,n.height=r.offsetHeight;var t=n.getContext("2d");try{return t&&(t.drawImage(r,0,0,n.width,n.height),this.options.allowTaint||t.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",r)}var o=r.ownerDocument.createElement("canvas");return o.width=r.offsetWidth,o.height=r.offsetHeight,o},i.prototype.appendChildNode=function(r,n,t){(!Zl(n)||!CL(n)&&!n.hasAttribute(cb)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Zl(n)||!Yy(n))&&r.appendChild(this.cloneNode(n,t))},i.prototype.cloneChildNodes=function(r,n,t){for(var o=this,s=r.shadowRoot?r.shadowRoot.firstChild:r.firstChild;s;s=s.nextSibling)if(Zl(s)&&lb(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(A){return o.appendChildNode(n,A,t)})}else this.appendChildNode(n,s,t)},i.prototype.cloneNode=function(r,n){if(ib(r))return document.createTextNode(r.data);if(!r.ownerDocument)return r.cloneNode(!1);var t=r.ownerDocument.defaultView;if(t&&Zl(r)&&(Fp(r)||lh(r))){var o=this.createElementClone(r);o.style.transitionProperty="none";var s=t.getComputedStyle(r),a=t.getComputedStyle(r,":before"),A=t.getComputedStyle(r,":after");this.referenceElement===r&&Fp(o)&&(this.clonedReferenceElement=o),am(o)&&QL(o);var l=this.counters.parse(new Py(this.context,s)),u=this.resolvePseudoContent(r,o,a,rc.BEFORE);Jy(r)&&(n=!0),Xy(r)||this.cloneChildNodes(r,o,n),u&&o.insertBefore(u,o.firstChild);var p=this.resolvePseudoContent(r,o,A,rc.AFTER);return p&&o.appendChild(p),this.counters.pop(l),(s&&(this.options.copyStyles||lh(r))&&!ab(r)||n)&&If(s,o),(r.scrollTop!==0||r.scrollLeft!==0)&&this.scrolledElements.push([o,r.scrollLeft,r.scrollTop]),(Sh(r)||Bh(r))&&(Sh(o)||Bh(o))&&(o.value=r.value),o}return r.cloneNode(!1)},i.prototype.resolvePseudoContent=function(r,n,t,o){var s=this;if(t){var a=t.content,A=n.ownerDocument;if(!(!A||!a||a==="none"||a==="-moz-alt-content"||t.display==="none")){this.counters.parse(new Py(this.context,t));var l=new x4(this.context,t),u=A.createElement("html2canvaspseudoelement");If(t,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(A.createTextNode(d.value));else if(d.type===22){var c=A.createElement("img");c.src=d.value,c.style.opacity="1",u.appendChild(c)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(Kr);h.length&&u.appendChild(A.createTextNode(r.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var f=d.values.filter(hA),g=f[0],y=f[1];if(g&&Kr(g)){var m=s.counters.getCounterValue(g.value),b=y&&Kr(y)?Cp.parse(s.context,y.value):3;u.appendChild(A.createTextNode(pc(m,b,!1)))}}else if(d.name==="counters"){var v=d.values.filter(hA),g=v[0],w=v[1],y=v[2];if(g&&Kr(g)){var _=s.counters.getCounterValues(g.value),M=y&&Kr(y)?Cp.parse(s.context,y.value):3,x=w&&w.type===0?w.value:"",E=_.map(function(B){return pc(B,M,!1)}).join(x);u.appendChild(A.createTextNode(E))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(A.createTextNode(Iy(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(A.createTextNode(Iy(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(A.createTextNode(d.value))}}),u.className=Ip+" "+Pp;var p=o===rc.BEFORE?" "+Ip:" "+Pp;return lh(n)?n.className.baseValue+=p:n.className+=p,u}}},i.destroy=function(r){return r.parentNode?(r.parentNode.removeChild(r),!0):!1},i}(),rc;(function(i){i[i.BEFORE=0]="BEFORE",i[i.AFTER=1]="AFTER"})(rc||(rc={}));var FL=function(i,r){var n=i.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=r.width.toString(),n.height=r.height.toString(),n.scrolling="no",n.setAttribute(cb,"true"),i.body.appendChild(n),n},UL=function(i){return new Promise(function(r){if(i.complete){r();return}if(!i.src){r();return}i.onload=r,i.onerror=r})},IL=function(i){return Promise.all([].slice.call(i.images,0).map(UL))},PL=function(i){return new Promise(function(r,n){var t=i.contentWindow;if(!t)return n("No window assigned for iframe");var o=t.document;t.onload=i.onload=function(){t.onload=i.onload=null;var s=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(s),r(i))},50)}})},jL=["all","d","content"],If=function(i,r){for(var n=i.length-1;n>=0;n--){var t=i.item(n);jL.indexOf(t)===-1&&r.style.setProperty(t,i.getPropertyValue(t))}return r},RL=function(i){var r="";return i&&(r+="<!DOCTYPE ",i.name&&(r+=i.name),i.internalSubset&&(r+=i.internalSubset),i.publicId&&(r+='"'+i.publicId+'"'),i.systemId&&(r+='"'+i.systemId+'"'),r+=">"),r},DL=function(i,r,n){i&&i.defaultView&&(r!==i.defaultView.pageXOffset||n!==i.defaultView.pageYOffset)&&i.defaultView.scrollTo(r,n)},OL=function(i){var r=i[0],n=i[1],t=i[2];r.scrollLeft=n,r.scrollTop=t},NL=":before",kL=":after",Ip="___html2canvas___pseudoelement_before",Pp="___html2canvas___pseudoelement_after",iv=`{
    content: "" !important;
    display: none !important;
}`,QL=function(i){HL(i,"."+Ip+NL+iv+`
         .`+Pp+kL+iv)},HL=function(i,r){var n=i.ownerDocument;if(n){var t=n.createElement("style");t.textContent=r,i.appendChild(t)}},ub=function(){function i(){}return i.getOrigin=function(r){var n=i._link;return n?(n.href=r,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},i.isSameOrigin=function(r){return i.getOrigin(r)===i._origin},i.setContext=function(r){i._link=r.document.createElement("a"),i._origin=i.getOrigin(r.location.href)},i._origin="about:blank",i}(),GL=function(){function i(r,n){this.context=r,this._options=n,this._cache={}}return i.prototype.addImage=function(r){var n=Promise.resolve();return this.has(r)||(jf(r)||KL(r))&&(this._cache[r]=this.loadImage(r)).catch(function(){}),n},i.prototype.match=function(r){return this._cache[r]},i.prototype.loadImage=function(r){return pi(this,void 0,void 0,function(){var n,t,o,s,a=this;return li(this,function(A){switch(A.label){case 0:return n=ub.isSameOrigin(r),t=!Pf(r)&&this._options.useCORS===!0&&Yn.SUPPORT_CORS_IMAGES&&!n,o=!Pf(r)&&!n&&!jf(r)&&typeof this._options.proxy=="string"&&Yn.SUPPORT_CORS_XHR&&!t,!n&&this._options.allowTaint===!1&&!Pf(r)&&!jf(r)&&!o&&!t?[2]:(s=r,o?[4,this.proxy(s)]:[3,2]);case 1:s=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+r.substring(0,256)),[4,new Promise(function(l,u){var p=new Image;p.onload=function(){return l(p)},p.onerror=u,(qL(s)||t)&&(p.crossOrigin="anonymous"),p.src=s,p.complete===!0&&setTimeout(function(){return l(p)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},i.prototype.has=function(r){return typeof this._cache[r]<"u"},i.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},i.prototype.proxy=function(r){var n=this,t=this._options.proxy;if(!t)throw new Error("No proxy defined");var o=r.substring(0,256);return new Promise(function(s,a){var A=Yn.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")s(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(c){return a(c)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+o+" with status code "+l.status)},l.onerror=a;var u=t.indexOf("?")>-1?"&":"?";if(l.open("GET",""+t+u+"url="+encodeURIComponent(r)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),n._options.imageTimeout){var p=n._options.imageTimeout;l.timeout=p,l.ontimeout=function(){return a("Timed out ("+p+"ms) proxying "+o)}}l.send()})},i}(),VL=/^data:image\/svg\+xml/i,zL=/^data:image\/.*;base64,/i,WL=/^data:image\/.*/i,KL=function(i){return Yn.SUPPORT_SVG_DRAWING||!XL(i)},Pf=function(i){return WL.test(i)},qL=function(i){return zL.test(i)},jf=function(i){return i.substr(0,4)==="blob"},XL=function(i){return i.substr(-3).toLowerCase()==="svg"||VL.test(i)},Qt=function(){function i(r,n){this.type=0,this.x=r,this.y=n}return i.prototype.add=function(r,n){return new i(this.x+r,this.y+n)},i}(),Nl=function(i,r,n){return new Qt(i.x+(r.x-i.x)*n,i.y+(r.y-i.y)*n)},Wu=function(){function i(r,n,t,o){this.type=1,this.start=r,this.startControl=n,this.endControl=t,this.end=o}return i.prototype.subdivide=function(r,n){var t=Nl(this.start,this.startControl,r),o=Nl(this.startControl,this.endControl,r),s=Nl(this.endControl,this.end,r),a=Nl(t,o,r),A=Nl(o,s,r),l=Nl(a,A,r);return n?new i(this.start,t,a,l):new i(l,A,s,this.end)},i.prototype.add=function(r,n){return new i(this.start.add(r,n),this.startControl.add(r,n),this.endControl.add(r,n),this.end.add(r,n))},i.prototype.reverse=function(){return new i(this.end,this.endControl,this.startControl,this.start)},i}(),os=function(i){return i.type===1},YL=function(){function i(r){var n=r.styles,t=r.bounds,o=QA(n.borderTopLeftRadius,t.width,t.height),s=o[0],a=o[1],A=QA(n.borderTopRightRadius,t.width,t.height),l=A[0],u=A[1],p=QA(n.borderBottomRightRadius,t.width,t.height),d=p[0],c=p[1],h=QA(n.borderBottomLeftRadius,t.width,t.height),f=h[0],g=h[1],y=[];y.push((s+l)/t.width),y.push((f+d)/t.width),y.push((a+g)/t.height),y.push((u+c)/t.height);var m=Math.max.apply(Math,y);m>1&&(s/=m,a/=m,l/=m,u/=m,d/=m,c/=m,f/=m,g/=m);var b=t.width-l,v=t.height-c,w=t.width-d,_=t.height-g,M=n.borderTopWidth,x=n.borderRightWidth,E=n.borderBottomWidth,C=n.borderLeftWidth,T=en(n.paddingTop,r.bounds.width),B=en(n.paddingRight,r.bounds.width),P=en(n.paddingBottom,r.bounds.width),F=en(n.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?An(t.left+C/3,t.top+M/3,s-C/3,a-M/3,Or.TOP_LEFT):new Qt(t.left+C/3,t.top+M/3),this.topRightBorderDoubleOuterBox=s>0||a>0?An(t.left+b,t.top+M/3,l-x/3,u-M/3,Or.TOP_RIGHT):new Qt(t.left+t.width-x/3,t.top+M/3),this.bottomRightBorderDoubleOuterBox=d>0||c>0?An(t.left+w,t.top+v,d-x/3,c-E/3,Or.BOTTOM_RIGHT):new Qt(t.left+t.width-x/3,t.top+t.height-E/3),this.bottomLeftBorderDoubleOuterBox=f>0||g>0?An(t.left+C/3,t.top+_,f-C/3,g-E/3,Or.BOTTOM_LEFT):new Qt(t.left+C/3,t.top+t.height-E/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?An(t.left+C*2/3,t.top+M*2/3,s-C*2/3,a-M*2/3,Or.TOP_LEFT):new Qt(t.left+C*2/3,t.top+M*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?An(t.left+b,t.top+M*2/3,l-x*2/3,u-M*2/3,Or.TOP_RIGHT):new Qt(t.left+t.width-x*2/3,t.top+M*2/3),this.bottomRightBorderDoubleInnerBox=d>0||c>0?An(t.left+w,t.top+v,d-x*2/3,c-E*2/3,Or.BOTTOM_RIGHT):new Qt(t.left+t.width-x*2/3,t.top+t.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=f>0||g>0?An(t.left+C*2/3,t.top+_,f-C*2/3,g-E*2/3,Or.BOTTOM_LEFT):new Qt(t.left+C*2/3,t.top+t.height-E*2/3),this.topLeftBorderStroke=s>0||a>0?An(t.left+C/2,t.top+M/2,s-C/2,a-M/2,Or.TOP_LEFT):new Qt(t.left+C/2,t.top+M/2),this.topRightBorderStroke=s>0||a>0?An(t.left+b,t.top+M/2,l-x/2,u-M/2,Or.TOP_RIGHT):new Qt(t.left+t.width-x/2,t.top+M/2),this.bottomRightBorderStroke=d>0||c>0?An(t.left+w,t.top+v,d-x/2,c-E/2,Or.BOTTOM_RIGHT):new Qt(t.left+t.width-x/2,t.top+t.height-E/2),this.bottomLeftBorderStroke=f>0||g>0?An(t.left+C/2,t.top+_,f-C/2,g-E/2,Or.BOTTOM_LEFT):new Qt(t.left+C/2,t.top+t.height-E/2),this.topLeftBorderBox=s>0||a>0?An(t.left,t.top,s,a,Or.TOP_LEFT):new Qt(t.left,t.top),this.topRightBorderBox=l>0||u>0?An(t.left+b,t.top,l,u,Or.TOP_RIGHT):new Qt(t.left+t.width,t.top),this.bottomRightBorderBox=d>0||c>0?An(t.left+w,t.top+v,d,c,Or.BOTTOM_RIGHT):new Qt(t.left+t.width,t.top+t.height),this.bottomLeftBorderBox=f>0||g>0?An(t.left,t.top+_,f,g,Or.BOTTOM_LEFT):new Qt(t.left,t.top+t.height),this.topLeftPaddingBox=s>0||a>0?An(t.left+C,t.top+M,Math.max(0,s-C),Math.max(0,a-M),Or.TOP_LEFT):new Qt(t.left+C,t.top+M),this.topRightPaddingBox=l>0||u>0?An(t.left+Math.min(b,t.width-x),t.top+M,b>t.width+x?0:Math.max(0,l-x),Math.max(0,u-M),Or.TOP_RIGHT):new Qt(t.left+t.width-x,t.top+M),this.bottomRightPaddingBox=d>0||c>0?An(t.left+Math.min(w,t.width-C),t.top+Math.min(v,t.height-E),Math.max(0,d-x),Math.max(0,c-E),Or.BOTTOM_RIGHT):new Qt(t.left+t.width-x,t.top+t.height-E),this.bottomLeftPaddingBox=f>0||g>0?An(t.left+C,t.top+Math.min(_,t.height-E),Math.max(0,f-C),Math.max(0,g-E),Or.BOTTOM_LEFT):new Qt(t.left+C,t.top+t.height-E),this.topLeftContentBox=s>0||a>0?An(t.left+C+F,t.top+M+T,Math.max(0,s-(C+F)),Math.max(0,a-(M+T)),Or.TOP_LEFT):new Qt(t.left+C+F,t.top+M+T),this.topRightContentBox=l>0||u>0?An(t.left+Math.min(b,t.width+C+F),t.top+M+T,b>t.width+C+F?0:l-C+F,u-(M+T),Or.TOP_RIGHT):new Qt(t.left+t.width-(x+B),t.top+M+T),this.bottomRightContentBox=d>0||c>0?An(t.left+Math.min(w,t.width-(C+F)),t.top+Math.min(v,t.height+M+T),Math.max(0,d-(x+B)),c-(E+P),Or.BOTTOM_RIGHT):new Qt(t.left+t.width-(x+B),t.top+t.height-(E+P)),this.bottomLeftContentBox=f>0||g>0?An(t.left+C+F,t.top+_,Math.max(0,f-(C+F)),g-(E+P),Or.BOTTOM_LEFT):new Qt(t.left+C+F,t.top+t.height-(E+P))}return i}(),Or;(function(i){i[i.TOP_LEFT=0]="TOP_LEFT",i[i.TOP_RIGHT=1]="TOP_RIGHT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Or||(Or={}));var An=function(i,r,n,t,o){var s=4*((Math.sqrt(2)-1)/3),a=n*s,A=t*s,l=i+n,u=r+t;switch(o){case Or.TOP_LEFT:return new Wu(new Qt(i,u),new Qt(i,u-A),new Qt(l-a,r),new Qt(l,r));case Or.TOP_RIGHT:return new Wu(new Qt(i,r),new Qt(i+a,r),new Qt(l,u-A),new Qt(l,u));case Or.BOTTOM_RIGHT:return new Wu(new Qt(l,r),new Qt(l,r+A),new Qt(i+a,u),new Qt(i,u));case Or.BOTTOM_LEFT:default:return new Wu(new Qt(l,u),new Qt(l-a,u),new Qt(i,r+A),new Qt(i,r))}},Eh=function(i){return[i.topLeftBorderBox,i.topRightBorderBox,i.bottomRightBorderBox,i.bottomLeftBorderBox]},JL=function(i){return[i.topLeftContentBox,i.topRightContentBox,i.bottomRightContentBox,i.bottomLeftContentBox]},Ch=function(i){return[i.topLeftPaddingBox,i.topRightPaddingBox,i.bottomRightPaddingBox,i.bottomLeftPaddingBox]},ZL=function(){function i(r,n,t){this.offsetX=r,this.offsetY=n,this.matrix=t,this.type=0,this.target=6}return i}(),Ku=function(){function i(r,n){this.path=r,this.target=n,this.type=1}return i}(),$L=function(){function i(r){this.opacity=r,this.type=2,this.target=6}return i}(),eF=function(i){return i.type===0},hb=function(i){return i.type===1},tF=function(i){return i.type===2},sv=function(i,r){return i.length===r.length?i.some(function(n,t){return n===r[t]}):!1},rF=function(i,r,n,t,o){return i.map(function(s,a){switch(a){case 0:return s.add(r,n);case 1:return s.add(r+t,n);case 2:return s.add(r+t,n+o);case 3:return s.add(r,n+o)}return s})},db=function(){function i(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return i}(),fb=function(){function i(r,n){if(this.container=r,this.parent=n,this.effects=[],this.curves=new YL(this.container),this.container.styles.opacity<1&&this.effects.push(new $L(this.container.styles.opacity)),this.container.styles.transform!==null){var t=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new ZL(t,o,s))}if(this.container.styles.overflowX!==0){var a=Eh(this.curves),A=Ch(this.curves);sv(a,A)?this.effects.push(new Ku(a,6)):(this.effects.push(new Ku(a,2)),this.effects.push(new Ku(A,4)))}}return i.prototype.getEffects=function(r){for(var n=[2,3].indexOf(this.container.styles.position)===-1,t=this.parent,o=this.effects.slice(0);t;){var s=t.effects.filter(function(l){return!hb(l)});if(n||t.container.styles.position!==0||!t.parent){if(o.unshift.apply(o,s),n=[2,3].indexOf(t.container.styles.position)===-1,t.container.styles.overflowX!==0){var a=Eh(t.curves),A=Ch(t.curves);sv(a,A)||o.unshift(new Ku(A,6))}}else o.unshift.apply(o,s);t=t.parent}return o.filter(function(l){return In(l.target,r)})},i}(),jp=function(i,r,n,t){i.container.elements.forEach(function(o){var s=In(o.flags,4),a=In(o.flags,2),A=new fb(o,i);In(o.styles.display,2048)&&t.push(A);var l=In(o.flags,8)?[]:t;if(s||a){var u=s||o.styles.isPositioned()?n:r,p=new db(A);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var d=o.styles.zIndex.order;if(d<0){var c=0;u.negativeZIndex.some(function(f,g){return d>f.element.container.styles.zIndex.order?(c=g,!1):c>0}),u.negativeZIndex.splice(c,0,p)}else if(d>0){var h=0;u.positiveZIndex.some(function(f,g){return d>=f.element.container.styles.zIndex.order?(h=g+1,!1):h>0}),u.positiveZIndex.splice(h,0,p)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(p)}else o.styles.isFloating()?u.nonPositionedFloats.push(p):u.nonPositionedInlineLevel.push(p);jp(A,p,s?p:n,l)}else o.styles.isInlineLevel()?r.inlineLevel.push(A):r.nonInlineLevel.push(A),jp(A,r,n,l);In(o.flags,8)&&pb(o,l)})},pb=function(i,r){for(var n=i instanceof Lp?i.start:1,t=i instanceof Lp?i.reversed:!1,o=0;o<r.length;o++){var s=r[o];s.container instanceof Z1&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=pc(n,s.container.styles.listStyleType,!0),n+=t?-1:1}},nF=function(i){var r=new fb(i,null),n=new db(r),t=[];return jp(r,n,n,t),pb(r.container,t),n},ov=function(i,r){switch(r){case 0:return As(i.topLeftBorderBox,i.topLeftPaddingBox,i.topRightBorderBox,i.topRightPaddingBox);case 1:return As(i.topRightBorderBox,i.topRightPaddingBox,i.bottomRightBorderBox,i.bottomRightPaddingBox);case 2:return As(i.bottomRightBorderBox,i.bottomRightPaddingBox,i.bottomLeftBorderBox,i.bottomLeftPaddingBox);case 3:default:return As(i.bottomLeftBorderBox,i.bottomLeftPaddingBox,i.topLeftBorderBox,i.topLeftPaddingBox)}},iF=function(i,r){switch(r){case 0:return As(i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox,i.topRightBorderBox,i.topRightBorderDoubleOuterBox);case 1:return As(i.topRightBorderBox,i.topRightBorderDoubleOuterBox,i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox);case 2:return As(i.bottomRightBorderBox,i.bottomRightBorderDoubleOuterBox,i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox);case 3:default:return As(i.bottomLeftBorderBox,i.bottomLeftBorderDoubleOuterBox,i.topLeftBorderBox,i.topLeftBorderDoubleOuterBox)}},sF=function(i,r){switch(r){case 0:return As(i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox,i.topRightBorderDoubleInnerBox,i.topRightPaddingBox);case 1:return As(i.topRightBorderDoubleInnerBox,i.topRightPaddingBox,i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox);case 2:return As(i.bottomRightBorderDoubleInnerBox,i.bottomRightPaddingBox,i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox);case 3:default:return As(i.bottomLeftBorderDoubleInnerBox,i.bottomLeftPaddingBox,i.topLeftBorderDoubleInnerBox,i.topLeftPaddingBox)}},oF=function(i,r){switch(r){case 0:return qu(i.topLeftBorderStroke,i.topRightBorderStroke);case 1:return qu(i.topRightBorderStroke,i.bottomRightBorderStroke);case 2:return qu(i.bottomRightBorderStroke,i.bottomLeftBorderStroke);case 3:default:return qu(i.bottomLeftBorderStroke,i.topLeftBorderStroke)}},qu=function(i,r){var n=[];return os(i)?n.push(i.subdivide(.5,!1)):n.push(i),os(r)?n.push(r.subdivide(.5,!0)):n.push(r),n},As=function(i,r,n,t){var o=[];return os(i)?o.push(i.subdivide(.5,!1)):o.push(i),os(n)?o.push(n.subdivide(.5,!0)):o.push(n),os(t)?o.push(t.subdivide(.5,!0).reverse()):o.push(t),os(r)?o.push(r.subdivide(.5,!1).reverse()):o.push(r),o},mb=function(i){var r=i.bounds,n=i.styles;return r.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Mh=function(i){var r=i.styles,n=i.bounds,t=en(r.paddingLeft,n.width),o=en(r.paddingRight,n.width),s=en(r.paddingTop,n.width),a=en(r.paddingBottom,n.width);return n.add(t+r.borderLeftWidth,s+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+t+o),-(r.borderTopWidth+r.borderBottomWidth+s+a))},aF=function(i,r){return i===0?r.bounds:i===2?Mh(r):mb(r)},lF=function(i,r){return i===0?r.bounds:i===2?Mh(r):mb(r)},Rf=function(i,r,n){var t=aF(zl(i.styles.backgroundOrigin,r),i),o=lF(zl(i.styles.backgroundClip,r),i),s=AF(zl(i.styles.backgroundSize,r),n,t),a=s[0],A=s[1],l=QA(zl(i.styles.backgroundPosition,r),t.width-a,t.height-A),u=cF(zl(i.styles.backgroundRepeat,r),l,s,t,o),p=Math.round(t.left+l[0]),d=Math.round(t.top+l[1]);return[u,p,d,a,A]},kl=function(i){return Kr(i)&&i.value===aA.AUTO},Xu=function(i){return typeof i=="number"},AF=function(i,r,n){var t=r[0],o=r[1],s=r[2],a=i[0],A=i[1];if(!a)return[0,0];if(Mn(a)&&A&&Mn(A))return[en(a,n.width),en(A,n.height)];var l=Xu(s);if(Kr(a)&&(a.value===aA.CONTAIN||a.value===aA.COVER)){if(Xu(s)){var u=n.width/n.height;return u<s!=(a.value===aA.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var p=Xu(t),d=Xu(o),c=p||d;if(kl(a)&&(!A||kl(A))){if(p&&d)return[t,o];if(!l&&!c)return[n.width,n.height];if(c&&l){var h=p?t:o*s,f=d?o:t/s;return[h,f]}var g=p?t:n.width,y=d?o:n.height;return[g,y]}if(l){var m=0,b=0;return Mn(a)?m=en(a,n.width):Mn(A)&&(b=en(A,n.height)),kl(a)?m=b*s:(!A||kl(A))&&(b=m/s),[m,b]}var v=null,w=null;if(Mn(a)?v=en(a,n.width):A&&Mn(A)&&(w=en(A,n.height)),v!==null&&(!A||kl(A))&&(w=p&&d?v/t*o:n.height),w!==null&&kl(a)&&(v=p&&d?w/o*t:n.width),v!==null&&w!==null)return[v,w];throw new Error("Unable to calculate background-size for element")},zl=function(i,r){var n=i[r];return typeof n>"u"?i[0]:n},cF=function(i,r,n,t,o){var s=r[0],a=r[1],A=n[0],l=n[1];switch(i){case 2:return[new Qt(Math.round(t.left),Math.round(t.top+a)),new Qt(Math.round(t.left+t.width),Math.round(t.top+a)),new Qt(Math.round(t.left+t.width),Math.round(l+t.top+a)),new Qt(Math.round(t.left),Math.round(l+t.top+a))];case 3:return[new Qt(Math.round(t.left+s),Math.round(t.top)),new Qt(Math.round(t.left+s+A),Math.round(t.top)),new Qt(Math.round(t.left+s+A),Math.round(t.height+t.top)),new Qt(Math.round(t.left+s),Math.round(t.height+t.top))];case 1:return[new Qt(Math.round(t.left+s),Math.round(t.top+a)),new Qt(Math.round(t.left+s+A),Math.round(t.top+a)),new Qt(Math.round(t.left+s+A),Math.round(t.top+a+l)),new Qt(Math.round(t.left+s),Math.round(t.top+a+l))];default:return[new Qt(Math.round(o.left),Math.round(o.top)),new Qt(Math.round(o.left+o.width),Math.round(o.top)),new Qt(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Qt(Math.round(o.left),Math.round(o.height+o.top))]}},uF="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",av="Hidden Text",hF=function(){function i(r){this._data={},this._document=r}return i.prototype.parseMetrics=function(r,n){var t=this._document.createElement("div"),o=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;t.style.visibility="hidden",t.style.fontFamily=r,t.style.fontSize=n,t.style.margin="0",t.style.padding="0",t.style.whiteSpace="nowrap",a.appendChild(t),o.src=uF,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",s.style.fontFamily=r,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(av)),t.appendChild(s),t.appendChild(o);var A=o.offsetTop-s.offsetTop+2;t.removeChild(s),t.appendChild(this._document.createTextNode(av)),t.style.lineHeight="normal",o.style.verticalAlign="super";var l=o.offsetTop-t.offsetTop+2;return a.removeChild(t),{baseline:A,middle:l}},i.prototype.getMetrics=function(r,n){var t=r+" "+n;return typeof this._data[t]>"u"&&(this._data[t]=this.parseMetrics(r,n)),this._data[t]},i}(),gb=function(){function i(r,n){this.context=r,this.options=n}return i}(),dF=1e4,fF=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o._activeEffects=[],o.canvas=t.canvas?t.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),t.canvas||(o.canvas.width=Math.floor(t.width*t.scale),o.canvas.height=Math.floor(t.height*t.scale),o.canvas.style.width=t.width+"px",o.canvas.style.height=t.height+"px"),o.fontMetrics=new hF(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-t.x,-t.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+t.width+"x"+t.height+") with scale "+t.scale),o}return r.prototype.applyEffects=function(n){for(var t=this;this._activeEffects.length;)this.popEffect();n.forEach(function(o){return t.applyEffect(o)})},r.prototype.applyEffect=function(n){this.ctx.save(),tF(n)&&(this.ctx.globalAlpha=n.opacity),eF(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),hb(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(n){return pi(this,void 0,void 0,function(){var t;return li(this,function(o){switch(o.label){case 0:return t=n.element.container.styles,t.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(n){return pi(this,void 0,void 0,function(){return li(this,function(t){switch(t.label){case 0:if(In(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(n)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(n,t,o){var s=this;if(t===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+o);else{var a=sm(n.text);a.reduce(function(A,l){return s.ctx.fillText(l,A,n.bounds.top+o),A+s.ctx.measureText(l).width},n.bounds.left)}},r.prototype.createFontStyle=function(n){var t=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),o=vF(n.fontFamily).join(", "),s=bc(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,t,n.fontWeight,s,o].join(" "),o,s]},r.prototype.renderTextNode=function(n,t){return pi(this,void 0,void 0,function(){var o,s,a,A,l,u,p,d,c=this;return li(this,function(h){return o=this.createFontStyle(t),s=o[0],a=o[1],A=o[2],this.ctx.font=s,this.ctx.direction=t.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,A),u=l.baseline,p=l.middle,d=t.paintOrder,n.textBounds.forEach(function(f){d.forEach(function(g){switch(g){case 0:c.ctx.fillStyle=zn(t.color),c.renderTextWithLetterSpacing(f,t.letterSpacing,u);var y=t.textShadow;y.length&&f.text.trim().length&&(y.slice(0).reverse().forEach(function(m){c.ctx.shadowColor=zn(m.color),c.ctx.shadowOffsetX=m.offsetX.number*c.options.scale,c.ctx.shadowOffsetY=m.offsetY.number*c.options.scale,c.ctx.shadowBlur=m.blur.number,c.renderTextWithLetterSpacing(f,t.letterSpacing,u)}),c.ctx.shadowColor="",c.ctx.shadowOffsetX=0,c.ctx.shadowOffsetY=0,c.ctx.shadowBlur=0),t.textDecorationLine.length&&(c.ctx.fillStyle=zn(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(m){switch(m){case 1:c.ctx.fillRect(f.bounds.left,Math.round(f.bounds.top+u),f.bounds.width,1);break;case 2:c.ctx.fillRect(f.bounds.left,Math.round(f.bounds.top),f.bounds.width,1);break;case 3:c.ctx.fillRect(f.bounds.left,Math.ceil(f.bounds.top+p),f.bounds.width,1);break}}));break;case 1:t.webkitTextStrokeWidth&&f.text.trim().length&&(c.ctx.strokeStyle=zn(t.webkitTextStrokeColor),c.ctx.lineWidth=t.webkitTextStrokeWidth,c.ctx.lineJoin=window.chrome?"miter":"round",c.ctx.strokeText(f.text,f.bounds.left,f.bounds.top+u)),c.ctx.strokeStyle="",c.ctx.lineWidth=0,c.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(n,t,o){if(o&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=Mh(n),a=Ch(t);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(n){return pi(this,void 0,void 0,function(){var t,o,s,a,A,l,b,b,u,p,d,c,w,h,f,_,g,y,m,b,v,w,_;return li(this,function(M){switch(M.label){case 0:this.applyEffects(n.getEffects(4)),t=n.container,o=n.curves,s=t.styles,a=0,A=t.textNodes,M.label=1;case 1:return a<A.length?(l=A[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:M.sent(),M.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof X1))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return b=M.sent(),this.renderReplacedElement(t,o,b),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Y1&&this.renderReplacedElement(t,o,t.canvas),!(t instanceof J1))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return b=M.sent(),this.renderReplacedElement(t,o,b),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof tb&&t.tree?(u=new r(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}),[4,u.render(t.tree)]):[3,14];case 13:p=M.sent(),t.width&&t.height&&this.ctx.drawImage(p,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),M.label=14;case 14:if(t instanceof om&&(d=Math.min(t.bounds.width,t.bounds.height),t.type===_h?t.checked&&(this.ctx.save(),this.path([new Qt(t.bounds.left+d*.39363,t.bounds.top+d*.79),new Qt(t.bounds.left+d*.16,t.bounds.top+d*.5549),new Qt(t.bounds.left+d*.27347,t.bounds.top+d*.44071),new Qt(t.bounds.left+d*.39694,t.bounds.top+d*.5649),new Qt(t.bounds.left+d*.72983,t.bounds.top+d*.23),new Qt(t.bounds.left+d*.84,t.bounds.top+d*.34085),new Qt(t.bounds.left+d*.39363,t.bounds.top+d*.79)]),this.ctx.fillStyle=zn(qy),this.ctx.fill(),this.ctx.restore()):t.type===xh&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+d/2,t.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=zn(qy),this.ctx.fill(),this.ctx.restore())),pF(t)&&t.value.length){switch(c=this.createFontStyle(s),w=c[0],h=c[1],f=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=zn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=gF(t.styles.textAlign),_=Mh(t),g=0,t.styles.textAlign){case 1:g+=_.width/2;break;case 2:g+=_.width;break}y=_.add(g,0,0,-_.height/2+1),this.ctx.save(),this.path([new Qt(_.left,_.top),new Qt(_.left+_.width,_.top),new Qt(_.left+_.width,_.top+_.height),new Qt(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tc(t.value,y),s.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!In(t.styles.display,2048))return[3,20];if(t.styles.listStyleImage===null)return[3,19];if(m=t.styles.listStyleImage,m.type!==0)return[3,18];b=void 0,v=m.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return b=M.sent(),this.ctx.drawImage(b,t.bounds.left-(b.width+10),t.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:n.listValue&&t.styles.listStyleType!==-1&&(w=this.createFontStyle(s)[0],this.ctx.font=w,this.ctx.fillStyle=zn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new Co(t.bounds.left,t.bounds.top+en(t.styles.paddingTop,t.bounds.width),t.bounds.width,Fy(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tc(n.listValue,_),s.letterSpacing,Fy(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(n){return pi(this,void 0,void 0,function(){var t,o,m,s,a,m,A,l,m,u,p,m,d,c,m,h,f,m,g,y,m;return li(this,function(b){switch(b.label){case 0:if(In(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:b.sent(),t=0,o=n.negativeZIndex,b.label=2;case 2:return t<o.length?(m=o[t],[4,this.renderStack(m)]):[3,5];case 3:b.sent(),b.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:b.sent(),s=0,a=n.nonInlineLevel,b.label=7;case 7:return s<a.length?(m=a[s],[4,this.renderNode(m)]):[3,10];case 8:b.sent(),b.label=9;case 9:return s++,[3,7];case 10:A=0,l=n.nonPositionedFloats,b.label=11;case 11:return A<l.length?(m=l[A],[4,this.renderStack(m)]):[3,14];case 12:b.sent(),b.label=13;case 13:return A++,[3,11];case 14:u=0,p=n.nonPositionedInlineLevel,b.label=15;case 15:return u<p.length?(m=p[u],[4,this.renderStack(m)]):[3,18];case 16:b.sent(),b.label=17;case 17:return u++,[3,15];case 18:d=0,c=n.inlineLevel,b.label=19;case 19:return d<c.length?(m=c[d],[4,this.renderNode(m)]):[3,22];case 20:b.sent(),b.label=21;case 21:return d++,[3,19];case 22:h=0,f=n.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return h<f.length?(m=f[h],[4,this.renderStack(m)]):[3,26];case 24:b.sent(),b.label=25;case 25:return h++,[3,23];case 26:g=0,y=n.positiveZIndex,b.label=27;case 27:return g<y.length?(m=y[g],[4,this.renderStack(m)]):[3,30];case 28:b.sent(),b.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},r.prototype.formatPath=function(n){var t=this;n.forEach(function(o,s){var a=os(o)?o.start:o;s===0?t.ctx.moveTo(a.x,a.y):t.ctx.lineTo(a.x,a.y),os(o)&&t.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},r.prototype.renderRepeat=function(n,t,o,s){this.path(n),this.ctx.fillStyle=t,this.ctx.translate(o,s),this.ctx.fill(),this.ctx.translate(-o,-s)},r.prototype.resizeImage=function(n,t,o){var s;if(n.width===t&&n.height===o)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,A=a.createElement("canvas");A.width=Math.max(1,t),A.height=Math.max(1,o);var l=A.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,t,o),A},r.prototype.renderBackgroundImage=function(n){return pi(this,void 0,void 0,function(){var t,o,s,a,A,l;return li(this,function(u){switch(u.label){case 0:t=n.styles.backgroundImage.length-1,o=function(p){var d,c,h,T,Q,z,F,j,E,f,T,Q,z,F,j,g,y,m,b,v,w,_,M,x,E,C,T,B,P,F,j,O,Q,z,k,W,Y,te,R,L,D,V;return li(this,function(q){switch(q.label){case 0:if(p.type!==0)return[3,5];d=void 0,c=p.url,q.label=1;case 1:return q.trys.push([1,3,,4]),[4,s.context.cache.match(c)];case 2:return d=q.sent(),[3,4];case 3:return q.sent(),s.context.logger.error("Error loading background-image "+c),[3,4];case 4:return d&&(h=Rf(n,t,[d.width,d.height,d.width/d.height]),T=h[0],Q=h[1],z=h[2],F=h[3],j=h[4],E=s.ctx.createPattern(s.resizeImage(d,F,j),"repeat"),s.renderRepeat(T,E,Q,z)),[3,6];case 5:eT(p)?(f=Rf(n,t,[null,null,null]),T=f[0],Q=f[1],z=f[2],F=f[3],j=f[4],g=X3(p.angle,F,j),y=g[0],m=g[1],b=g[2],v=g[3],w=g[4],_=document.createElement("canvas"),_.width=F,_.height=j,M=_.getContext("2d"),x=M.createLinearGradient(m,v,b,w),Ty(p.stops,y).forEach(function(Z){return x.addColorStop(Z.stop,zn(Z.color))}),M.fillStyle=x,M.fillRect(0,0,F,j),F>0&&j>0&&(E=s.ctx.createPattern(_,"repeat"),s.renderRepeat(T,E,Q,z))):tT(p)&&(C=Rf(n,t,[null,null,null]),T=C[0],B=C[1],P=C[2],F=C[3],j=C[4],O=p.position.length===0?[rm]:p.position,Q=en(O[0],F),z=en(O[O.length-1],j),k=Y3(p,Q,z,F,j),W=k[0],Y=k[1],W>0&&Y>0&&(te=s.ctx.createRadialGradient(B+Q,P+z,0,B+Q,P+z,W),Ty(p.stops,W*2).forEach(function(Z){return te.addColorStop(Z.stop,zn(Z.color))}),s.path(T),s.ctx.fillStyle=te,W!==Y?(R=n.bounds.left+.5*n.bounds.width,L=n.bounds.top+.5*n.bounds.height,D=Y/W,V=1/D,s.ctx.save(),s.ctx.translate(R,L),s.ctx.transform(1,0,0,D,0,0),s.ctx.translate(-R,-L),s.ctx.fillRect(B,V*(P-L)+L,F,j*V),s.ctx.restore()):s.ctx.fill())),q.label=6;case 6:return t--,[2]}})},s=this,a=0,A=n.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<A.length?(l=A[a],[5,o(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(n,t,o){return pi(this,void 0,void 0,function(){return li(this,function(s){return this.path(ov(o,t)),this.ctx.fillStyle=zn(n),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(n,t,o,s){return pi(this,void 0,void 0,function(){var a,A;return li(this,function(l){switch(l.label){case 0:return t<3?[4,this.renderSolidBorder(n,o,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=iF(s,o),this.path(a),this.ctx.fillStyle=zn(n),this.ctx.fill(),A=sF(s,o),this.path(A),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(n){return pi(this,void 0,void 0,function(){var t,o,s,a,A,l,u,p,d=this;return li(this,function(c){switch(c.label){case 0:return this.applyEffects(n.getEffects(2)),t=n.container.styles,o=!ca(t.backgroundColor)||t.backgroundImage.length,s=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=mF(zl(t.backgroundClip,0),n.curves),o||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),ca(t.backgroundColor)||(this.ctx.fillStyle=zn(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:c.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var f=Eh(n.curves),g=h.inset?0:dF,y=rF(f,-g+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(f),d.ctx.clip(),d.mask(y)):(d.mask(f),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=h.offsetX.number+g,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=zn(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?zn(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),c.label=2;case 2:A=0,l=0,u=s,c.label=3;case 3:return l<u.length?(p=u[l],p.style!==0&&!ca(p.color)&&p.width>0?p.style!==2?[3,5]:[4,this.renderDashedDottedBorder(p.color,p.width,A,n.curves,2)]:[3,11]):[3,13];case 4:return c.sent(),[3,11];case 5:return p.style!==3?[3,7]:[4,this.renderDashedDottedBorder(p.color,p.width,A,n.curves,3)];case 6:return c.sent(),[3,11];case 7:return p.style!==4?[3,9]:[4,this.renderDoubleBorder(p.color,p.width,A,n.curves)];case 8:return c.sent(),[3,11];case 9:return[4,this.renderSolidBorder(p.color,A,n.curves)];case 10:c.sent(),c.label=11;case 11:A++,c.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(n,t,o,s,a){return pi(this,void 0,void 0,function(){var A,l,u,p,d,c,h,f,g,y,m,b,v,w,_,M,_,M;return li(this,function(x){return this.ctx.save(),A=oF(s,o),l=ov(s,o),a===2&&(this.path(l),this.ctx.clip()),os(l[0])?(u=l[0].start.x,p=l[0].start.y):(u=l[0].x,p=l[0].y),os(l[1])?(d=l[1].end.x,c=l[1].end.y):(d=l[1].x,c=l[1].y),o===0||o===2?h=Math.abs(u-d):h=Math.abs(p-c),this.ctx.beginPath(),a===3?this.formatPath(A):this.formatPath(l.slice(0,2)),f=t<3?t*3:t*2,g=t<3?t*2:t,a===3&&(f=t,g=t),y=!0,h<=f*2?y=!1:h<=f*2+g?(m=h/(2*f+g),f*=m,g*=m):(b=Math.floor((h+g)/(f+g)),v=(h-b*f)/(b-1),w=(h-(b+1)*f)/b,g=w<=0||Math.abs(g-v)<Math.abs(g-w)?v:w),y&&(a===3?this.ctx.setLineDash([0,f+g]):this.ctx.setLineDash([f,g])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=t*2+1.1,this.ctx.strokeStyle=zn(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(os(l[0])&&(_=l[3],M=l[0],this.ctx.beginPath(),this.formatPath([new Qt(_.end.x,_.end.y),new Qt(M.start.x,M.start.y)]),this.ctx.stroke()),os(l[1])&&(_=l[1],M=l[2],this.ctx.beginPath(),this.formatPath([new Qt(_.end.x,_.end.y),new Qt(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(n){return pi(this,void 0,void 0,function(){var t;return li(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=nF(n),[4,this.renderStack(t)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},r}(gb),pF=function(i){return i instanceof eb||i instanceof $1?!0:i instanceof om&&i.type!==xh&&i.type!==_h},mF=function(i,r){switch(i){case 0:return Eh(r);case 2:return JL(r);case 1:default:return Ch(r)}},gF=function(i){switch(i){case 1:return"center";case 2:return"right";case 0:default:return"left"}},yF=["-apple-system","system-ui"],vF=function(i){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?i.filter(function(r){return yF.indexOf(r)===-1}):i},bF=function(i){Es(r,i);function r(n,t){var o=i.call(this,n,t)||this;return o.canvas=t.canvas?t.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=t,o.canvas.width=Math.floor(t.width*t.scale),o.canvas.height=Math.floor(t.height*t.scale),o.canvas.style.width=t.width+"px",o.canvas.style.height=t.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-t.x,-t.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale),o}return r.prototype.render=function(n){return pi(this,void 0,void 0,function(){var t,o;return li(this,function(s){switch(s.label){case 0:return t=Tp(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,wF(t)];case 1:return o=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r}(gb),wF=function(i){return new Promise(function(r,n){var t=new Image;t.onload=function(){r(t)},t.onerror=n,t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(i))})},_F=function(){function i(r){var n=r.id,t=r.enabled;this.id=n,this.enabled=t,this.start=Date.now()}return i.prototype.debug=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Cu([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},i.prototype.getTime=function(){return Date.now()-this.start},i.prototype.info=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Cu([this.id,this.getTime()+"ms"],r))},i.prototype.warn=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Cu([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},i.prototype.error=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Cu([this.id,this.getTime()+"ms"],r)):this.info.apply(this,r))},i.instances={},i}(),xF=function(){function i(r,n){var t;this.windowBounds=n,this.instanceName="#"+i.instanceCount++,this.logger=new _F({id:this.instanceName,enabled:r.logging}),this.cache=(t=r.cache)!==null&&t!==void 0?t:new GL(this,r)}return i.instanceCount=1,i}(),yb=function(i,r){return r===void 0&&(r={}),SF(i,r)};typeof window<"u"&&ub.setContext(window);var SF=function(i,r){return pi(void 0,void 0,void 0,function(){var n,t,o,s,a,A,l,u,p,d,c,h,f,g,y,m,b,v,w,_,x,M,x,E,C,T,B,P,F,j,O,Q,z,k,W,Y,te,R,L,D;return li(this,function(V){switch(V.label){case 0:if(!i||typeof i!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=i.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(t=n.defaultView,!t)throw new Error("Document is not attached to a Window");return o={allowTaint:(E=r.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(C=r.imageTimeout)!==null&&C!==void 0?C:15e3,proxy:r.proxy,useCORS:(T=r.useCORS)!==null&&T!==void 0?T:!1},s=fp({logging:(B=r.logging)!==null&&B!==void 0?B:!0,cache:r.cache},o),a={windowWidth:(P=r.windowWidth)!==null&&P!==void 0?P:t.innerWidth,windowHeight:(F=r.windowHeight)!==null&&F!==void 0?F:t.innerHeight,scrollX:(j=r.scrollX)!==null&&j!==void 0?j:t.pageXOffset,scrollY:(O=r.scrollY)!==null&&O!==void 0?O:t.pageYOffset},A=new Co(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new xF(s,A),u=(Q=r.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,p={allowTaint:(z=r.allowTaint)!==null&&z!==void 0?z:!1,onclone:r.onclone,ignoreElements:r.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),d=new nv(l,i,p),c=d.clonedReferenceElement,c?[4,d.toIFrame(n,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=V.sent(),f=am(c)||EL(c)?rM(c.ownerDocument):Hh(l,c),g=f.width,y=f.height,m=f.left,b=f.top,v=BF(l,c,r.backgroundColor),w={canvas:r.canvas,backgroundColor:v,scale:(W=(k=r.scale)!==null&&k!==void 0?k:t.devicePixelRatio)!==null&&W!==void 0?W:1,x:((Y=r.x)!==null&&Y!==void 0?Y:0)+m,y:((te=r.y)!==null&&te!==void 0?te:0)+b,width:(R=r.width)!==null&&R!==void 0?R:Math.ceil(g),height:(L=r.height)!==null&&L!==void 0?L:Math.ceil(y)},u?(l.logger.debug("Document cloned, using foreign object rendering"),x=new bF(l,w),[4,x.render(c)]):[3,3];case 2:return _=V.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+b+" with size "+g+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),M=nb(l,c),v===M.styles.backgroundColor&&(M.styles.backgroundColor=So.TRANSPARENT),l.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),x=new fF(l,w),[4,x.render(M)];case 4:_=V.sent(),V.label=5;case 5:return(!((D=r.removeContainer)!==null&&D!==void 0)||D)&&(nv.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,_]}})})},BF=function(i,r,n){var t=r.ownerDocument,o=t.documentElement?$A(i,getComputedStyle(t.documentElement).backgroundColor):So.TRANSPARENT,s=t.body?$A(i,getComputedStyle(t.body).backgroundColor):So.TRANSPARENT,a=typeof n=="string"?$A(i,n):n===null?So.TRANSPARENT:4294967295;return r===t.documentElement?ca(o)?ca(s)?a:s:o:a};const EF=Object.freeze(Object.defineProperty({__proto__:null,default:yb},Symbol.toStringTag,{value:"Module"}));YA("asciiContainer1");function pA(i){switch(document.getElementById("skylineContainer1").style.display="none",document.getElementById("skyline3DContainer1").style.display="none",document.getElementById("asciiContainer1").style.display="none",document.getElementById("cubeContainer1").style.display="none",document.getElementById("wordSearchContainer1").style.display="none",document.getElementById("skylineContainer1").innerHTML="",document.getElementById("skyline3DContainer1").innerHTML="",document.getElementById("asciiContainer1").innerHTML="",document.getElementById("cubeContainer1").innerHTML="",document.getElementById("wordSearchContainer1").innerHTML="",i){case"afterDark":Df("skylineContainer1"),document.getElementById("skylineContainer1").style.display="block";break;case"perpetual":ep("skyline3DContainer1"),document.getElementById("skyline3DContainer1").style.display="block";break;case"asciiShader":YA("asciiContainer1"),document.getElementById("asciiContainer1").style.display="block";break;case"isometricCube3D":document.getElementById("cubeContainer1").style.display="block",setTimeout(()=>Jv("cubeContainer1"),0);break;case"wordSearch":document.getElementById("wordSearchContainer1").style.display="block",setTimeout(()=>rC(),0);break;default:console.error("Unknown module:",i)}const r=document.getElementById("shapeButtons");i==="asciiShader"?(r.style.display="block",console.log("Shape buttons should now be visible.")):(r.style.display="none",console.log("Shape buttons should now be hidden."))}window.onload=()=>{pA("asciiShader")};document.getElementById("btnAfterDark").addEventListener("click",()=>pA("afterDark"));document.getElementById("btnPerpetual").addEventListener("click",()=>pA("perpetual"));document.getElementById("btnAsciiShader").addEventListener("click",()=>pA("asciiShader"));document.getElementById("btnIsometricCube").addEventListener("click",()=>pA("isometricCube3D"));document.getElementById("btnWordSearch").addEventListener("click",()=>pA("wordSearch"));window.addEventListener("resize",CF);function CF(){[document.getElementById("skylineContainer1"),document.getElementById("skyline3DContainer1"),document.getElementById("asciiContainer1"),document.getElementById("cubeContainer1")].forEach(r=>{r.style.display!=="none"&&(r.style.width="100%",r.style.height="auto",r.id==="skylineContainer1"&&Df.resize?Df.resize():r.id==="skyline3DContainer1"&&ep.resize?ep.resize():(r.id==="asciiContainer1"&&YA.resize||r.id==="cubeContainer1"&&Jv.resize)&&YA.resize())})}console.log("OK");function MF(i,r){const n=document.getElementById(i);yb(n).then(t=>{const o=t.toDataURL("image/jpeg",1),s=new or({orientation:"landscape",unit:"mm",format:"a4"}),a=s.internal.pageSize.getWidth(),A=s.internal.pageSize.getHeight(),l=t.width,u=t.height;console.log(l,u);const p=Math.min(a/l,A/u),d=l*p,c=u*p,h=(a-d)/2,f=(A-c)/2;s.addImage(o,"JPEG",h,f,d,c),s.save(r)})}console.log("Attaching event listener");function TF(){return document.getElementById("skylineContainer1").style.display!=="none"?"skylineContainer1":document.getElementById("skyline3DContainer1").style.display!=="none"?"skyline3DContainer1":document.getElementById("asciiContainer1").style.display!=="none"?"asciiContainer1":document.getElementById("cubeContainer1").style.display!=="none"?"cubeContainer1":null}const Rp=document.getElementById("exportPDF");console.log(Rp);Rp?Rp.addEventListener("click",function(){console.log("Button clicked");const i=TF();MF(i,"capture.pdf"),console.log("exporting")}):console.error("Export button not found");document.addEventListener("DOMContentLoaded",i=>{console.log("Script loaded")});export{Hr as _,Qc as c,r2 as g};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}